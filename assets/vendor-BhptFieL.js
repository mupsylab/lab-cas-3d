/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Il(s,e){const n=new Set(s.split(","));return e?a=>n.has(a.toLowerCase()):a=>n.has(a)}const Pt={},xi=[],mn=()=>{},hm=()=>!1,Ds=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&(s.charCodeAt(2)>122||s.charCodeAt(2)<97),Al=s=>s.startsWith("onUpdate:"),Ut=Object.assign,Dl=(s,e)=>{const n=s.indexOf(e);n>-1&&s.splice(n,1)},mm=Object.prototype.hasOwnProperty,ut=(s,e)=>mm.call(s,e),nt=Array.isArray,ro=s=>Vs(s)==="[object Map]",gm=s=>Vs(s)==="[object Set]",st=s=>typeof s=="function",zt=s=>typeof s=="string",Ls=s=>typeof s=="symbol",Ot=s=>s!==null&&typeof s=="object",gf=s=>(Ot(s)||st(s))&&st(s.then)&&st(s.catch),vm=Object.prototype.toString,Vs=s=>vm.call(s),ym=s=>Vs(s).slice(8,-1),bm=s=>Vs(s)==="[object Object]",Ll=s=>zt(s)&&s!=="NaN"&&s[0]!=="-"&&""+parseInt(s,10)===s,io=Il(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),_s=s=>{const e=Object.create(null);return n=>e[n]||(e[n]=s(n))},Cm=/-(\w)/g,wi=_s(s=>s.replace(Cm,(e,n)=>n?n.toUpperCase():"")),xm=/\B([A-Z])/g,Ni=_s(s=>s.replace(xm,"-$1").toLowerCase()),vf=_s(s=>s.charAt(0).toUpperCase()+s.slice(1)),ua=_s(s=>s?`on${vf(s)}`:""),Pr=(s,e)=>!Object.is(s,e),ca=(s,e)=>{for(let n=0;n<s.length;n++)s[n](e)},Cs=(s,e,n)=>{Object.defineProperty(s,e,{configurable:!0,enumerable:!1,value:n})},Em=s=>{const e=parseFloat(s);return isNaN(e)?s:e};let ju;const yf=()=>ju||(ju=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Vl(s){if(nt(s)){const e={};for(let n=0;n<s.length;n++){const a=s[n],r=zt(a)?Mm(a):Vl(a);if(r)for(const t in r)e[t]=r[t]}return e}else if(zt(s)||Ot(s))return s}const Pm=/;(?![^(]*\))/g,Tm=/:([^]+)/,Sm=/\/\*[^]*?\*\//g;function Mm(s){const e={};return s.replace(Sm,"").split(Pm).forEach(n=>{if(n){const a=n.split(Tm);a.length>1&&(e[a[0].trim()]=a[1].trim())}}),e}function _l(s){let e="";if(zt(s))e=s;else if(nt(s))for(let n=0;n<s.length;n++){const a=_l(s[n]);a&&(e+=a+" ")}else if(Ot(s))for(const n in s)s[n]&&(e+=n+" ");return e.trim()}const Rm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",wm=Il(Rm);function bf(s){return!!s||s===""}/**
* @vue/reactivity v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Cn;class Cf{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Cn,!e&&Cn&&(this.index=(Cn.scopes||(Cn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Cn;try{return Cn=this,e()}finally{Cn=n}}}on(){Cn=this}off(){Cn=this.parent}stop(e){if(this._active){let n,a;for(n=0,a=this.effects.length;n<a;n++)this.effects[n].stop();for(n=0,a=this.cleanups.length;n<a;n++)this.cleanups[n]();if(this.scopes)for(n=0,a=this.scopes.length;n<a;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Om(s){return new Cf(s)}function Im(s,e=Cn){e&&e.active&&e.effects.push(s)}function Am(){return Cn}let jr;class Bl{constructor(e,n,a,r){this.fn=e,this.trigger=n,this.scheduler=a,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Im(this,r)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,$r();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(Dm(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Kr()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=vr,n=jr;try{return vr=!0,jr=this,this._runnings++,Hu(this),this.fn()}finally{Wu(this),this._runnings--,jr=n,vr=e}}stop(){var e;this.active&&(Hu(this),Wu(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function Dm(s){return s.value}function Hu(s){s._trackId++,s._depsLength=0}function Wu(s){if(s.deps.length>s._depsLength){for(let e=s._depsLength;e<s.deps.length;e++)xf(s.deps[e],s);s.deps.length=s._depsLength}}function xf(s,e){const n=s.get(e);n!==void 0&&e._trackId!==n&&(s.delete(e),s.size===0&&s.cleanup())}let vr=!0,el=0;const Ef=[];function $r(){Ef.push(vr),vr=!1}function Kr(){const s=Ef.pop();vr=s===void 0?!0:s}function Nl(){el++}function kl(){for(el--;!el&&tl.length;)tl.shift()()}function Pf(s,e,n){if(e.get(s)!==s._trackId){e.set(s,s._trackId);const a=s.deps[s._depsLength];a!==e?(a&&xf(a,s),s.deps[s._depsLength++]=e):s._depsLength++}}const tl=[];function Tf(s,e,n){Nl();for(const a of s.keys()){let r;a._dirtyLevel<e&&(r??(r=s.get(a)===a._trackId))&&(a._shouldSchedule||(a._shouldSchedule=a._dirtyLevel===0),a._dirtyLevel=e),a._shouldSchedule&&(r??(r=s.get(a)===a._trackId))&&(a.trigger(),(!a._runnings||a.allowRecurse)&&a._dirtyLevel!==2&&(a._shouldSchedule=!1,a.scheduler&&tl.push(a.scheduler)))}kl()}const Sf=(s,e)=>{const n=new Map;return n.cleanup=s,n.computed=e,n},nl=new WeakMap,Hr=Symbol(""),rl=Symbol("");function sn(s,e,n){if(vr&&jr){let a=nl.get(s);a||nl.set(s,a=new Map);let r=a.get(n);r||a.set(n,r=Sf(()=>a.delete(n))),Pf(jr,r)}}function Jn(s,e,n,a,r,t){const d=nl.get(s);if(!d)return;let C=[];if(e==="clear")C=[...d.values()];else if(n==="length"&&nt(s)){const M=Number(a);d.forEach((w,S)=>{(S==="length"||!Ls(S)&&S>=M)&&C.push(w)})}else switch(n!==void 0&&C.push(d.get(n)),e){case"add":nt(s)?Ll(n)&&C.push(d.get("length")):(C.push(d.get(Hr)),ro(s)&&C.push(d.get(rl)));break;case"delete":nt(s)||(C.push(d.get(Hr)),ro(s)&&C.push(d.get(rl)));break;case"set":ro(s)&&C.push(d.get(Hr));break}Nl();for(const M of C)M&&Tf(M,4);kl()}const Lm=Il("__proto__,__v_isRef,__isVue"),Mf=new Set(Object.getOwnPropertyNames(Symbol).filter(s=>s!=="arguments"&&s!=="caller").map(s=>Symbol[s]).filter(Ls)),qu=Vm();function Vm(){const s={};return["includes","indexOf","lastIndexOf"].forEach(e=>{s[e]=function(...n){const a=ht(this);for(let t=0,d=this.length;t<d;t++)sn(a,"get",t+"");const r=a[e](...n);return r===-1||r===!1?a[e](...n.map(ht)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{s[e]=function(...n){$r(),Nl();const a=ht(this)[e].apply(this,n);return kl(),Kr(),a}}),s}function _m(s){const e=ht(this);return sn(e,"has",s),e.hasOwnProperty(s)}class Rf{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,a){const r=this._isReadonly,t=this._shallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return t;if(n==="__v_raw")return a===(r?t?$m:Af:t?If:Of).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(a)?e:void 0;const d=nt(e);if(!r){if(d&&ut(qu,n))return Reflect.get(qu,n,a);if(n==="hasOwnProperty")return _m}const C=Reflect.get(e,n,a);return(Ls(n)?Mf.has(n):Lm(n))||(r||sn(e,"get",n),t)?C:an(C)?d&&Ll(n)?C:C.value:Ot(C)?r?Lf(C):Ns(C):C}}class wf extends Rf{constructor(e=!1){super(!1,e)}set(e,n,a,r){let t=e[n];if(!this._shallow){const M=Oi(t);if(!xs(a)&&!Oi(a)&&(t=ht(t),a=ht(a)),!nt(e)&&an(t)&&!an(a))return M?!1:(t.value=a,!0)}const d=nt(e)&&Ll(n)?Number(n)<e.length:ut(e,n),C=Reflect.set(e,n,a,r);return e===ht(r)&&(d?Pr(a,t)&&Jn(e,"set",n,a):Jn(e,"add",n,a)),C}deleteProperty(e,n){const a=ut(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&a&&Jn(e,"delete",n,void 0),r}has(e,n){const a=Reflect.has(e,n);return(!Ls(n)||!Mf.has(n))&&sn(e,"has",n),a}ownKeys(e){return sn(e,"iterate",nt(e)?"length":Hr),Reflect.ownKeys(e)}}class Bm extends Rf{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Nm=new wf,km=new Bm,Fm=new wf(!0),Fl=s=>s,Bs=s=>Reflect.getPrototypeOf(s);function Bo(s,e,n=!1,a=!1){s=s.__v_raw;const r=ht(s),t=ht(e);n||(Pr(e,t)&&sn(r,"get",e),sn(r,"get",t));const{has:d}=Bs(r),C=a?Fl:n?Hl:co;if(d.call(r,e))return C(s.get(e));if(d.call(r,t))return C(s.get(t));s!==r&&s.get(e)}function No(s,e=!1){const n=this.__v_raw,a=ht(n),r=ht(s);return e||(Pr(s,r)&&sn(a,"has",s),sn(a,"has",r)),s===r?n.has(s):n.has(s)||n.has(r)}function ko(s,e=!1){return s=s.__v_raw,!e&&sn(ht(s),"iterate",Hr),Reflect.get(s,"size",s)}function Gu(s){s=ht(s);const e=ht(this);return Bs(e).has.call(e,s)||(e.add(s),Jn(e,"add",s,s)),this}function Qu(s,e){e=ht(e);const n=ht(this),{has:a,get:r}=Bs(n);let t=a.call(n,s);t||(s=ht(s),t=a.call(n,s));const d=r.call(n,s);return n.set(s,e),t?Pr(e,d)&&Jn(n,"set",s,e):Jn(n,"add",s,e),this}function $u(s){const e=ht(this),{has:n,get:a}=Bs(e);let r=n.call(e,s);r||(s=ht(s),r=n.call(e,s)),a&&a.call(e,s);const t=e.delete(s);return r&&Jn(e,"delete",s,void 0),t}function Ku(){const s=ht(this),e=s.size!==0,n=s.clear();return e&&Jn(s,"clear",void 0,void 0),n}function Fo(s,e){return function(a,r){const t=this,d=t.__v_raw,C=ht(d),M=e?Fl:s?Hl:co;return!s&&sn(C,"iterate",Hr),d.forEach((w,S)=>a.call(r,M(w),M(S),t))}}function Uo(s,e,n){return function(...a){const r=this.__v_raw,t=ht(r),d=ro(t),C=s==="entries"||s===Symbol.iterator&&d,M=s==="keys"&&d,w=r[s](...a),S=n?Fl:e?Hl:co;return!e&&sn(t,"iterate",M?rl:Hr),{next(){const{value:x,done:h}=w.next();return h?{value:x,done:h}:{value:C?[S(x[0]),S(x[1])]:S(x),done:h}},[Symbol.iterator](){return this}}}}function nr(s){return function(...e){return s==="delete"?!1:s==="clear"?void 0:this}}function Um(){const s={get(t){return Bo(this,t)},get size(){return ko(this)},has:No,add:Gu,set:Qu,delete:$u,clear:Ku,forEach:Fo(!1,!1)},e={get(t){return Bo(this,t,!1,!0)},get size(){return ko(this)},has:No,add:Gu,set:Qu,delete:$u,clear:Ku,forEach:Fo(!1,!0)},n={get(t){return Bo(this,t,!0)},get size(){return ko(this,!0)},has(t){return No.call(this,t,!0)},add:nr("add"),set:nr("set"),delete:nr("delete"),clear:nr("clear"),forEach:Fo(!0,!1)},a={get(t){return Bo(this,t,!0,!0)},get size(){return ko(this,!0)},has(t){return No.call(this,t,!0)},add:nr("add"),set:nr("set"),delete:nr("delete"),clear:nr("clear"),forEach:Fo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(t=>{s[t]=Uo(t,!1,!1),n[t]=Uo(t,!0,!1),e[t]=Uo(t,!1,!0),a[t]=Uo(t,!0,!0)}),[s,n,e,a]}const[zm,jm,Hm,Wm]=Um();function Ul(s,e){const n=e?s?Wm:Hm:s?jm:zm;return(a,r,t)=>r==="__v_isReactive"?!s:r==="__v_isReadonly"?s:r==="__v_raw"?a:Reflect.get(ut(n,r)&&r in a?n:a,r,t)}const qm={get:Ul(!1,!1)},Gm={get:Ul(!1,!0)},Qm={get:Ul(!0,!1)},Of=new WeakMap,If=new WeakMap,Af=new WeakMap,$m=new WeakMap;function Km(s){switch(s){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Xm(s){return s.__v_skip||!Object.isExtensible(s)?0:Km(ym(s))}function Ns(s){return Oi(s)?s:zl(s,!1,Nm,qm,Of)}function Df(s){return zl(s,!1,Fm,Gm,If)}function Lf(s){return zl(s,!0,km,Qm,Af)}function zl(s,e,n,a,r){if(!Ot(s)||s.__v_raw&&!(e&&s.__v_isReactive))return s;const t=r.get(s);if(t)return t;const d=Xm(s);if(d===0)return s;const C=new Proxy(s,d===2?a:n);return r.set(s,C),C}function Ei(s){return Oi(s)?Ei(s.__v_raw):!!(s&&s.__v_isReactive)}function Oi(s){return!!(s&&s.__v_isReadonly)}function xs(s){return!!(s&&s.__v_isShallow)}function Vf(s){return Ei(s)||Oi(s)}function ht(s){const e=s&&s.__v_raw;return e?ht(e):s}function jl(s){return Object.isExtensible(s)&&Cs(s,"__v_skip",!0),s}const co=s=>Ot(s)?Ns(s):s,Hl=s=>Ot(s)?Lf(s):s;class _f{constructor(e,n,a,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Bl(()=>e(this._value),()=>ps(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=a}get value(){const e=ht(this);return(!e._cacheable||e.effect.dirty)&&Pr(e._value,e._value=e.effect.run())&&ps(e,4),Bf(e),e.effect._dirtyLevel>=2&&ps(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Jm(s,e,n=!1){let a,r;const t=st(s);return t?(a=s,r=mn):(a=s.get,r=s.set),new _f(a,r,t||!r,n)}function Bf(s){var e;vr&&jr&&(s=ht(s),Pf(jr,(e=s.dep)!=null?e:s.dep=Sf(()=>s.dep=void 0,s instanceof _f?s:void 0)))}function ps(s,e=4,n){s=ht(s);const a=s.dep;a&&Tf(a,e)}function an(s){return!!(s&&s.__v_isRef===!0)}function Nf(s){return kf(s,!1)}function Ym(s){return kf(s,!0)}function kf(s,e){return an(s)?s:new Zm(s,e)}class Zm{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:ht(e),this._value=n?e:co(e)}get value(){return Bf(this),this._value}set value(e){const n=this.__v_isShallow||xs(e)||Oi(e);e=n?e:ht(e),Pr(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:co(e),ps(this,4))}}function Pi(s){return an(s)?s.value:s}const eg={get:(s,e,n)=>Pi(Reflect.get(s,e,n)),set:(s,e,n,a)=>{const r=s[e];return an(r)&&!an(n)?(r.value=n,!0):Reflect.set(s,e,n,a)}};function Ff(s){return Ei(s)?s:new Proxy(s,eg)}/**
* @vue/runtime-core v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function yr(s,e,n,a){try{return a?s(...a):s()}catch(r){ks(r,e,n)}}function Sn(s,e,n,a){if(st(s)){const t=yr(s,e,n,a);return t&&gf(t)&&t.catch(d=>{ks(d,e,n)}),t}const r=[];for(let t=0;t<s.length;t++)r.push(Sn(s[t],e,n,a));return r}function ks(s,e,n,a=!0){const r=e?e.vnode:null;if(e){let t=e.parent;const d=e.proxy,C=`https://vuejs.org/error-reference/#runtime-${n}`;for(;t;){const w=t.ec;if(w){for(let S=0;S<w.length;S++)if(w[S](s,d,C)===!1)return}t=t.parent}const M=e.appContext.config.errorHandler;if(M){yr(M,null,10,[s,d,C]);return}}tg(s,n,r,a)}function tg(s,e,n,a=!0){console.error(s)}let fo=!1,il=!1;const Wt=[];let Dn=0;const Ti=[];let cr=null,kr=0;const Uf=Promise.resolve();let Wl=null;function zf(s){const e=Wl||Uf;return s?e.then(this?s.bind(this):s):e}function ng(s){let e=Dn+1,n=Wt.length;for(;e<n;){const a=e+n>>>1,r=Wt[a],t=po(r);t<s||t===s&&r.pre?e=a+1:n=a}return e}function ql(s){(!Wt.length||!Wt.includes(s,fo&&s.allowRecurse?Dn+1:Dn))&&(s.id==null?Wt.push(s):Wt.splice(ng(s.id),0,s),jf())}function jf(){!fo&&!il&&(il=!0,Wl=Uf.then(Wf))}function rg(s){const e=Wt.indexOf(s);e>Dn&&Wt.splice(e,1)}function ig(s){nt(s)?Ti.push(...s):(!cr||!cr.includes(s,s.allowRecurse?kr+1:kr))&&Ti.push(s),jf()}function Xu(s,e,n=fo?Dn+1:0){for(;n<Wt.length;n++){const a=Wt[n];if(a&&a.pre){if(s&&a.id!==s.uid)continue;Wt.splice(n,1),n--,a()}}}function Hf(s){if(Ti.length){const e=[...new Set(Ti)].sort((n,a)=>po(n)-po(a));if(Ti.length=0,cr){cr.push(...e);return}for(cr=e,kr=0;kr<cr.length;kr++)cr[kr]();cr=null,kr=0}}const po=s=>s.id==null?1/0:s.id,og=(s,e)=>{const n=po(s)-po(e);if(n===0){if(s.pre&&!e.pre)return-1;if(e.pre&&!s.pre)return 1}return n};function Wf(s){il=!1,fo=!0,Wt.sort(og);try{for(Dn=0;Dn<Wt.length;Dn++){const e=Wt[Dn];e&&e.active!==!1&&yr(e,null,14)}}finally{Dn=0,Wt.length=0,Hf(),fo=!1,Wl=null,(Wt.length||Ti.length)&&Wf()}}function sg(s,e,...n){if(s.isUnmounted)return;const a=s.vnode.props||Pt;let r=n;const t=e.startsWith("update:"),d=t&&e.slice(7);if(d&&d in a){const S=`${d==="modelValue"?"model":d}Modifiers`,{number:x,trim:h}=a[S]||Pt;h&&(r=n.map(u=>zt(u)?u.trim():u)),x&&(r=n.map(Em))}let C,M=a[C=ua(e)]||a[C=ua(wi(e))];!M&&t&&(M=a[C=ua(Ni(e))]),M&&Sn(M,s,6,r);const w=a[C+"Once"];if(w){if(!s.emitted)s.emitted={};else if(s.emitted[C])return;s.emitted[C]=!0,Sn(w,s,6,r)}}function qf(s,e,n=!1){const a=e.emitsCache,r=a.get(s);if(r!==void 0)return r;const t=s.emits;let d={},C=!1;if(!st(s)){const M=w=>{const S=qf(w,e,!0);S&&(C=!0,Ut(d,S))};!n&&e.mixins.length&&e.mixins.forEach(M),s.extends&&M(s.extends),s.mixins&&s.mixins.forEach(M)}return!t&&!C?(Ot(s)&&a.set(s,null),null):(nt(t)?t.forEach(M=>d[M]=null):Ut(d,t),Ot(s)&&a.set(s,d),d)}function Fs(s,e){return!s||!Ds(e)?!1:(e=e.slice(2).replace(/Once$/,""),ut(s,e[0].toLowerCase()+e.slice(1))||ut(s,Ni(e))||ut(s,e))}let Vn=null,Us=null;function Es(s){const e=Vn;return Vn=s,Us=s&&s.type.__scopeId||null,e}function JT(s){Us=s}function YT(){Us=null}function ag(s,e=Vn,n){if(!e||s._n)return s;const a=(...r)=>{a._d&&sc(-1);const t=Es(e);let d;try{d=s(...r)}finally{Es(t),a._d&&sc(1)}return d};return a._n=!0,a._c=!0,a._d=!0,a}function da(s){const{type:e,vnode:n,proxy:a,withProxy:r,props:t,propsOptions:[d],slots:C,attrs:M,emit:w,render:S,renderCache:x,data:h,setupState:u,ctx:g,inheritAttrs:f}=s;let i,p;const P=Es(s);try{if(n.shapeFlag&4){const y=r||a,R=y;i=In(S.call(R,y,x,t,u,h,g)),p=M}else{const y=e;i=In(y.length>1?y(t,{attrs:M,slots:C,emit:w}):y(t,null)),p=e.props?M:lg(M)}}catch(y){ao.length=0,ks(y,s,1),i=gn(ho)}let m=i;if(p&&f!==!1){const y=Object.keys(p),{shapeFlag:R}=m;y.length&&R&7&&(d&&y.some(Al)&&(p=ug(p,d)),m=Ii(m,p))}return n.dirs&&(m=Ii(m),m.dirs=m.dirs?m.dirs.concat(n.dirs):n.dirs),n.transition&&(m.transition=n.transition),i=m,Es(P),i}const lg=s=>{let e;for(const n in s)(n==="class"||n==="style"||Ds(n))&&((e||(e={}))[n]=s[n]);return e},ug=(s,e)=>{const n={};for(const a in s)(!Al(a)||!(a.slice(9)in e))&&(n[a]=s[a]);return n};function cg(s,e,n){const{props:a,children:r,component:t}=s,{props:d,children:C,patchFlag:M}=e,w=t.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&M>=0){if(M&1024)return!0;if(M&16)return a?Ju(a,d,w):!!d;if(M&8){const S=e.dynamicProps;for(let x=0;x<S.length;x++){const h=S[x];if(d[h]!==a[h]&&!Fs(w,h))return!0}}}else return(r||C)&&(!C||!C.$stable)?!0:a===d?!1:a?d?Ju(a,d,w):!0:!!d;return!1}function Ju(s,e,n){const a=Object.keys(e);if(a.length!==Object.keys(s).length)return!0;for(let r=0;r<a.length;r++){const t=a[r];if(e[t]!==s[t]&&!Fs(n,t))return!0}return!1}function dg({vnode:s,parent:e},n){for(;e;){const a=e.subTree;if(a.suspense&&a.suspense.activeBranch===s&&(a.el=s.el),a===s)(s=e.vnode).el=n,e=e.parent;else break}}const fg=Symbol.for("v-ndc"),pg=s=>s.__isSuspense;function hg(s,e){e&&e.pendingBranch?nt(s)?e.effects.push(...s):e.effects.push(s):ig(s)}const mg=Symbol.for("v-scx"),gg=()=>Yn(mg),zo={};function hs(s,e,n){return Gf(s,e,n)}function Gf(s,e,{immediate:n,deep:a,flush:r,once:t,onTrack:d,onTrigger:C}=Pt){if(e&&t){const b=e;e=(...c)=>{b(...c),R()}}const M=Yt,w=b=>a===!0?b:yi(b,a===!1?1:void 0);let S,x=!1,h=!1;if(an(s)?(S=()=>s.value,x=xs(s)):Ei(s)?(S=()=>w(s),x=!0):nt(s)?(h=!0,x=s.some(b=>Ei(b)||xs(b)),S=()=>s.map(b=>{if(an(b))return b.value;if(Ei(b))return w(b);if(st(b))return yr(b,M,2)})):st(s)?e?S=()=>yr(s,M,2):S=()=>(u&&u(),Sn(s,M,3,[g])):S=mn,e&&a){const b=S;S=()=>yi(b())}let u,g=b=>{u=m.onStop=()=>{yr(b,M,4),u=m.onStop=void 0}},f;if(Ws)if(g=mn,e?n&&Sn(e,M,3,[S(),h?[]:void 0,g]):S(),r==="sync"){const b=gg();f=b.__watcherHandles||(b.__watcherHandles=[])}else return mn;let i=h?new Array(s.length).fill(zo):zo;const p=()=>{if(!(!m.active||!m.dirty))if(e){const b=m.run();(a||x||(h?b.some((c,E)=>Pr(c,i[E])):Pr(b,i)))&&(u&&u(),Sn(e,M,3,[b,i===zo?void 0:h&&i[0]===zo?[]:i,g]),i=b)}else m.run()};p.allowRecurse=!!e;let P;r==="sync"?P=p:r==="post"?P=()=>tn(p,M&&M.suspense):(p.pre=!0,M&&(p.id=M.uid),P=()=>ql(p));const m=new Bl(S,mn,P),y=Am(),R=()=>{m.stop(),y&&Dl(y.effects,m)};return e?n?p():i=m.run():r==="post"?tn(m.run.bind(m),M&&M.suspense):m.run(),f&&f.push(R),R}function vg(s,e,n){const a=this.proxy,r=zt(s)?s.includes(".")?Qf(a,s):()=>a[s]:s.bind(a,a);let t;st(e)?t=e:(t=e.handler,n=e);const d=bo(this),C=Gf(r,t.bind(a),n);return d(),C}function Qf(s,e){const n=e.split(".");return()=>{let a=s;for(let r=0;r<n.length&&a;r++)a=a[n[r]];return a}}function yi(s,e,n=0,a){if(!Ot(s)||s.__v_skip)return s;if(e&&e>0){if(n>=e)return s;n++}if(a=a||new Set,a.has(s))return s;if(a.add(s),an(s))yi(s.value,e,n,a);else if(nt(s))for(let r=0;r<s.length;r++)yi(s[r],e,n,a);else if(gm(s)||ro(s))s.forEach(r=>{yi(r,e,n,a)});else if(bm(s))for(const r in s)yi(s[r],e,n,a);return s}function Ir(s,e,n,a){const r=s.dirs,t=e&&e.dirs;for(let d=0;d<r.length;d++){const C=r[d];t&&(C.oldValue=t[d].value);let M=C.dir[a];M&&($r(),Sn(M,n,8,[s.el,C,s,e]),Kr())}}/*! #__NO_SIDE_EFFECTS__ */function $f(s,e){return st(s)?Ut({name:s.name},e,{setup:s}):s}const ms=s=>!!s.type.__asyncLoader,Kf=s=>s.type.__isKeepAlive;function yg(s,e){Xf(s,"a",e)}function bg(s,e){Xf(s,"da",e)}function Xf(s,e,n=Yt){const a=s.__wdc||(s.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return s()});if(zs(e,a,n),n){let r=n.parent;for(;r&&r.parent;)Kf(r.parent.vnode)&&Cg(a,e,n,r),r=r.parent}}function Cg(s,e,n,a){const r=zs(e,s,a,!0);Jf(()=>{Dl(a[e],r)},n)}function zs(s,e,n=Yt,a=!1){if(n){const r=n[s]||(n[s]=[]),t=e.__weh||(e.__weh=(...d)=>{if(n.isUnmounted)return;$r();const C=bo(n),M=Sn(e,n,s,d);return C(),Kr(),M});return a?r.unshift(t):r.push(t),t}}const er=s=>(e,n=Yt)=>(!Ws||s==="sp")&&zs(s,(...a)=>e(...a),n),xg=er("bm"),Eg=er("m"),Pg=er("bu"),Tg=er("u"),Sg=er("bum"),Jf=er("um"),Mg=er("sp"),Rg=er("rtg"),wg=er("rtc");function Og(s,e=Yt){zs("ec",s,e)}const ol=s=>s?cp(s)?Kl(s)||s.proxy:ol(s.parent):null,oo=Ut(Object.create(null),{$:s=>s,$el:s=>s.vnode.el,$data:s=>s.data,$props:s=>s.props,$attrs:s=>s.attrs,$slots:s=>s.slots,$refs:s=>s.refs,$parent:s=>ol(s.parent),$root:s=>ol(s.root),$emit:s=>s.emit,$options:s=>Gl(s),$forceUpdate:s=>s.f||(s.f=()=>{s.effect.dirty=!0,ql(s.update)}),$nextTick:s=>s.n||(s.n=zf.bind(s.proxy)),$watch:s=>vg.bind(s)}),fa=(s,e)=>s!==Pt&&!s.__isScriptSetup&&ut(s,e),Ig={get({_:s},e){const{ctx:n,setupState:a,data:r,props:t,accessCache:d,type:C,appContext:M}=s;let w;if(e[0]!=="$"){const u=d[e];if(u!==void 0)switch(u){case 1:return a[e];case 2:return r[e];case 4:return n[e];case 3:return t[e]}else{if(fa(a,e))return d[e]=1,a[e];if(r!==Pt&&ut(r,e))return d[e]=2,r[e];if((w=s.propsOptions[0])&&ut(w,e))return d[e]=3,t[e];if(n!==Pt&&ut(n,e))return d[e]=4,n[e];sl&&(d[e]=0)}}const S=oo[e];let x,h;if(S)return e==="$attrs"&&sn(s,"get",e),S(s);if((x=C.__cssModules)&&(x=x[e]))return x;if(n!==Pt&&ut(n,e))return d[e]=4,n[e];if(h=M.config.globalProperties,ut(h,e))return h[e]},set({_:s},e,n){const{data:a,setupState:r,ctx:t}=s;return fa(r,e)?(r[e]=n,!0):a!==Pt&&ut(a,e)?(a[e]=n,!0):ut(s.props,e)||e[0]==="$"&&e.slice(1)in s?!1:(t[e]=n,!0)},has({_:{data:s,setupState:e,accessCache:n,ctx:a,appContext:r,propsOptions:t}},d){let C;return!!n[d]||s!==Pt&&ut(s,d)||fa(e,d)||(C=t[0])&&ut(C,d)||ut(a,d)||ut(oo,d)||ut(r.config.globalProperties,d)},defineProperty(s,e,n){return n.get!=null?s._.accessCache[e]=0:ut(n,"value")&&this.set(s,e,n.value,null),Reflect.defineProperty(s,e,n)}};function Yu(s){return nt(s)?s.reduce((e,n)=>(e[n]=null,e),{}):s}let sl=!0;function Ag(s){const e=Gl(s),n=s.proxy,a=s.ctx;sl=!1,e.beforeCreate&&Zu(e.beforeCreate,s,"bc");const{data:r,computed:t,methods:d,watch:C,provide:M,inject:w,created:S,beforeMount:x,mounted:h,beforeUpdate:u,updated:g,activated:f,deactivated:i,beforeDestroy:p,beforeUnmount:P,destroyed:m,unmounted:y,render:R,renderTracked:b,renderTriggered:c,errorCaptured:E,serverPrefetch:I,expose:A,inheritAttrs:D,components:O,directives:l,filters:o}=e;if(w&&Dg(w,a,null),d)for(const L in d){const V=d[L];st(V)&&(a[L]=V.bind(n))}if(r){const L=r.call(n,n);Ot(L)&&(s.data=Ns(L))}if(sl=!0,t)for(const L in t){const V=t[L],_=st(V)?V.bind(n,n):st(V.get)?V.get.bind(n,n):mn,B=!st(V)&&st(V.set)?V.set.bind(n):mn,k=xn({get:_,set:B});Object.defineProperty(a,L,{enumerable:!0,configurable:!0,get:()=>k.value,set:U=>k.value=U})}if(C)for(const L in C)Yf(C[L],a,n,L);if(M){const L=st(M)?M.call(n):M;Reflect.ownKeys(L).forEach(V=>{gs(V,L[V])})}S&&Zu(S,s,"c");function T(L,V){nt(V)?V.forEach(_=>L(_.bind(n))):V&&L(V.bind(n))}if(T(xg,x),T(Eg,h),T(Pg,u),T(Tg,g),T(yg,f),T(bg,i),T(Og,E),T(wg,b),T(Rg,c),T(Sg,P),T(Jf,y),T(Mg,I),nt(A))if(A.length){const L=s.exposed||(s.exposed={});A.forEach(V=>{Object.defineProperty(L,V,{get:()=>n[V],set:_=>n[V]=_})})}else s.exposed||(s.exposed={});R&&s.render===mn&&(s.render=R),D!=null&&(s.inheritAttrs=D),O&&(s.components=O),l&&(s.directives=l)}function Dg(s,e,n=mn){nt(s)&&(s=al(s));for(const a in s){const r=s[a];let t;Ot(r)?"default"in r?t=Yn(r.from||a,r.default,!0):t=Yn(r.from||a):t=Yn(r),an(t)?Object.defineProperty(e,a,{enumerable:!0,configurable:!0,get:()=>t.value,set:d=>t.value=d}):e[a]=t}}function Zu(s,e,n){Sn(nt(s)?s.map(a=>a.bind(e.proxy)):s.bind(e.proxy),e,n)}function Yf(s,e,n,a){const r=a.includes(".")?Qf(n,a):()=>n[a];if(zt(s)){const t=e[s];st(t)&&hs(r,t)}else if(st(s))hs(r,s.bind(n));else if(Ot(s))if(nt(s))s.forEach(t=>Yf(t,e,n,a));else{const t=st(s.handler)?s.handler.bind(n):e[s.handler];st(t)&&hs(r,t,s)}}function Gl(s){const e=s.type,{mixins:n,extends:a}=e,{mixins:r,optionsCache:t,config:{optionMergeStrategies:d}}=s.appContext,C=t.get(e);let M;return C?M=C:!r.length&&!n&&!a?M=e:(M={},r.length&&r.forEach(w=>Ps(M,w,d,!0)),Ps(M,e,d)),Ot(e)&&t.set(e,M),M}function Ps(s,e,n,a=!1){const{mixins:r,extends:t}=e;t&&Ps(s,t,n,!0),r&&r.forEach(d=>Ps(s,d,n,!0));for(const d in e)if(!(a&&d==="expose")){const C=Lg[d]||n&&n[d];s[d]=C?C(s[d],e[d]):e[d]}return s}const Lg={data:ec,props:tc,emits:tc,methods:no,computed:no,beforeCreate:Qt,created:Qt,beforeMount:Qt,mounted:Qt,beforeUpdate:Qt,updated:Qt,beforeDestroy:Qt,beforeUnmount:Qt,destroyed:Qt,unmounted:Qt,activated:Qt,deactivated:Qt,errorCaptured:Qt,serverPrefetch:Qt,components:no,directives:no,watch:_g,provide:ec,inject:Vg};function ec(s,e){return e?s?function(){return Ut(st(s)?s.call(this,this):s,st(e)?e.call(this,this):e)}:e:s}function Vg(s,e){return no(al(s),al(e))}function al(s){if(nt(s)){const e={};for(let n=0;n<s.length;n++)e[s[n]]=s[n];return e}return s}function Qt(s,e){return s?[...new Set([].concat(s,e))]:e}function no(s,e){return s?Ut(Object.create(null),s,e):e}function tc(s,e){return s?nt(s)&&nt(e)?[...new Set([...s,...e])]:Ut(Object.create(null),Yu(s),Yu(e??{})):e}function _g(s,e){if(!s)return e;if(!e)return s;const n=Ut(Object.create(null),s);for(const a in e)n[a]=Qt(s[a],e[a]);return n}function Zf(){return{app:null,config:{isNativeTag:hm,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Bg=0;function Ng(s,e){return function(a,r=null){st(a)||(a=Ut({},a)),r!=null&&!Ot(r)&&(r=null);const t=Zf(),d=new WeakSet;let C=!1;const M=t.app={_uid:Bg++,_component:a,_props:r,_container:null,_context:t,_instance:null,version:av,get config(){return t.config},set config(w){},use(w,...S){return d.has(w)||(w&&st(w.install)?(d.add(w),w.install(M,...S)):st(w)&&(d.add(w),w(M,...S))),M},mixin(w){return t.mixins.includes(w)||t.mixins.push(w),M},component(w,S){return S?(t.components[w]=S,M):t.components[w]},directive(w,S){return S?(t.directives[w]=S,M):t.directives[w]},mount(w,S,x){if(!C){const h=gn(a,r);return h.appContext=t,x===!0?x="svg":x===!1&&(x=void 0),S&&e?e(h,w):s(h,w,x),C=!0,M._container=w,w.__vue_app__=M,Kl(h.component)||h.component.proxy}},unmount(){C&&(s(null,M._container),delete M._container.__vue_app__)},provide(w,S){return t.provides[w]=S,M},runWithContext(w){const S=so;so=M;try{return w()}finally{so=S}}};return M}}let so=null;function gs(s,e){if(Yt){let n=Yt.provides;const a=Yt.parent&&Yt.parent.provides;a===n&&(n=Yt.provides=Object.create(a)),n[s]=e}}function Yn(s,e,n=!1){const a=Yt||Vn;if(a||so){const r=a?a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:so._context.provides;if(r&&s in r)return r[s];if(arguments.length>1)return n&&st(e)?e.call(a&&a.proxy):e}}function kg(s,e,n,a=!1){const r={},t={};Cs(t,Hs,1),s.propsDefaults=Object.create(null),ep(s,e,r,t);for(const d in s.propsOptions[0])d in r||(r[d]=void 0);n?s.props=a?r:Df(r):s.type.props?s.props=r:s.props=t,s.attrs=t}function Fg(s,e,n,a){const{props:r,attrs:t,vnode:{patchFlag:d}}=s,C=ht(r),[M]=s.propsOptions;let w=!1;if((a||d>0)&&!(d&16)){if(d&8){const S=s.vnode.dynamicProps;for(let x=0;x<S.length;x++){let h=S[x];if(Fs(s.emitsOptions,h))continue;const u=e[h];if(M)if(ut(t,h))u!==t[h]&&(t[h]=u,w=!0);else{const g=wi(h);r[g]=ll(M,C,g,u,s,!1)}else u!==t[h]&&(t[h]=u,w=!0)}}}else{ep(s,e,r,t)&&(w=!0);let S;for(const x in C)(!e||!ut(e,x)&&((S=Ni(x))===x||!ut(e,S)))&&(M?n&&(n[x]!==void 0||n[S]!==void 0)&&(r[x]=ll(M,C,x,void 0,s,!0)):delete r[x]);if(t!==C)for(const x in t)(!e||!ut(e,x))&&(delete t[x],w=!0)}w&&Jn(s,"set","$attrs")}function ep(s,e,n,a){const[r,t]=s.propsOptions;let d=!1,C;if(e)for(let M in e){if(io(M))continue;const w=e[M];let S;r&&ut(r,S=wi(M))?!t||!t.includes(S)?n[S]=w:(C||(C={}))[S]=w:Fs(s.emitsOptions,M)||(!(M in a)||w!==a[M])&&(a[M]=w,d=!0)}if(t){const M=ht(n),w=C||Pt;for(let S=0;S<t.length;S++){const x=t[S];n[x]=ll(r,M,x,w[x],s,!ut(w,x))}}return d}function ll(s,e,n,a,r,t){const d=s[n];if(d!=null){const C=ut(d,"default");if(C&&a===void 0){const M=d.default;if(d.type!==Function&&!d.skipFactory&&st(M)){const{propsDefaults:w}=r;if(n in w)a=w[n];else{const S=bo(r);a=w[n]=M.call(null,e),S()}}else a=M}d[0]&&(t&&!C?a=!1:d[1]&&(a===""||a===Ni(n))&&(a=!0))}return a}function tp(s,e,n=!1){const a=e.propsCache,r=a.get(s);if(r)return r;const t=s.props,d={},C=[];let M=!1;if(!st(s)){const S=x=>{M=!0;const[h,u]=tp(x,e,!0);Ut(d,h),u&&C.push(...u)};!n&&e.mixins.length&&e.mixins.forEach(S),s.extends&&S(s.extends),s.mixins&&s.mixins.forEach(S)}if(!t&&!M)return Ot(s)&&a.set(s,xi),xi;if(nt(t))for(let S=0;S<t.length;S++){const x=wi(t[S]);nc(x)&&(d[x]=Pt)}else if(t)for(const S in t){const x=wi(S);if(nc(x)){const h=t[S],u=d[x]=nt(h)||st(h)?{type:h}:Ut({},h);if(u){const g=oc(Boolean,u.type),f=oc(String,u.type);u[0]=g>-1,u[1]=f<0||g<f,(g>-1||ut(u,"default"))&&C.push(x)}}}const w=[d,C];return Ot(s)&&a.set(s,w),w}function nc(s){return s[0]!=="$"&&!io(s)}function rc(s){return s===null?"null":typeof s=="function"?s.name||"":typeof s=="object"&&s.constructor&&s.constructor.name||""}function ic(s,e){return rc(s)===rc(e)}function oc(s,e){return nt(e)?e.findIndex(n=>ic(n,s)):st(e)&&ic(e,s)?0:-1}const np=s=>s[0]==="_"||s==="$stable",Ql=s=>nt(s)?s.map(In):[In(s)],Ug=(s,e,n)=>{if(e._n)return e;const a=ag((...r)=>Ql(e(...r)),n);return a._c=!1,a},rp=(s,e,n)=>{const a=s._ctx;for(const r in s){if(np(r))continue;const t=s[r];if(st(t))e[r]=Ug(r,t,a);else if(t!=null){const d=Ql(t);e[r]=()=>d}}},ip=(s,e)=>{const n=Ql(e);s.slots.default=()=>n},zg=(s,e)=>{if(s.vnode.shapeFlag&32){const n=e._;n?(s.slots=ht(e),Cs(e,"_",n)):rp(e,s.slots={})}else s.slots={},e&&ip(s,e);Cs(s.slots,Hs,1)},jg=(s,e,n)=>{const{vnode:a,slots:r}=s;let t=!0,d=Pt;if(a.shapeFlag&32){const C=e._;C?n&&C===1?t=!1:(Ut(r,e),!n&&C===1&&delete r._):(t=!e.$stable,rp(e,r)),d=e}else e&&(ip(s,e),d={default:1});if(t)for(const C in r)!np(C)&&d[C]==null&&delete r[C]};function ul(s,e,n,a,r=!1){if(nt(s)){s.forEach((h,u)=>ul(h,e&&(nt(e)?e[u]:e),n,a,r));return}if(ms(a)&&!r)return;const t=a.shapeFlag&4?Kl(a.component)||a.component.proxy:a.el,d=r?null:t,{i:C,r:M}=s,w=e&&e.r,S=C.refs===Pt?C.refs={}:C.refs,x=C.setupState;if(w!=null&&w!==M&&(zt(w)?(S[w]=null,ut(x,w)&&(x[w]=null)):an(w)&&(w.value=null)),st(M))yr(M,C,12,[d,S]);else{const h=zt(M),u=an(M);if(h||u){const g=()=>{if(s.f){const f=h?ut(x,M)?x[M]:S[M]:M.value;r?nt(f)&&Dl(f,t):nt(f)?f.includes(t)||f.push(t):h?(S[M]=[t],ut(x,M)&&(x[M]=S[M])):(M.value=[t],s.k&&(S[s.k]=M.value))}else h?(S[M]=d,ut(x,M)&&(x[M]=d)):u&&(M.value=d,s.k&&(S[s.k]=d))};d?(g.id=-1,tn(g,n)):g()}}}const tn=hg;function Hg(s){return Wg(s)}function Wg(s,e){const n=yf();n.__VUE__=!0;const{insert:a,remove:r,patchProp:t,createElement:d,createText:C,createComment:M,setText:w,setElementText:S,parentNode:x,nextSibling:h,setScopeId:u=mn,insertStaticContent:g}=s,f=(Q,J,re,ae=null,ce=null,ve=null,$=void 0,H=null,oe=!!J.dynamicChildren)=>{if(Q===J)return;Q&&!Gi(Q,J)&&(ae=G(Q),U(Q,ce,ve,!0),Q=null),J.patchFlag===-2&&(oe=!1,J.dynamicChildren=null);const{type:ue,ref:fe,shapeFlag:de}=J;switch(ue){case js:i(Q,J,re,ae);break;case ho:p(Q,J,re,ae);break;case ha:Q==null&&P(J,re,ae,$);break;case Gn:O(Q,J,re,ae,ce,ve,$,H,oe);break;default:de&1?R(Q,J,re,ae,ce,ve,$,H,oe):de&6?l(Q,J,re,ae,ce,ve,$,H,oe):(de&64||de&128)&&ue.process(Q,J,re,ae,ce,ve,$,H,oe,le)}fe!=null&&ce&&ul(fe,Q&&Q.ref,ve,J||Q,!J)},i=(Q,J,re,ae)=>{if(Q==null)a(J.el=C(J.children),re,ae);else{const ce=J.el=Q.el;J.children!==Q.children&&w(ce,J.children)}},p=(Q,J,re,ae)=>{Q==null?a(J.el=M(J.children||""),re,ae):J.el=Q.el},P=(Q,J,re,ae)=>{[Q.el,Q.anchor]=g(Q.children,J,re,ae,Q.el,Q.anchor)},m=({el:Q,anchor:J},re,ae)=>{let ce;for(;Q&&Q!==J;)ce=h(Q),a(Q,re,ae),Q=ce;a(J,re,ae)},y=({el:Q,anchor:J})=>{let re;for(;Q&&Q!==J;)re=h(Q),r(Q),Q=re;r(J)},R=(Q,J,re,ae,ce,ve,$,H,oe)=>{J.type==="svg"?$="svg":J.type==="math"&&($="mathml"),Q==null?b(J,re,ae,ce,ve,$,H,oe):I(Q,J,ce,ve,$,H,oe)},b=(Q,J,re,ae,ce,ve,$,H)=>{let oe,ue;const{props:fe,shapeFlag:de,transition:Ee,dirs:xe}=Q;if(oe=Q.el=d(Q.type,ve,fe&&fe.is,fe),de&8?S(oe,Q.children):de&16&&E(Q.children,oe,null,ae,ce,pa(Q,ve),$,H),xe&&Ir(Q,null,ae,"created"),c(oe,Q,Q.scopeId,$,ae),fe){for(const Me in fe)Me!=="value"&&!io(Me)&&t(oe,Me,null,fe[Me],ve,Q.children,ae,ce,j);"value"in fe&&t(oe,"value",null,fe.value,ve),(ue=fe.onVnodeBeforeMount)&&On(ue,ae,Q)}xe&&Ir(Q,null,ae,"beforeMount");const Te=qg(ce,Ee);Te&&Ee.beforeEnter(oe),a(oe,J,re),((ue=fe&&fe.onVnodeMounted)||Te||xe)&&tn(()=>{ue&&On(ue,ae,Q),Te&&Ee.enter(oe),xe&&Ir(Q,null,ae,"mounted")},ce)},c=(Q,J,re,ae,ce)=>{if(re&&u(Q,re),ae)for(let ve=0;ve<ae.length;ve++)u(Q,ae[ve]);if(ce){let ve=ce.subTree;if(J===ve){const $=ce.vnode;c(Q,$,$.scopeId,$.slotScopeIds,ce.parent)}}},E=(Q,J,re,ae,ce,ve,$,H,oe=0)=>{for(let ue=oe;ue<Q.length;ue++){const fe=Q[ue]=H?dr(Q[ue]):In(Q[ue]);f(null,fe,J,re,ae,ce,ve,$,H)}},I=(Q,J,re,ae,ce,ve,$)=>{const H=J.el=Q.el;let{patchFlag:oe,dynamicChildren:ue,dirs:fe}=J;oe|=Q.patchFlag&16;const de=Q.props||Pt,Ee=J.props||Pt;let xe;if(re&&Ar(re,!1),(xe=Ee.onVnodeBeforeUpdate)&&On(xe,re,J,Q),fe&&Ir(J,Q,re,"beforeUpdate"),re&&Ar(re,!0),ue?A(Q.dynamicChildren,ue,H,re,ae,pa(J,ce),ve):$||V(Q,J,H,null,re,ae,pa(J,ce),ve,!1),oe>0){if(oe&16)D(H,J,de,Ee,re,ae,ce);else if(oe&2&&de.class!==Ee.class&&t(H,"class",null,Ee.class,ce),oe&4&&t(H,"style",de.style,Ee.style,ce),oe&8){const Te=J.dynamicProps;for(let Me=0;Me<Te.length;Me++){const Ve=Te[Me],Pe=de[Ve],Ke=Ee[Ve];(Ke!==Pe||Ve==="value")&&t(H,Ve,Pe,Ke,ce,Q.children,re,ae,j)}}oe&1&&Q.children!==J.children&&S(H,J.children)}else!$&&ue==null&&D(H,J,de,Ee,re,ae,ce);((xe=Ee.onVnodeUpdated)||fe)&&tn(()=>{xe&&On(xe,re,J,Q),fe&&Ir(J,Q,re,"updated")},ae)},A=(Q,J,re,ae,ce,ve,$)=>{for(let H=0;H<J.length;H++){const oe=Q[H],ue=J[H],fe=oe.el&&(oe.type===Gn||!Gi(oe,ue)||oe.shapeFlag&70)?x(oe.el):re;f(oe,ue,fe,null,ae,ce,ve,$,!0)}},D=(Q,J,re,ae,ce,ve,$)=>{if(re!==ae){if(re!==Pt)for(const H in re)!io(H)&&!(H in ae)&&t(Q,H,re[H],null,$,J.children,ce,ve,j);for(const H in ae){if(io(H))continue;const oe=ae[H],ue=re[H];oe!==ue&&H!=="value"&&t(Q,H,ue,oe,$,J.children,ce,ve,j)}"value"in ae&&t(Q,"value",re.value,ae.value,$)}},O=(Q,J,re,ae,ce,ve,$,H,oe)=>{const ue=J.el=Q?Q.el:C(""),fe=J.anchor=Q?Q.anchor:C("");let{patchFlag:de,dynamicChildren:Ee,slotScopeIds:xe}=J;xe&&(H=H?H.concat(xe):xe),Q==null?(a(ue,re,ae),a(fe,re,ae),E(J.children||[],re,fe,ce,ve,$,H,oe)):de>0&&de&64&&Ee&&Q.dynamicChildren?(A(Q.dynamicChildren,Ee,re,ce,ve,$,H),(J.key!=null||ce&&J===ce.subTree)&&op(Q,J,!0)):V(Q,J,re,fe,ce,ve,$,H,oe)},l=(Q,J,re,ae,ce,ve,$,H,oe)=>{J.slotScopeIds=H,Q==null?J.shapeFlag&512?ce.ctx.activate(J,re,ae,$,oe):o(J,re,ae,ce,ve,$,oe):v(Q,J,oe)},o=(Q,J,re,ae,ce,ve,$)=>{const H=Q.component=tv(Q,ae,ce);if(Kf(Q)&&(H.ctx.renderer=le),nv(H),H.asyncDep){if(ce&&ce.registerDep(H,T),!Q.el){const oe=H.subTree=gn(ho);p(null,oe,J,re)}}else T(H,Q,J,re,ce,ve,$)},v=(Q,J,re)=>{const ae=J.component=Q.component;if(cg(Q,J,re))if(ae.asyncDep&&!ae.asyncResolved){L(ae,J,re);return}else ae.next=J,rg(ae.update),ae.effect.dirty=!0,ae.update();else J.el=Q.el,ae.vnode=J},T=(Q,J,re,ae,ce,ve,$)=>{const H=()=>{if(Q.isMounted){let{next:fe,bu:de,u:Ee,parent:xe,vnode:Te}=Q;{const $e=sp(Q);if($e){fe&&(fe.el=Te.el,L(Q,fe,$)),$e.asyncDep.then(()=>{Q.isUnmounted||H()});return}}let Me=fe,Ve;Ar(Q,!1),fe?(fe.el=Te.el,L(Q,fe,$)):fe=Te,de&&ca(de),(Ve=fe.props&&fe.props.onVnodeBeforeUpdate)&&On(Ve,xe,fe,Te),Ar(Q,!0);const Pe=da(Q),Ke=Q.subTree;Q.subTree=Pe,f(Ke,Pe,x(Ke.el),G(Ke),Q,ce,ve),fe.el=Pe.el,Me===null&&dg(Q,Pe.el),Ee&&tn(Ee,ce),(Ve=fe.props&&fe.props.onVnodeUpdated)&&tn(()=>On(Ve,xe,fe,Te),ce)}else{let fe;const{el:de,props:Ee}=J,{bm:xe,m:Te,parent:Me}=Q,Ve=ms(J);if(Ar(Q,!1),xe&&ca(xe),!Ve&&(fe=Ee&&Ee.onVnodeBeforeMount)&&On(fe,Me,J),Ar(Q,!0),de&&Y){const Pe=()=>{Q.subTree=da(Q),Y(de,Q.subTree,Q,ce,null)};Ve?J.type.__asyncLoader().then(()=>!Q.isUnmounted&&Pe()):Pe()}else{const Pe=Q.subTree=da(Q);f(null,Pe,re,ae,Q,ce,ve),J.el=Pe.el}if(Te&&tn(Te,ce),!Ve&&(fe=Ee&&Ee.onVnodeMounted)){const Pe=J;tn(()=>On(fe,Me,Pe),ce)}(J.shapeFlag&256||Me&&ms(Me.vnode)&&Me.vnode.shapeFlag&256)&&Q.a&&tn(Q.a,ce),Q.isMounted=!0,J=re=ae=null}},oe=Q.effect=new Bl(H,mn,()=>ql(ue),Q.scope),ue=Q.update=()=>{oe.dirty&&oe.run()};ue.id=Q.uid,Ar(Q,!0),ue()},L=(Q,J,re)=>{J.component=Q;const ae=Q.vnode.props;Q.vnode=J,Q.next=null,Fg(Q,J.props,ae,re),jg(Q,J.children,re),$r(),Xu(Q),Kr()},V=(Q,J,re,ae,ce,ve,$,H,oe=!1)=>{const ue=Q&&Q.children,fe=Q?Q.shapeFlag:0,de=J.children,{patchFlag:Ee,shapeFlag:xe}=J;if(Ee>0){if(Ee&128){B(ue,de,re,ae,ce,ve,$,H,oe);return}else if(Ee&256){_(ue,de,re,ae,ce,ve,$,H,oe);return}}xe&8?(fe&16&&j(ue,ce,ve),de!==ue&&S(re,de)):fe&16?xe&16?B(ue,de,re,ae,ce,ve,$,H,oe):j(ue,ce,ve,!0):(fe&8&&S(re,""),xe&16&&E(de,re,ae,ce,ve,$,H,oe))},_=(Q,J,re,ae,ce,ve,$,H,oe)=>{Q=Q||xi,J=J||xi;const ue=Q.length,fe=J.length,de=Math.min(ue,fe);let Ee;for(Ee=0;Ee<de;Ee++){const xe=J[Ee]=oe?dr(J[Ee]):In(J[Ee]);f(Q[Ee],xe,re,null,ce,ve,$,H,oe)}ue>fe?j(Q,ce,ve,!0,!1,de):E(J,re,ae,ce,ve,$,H,oe,de)},B=(Q,J,re,ae,ce,ve,$,H,oe)=>{let ue=0;const fe=J.length;let de=Q.length-1,Ee=fe-1;for(;ue<=de&&ue<=Ee;){const xe=Q[ue],Te=J[ue]=oe?dr(J[ue]):In(J[ue]);if(Gi(xe,Te))f(xe,Te,re,null,ce,ve,$,H,oe);else break;ue++}for(;ue<=de&&ue<=Ee;){const xe=Q[de],Te=J[Ee]=oe?dr(J[Ee]):In(J[Ee]);if(Gi(xe,Te))f(xe,Te,re,null,ce,ve,$,H,oe);else break;de--,Ee--}if(ue>de){if(ue<=Ee){const xe=Ee+1,Te=xe<fe?J[xe].el:ae;for(;ue<=Ee;)f(null,J[ue]=oe?dr(J[ue]):In(J[ue]),re,Te,ce,ve,$,H,oe),ue++}}else if(ue>Ee)for(;ue<=de;)U(Q[ue],ce,ve,!0),ue++;else{const xe=ue,Te=ue,Me=new Map;for(ue=Te;ue<=Ee;ue++){const Ue=J[ue]=oe?dr(J[ue]):In(J[ue]);Ue.key!=null&&Me.set(Ue.key,ue)}let Ve,Pe=0;const Ke=Ee-Te+1;let $e=!1,qe=0;const ke=new Array(Ke);for(ue=0;ue<Ke;ue++)ke[ue]=0;for(ue=xe;ue<=de;ue++){const Ue=Q[ue];if(Pe>=Ke){U(Ue,ce,ve,!0);continue}let Ge;if(Ue.key!=null)Ge=Me.get(Ue.key);else for(Ve=Te;Ve<=Ee;Ve++)if(ke[Ve-Te]===0&&Gi(Ue,J[Ve])){Ge=Ve;break}Ge===void 0?U(Ue,ce,ve,!0):(ke[Ge-Te]=ue+1,Ge>=qe?qe=Ge:$e=!0,f(Ue,J[Ge],re,null,ce,ve,$,H,oe),Pe++)}const Le=$e?Gg(ke):xi;for(Ve=Le.length-1,ue=Ke-1;ue>=0;ue--){const Ue=Te+ue,Ge=J[Ue],ct=Ue+1<fe?J[Ue+1].el:ae;ke[ue]===0?f(null,Ge,re,ct,ce,ve,$,H,oe):$e&&(Ve<0||ue!==Le[Ve]?k(Ge,re,ct,2):Ve--)}}},k=(Q,J,re,ae,ce=null)=>{const{el:ve,type:$,transition:H,children:oe,shapeFlag:ue}=Q;if(ue&6){k(Q.component.subTree,J,re,ae);return}if(ue&128){Q.suspense.move(J,re,ae);return}if(ue&64){$.move(Q,J,re,le);return}if($===Gn){a(ve,J,re);for(let de=0;de<oe.length;de++)k(oe[de],J,re,ae);a(Q.anchor,J,re);return}if($===ha){m(Q,J,re);return}if(ae!==2&&ue&1&&H)if(ae===0)H.beforeEnter(ve),a(ve,J,re),tn(()=>H.enter(ve),ce);else{const{leave:de,delayLeave:Ee,afterLeave:xe}=H,Te=()=>a(ve,J,re),Me=()=>{de(ve,()=>{Te(),xe&&xe()})};Ee?Ee(ve,Te,Me):Me()}else a(ve,J,re)},U=(Q,J,re,ae=!1,ce=!1)=>{const{type:ve,props:$,ref:H,children:oe,dynamicChildren:ue,shapeFlag:fe,patchFlag:de,dirs:Ee}=Q;if(H!=null&&ul(H,null,re,Q,!0),fe&256){J.ctx.deactivate(Q);return}const xe=fe&1&&Ee,Te=!ms(Q);let Me;if(Te&&(Me=$&&$.onVnodeBeforeUnmount)&&On(Me,J,Q),fe&6)Z(Q.component,re,ae);else{if(fe&128){Q.suspense.unmount(re,ae);return}xe&&Ir(Q,null,J,"beforeUnmount"),fe&64?Q.type.remove(Q,J,re,ce,le,ae):ue&&(ve!==Gn||de>0&&de&64)?j(ue,J,re,!1,!0):(ve===Gn&&de&384||!ce&&fe&16)&&j(oe,J,re),ae&&K(Q)}(Te&&(Me=$&&$.onVnodeUnmounted)||xe)&&tn(()=>{Me&&On(Me,J,Q),xe&&Ir(Q,null,J,"unmounted")},re)},K=Q=>{const{type:J,el:re,anchor:ae,transition:ce}=Q;if(J===Gn){q(re,ae);return}if(J===ha){y(Q);return}const ve=()=>{r(re),ce&&!ce.persisted&&ce.afterLeave&&ce.afterLeave()};if(Q.shapeFlag&1&&ce&&!ce.persisted){const{leave:$,delayLeave:H}=ce,oe=()=>$(re,ve);H?H(Q.el,ve,oe):oe()}else ve()},q=(Q,J)=>{let re;for(;Q!==J;)re=h(Q),r(Q),Q=re;r(J)},Z=(Q,J,re)=>{const{bum:ae,scope:ce,update:ve,subTree:$,um:H}=Q;ae&&ca(ae),ce.stop(),ve&&(ve.active=!1,U($,Q,J,re)),H&&tn(H,J),tn(()=>{Q.isUnmounted=!0},J),J&&J.pendingBranch&&!J.isUnmounted&&Q.asyncDep&&!Q.asyncResolved&&Q.suspenseId===J.pendingId&&(J.deps--,J.deps===0&&J.resolve())},j=(Q,J,re,ae=!1,ce=!1,ve=0)=>{for(let $=ve;$<Q.length;$++)U(Q[$],J,re,ae,ce)},G=Q=>Q.shapeFlag&6?G(Q.component.subTree):Q.shapeFlag&128?Q.suspense.next():h(Q.anchor||Q.el);let X=!1;const ne=(Q,J,re)=>{Q==null?J._vnode&&U(J._vnode,null,null,!0):f(J._vnode||null,Q,J,null,null,null,re),X||(X=!0,Xu(),Hf(),X=!1),J._vnode=Q},le={p:f,um:U,m:k,r:K,mt:o,mc:E,pc:V,pbc:A,n:G,o:s};let ie,Y;return e&&([ie,Y]=e(le)),{render:ne,hydrate:ie,createApp:Ng(ne,ie)}}function pa({type:s,props:e},n){return n==="svg"&&s==="foreignObject"||n==="mathml"&&s==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Ar({effect:s,update:e},n){s.allowRecurse=e.allowRecurse=n}function qg(s,e){return(!s||s&&!s.pendingBranch)&&e&&!e.persisted}function op(s,e,n=!1){const a=s.children,r=e.children;if(nt(a)&&nt(r))for(let t=0;t<a.length;t++){const d=a[t];let C=r[t];C.shapeFlag&1&&!C.dynamicChildren&&((C.patchFlag<=0||C.patchFlag===32)&&(C=r[t]=dr(r[t]),C.el=d.el),n||op(d,C)),C.type===js&&(C.el=d.el)}}function Gg(s){const e=s.slice(),n=[0];let a,r,t,d,C;const M=s.length;for(a=0;a<M;a++){const w=s[a];if(w!==0){if(r=n[n.length-1],s[r]<w){e[a]=r,n.push(a);continue}for(t=0,d=n.length-1;t<d;)C=t+d>>1,s[n[C]]<w?t=C+1:d=C;w<s[n[t]]&&(t>0&&(e[a]=n[t-1]),n[t]=a)}}for(t=n.length,d=n[t-1];t-- >0;)n[t]=d,d=e[d];return n}function sp(s){const e=s.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:sp(e)}const Qg=s=>s.__isTeleport,Gn=Symbol.for("v-fgt"),js=Symbol.for("v-txt"),ho=Symbol.for("v-cmt"),ha=Symbol.for("v-stc"),ao=[];let Tn=null;function ZT(s=!1){ao.push(Tn=s?null:[])}function $g(){ao.pop(),Tn=ao[ao.length-1]||null}let mo=1;function sc(s){mo+=s}function ap(s){return s.dynamicChildren=mo>0?Tn||xi:null,$g(),mo>0&&Tn&&Tn.push(s),s}function eS(s,e,n,a,r,t){return ap(up(s,e,n,a,r,t,!0))}function tS(s,e,n,a,r){return ap(gn(s,e,n,a,r,!0))}function cl(s){return s?s.__v_isVNode===!0:!1}function Gi(s,e){return s.type===e.type&&s.key===e.key}const Hs="__vInternal",lp=({key:s})=>s??null,vs=({ref:s,ref_key:e,ref_for:n})=>(typeof s=="number"&&(s=""+s),s!=null?zt(s)||an(s)||st(s)?{i:Vn,r:s,k:e,f:!!n}:s:null);function up(s,e=null,n=null,a=0,r=null,t=s===Gn?0:1,d=!1,C=!1){const M={__v_isVNode:!0,__v_skip:!0,type:s,props:e,key:e&&lp(e),ref:e&&vs(e),scopeId:Us,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:t,patchFlag:a,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Vn};return C?($l(M,n),t&128&&s.normalize(M)):n&&(M.shapeFlag|=zt(n)?8:16),mo>0&&!d&&Tn&&(M.patchFlag>0||t&6)&&M.patchFlag!==32&&Tn.push(M),M}const gn=Kg;function Kg(s,e=null,n=null,a=0,r=null,t=!1){if((!s||s===fg)&&(s=ho),cl(s)){const C=Ii(s,e,!0);return n&&$l(C,n),mo>0&&!t&&Tn&&(C.shapeFlag&6?Tn[Tn.indexOf(s)]=C:Tn.push(C)),C.patchFlag|=-2,C}if(sv(s)&&(s=s.__vccOpts),e){e=Xg(e);let{class:C,style:M}=e;C&&!zt(C)&&(e.class=_l(C)),Ot(M)&&(Vf(M)&&!nt(M)&&(M=Ut({},M)),e.style=Vl(M))}const d=zt(s)?1:pg(s)?128:Qg(s)?64:Ot(s)?4:st(s)?2:0;return up(s,e,n,a,r,d,t,!0)}function Xg(s){return s?Vf(s)||Hs in s?Ut({},s):s:null}function Ii(s,e,n=!1){const{props:a,ref:r,patchFlag:t,children:d}=s,C=e?Yg(a||{},e):a;return{__v_isVNode:!0,__v_skip:!0,type:s.type,props:C,key:C&&lp(C),ref:e&&e.ref?n&&r?nt(r)?r.concat(vs(e)):[r,vs(e)]:vs(e):r,scopeId:s.scopeId,slotScopeIds:s.slotScopeIds,children:d,target:s.target,targetAnchor:s.targetAnchor,staticCount:s.staticCount,shapeFlag:s.shapeFlag,patchFlag:e&&s.type!==Gn?t===-1?16:t|16:t,dynamicProps:s.dynamicProps,dynamicChildren:s.dynamicChildren,appContext:s.appContext,dirs:s.dirs,transition:s.transition,component:s.component,suspense:s.suspense,ssContent:s.ssContent&&Ii(s.ssContent),ssFallback:s.ssFallback&&Ii(s.ssFallback),el:s.el,anchor:s.anchor,ctx:s.ctx,ce:s.ce}}function Jg(s=" ",e=0){return gn(js,null,s,e)}function In(s){return s==null||typeof s=="boolean"?gn(ho):nt(s)?gn(Gn,null,s.slice()):typeof s=="object"?dr(s):gn(js,null,String(s))}function dr(s){return s.el===null&&s.patchFlag!==-1||s.memo?s:Ii(s)}function $l(s,e){let n=0;const{shapeFlag:a}=s;if(e==null)e=null;else if(nt(e))n=16;else if(typeof e=="object")if(a&65){const r=e.default;r&&(r._c&&(r._d=!1),$l(s,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!(Hs in e)?e._ctx=Vn:r===3&&Vn&&(Vn.slots._===1?e._=1:(e._=2,s.patchFlag|=1024))}else st(e)?(e={default:e,_ctx:Vn},n=32):(e=String(e),a&64?(n=16,e=[Jg(e)]):n=8);s.children=e,s.shapeFlag|=n}function Yg(...s){const e={};for(let n=0;n<s.length;n++){const a=s[n];for(const r in a)if(r==="class")e.class!==a.class&&(e.class=_l([e.class,a.class]));else if(r==="style")e.style=Vl([e.style,a.style]);else if(Ds(r)){const t=e[r],d=a[r];d&&t!==d&&!(nt(t)&&t.includes(d))&&(e[r]=t?[].concat(t,d):d)}else r!==""&&(e[r]=a[r])}return e}function On(s,e,n,a=null){Sn(s,e,7,[n,a])}const Zg=Zf();let ev=0;function tv(s,e,n){const a=s.type,r=(e?e.appContext:s.appContext)||Zg,t={uid:ev++,vnode:s,type:a,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Cf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:tp(a,r),emitsOptions:qf(a,r),emit:null,emitted:null,propsDefaults:Pt,inheritAttrs:a.inheritAttrs,ctx:Pt,data:Pt,props:Pt,attrs:Pt,slots:Pt,refs:Pt,setupState:Pt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return t.ctx={_:t},t.root=e?e.root:t,t.emit=sg.bind(null,t),s.ce&&s.ce(t),t}let Yt=null,Ts,dl;{const s=yf(),e=(n,a)=>{let r;return(r=s[n])||(r=s[n]=[]),r.push(a),t=>{r.length>1?r.forEach(d=>d(t)):r[0](t)}};Ts=e("__VUE_INSTANCE_SETTERS__",n=>Yt=n),dl=e("__VUE_SSR_SETTERS__",n=>Ws=n)}const bo=s=>{const e=Yt;return Ts(s),s.scope.on(),()=>{s.scope.off(),Ts(e)}},ac=()=>{Yt&&Yt.scope.off(),Ts(null)};function cp(s){return s.vnode.shapeFlag&4}let Ws=!1;function nv(s,e=!1){e&&dl(e);const{props:n,children:a}=s.vnode,r=cp(s);kg(s,n,r,e),zg(s,a);const t=r?rv(s,e):void 0;return e&&dl(!1),t}function rv(s,e){const n=s.type;s.accessCache=Object.create(null),s.proxy=jl(new Proxy(s.ctx,Ig));const{setup:a}=n;if(a){const r=s.setupContext=a.length>1?ov(s):null,t=bo(s);$r();const d=yr(a,s,0,[s.props,r]);if(Kr(),t(),gf(d)){if(d.then(ac,ac),e)return d.then(C=>{lc(s,C,e)}).catch(C=>{ks(C,s,0)});s.asyncDep=d}else lc(s,d,e)}else dp(s,e)}function lc(s,e,n){st(e)?s.type.__ssrInlineRender?s.ssrRender=e:s.render=e:Ot(e)&&(s.setupState=Ff(e)),dp(s,n)}let uc;function dp(s,e,n){const a=s.type;if(!s.render){if(!e&&uc&&!a.render){const r=a.template||Gl(s).template;if(r){const{isCustomElement:t,compilerOptions:d}=s.appContext.config,{delimiters:C,compilerOptions:M}=a,w=Ut(Ut({isCustomElement:t,delimiters:C},d),M);a.render=uc(r,w)}}s.render=a.render||mn}{const r=bo(s);$r();try{Ag(s)}finally{Kr(),r()}}}function iv(s){return s.attrsProxy||(s.attrsProxy=new Proxy(s.attrs,{get(e,n){return sn(s,"get","$attrs"),e[n]}}))}function ov(s){const e=n=>{s.exposed=n||{}};return{get attrs(){return iv(s)},slots:s.slots,emit:s.emit,expose:e}}function Kl(s){if(s.exposed)return s.exposeProxy||(s.exposeProxy=new Proxy(Ff(jl(s.exposed)),{get(e,n){if(n in e)return e[n];if(n in oo)return oo[n](s)},has(e,n){return n in e||n in oo}}))}function sv(s){return st(s)&&"__vccOpts"in s}const xn=(s,e)=>Jm(s,e,Ws);function fp(s,e,n){const a=arguments.length;return a===2?Ot(e)&&!nt(e)?cl(e)?gn(s,null,[e]):gn(s,e):gn(s,null,e):(a>3?n=Array.prototype.slice.call(arguments,2):a===3&&cl(n)&&(n=[n]),gn(s,e,n))}const av="3.4.19";/**
* @vue/runtime-dom v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const lv="http://www.w3.org/2000/svg",uv="http://www.w3.org/1998/Math/MathML",fr=typeof document<"u"?document:null,cc=fr&&fr.createElement("template"),cv={insert:(s,e,n)=>{e.insertBefore(s,n||null)},remove:s=>{const e=s.parentNode;e&&e.removeChild(s)},createElement:(s,e,n,a)=>{const r=e==="svg"?fr.createElementNS(lv,s):e==="mathml"?fr.createElementNS(uv,s):fr.createElement(s,n?{is:n}:void 0);return s==="select"&&a&&a.multiple!=null&&r.setAttribute("multiple",a.multiple),r},createText:s=>fr.createTextNode(s),createComment:s=>fr.createComment(s),setText:(s,e)=>{s.nodeValue=e},setElementText:(s,e)=>{s.textContent=e},parentNode:s=>s.parentNode,nextSibling:s=>s.nextSibling,querySelector:s=>fr.querySelector(s),setScopeId(s,e){s.setAttribute(e,"")},insertStaticContent(s,e,n,a,r,t){const d=n?n.previousSibling:e.lastChild;if(r&&(r===t||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===t||!(r=r.nextSibling)););else{cc.innerHTML=a==="svg"?`<svg>${s}</svg>`:a==="mathml"?`<math>${s}</math>`:s;const C=cc.content;if(a==="svg"||a==="mathml"){const M=C.firstChild;for(;M.firstChild;)C.appendChild(M.firstChild);C.removeChild(M)}e.insertBefore(C,n)}return[d?d.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},dv=Symbol("_vtc");function fv(s,e,n){const a=s[dv];a&&(e=(e?[e,...a]:[...a]).join(" ")),e==null?s.removeAttribute("class"):n?s.setAttribute("class",e):s.className=e}const dc=Symbol("_vod"),pv=Symbol(""),hv=/(^|;)\s*display\s*:/;function mv(s,e,n){const a=s.style,r=zt(n),t=a.display;let d=!1;if(n&&!r){if(e&&!zt(e))for(const C in e)n[C]==null&&fl(a,C,"");for(const C in n)C==="display"&&(d=!0),fl(a,C,n[C])}else if(r){if(e!==n){const C=a[pv];C&&(n+=";"+C),a.cssText=n,d=hv.test(n)}}else e&&s.removeAttribute("style");dc in s&&(s[dc]=d?a.display:"",a.display=t)}const fc=/\s*!important$/;function fl(s,e,n){if(nt(n))n.forEach(a=>fl(s,e,a));else if(n==null&&(n=""),e.startsWith("--"))s.setProperty(e,n);else{const a=gv(s,e);fc.test(n)?s.setProperty(Ni(a),n.replace(fc,""),"important"):s[a]=n}}const pc=["Webkit","Moz","ms"],ma={};function gv(s,e){const n=ma[e];if(n)return n;let a=wi(e);if(a!=="filter"&&a in s)return ma[e]=a;a=vf(a);for(let r=0;r<pc.length;r++){const t=pc[r]+a;if(t in s)return ma[e]=t}return e}const hc="http://www.w3.org/1999/xlink";function vv(s,e,n,a,r){if(a&&e.startsWith("xlink:"))n==null?s.removeAttributeNS(hc,e.slice(6,e.length)):s.setAttributeNS(hc,e,n);else{const t=wm(e);n==null||t&&!bf(n)?s.removeAttribute(e):s.setAttribute(e,t?"":n)}}function yv(s,e,n,a,r,t,d){if(e==="innerHTML"||e==="textContent"){a&&d(a,r,t),s[e]=n??"";return}const C=s.tagName;if(e==="value"&&C!=="PROGRESS"&&!C.includes("-")){s._value=n;const w=C==="OPTION"?s.getAttribute("value"):s.value,S=n??"";w!==S&&(s.value=S),n==null&&s.removeAttribute(e);return}let M=!1;if(n===""||n==null){const w=typeof s[e];w==="boolean"?n=bf(n):n==null&&w==="string"?(n="",M=!0):w==="number"&&(n=0,M=!0)}try{s[e]=n}catch{}M&&s.removeAttribute(e)}function bv(s,e,n,a){s.addEventListener(e,n,a)}function Cv(s,e,n,a){s.removeEventListener(e,n,a)}const mc=Symbol("_vei");function xv(s,e,n,a,r=null){const t=s[mc]||(s[mc]={}),d=t[e];if(a&&d)d.value=a;else{const[C,M]=Ev(e);if(a){const w=t[e]=Sv(a,r);bv(s,C,w,M)}else d&&(Cv(s,C,d,M),t[e]=void 0)}}const gc=/(?:Once|Passive|Capture)$/;function Ev(s){let e;if(gc.test(s)){e={};let a;for(;a=s.match(gc);)s=s.slice(0,s.length-a[0].length),e[a[0].toLowerCase()]=!0}return[s[2]===":"?s.slice(3):Ni(s.slice(2)),e]}let ga=0;const Pv=Promise.resolve(),Tv=()=>ga||(Pv.then(()=>ga=0),ga=Date.now());function Sv(s,e){const n=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=n.attached)return;Sn(Mv(a,n.value),e,5,[a])};return n.value=s,n.attached=Tv(),n}function Mv(s,e){if(nt(e)){const n=s.stopImmediatePropagation;return s.stopImmediatePropagation=()=>{n.call(s),s._stopped=!0},e.map(a=>r=>!r._stopped&&a&&a(r))}else return e}const vc=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&s.charCodeAt(2)>96&&s.charCodeAt(2)<123,Rv=(s,e,n,a,r,t,d,C,M)=>{const w=r==="svg";e==="class"?fv(s,a,w):e==="style"?mv(s,n,a):Ds(e)?Al(e)||xv(s,e,n,a,d):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):wv(s,e,a,w))?yv(s,e,a,t,d,C,M):(e==="true-value"?s._trueValue=a:e==="false-value"&&(s._falseValue=a),vv(s,e,a,w))};function wv(s,e,n,a){if(a)return!!(e==="innerHTML"||e==="textContent"||e in s&&vc(e)&&st(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&s.tagName==="INPUT"||e==="type"&&s.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=s.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return vc(e)&&zt(n)?!1:e in s}const Ov=Ut({patchProp:Rv},cv);let yc;function pp(){return yc||(yc=Hg(Ov))}const nS=(...s)=>{pp().render(...s)},rS=(...s)=>{const e=pp().createApp(...s),{mount:n}=e;return e.mount=a=>{const r=Av(a);if(!r)return;const t=e._component;!st(t)&&!t.render&&!t.template&&(t.template=r.innerHTML),r.innerHTML="";const d=n(r,!1,Iv(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),d},e};function Iv(s){if(s instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&s instanceof MathMLElement)return"mathml"}function Av(s){return zt(s)?document.querySelector(s):s}var Dv=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */const Lv=Symbol();var bc;(function(s){s.direct="direct",s.patchObject="patch object",s.patchFunction="patch function"})(bc||(bc={}));function iS(){const s=Om(!0),e=s.run(()=>Nf({}));let n=[],a=[];const r=jl({install(t){r._a=t,t.provide(Lv,r),t.config.globalProperties.$pinia=r,a.forEach(d=>n.push(d)),a=[]},use(t){return!this._a&&!Dv?a.push(t):n.push(t),this},_p:n,_a:null,_e:s,_s:new Map,state:e});return r}/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const vi=typeof document<"u";function Vv(s){return s.__esModule||s[Symbol.toStringTag]==="Module"}const gt=Object.assign;function va(s,e){const n={};for(const a in e){const r=e[a];n[a]=Rn(r)?r.map(s):s(r)}return n}const lo=()=>{},Rn=Array.isArray,hp=/#/g,_v=/&/g,Bv=/\//g,Nv=/=/g,kv=/\?/g,mp=/\+/g,Fv=/%5B/g,Uv=/%5D/g,gp=/%5E/g,zv=/%60/g,vp=/%7B/g,jv=/%7C/g,yp=/%7D/g,Hv=/%20/g;function Xl(s){return encodeURI(""+s).replace(jv,"|").replace(Fv,"[").replace(Uv,"]")}function Wv(s){return Xl(s).replace(vp,"{").replace(yp,"}").replace(gp,"^")}function pl(s){return Xl(s).replace(mp,"%2B").replace(Hv,"+").replace(hp,"%23").replace(_v,"%26").replace(zv,"`").replace(vp,"{").replace(yp,"}").replace(gp,"^")}function qv(s){return pl(s).replace(Nv,"%3D")}function Gv(s){return Xl(s).replace(hp,"%23").replace(kv,"%3F")}function Qv(s){return s==null?"":Gv(s).replace(Bv,"%2F")}function go(s){try{return decodeURIComponent(""+s)}catch{}return""+s}const $v=/\/$/,Kv=s=>s.replace($v,"");function ya(s,e,n="/"){let a,r={},t="",d="";const C=e.indexOf("#");let M=e.indexOf("?");return C<M&&C>=0&&(M=-1),M>-1&&(a=e.slice(0,M),t=e.slice(M+1,C>-1?C:e.length),r=s(t)),C>-1&&(a=a||e.slice(0,C),d=e.slice(C,e.length)),a=Zv(a??e,n),{fullPath:a+(t&&"?")+t+d,path:a,query:r,hash:go(d)}}function Xv(s,e){const n=e.query?s(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Cc(s,e){return!e||!s.toLowerCase().startsWith(e.toLowerCase())?s:s.slice(e.length)||"/"}function Jv(s,e,n){const a=e.matched.length-1,r=n.matched.length-1;return a>-1&&a===r&&Ai(e.matched[a],n.matched[r])&&bp(e.params,n.params)&&s(e.query)===s(n.query)&&e.hash===n.hash}function Ai(s,e){return(s.aliasOf||s)===(e.aliasOf||e)}function bp(s,e){if(Object.keys(s).length!==Object.keys(e).length)return!1;for(const n in s)if(!Yv(s[n],e[n]))return!1;return!0}function Yv(s,e){return Rn(s)?xc(s,e):Rn(e)?xc(e,s):s===e}function xc(s,e){return Rn(e)?s.length===e.length&&s.every((n,a)=>n===e[a]):s.length===1&&s[0]===e}function Zv(s,e){if(s.startsWith("/"))return s;if(!s)return e;const n=e.split("/"),a=s.split("/"),r=a[a.length-1];(r===".."||r===".")&&a.push("");let t=n.length-1,d,C;for(d=0;d<a.length;d++)if(C=a[d],C!==".")if(C==="..")t>1&&t--;else break;return n.slice(0,t).join("/")+"/"+a.slice(d).join("/")}var vo;(function(s){s.pop="pop",s.push="push"})(vo||(vo={}));var uo;(function(s){s.back="back",s.forward="forward",s.unknown=""})(uo||(uo={}));function ey(s){if(!s)if(vi){const e=document.querySelector("base");s=e&&e.getAttribute("href")||"/",s=s.replace(/^\w+:\/\/[^\/]+/,"")}else s="/";return s[0]!=="/"&&s[0]!=="#"&&(s="/"+s),Kv(s)}const ty=/^[^#]+#/;function ny(s,e){return s.replace(ty,"#")+e}function ry(s,e){const n=document.documentElement.getBoundingClientRect(),a=s.getBoundingClientRect();return{behavior:e.behavior,left:a.left-n.left-(e.left||0),top:a.top-n.top-(e.top||0)}}const qs=()=>({left:window.scrollX,top:window.scrollY});function iy(s){let e;if("el"in s){const n=s.el,a=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?a?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=ry(r,s)}else e=s;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Ec(s,e){return(history.state?history.state.position-e:-1)+s}const hl=new Map;function oy(s,e){hl.set(s,e)}function sy(s){const e=hl.get(s);return hl.delete(s),e}let ay=()=>location.protocol+"//"+location.host;function Cp(s,e){const{pathname:n,search:a,hash:r}=e,t=s.indexOf("#");if(t>-1){let C=r.includes(s.slice(t))?s.slice(t).length:1,M=r.slice(C);return M[0]!=="/"&&(M="/"+M),Cc(M,"")}return Cc(n,s)+a+r}function ly(s,e,n,a){let r=[],t=[],d=null;const C=({state:h})=>{const u=Cp(s,location),g=n.value,f=e.value;let i=0;if(h){if(n.value=u,e.value=h,d&&d===g){d=null;return}i=f?h.position-f.position:0}else a(u);r.forEach(p=>{p(n.value,g,{delta:i,type:vo.pop,direction:i?i>0?uo.forward:uo.back:uo.unknown})})};function M(){d=n.value}function w(h){r.push(h);const u=()=>{const g=r.indexOf(h);g>-1&&r.splice(g,1)};return t.push(u),u}function S(){const{history:h}=window;h.state&&h.replaceState(gt({},h.state,{scroll:qs()}),"")}function x(){for(const h of t)h();t=[],window.removeEventListener("popstate",C),window.removeEventListener("beforeunload",S)}return window.addEventListener("popstate",C),window.addEventListener("beforeunload",S,{passive:!0}),{pauseListeners:M,listen:w,destroy:x}}function Pc(s,e,n,a=!1,r=!1){return{back:s,current:e,forward:n,replaced:a,position:window.history.length,scroll:r?qs():null}}function uy(s){const{history:e,location:n}=window,a={value:Cp(s,n)},r={value:e.state};r.value||t(a.value,{back:null,current:a.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function t(M,w,S){const x=s.indexOf("#"),h=x>-1?(n.host&&document.querySelector("base")?s:s.slice(x))+M:ay()+s+M;try{e[S?"replaceState":"pushState"](w,"",h),r.value=w}catch(u){console.error(u),n[S?"replace":"assign"](h)}}function d(M,w){const S=gt({},e.state,Pc(r.value.back,M,r.value.forward,!0),w,{position:r.value.position});t(M,S,!0),a.value=M}function C(M,w){const S=gt({},r.value,e.state,{forward:M,scroll:qs()});t(S.current,S,!0);const x=gt({},Pc(a.value,M,null),{position:S.position+1},w);t(M,x,!1),a.value=M}return{location:a,state:r,push:C,replace:d}}function cy(s){s=ey(s);const e=uy(s),n=ly(s,e.state,e.location,e.replace);function a(t,d=!0){d||n.pauseListeners(),history.go(t)}const r=gt({location:"",base:s,go:a,createHref:ny.bind(null,s)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function oS(s){return s=location.host?s||location.pathname+location.search:"",s.includes("#")||(s+="#"),cy(s)}function dy(s){return typeof s=="string"||s&&typeof s=="object"}function xp(s){return typeof s=="string"||typeof s=="symbol"}const rr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Ep=Symbol("");var Tc;(function(s){s[s.aborted=4]="aborted",s[s.cancelled=8]="cancelled",s[s.duplicated=16]="duplicated"})(Tc||(Tc={}));function Di(s,e){return gt(new Error,{type:s,[Ep]:!0},e)}function kn(s,e){return s instanceof Error&&Ep in s&&(e==null||!!(s.type&e))}const Sc="[^/]+?",fy={sensitive:!1,strict:!1,start:!0,end:!0},py=/[.+*?^${}()[\]/\\]/g;function hy(s,e){const n=gt({},fy,e),a=[];let r=n.start?"^":"";const t=[];for(const w of s){const S=w.length?[]:[90];n.strict&&!w.length&&(r+="/");for(let x=0;x<w.length;x++){const h=w[x];let u=40+(n.sensitive?.25:0);if(h.type===0)x||(r+="/"),r+=h.value.replace(py,"\\$&"),u+=40;else if(h.type===1){const{value:g,repeatable:f,optional:i,regexp:p}=h;t.push({name:g,repeatable:f,optional:i});const P=p||Sc;if(P!==Sc){u+=10;try{new RegExp(`(${P})`)}catch(y){throw new Error(`Invalid custom RegExp for param "${g}" (${P}): `+y.message)}}let m=f?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;x||(m=i&&w.length<2?`(?:/${m})`:"/"+m),i&&(m+="?"),r+=m,u+=20,i&&(u+=-8),f&&(u+=-20),P===".*"&&(u+=-50)}S.push(u)}a.push(S)}if(n.strict&&n.end){const w=a.length-1;a[w][a[w].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const d=new RegExp(r,n.sensitive?"":"i");function C(w){const S=w.match(d),x={};if(!S)return null;for(let h=1;h<S.length;h++){const u=S[h]||"",g=t[h-1];x[g.name]=u&&g.repeatable?u.split("/"):u}return x}function M(w){let S="",x=!1;for(const h of s){(!x||!S.endsWith("/"))&&(S+="/"),x=!1;for(const u of h)if(u.type===0)S+=u.value;else if(u.type===1){const{value:g,repeatable:f,optional:i}=u,p=g in w?w[g]:"";if(Rn(p)&&!f)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const P=Rn(p)?p.join("/"):p;if(!P)if(i)h.length<2&&(S.endsWith("/")?S=S.slice(0,-1):x=!0);else throw new Error(`Missing required param "${g}"`);S+=P}}return S||"/"}return{re:d,score:a,keys:t,parse:C,stringify:M}}function my(s,e){let n=0;for(;n<s.length&&n<e.length;){const a=e[n]-s[n];if(a)return a;n++}return s.length<e.length?s.length===1&&s[0]===80?-1:1:s.length>e.length?e.length===1&&e[0]===80?1:-1:0}function gy(s,e){let n=0;const a=s.score,r=e.score;for(;n<a.length&&n<r.length;){const t=my(a[n],r[n]);if(t)return t;n++}if(Math.abs(r.length-a.length)===1){if(Mc(a))return 1;if(Mc(r))return-1}return r.length-a.length}function Mc(s){const e=s[s.length-1];return s.length>0&&e[e.length-1]<0}const vy={type:0,value:""},yy=/[a-zA-Z0-9_]/;function by(s){if(!s)return[[]];if(s==="/")return[[vy]];if(!s.startsWith("/"))throw new Error(`Invalid path "${s}"`);function e(u){throw new Error(`ERR (${n})/"${w}": ${u}`)}let n=0,a=n;const r=[];let t;function d(){t&&r.push(t),t=[]}let C=0,M,w="",S="";function x(){w&&(n===0?t.push({type:0,value:w}):n===1||n===2||n===3?(t.length>1&&(M==="*"||M==="+")&&e(`A repeatable param (${w}) must be alone in its segment. eg: '/:ids+.`),t.push({type:1,value:w,regexp:S,repeatable:M==="*"||M==="+",optional:M==="*"||M==="?"})):e("Invalid state to consume buffer"),w="")}function h(){w+=M}for(;C<s.length;){if(M=s[C++],M==="\\"&&n!==2){a=n,n=4;continue}switch(n){case 0:M==="/"?(w&&x(),d()):M===":"?(x(),n=1):h();break;case 4:h(),n=a;break;case 1:M==="("?n=2:yy.test(M)?h():(x(),n=0,M!=="*"&&M!=="?"&&M!=="+"&&C--);break;case 2:M===")"?S[S.length-1]=="\\"?S=S.slice(0,-1)+M:n=3:S+=M;break;case 3:x(),n=0,M!=="*"&&M!=="?"&&M!=="+"&&C--,S="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${w}"`),x(),d(),r}function Cy(s,e,n){const a=hy(by(s.path),n),r=gt(a,{record:s,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function xy(s,e){const n=[],a=new Map;e=Oc({strict:!1,end:!0,sensitive:!1},e);function r(S){return a.get(S)}function t(S,x,h){const u=!h,g=Ey(S);g.aliasOf=h&&h.record;const f=Oc(e,S),i=[g];if("alias"in S){const m=typeof S.alias=="string"?[S.alias]:S.alias;for(const y of m)i.push(gt({},g,{components:h?h.record.components:g.components,path:y,aliasOf:h?h.record:g}))}let p,P;for(const m of i){const{path:y}=m;if(x&&y[0]!=="/"){const R=x.record.path,b=R[R.length-1]==="/"?"":"/";m.path=x.record.path+(y&&b+y)}if(p=Cy(m,x,f),h?h.alias.push(p):(P=P||p,P!==p&&P.alias.push(p),u&&S.name&&!wc(p)&&d(S.name)),g.children){const R=g.children;for(let b=0;b<R.length;b++)t(R[b],p,h&&h.children[b])}h=h||p,(p.record.components&&Object.keys(p.record.components).length||p.record.name||p.record.redirect)&&M(p)}return P?()=>{d(P)}:lo}function d(S){if(xp(S)){const x=a.get(S);x&&(a.delete(S),n.splice(n.indexOf(x),1),x.children.forEach(d),x.alias.forEach(d))}else{const x=n.indexOf(S);x>-1&&(n.splice(x,1),S.record.name&&a.delete(S.record.name),S.children.forEach(d),S.alias.forEach(d))}}function C(){return n}function M(S){let x=0;for(;x<n.length&&gy(S,n[x])>=0&&(S.record.path!==n[x].record.path||!Pp(S,n[x]));)x++;n.splice(x,0,S),S.record.name&&!wc(S)&&a.set(S.record.name,S)}function w(S,x){let h,u={},g,f;if("name"in S&&S.name){if(h=a.get(S.name),!h)throw Di(1,{location:S});f=h.record.name,u=gt(Rc(x.params,h.keys.filter(P=>!P.optional).concat(h.parent?h.parent.keys.filter(P=>P.optional):[]).map(P=>P.name)),S.params&&Rc(S.params,h.keys.map(P=>P.name))),g=h.stringify(u)}else if(S.path!=null)g=S.path,h=n.find(P=>P.re.test(g)),h&&(u=h.parse(g),f=h.record.name);else{if(h=x.name?a.get(x.name):n.find(P=>P.re.test(x.path)),!h)throw Di(1,{location:S,currentLocation:x});f=h.record.name,u=gt({},x.params,S.params),g=h.stringify(u)}const i=[];let p=h;for(;p;)i.unshift(p.record),p=p.parent;return{name:f,path:g,params:u,matched:i,meta:Ty(i)}}return s.forEach(S=>t(S)),{addRoute:t,resolve:w,removeRoute:d,getRoutes:C,getRecordMatcher:r}}function Rc(s,e){const n={};for(const a of e)a in s&&(n[a]=s[a]);return n}function Ey(s){return{path:s.path,redirect:s.redirect,name:s.name,meta:s.meta||{},aliasOf:void 0,beforeEnter:s.beforeEnter,props:Py(s),children:s.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in s?s.components||null:s.component&&{default:s.component}}}function Py(s){const e={},n=s.props||!1;if("component"in s)e.default=n;else for(const a in s.components)e[a]=typeof n=="object"?n[a]:n;return e}function wc(s){for(;s;){if(s.record.aliasOf)return!0;s=s.parent}return!1}function Ty(s){return s.reduce((e,n)=>gt(e,n.meta),{})}function Oc(s,e){const n={};for(const a in s)n[a]=a in e?e[a]:s[a];return n}function Pp(s,e){return e.children.some(n=>n===s||Pp(s,n))}function Sy(s){const e={};if(s===""||s==="?")return e;const a=(s[0]==="?"?s.slice(1):s).split("&");for(let r=0;r<a.length;++r){const t=a[r].replace(mp," "),d=t.indexOf("="),C=go(d<0?t:t.slice(0,d)),M=d<0?null:go(t.slice(d+1));if(C in e){let w=e[C];Rn(w)||(w=e[C]=[w]),w.push(M)}else e[C]=M}return e}function Ic(s){let e="";for(let n in s){const a=s[n];if(n=qv(n),a==null){a!==void 0&&(e+=(e.length?"&":"")+n);continue}(Rn(a)?a.map(t=>t&&pl(t)):[a&&pl(a)]).forEach(t=>{t!==void 0&&(e+=(e.length?"&":"")+n,t!=null&&(e+="="+t))})}return e}function My(s){const e={};for(const n in s){const a=s[n];a!==void 0&&(e[n]=Rn(a)?a.map(r=>r==null?null:""+r):a==null?a:""+a)}return e}const Ry=Symbol(""),Ac=Symbol(""),Jl=Symbol(""),Tp=Symbol(""),ml=Symbol("");function Qi(){let s=[];function e(a){return s.push(a),()=>{const r=s.indexOf(a);r>-1&&s.splice(r,1)}}function n(){s=[]}return{add:e,list:()=>s.slice(),reset:n}}function pr(s,e,n,a,r,t=d=>d()){const d=a&&(a.enterCallbacks[r]=a.enterCallbacks[r]||[]);return()=>new Promise((C,M)=>{const w=h=>{h===!1?M(Di(4,{from:n,to:e})):h instanceof Error?M(h):dy(h)?M(Di(2,{from:e,to:h})):(d&&a.enterCallbacks[r]===d&&typeof h=="function"&&d.push(h),C())},S=t(()=>s.call(a&&a.instances[r],e,n,w));let x=Promise.resolve(S);s.length<3&&(x=x.then(w)),x.catch(h=>M(h))})}function ba(s,e,n,a,r=t=>t()){const t=[];for(const d of s)for(const C in d.components){let M=d.components[C];if(!(e!=="beforeRouteEnter"&&!d.instances[C]))if(wy(M)){const S=(M.__vccOpts||M)[e];S&&t.push(pr(S,n,a,d,C,r))}else{let w=M();t.push(()=>w.then(S=>{if(!S)return Promise.reject(new Error(`Couldn't resolve component "${C}" at "${d.path}"`));const x=Vv(S)?S.default:S;d.components[C]=x;const u=(x.__vccOpts||x)[e];return u&&pr(u,n,a,d,C,r)()}))}}return t}function wy(s){return typeof s=="object"||"displayName"in s||"props"in s||"__vccOpts"in s}function Dc(s){const e=Yn(Jl),n=Yn(Tp),a=xn(()=>e.resolve(Pi(s.to))),r=xn(()=>{const{matched:M}=a.value,{length:w}=M,S=M[w-1],x=n.matched;if(!S||!x.length)return-1;const h=x.findIndex(Ai.bind(null,S));if(h>-1)return h;const u=Lc(M[w-2]);return w>1&&Lc(S)===u&&x[x.length-1].path!==u?x.findIndex(Ai.bind(null,M[w-2])):h}),t=xn(()=>r.value>-1&&Dy(n.params,a.value.params)),d=xn(()=>r.value>-1&&r.value===n.matched.length-1&&bp(n.params,a.value.params));function C(M={}){return Ay(M)?e[Pi(s.replace)?"replace":"push"](Pi(s.to)).catch(lo):Promise.resolve()}return{route:a,href:xn(()=>a.value.href),isActive:t,isExactActive:d,navigate:C}}const Oy=$f({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Dc,setup(s,{slots:e}){const n=Ns(Dc(s)),{options:a}=Yn(Jl),r=xn(()=>({[Vc(s.activeClass,a.linkActiveClass,"router-link-active")]:n.isActive,[Vc(s.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const t=e.default&&e.default(n);return s.custom?t:fp("a",{"aria-current":n.isExactActive?s.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},t)}}}),Iy=Oy;function Ay(s){if(!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)&&!s.defaultPrevented&&!(s.button!==void 0&&s.button!==0)){if(s.currentTarget&&s.currentTarget.getAttribute){const e=s.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return s.preventDefault&&s.preventDefault(),!0}}function Dy(s,e){for(const n in e){const a=e[n],r=s[n];if(typeof a=="string"){if(a!==r)return!1}else if(!Rn(r)||r.length!==a.length||a.some((t,d)=>t!==r[d]))return!1}return!0}function Lc(s){return s?s.aliasOf?s.aliasOf.path:s.path:""}const Vc=(s,e,n)=>s??e??n,Ly=$f({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(s,{attrs:e,slots:n}){const a=Yn(ml),r=xn(()=>s.route||a.value),t=Yn(Ac,0),d=xn(()=>{let w=Pi(t);const{matched:S}=r.value;let x;for(;(x=S[w])&&!x.components;)w++;return w}),C=xn(()=>r.value.matched[d.value]);gs(Ac,xn(()=>d.value+1)),gs(Ry,C),gs(ml,r);const M=Nf();return hs(()=>[M.value,C.value,s.name],([w,S,x],[h,u,g])=>{S&&(S.instances[x]=w,u&&u!==S&&w&&w===h&&(S.leaveGuards.size||(S.leaveGuards=u.leaveGuards),S.updateGuards.size||(S.updateGuards=u.updateGuards))),w&&S&&(!u||!Ai(S,u)||!h)&&(S.enterCallbacks[x]||[]).forEach(f=>f(w))},{flush:"post"}),()=>{const w=r.value,S=s.name,x=C.value,h=x&&x.components[S];if(!h)return _c(n.default,{Component:h,route:w});const u=x.props[S],g=u?u===!0?w.params:typeof u=="function"?u(w):u:null,i=fp(h,gt({},g,e,{onVnodeUnmounted:p=>{p.component.isUnmounted&&(x.instances[S]=null)},ref:M}));return _c(n.default,{Component:i,route:w})||i}}});function _c(s,e){if(!s)return null;const n=s(e);return n.length===1?n[0]:n}const Vy=Ly;function sS(s){const e=xy(s.routes,s),n=s.parseQuery||Sy,a=s.stringifyQuery||Ic,r=s.history,t=Qi(),d=Qi(),C=Qi(),M=Ym(rr);let w=rr;vi&&s.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const S=va.bind(null,G=>""+G),x=va.bind(null,Qv),h=va.bind(null,go);function u(G,X){let ne,le;return xp(G)?(ne=e.getRecordMatcher(G),le=X):le=G,e.addRoute(le,ne)}function g(G){const X=e.getRecordMatcher(G);X&&e.removeRoute(X)}function f(){return e.getRoutes().map(G=>G.record)}function i(G){return!!e.getRecordMatcher(G)}function p(G,X){if(X=gt({},X||M.value),typeof G=="string"){const J=ya(n,G,X.path),re=e.resolve({path:J.path},X),ae=r.createHref(J.fullPath);return gt(J,re,{params:h(re.params),hash:go(J.hash),redirectedFrom:void 0,href:ae})}let ne;if(G.path!=null)ne=gt({},G,{path:ya(n,G.path,X.path).path});else{const J=gt({},G.params);for(const re in J)J[re]==null&&delete J[re];ne=gt({},G,{params:x(J)}),X.params=x(X.params)}const le=e.resolve(ne,X),ie=G.hash||"";le.params=S(h(le.params));const Y=Xv(a,gt({},G,{hash:Wv(ie),path:le.path})),Q=r.createHref(Y);return gt({fullPath:Y,hash:ie,query:a===Ic?My(G.query):G.query||{}},le,{redirectedFrom:void 0,href:Q})}function P(G){return typeof G=="string"?ya(n,G,M.value.path):gt({},G)}function m(G,X){if(w!==G)return Di(8,{from:X,to:G})}function y(G){return c(G)}function R(G){return y(gt(P(G),{replace:!0}))}function b(G){const X=G.matched[G.matched.length-1];if(X&&X.redirect){const{redirect:ne}=X;let le=typeof ne=="function"?ne(G):ne;return typeof le=="string"&&(le=le.includes("?")||le.includes("#")?le=P(le):{path:le},le.params={}),gt({query:G.query,hash:G.hash,params:le.path!=null?{}:G.params},le)}}function c(G,X){const ne=w=p(G),le=M.value,ie=G.state,Y=G.force,Q=G.replace===!0,J=b(ne);if(J)return c(gt(P(J),{state:typeof J=="object"?gt({},ie,J.state):ie,force:Y,replace:Q}),X||ne);const re=ne;re.redirectedFrom=X;let ae;return!Y&&Jv(a,le,ne)&&(ae=Di(16,{to:re,from:le}),k(le,le,!0,!1)),(ae?Promise.resolve(ae):A(re,le)).catch(ce=>kn(ce)?kn(ce,2)?ce:B(ce):V(ce,re,le)).then(ce=>{if(ce){if(kn(ce,2))return c(gt({replace:Q},P(ce.to),{state:typeof ce.to=="object"?gt({},ie,ce.to.state):ie,force:Y}),X||re)}else ce=O(re,le,!0,Q,ie);return D(re,le,ce),ce})}function E(G,X){const ne=m(G,X);return ne?Promise.reject(ne):Promise.resolve()}function I(G){const X=q.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(G):G()}function A(G,X){let ne;const[le,ie,Y]=_y(G,X);ne=ba(le.reverse(),"beforeRouteLeave",G,X);for(const J of le)J.leaveGuards.forEach(re=>{ne.push(pr(re,G,X))});const Q=E.bind(null,G,X);return ne.push(Q),j(ne).then(()=>{ne=[];for(const J of t.list())ne.push(pr(J,G,X));return ne.push(Q),j(ne)}).then(()=>{ne=ba(ie,"beforeRouteUpdate",G,X);for(const J of ie)J.updateGuards.forEach(re=>{ne.push(pr(re,G,X))});return ne.push(Q),j(ne)}).then(()=>{ne=[];for(const J of Y)if(J.beforeEnter)if(Rn(J.beforeEnter))for(const re of J.beforeEnter)ne.push(pr(re,G,X));else ne.push(pr(J.beforeEnter,G,X));return ne.push(Q),j(ne)}).then(()=>(G.matched.forEach(J=>J.enterCallbacks={}),ne=ba(Y,"beforeRouteEnter",G,X,I),ne.push(Q),j(ne))).then(()=>{ne=[];for(const J of d.list())ne.push(pr(J,G,X));return ne.push(Q),j(ne)}).catch(J=>kn(J,8)?J:Promise.reject(J))}function D(G,X,ne){C.list().forEach(le=>I(()=>le(G,X,ne)))}function O(G,X,ne,le,ie){const Y=m(G,X);if(Y)return Y;const Q=X===rr,J=vi?history.state:{};ne&&(le||Q?r.replace(G.fullPath,gt({scroll:Q&&J&&J.scroll},ie)):r.push(G.fullPath,ie)),M.value=G,k(G,X,ne,Q),B()}let l;function o(){l||(l=r.listen((G,X,ne)=>{if(!Z.listening)return;const le=p(G),ie=b(le);if(ie){c(gt(ie,{replace:!0}),le).catch(lo);return}w=le;const Y=M.value;vi&&oy(Ec(Y.fullPath,ne.delta),qs()),A(le,Y).catch(Q=>kn(Q,12)?Q:kn(Q,2)?(c(Q.to,le).then(J=>{kn(J,20)&&!ne.delta&&ne.type===vo.pop&&r.go(-1,!1)}).catch(lo),Promise.reject()):(ne.delta&&r.go(-ne.delta,!1),V(Q,le,Y))).then(Q=>{Q=Q||O(le,Y,!1),Q&&(ne.delta&&!kn(Q,8)?r.go(-ne.delta,!1):ne.type===vo.pop&&kn(Q,20)&&r.go(-1,!1)),D(le,Y,Q)}).catch(lo)}))}let v=Qi(),T=Qi(),L;function V(G,X,ne){B(G);const le=T.list();return le.length?le.forEach(ie=>ie(G,X,ne)):console.error(G),Promise.reject(G)}function _(){return L&&M.value!==rr?Promise.resolve():new Promise((G,X)=>{v.add([G,X])})}function B(G){return L||(L=!G,o(),v.list().forEach(([X,ne])=>G?ne(G):X()),v.reset()),G}function k(G,X,ne,le){const{scrollBehavior:ie}=s;if(!vi||!ie)return Promise.resolve();const Y=!ne&&sy(Ec(G.fullPath,0))||(le||!ne)&&history.state&&history.state.scroll||null;return zf().then(()=>ie(G,X,Y)).then(Q=>Q&&iy(Q)).catch(Q=>V(Q,G,X))}const U=G=>r.go(G);let K;const q=new Set,Z={currentRoute:M,listening:!0,addRoute:u,removeRoute:g,hasRoute:i,getRoutes:f,resolve:p,options:s,push:y,replace:R,go:U,back:()=>U(-1),forward:()=>U(1),beforeEach:t.add,beforeResolve:d.add,afterEach:C.add,onError:T.add,isReady:_,install(G){const X=this;G.component("RouterLink",Iy),G.component("RouterView",Vy),G.config.globalProperties.$router=X,Object.defineProperty(G.config.globalProperties,"$route",{enumerable:!0,get:()=>Pi(M)}),vi&&!K&&M.value===rr&&(K=!0,y(r.location).catch(ie=>{}));const ne={};for(const ie in rr)Object.defineProperty(ne,ie,{get:()=>M.value[ie],enumerable:!0});G.provide(Jl,X),G.provide(Tp,Df(ne)),G.provide(ml,M);const le=G.unmount;q.add(G),G.unmount=function(){q.delete(G),q.size<1&&(w=rr,l&&l(),l=null,M.value=rr,K=!1,L=!1),le()}}};function j(G){return G.reduce((X,ne)=>X.then(()=>I(ne)),Promise.resolve())}return Z}function _y(s,e){const n=[],a=[],r=[],t=Math.max(e.matched.length,s.matched.length);for(let d=0;d<t;d++){const C=e.matched[d];C&&(s.matched.find(w=>Ai(w,C))?a.push(C):n.push(C));const M=s.matched[d];M&&(e.matched.find(w=>Ai(w,M))||r.push(M))}return[n,a,r]}function $i(s,e,n,a){function r(t){return t instanceof n?t:new n(function(d){d(t)})}return new(n||(n=Promise))(function(t,d){function C(S){try{w(a.next(S))}catch(x){d(x)}}function M(S){try{w(a.throw(S))}catch(x){d(x)}}function w(S){S.done?t(S.value):r(S.value).then(C,M)}w((a=a.apply(s,e||[])).next())})}var Xr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yl(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}const By=s=>{const e=new Set;do for(const n of Reflect.ownKeys(s))e.add([s,n]);while((s=Reflect.getPrototypeOf(s))&&s!==Object.prototype);return e};var Ny=(s,{include:e,exclude:n}={})=>{const a=r=>{const t=d=>typeof d=="string"?r===d:d.test(r);return e?e.some(t):n?!n.some(t):!0};for(const[r,t]of By(s.constructor.prototype)){if(t==="constructor"||!a(t))continue;const d=Reflect.getOwnPropertyDescriptor(r,t);d&&typeof d.value=="function"&&(s[t]=s[t].bind(s))}return s},hr=Yl(Ny),ky="7.3.4";class qn extends Error{constructor(e="The global `jsPsych` variable is no longer available in jsPsych v7."){super(`${e} Please follow the migration guide at https://www.jspsych.org/7.0/support/migration-v7/ to update your experiment.`),this.name="MigrationError"}}window.jsPsych={get init(){throw new qn("`jsPsych.init()` was replaced by `initJsPsych()` in jsPsych v7.")},get data(){throw new qn},get randomization(){throw new qn},get turk(){throw new qn},get pluginAPI(){throw new qn},get ALL_KEYS(){throw new qn('jsPsych.ALL_KEYS was replaced by the "ALL_KEYS" string in jsPsych v7.')},get NO_KEYS(){throw new qn('jsPsych.NO_KEYS was replaced by the "NO_KEYS" string in jsPsych v7.')}};function ys(s){return[...new Set(s)]}function mr(s){if(!s)return s;let e;if(Array.isArray(s)){e=[];for(const n of s)e.push(mr(n));return e}else if(typeof s=="object"&&s!==null){e={};for(const n in s)s.hasOwnProperty(n)&&(e[n]=mr(s[n]));return e}else return s}function gl(s,e){let n={};for(const a in s)s.hasOwnProperty(a)&&(typeof s[a]=="object"&&e.hasOwnProperty(a)?n[a]=gl(s[a],e[a]):n[a]=s[a]);for(const a in e)e.hasOwnProperty(a)&&(n.hasOwnProperty(a)&&typeof e[a]=="object"?n[a]=gl(n[a],e[a]):n[a]=e[a]);return n}var Fy=Object.freeze({__proto__:null,deepCopy:mr,deepMerge:gl,unique:ys});class Zl{constructor(e=[]){this.values=e}sum(){let e=0;for(const n of this.values)e+=n;return e}mean(){return this.sum()/this.count()}median(){if(this.values.length===0)return;const e=this.values.slice(0).sort(function(r,t){return r-t}),n=Math.floor(e.length/2);return e.length%2===0?(e[n]+e[n-1])/2:e[n]}min(){return Math.min.apply(null,this.values)}max(){return Math.max.apply(null,this.values)}count(){return this.values.length}variance(){const e=this.mean();let n=0;for(const r of this.values)n+=Math.pow(r-e,2);return n/(this.values.length-1)}sd(){const e=this.variance();return Math.sqrt(e)}frequencies(){const e={};for(const n of this.values)typeof e[n]>"u"?e[n]=1:e[n]++;return e}all(e){for(const n of this.values)if(!e(n))return!1;return!0}subset(e){const n=[];for(const a of this.values)e(a)&&n.push(a);return new Zl(n)}}function Uy(s,e){const n=new Blob([s],{type:"text/plain"});let a="";typeof window.webkitURL<"u"?a=window.webkitURL.createObjectURL(n):a=window.URL.createObjectURL(n);const r=document.createElement("a");r.id="jspsych-download-as-text-link",r.style.display="none",r.download=e,r.href=a,r.click()}function zy(s){const e=typeof s!="object"?JSON.parse(s):s;let n="",a="";const r=[];for(const t of e)for(const d in t){let C=d+"";C='"'+C.replace(/"/g,'""')+'",',r.includes(d)||(r.push(d),n+=C)}n=n.slice(0,-1),a+=n+`\r
`;for(const t of e){n="";for(const d of r){let C=typeof t[d]>"u"?"":t[d];typeof C=="object"&&(C=JSON.stringify(C));const M=C+"";n+='"'+M.replace(/"/g,'""')+'",'}n=n.slice(0,-1),a+=n+`\r
`}return a}function jy(){const s=window.location.search.substr(1).split("&"),e={};for(let n=0;n<s.length;++n){const a=s[n].split("=",2);a.length==1?e[a[0]]="":e[a[0]]=decodeURIComponent(a[1].replace(/\+/g," "))}return e}class Kt{constructor(e=[]){this.trials=e}push(e){return this.trials.push(e),this}join(e){return this.trials=this.trials.concat(e.values()),this}top(){return this.trials.length<=1?this:new Kt([this.trials[this.trials.length-1]])}first(e=1){if(e<1)throw`You must query with a positive nonzero integer. Please use a
               different value for n.`;return this.trials.length===0?new Kt:(e>this.trials.length&&(e=this.trials.length),new Kt(this.trials.slice(0,e)))}last(e=1){if(e<1)throw`You must query with a positive nonzero integer. Please use a
               different value for n.`;return this.trials.length===0?new Kt:(e>this.trials.length&&(e=this.trials.length),new Kt(this.trials.slice(this.trials.length-e,this.trials.length)))}values(){return this.trials}count(){return this.trials.length}readOnly(){return new Kt(mr(this.trials))}addToAll(e){for(const n of this.trials)Object.assign(n,e);return this}addToLast(e){return this.trials.length!=0&&Object.assign(this.trials[this.trials.length-1],e),this}filter(e){let n;Array.isArray(e)?n=mr(e):n=mr([e]);const a=[];for(const r of this.trials){let t=!1;for(const d of n){let C=!0;for(const M of Object.keys(d))typeof r[M]<"u"&&r[M]===d[M]||(C=!1);if(C){t=!0;break}}t&&a.push(r)}return new Kt(a)}filterCustom(e){return new Kt(this.trials.filter(e))}filterColumns(e){return new Kt(this.trials.map(n=>Object.fromEntries(e.filter(a=>a in n).map(a=>[a,n[a]]))))}select(e){const n=[];for(const a of this.trials)typeof a[e]<"u"&&n.push(a[e]);return new Zl(n)}ignore(e){Array.isArray(e)||(e=[e]);const n=mr(this.trials);for(const a of n)for(const r of e)delete a[r];return new Kt(n)}uniqueNames(){const e=[];for(const n of this.trials)for(const a of Object.keys(n))e.includes(a)||e.push(a);return e}csv(){return zy(this.trials)}json(e=!1){return e?JSON.stringify(this.trials,null,"	"):JSON.stringify(this.trials)}localSave(e,n){e=e.toLowerCase();let a;if(e==="json")a=this.json();else if(e==="csv")a=this.csv();else throw new Error('Invalid format specified for localSave. Must be "json" or "csv".');Uy(a,n)}}class Hy{constructor(e){this.jsPsych=e,this.dataProperties={},this.reset()}reset(){this.allData=new Kt,this.interactionData=new Kt}get(){return this.allData}getInteractionData(){return this.interactionData}write(e){const n=this.jsPsych.getProgress(),a=this.jsPsych.getCurrentTrial(),r={trial_type:a.type.info.name,trial_index:n.current_trial_global,time_elapsed:this.jsPsych.getTotalTime(),internal_node_id:this.jsPsych.getCurrentTimelineNodeID()};this.allData.push(Object.assign(Object.assign(Object.assign(Object.assign({},e),a.data),r),this.dataProperties))}addProperties(e){this.allData.addToAll(e),this.dataProperties=Object.assign({},this.dataProperties,e)}addDataToLastTrial(e){this.allData.addToLast(e)}getDataByTimelineNode(e){return this.allData.filterCustom(n=>n.internal_node_id.slice(0,e.length)===e)}getLastTrialData(){return this.allData.top()}getLastTimelineData(){const n=this.getLastTrialData().select("internal_node_id").values[0];if(typeof n>"u")return new Kt;{const a=n.substr(0,n.lastIndexOf("-"));return this.getDataByTimelineNode(a)}}displayData(e="json"){e=e.toLowerCase(),e!="json"&&e!="csv"&&(console.log("Invalid format declared for displayData function. Using json as default."),e="json");const n=e==="json"?this.allData.json(!0):this.allData.csv(),a=this.jsPsych.getDisplayElement();a.innerHTML='<pre id="jspsych-data-display"></pre>',document.getElementById("jspsych-data-display").textContent=n}urlVariables(){return typeof this.query_string>"u"&&(this.query_string=jy()),this.query_string}getURLVariable(e){return this.urlVariables()[e]}createInteractionListeners(){window.addEventListener("blur",()=>{const n={event:"blur",trial:this.jsPsych.getProgress().current_trial_global,time:this.jsPsych.getTotalTime()};this.interactionData.push(n),this.jsPsych.getInitSettings().on_interaction_data_update(n)}),window.addEventListener("focus",()=>{const n={event:"focus",trial:this.jsPsych.getProgress().current_trial_global,time:this.jsPsych.getTotalTime()};this.interactionData.push(n),this.jsPsych.getInitSettings().on_interaction_data_update(n)});const e=()=>{const n={event:document.isFullScreen||document.webkitIsFullScreen||document.mozIsFullScreen||document.fullscreenElement?"fullscreenenter":"fullscreenexit",trial:this.jsPsych.getProgress().current_trial_global,time:this.jsPsych.getTotalTime()};this.interactionData.push(n),this.jsPsych.getInitSettings().on_interaction_data_update(n)};document.addEventListener("fullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("webkitfullscreenchange",e)}_customInsert(e){this.allData=new Kt(e)}_fullreset(){this.reset(),this.dataProperties={}}}class Wy{constructor(){this.hardwareConnected=!1,document.addEventListener("jspsych-activate",e=>{this.hardwareConnected=!0})}hardware(e){const n=new CustomEvent("jspsych",{detail:e});document.dispatchEvent(n)}}class qy{constructor(e,n=!1,a=0){this.getRootElement=e,this.areResponsesCaseSensitive=n,this.minimumValidRt=a,this.listeners=new Set,this.heldKeys=new Set,this.areRootListenersRegistered=!1,hr(this),this.registerRootListeners()}registerRootListeners(){if(!this.areRootListenersRegistered){const e=this.getRootElement();e&&(e.addEventListener("keydown",this.rootKeydownListener),e.addEventListener("keyup",this.rootKeyupListener),this.areRootListenersRegistered=!0)}}rootKeydownListener(e){for(const n of Array.from(this.listeners))n(e);this.heldKeys.add(this.toLowerCaseIfInsensitive(e.key))}toLowerCaseIfInsensitive(e){return this.areResponsesCaseSensitive?e:e.toLowerCase()}rootKeyupListener(e){this.heldKeys.delete(this.toLowerCaseIfInsensitive(e.key))}isResponseValid(e,n,a){return!n&&this.heldKeys.has(a)?!1:e==="ALL_KEYS"?!0:e==="NO_KEYS"?!1:e.includes(a)}getKeyboardResponse({callback_function:e,valid_responses:n="ALL_KEYS",rt_method:a="performance",persist:r,audio_context:t,audio_context_start_time:d,allow_held_key:C=!1,minimum_valid_rt:M=this.minimumValidRt}){a!=="performance"&&a!=="audio"&&(console.log('Invalid RT method specified in getKeyboardResponse. Defaulting to "performance" method.'),a="performance");const S=a==="performance"?performance.now():d*1e3;this.registerRootListeners(),!this.areResponsesCaseSensitive&&typeof n!="string"&&(n=n.map(h=>h.toLowerCase()));const x=h=>{const u=Math.round((a=="performance"?performance.now():t.currentTime*1e3)-S);if(u<M)return;const g=this.toLowerCaseIfInsensitive(h.key);this.isResponseValid(n,C,g)&&(h.preventDefault(),r||this.cancelKeyboardResponse(x),e({key:g,rt:u}))};return this.listeners.add(x),x}cancelKeyboardResponse(e){this.listeners.delete(e)}cancelAllKeyboardResponses(){this.listeners.clear()}compareKeys(e,n){if(typeof e!="string"&&e!==null||typeof n!="string"&&n!==null){console.error("Error in jsPsych.pluginAPI.compareKeys: arguments must be key strings or null.");return}return typeof e=="string"&&typeof n=="string"?this.areResponsesCaseSensitive?e===n:e.toLowerCase()===n.toLowerCase():e===null&&n===null}}var N;(function(s){s[s.BOOL=0]="BOOL",s[s.STRING=1]="STRING",s[s.INT=2]="INT",s[s.FLOAT=3]="FLOAT",s[s.FUNCTION=4]="FUNCTION",s[s.KEY=5]="KEY",s[s.KEYS=6]="KEYS",s[s.SELECT=7]="SELECT",s[s.HTML_STRING=8]="HTML_STRING",s[s.IMAGE=9]="IMAGE",s[s.AUDIO=10]="AUDIO",s[s.VIDEO=11]="VIDEO",s[s.OBJECT=12]="OBJECT",s[s.COMPLEX=13]="COMPLEX",s[s.TIMELINE=14]="TIMELINE"})(N||(N={}));const Bc={data:{type:N.OBJECT,pretty_name:"Data",default:{}},on_start:{type:N.FUNCTION,pretty_name:"On start",default:function(){}},on_finish:{type:N.FUNCTION,pretty_name:"On finish",default:function(){}},on_load:{type:N.FUNCTION,pretty_name:"On load",default:function(){}},post_trial_gap:{type:N.INT,pretty_name:"Post trial gap",default:null},css_classes:{type:N.STRING,pretty_name:"Custom CSS classes",default:null},simulation_options:{type:N.COMPLEX,default:null}},Nc=[N.AUDIO,N.IMAGE,N.VIDEO];class Gy{constructor(e,n){this.useWebaudio=e,this.webaudioContext=n,this.video_buffers={},this.context=null,this.audio_buffers=[],this.preload_requests=[],this.img_cache={},this.preloadMap=new Map,this.microphone_recorder=null,this.camera_stream=null,this.camera_recorder=null}getVideoBuffer(e){return e.startsWith("blob:")&&(this.video_buffers[e]=e),this.video_buffers[e]}initAudio(){this.context=this.useWebaudio?this.webaudioContext:null}audioContext(){return this.context!==null&&this.context.state!=="running"&&this.context.resume(),this.context}getAudioBuffer(e){return new Promise((n,a)=>{typeof this.audio_buffers[e]>"u"||this.audio_buffers[e]=="tmp"?this.preloadAudio([e],()=>{n(this.audio_buffers[e])},()=>{},r=>{a(r.error)}):n(this.audio_buffers[e])})}preloadAudio(e,n=()=>{},a=t=>{},r=t=>{}){e=ys(e.flat());let t=0;if(e.length==0){n();return}const d=(M,w=1)=>{const S=new XMLHttpRequest;S.open("GET",M,!0),S.responseType="arraybuffer",S.onload=()=>{this.context.decodeAudioData(S.response,x=>{this.audio_buffers[M]=x,t++,a(M),t==e.length&&n()},x=>{r({source:M,error:x})})},S.onerror=x=>{let h=x;S.status==404&&(h="404"),r({source:M,error:h})},S.onloadend=x=>{S.status==404&&r({source:M,error:"404"})},S.send(),this.preload_requests.push(S)},C=(M,w=1)=>{const S=new Audio,x=()=>{this.audio_buffers[M]=S,t++,a(M),t==e.length&&n(),S.removeEventListener("canplaythrough",x)};S.addEventListener("canplaythrough",x),S.addEventListener("error",function h(u){r({source:S.src,error:u}),S.removeEventListener("error",h)}),S.addEventListener("abort",function h(u){r({source:S.src,error:u}),S.removeEventListener("abort",h)}),S.src=M,this.preload_requests.push(S)};for(const M of e)typeof this.audio_buffers[M]<"u"?(t++,a(M),t==e.length&&n()):(this.audio_buffers[M]="tmp",this.audioContext()!==null?d(M):C(M))}preloadImages(e,n=()=>{},a=t=>{},r=t=>{}){e=ys(e.flat());var t=0;if(e.length===0){n();return}for(let d=0;d<e.length;d++){const C=new Image,M=e[d];C.onload=()=>{t++,a(M),t===e.length&&n()},C.onerror=w=>{r({source:M,error:w})},C.src=M,this.img_cache[M]=C,this.preload_requests.push(C)}}preloadVideo(e,n=()=>{},a=t=>{},r=t=>{}){e=ys(e.flat());let t=0;if(e.length===0){n();return}for(const d of e){const C=this.video_buffers,M=new XMLHttpRequest;M.open("GET",d,!0),M.responseType="blob",M.onload=()=>{if(M.status===200||M.status===0){const w=M.response;C[d]=URL.createObjectURL(w),t++,a(d),t===e.length&&n()}},M.onerror=w=>{let S=w;M.status==404&&(S="404"),r({source:d,error:S})},M.onloadend=w=>{M.status==404&&r({source:d,error:"404"})},M.send(),this.preload_requests.push(M)}}getAutoPreloadList(e){const n=Object.fromEntries(Nc.map(r=>[r,new Set])),a=(r,t)=>{var d,C,M,w;if(typeof r.timeline<"u")for(const x of r.timeline)a(x,(d=r.type)!==null&&d!==void 0?d:t);else if(!((M=(C=r.type)!==null&&C!==void 0?C:t)===null||M===void 0)&&M.info){const{name:x,parameters:h}=((w=r.type)!==null&&w!==void 0?w:t).info;this.preloadMap.has(x)||this.preloadMap.set(x,Object.fromEntries(Object.entries(h).filter(([u,{type:g,preload:f}])=>Nc.includes(g)&&(f??!0)).map(([u,{type:g}])=>[u,g])));for(const[u,g]of Object.entries(this.preloadMap.get(x))){const f=r[u],i=n[g];if(typeof f=="string")i.add(f);else if(Array.isArray(f))for(const p of f.flat())typeof p=="string"&&i.add(p)}}};return a({timeline:e}),{images:[...n[N.IMAGE]],audio:[...n[N.AUDIO]],video:[...n[N.VIDEO]]}}cancelPreloads(){for(const e of this.preload_requests)e.onload=()=>{},e.onerror=()=>{},e.oncanplaythrough=()=>{},e.onabort=()=>{};this.preload_requests=[]}initializeMicrophoneRecorder(e){const n=new MediaRecorder(e);this.microphone_recorder=n}getMicrophoneRecorder(){return this.microphone_recorder}initializeCameraRecorder(e,n){this.camera_stream=e;const a=new MediaRecorder(e,n);this.camera_recorder=a}getCameraStream(){return this.camera_stream}getCameraRecorder(){return this.camera_recorder}}class Qy{constructor(e,n){this.getDisplayContainerElement=e,this.setJsPsychTimeout=n}dispatchEvent(e){this.getDisplayContainerElement().dispatchEvent(e)}keyDown(e){this.dispatchEvent(new KeyboardEvent("keydown",{key:e}))}keyUp(e){this.dispatchEvent(new KeyboardEvent("keyup",{key:e}))}pressKey(e,n=0){n>0?this.setJsPsychTimeout(()=>{this.keyDown(e),this.keyUp(e)},n):(this.keyDown(e),this.keyUp(e))}clickTarget(e,n=0){n>0?this.setJsPsychTimeout(()=>{e.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),e.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0})),e.dispatchEvent(new MouseEvent("click",{bubbles:!0}))},n):(e.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),e.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0})),e.dispatchEvent(new MouseEvent("click",{bubbles:!0})))}fillTextInput(e,n,a=0){a>0?this.setJsPsychTimeout(()=>{e.value=n},a):e.value=n}getValidKey(e){const n=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"," "];let a;if(e=="NO_KEYS")a=null;else if(e=="ALL_KEYS")a=n[Math.floor(Math.random()*n.length)];else{const r=e.flat();a=r[Math.floor(Math.random()*r.length)]}return a}mergeSimulationData(e,n){return Object.assign(Object.assign({},e),n==null?void 0:n.data)}ensureSimulationDataConsistency(e,n){if(n.rt&&(n.rt=Math.round(n.rt)),e.trial_duration&&n.rt&&n.rt>e.trial_duration&&(n.rt=null,n.response&&(n.response=null),n.correct&&(n.correct=!1)),e.choices&&e.choices=="NO_KEYS"&&(n.rt&&(n.rt=null),n.response&&(n.response=null)),e.allow_response_before_complete&&e.sequence_reps&&e.frame_time){const a=e.sequence_reps*e.frame_time*e.stimuli.length;n.rt<a&&(n.rt=null,n.response=null)}}}class $y{constructor(){this.timeout_handlers=[]}setTimeout(e,n){const a=window.setTimeout(e,n);return this.timeout_handlers.push(a),a}clearAllTimeouts(){for(const e of this.timeout_handlers)clearTimeout(e);this.timeout_handlers=[]}}function Ky(s){const e=s.getInitSettings(),n=hr(new qy(s.getDisplayContainerElement,e.case_sensitive_responses,e.minimum_valid_rt)),a=hr(new $y),r=hr(new Gy(e.use_webaudio,s.webaudio_context)),t=hr(new Wy),d=hr(new Qy(s.getDisplayContainerElement,a.setTimeout));return Object.assign({},n,a,r,t,d)}var Sp={exports:{}};(function(s){(function(e,n,a){function r(M){var w=this,S=C();w.next=function(){var x=2091639*w.s0+w.c*23283064365386963e-26;return w.s0=w.s1,w.s1=w.s2,w.s2=x-(w.c=x|0)},w.c=1,w.s0=S(" "),w.s1=S(" "),w.s2=S(" "),w.s0-=S(M),w.s0<0&&(w.s0+=1),w.s1-=S(M),w.s1<0&&(w.s1+=1),w.s2-=S(M),w.s2<0&&(w.s2+=1),S=null}function t(M,w){return w.c=M.c,w.s0=M.s0,w.s1=M.s1,w.s2=M.s2,w}function d(M,w){var S=new r(M),x=w&&w.state,h=S.next;return h.int32=function(){return S.next()*4294967296|0},h.double=function(){return h()+(h()*2097152|0)*11102230246251565e-32},h.quick=h,x&&(typeof x=="object"&&t(x,S),h.state=function(){return t(S,{})}),h}function C(){var M=4022871197,w=function(S){S=String(S);for(var x=0;x<S.length;x++){M+=S.charCodeAt(x);var h=.02519603282416938*M;M=h>>>0,h-=M,h*=M,M=h>>>0,h-=M,M+=h*4294967296}return(M>>>0)*23283064365386963e-26};return w}n&&n.exports?n.exports=d:a&&a.amd?a(function(){return d}):this.alea=d})(Xr,s,!1)})(Sp);var Mp=Sp.exports,Xy=Yl(Mp),Rp={exports:{}};(function(s){(function(e,n,a){function r(C){var M=this,w="";M.x=0,M.y=0,M.z=0,M.w=0,M.next=function(){var x=M.x^M.x<<11;return M.x=M.y,M.y=M.z,M.z=M.w,M.w^=M.w>>>19^x^x>>>8},C===(C|0)?M.x=C:w+=C;for(var S=0;S<w.length+64;S++)M.x^=w.charCodeAt(S)|0,M.next()}function t(C,M){return M.x=C.x,M.y=C.y,M.z=C.z,M.w=C.w,M}function d(C,M){var w=new r(C),S=M&&M.state,x=function(){return(w.next()>>>0)/4294967296};return x.double=function(){do var h=w.next()>>>11,u=(w.next()>>>0)/4294967296,g=(h+u)/(1<<21);while(g===0);return g},x.int32=w.next,x.quick=x,S&&(typeof S=="object"&&t(S,w),x.state=function(){return t(w,{})}),x}n&&n.exports?n.exports=d:a&&a.amd?a(function(){return d}):this.xor128=d})(Xr,s,!1)})(Rp);var Jy=Rp.exports,wp={exports:{}};(function(s){(function(e,n,a){function r(C){var M=this,w="";M.next=function(){var x=M.x^M.x>>>2;return M.x=M.y,M.y=M.z,M.z=M.w,M.w=M.v,(M.d=M.d+362437|0)+(M.v=M.v^M.v<<4^(x^x<<1))|0},M.x=0,M.y=0,M.z=0,M.w=0,M.v=0,C===(C|0)?M.x=C:w+=C;for(var S=0;S<w.length+64;S++)M.x^=w.charCodeAt(S)|0,S==w.length&&(M.d=M.x<<10^M.x>>>4),M.next()}function t(C,M){return M.x=C.x,M.y=C.y,M.z=C.z,M.w=C.w,M.v=C.v,M.d=C.d,M}function d(C,M){var w=new r(C),S=M&&M.state,x=function(){return(w.next()>>>0)/4294967296};return x.double=function(){do var h=w.next()>>>11,u=(w.next()>>>0)/4294967296,g=(h+u)/(1<<21);while(g===0);return g},x.int32=w.next,x.quick=x,S&&(typeof S=="object"&&t(S,w),x.state=function(){return t(w,{})}),x}n&&n.exports?n.exports=d:a&&a.amd?a(function(){return d}):this.xorwow=d})(Xr,s,!1)})(wp);var Yy=wp.exports,Op={exports:{}};(function(s){(function(e,n,a){function r(C){var M=this;M.next=function(){var S=M.x,x=M.i,h,u;return h=S[x],h^=h>>>7,u=h^h<<24,h=S[x+1&7],u^=h^h>>>10,h=S[x+3&7],u^=h^h>>>3,h=S[x+4&7],u^=h^h<<7,h=S[x+7&7],h=h^h<<13,u^=h^h<<9,S[x]=u,M.i=x+1&7,u};function w(S,x){var h,u=[];if(x===(x|0))u[0]=x;else for(x=""+x,h=0;h<x.length;++h)u[h&7]=u[h&7]<<15^x.charCodeAt(h)+u[h+1&7]<<13;for(;u.length<8;)u.push(0);for(h=0;h<8&&u[h]===0;++h);for(h==8?u[7]=-1:u[h],S.x=u,S.i=0,h=256;h>0;--h)S.next()}w(M,C)}function t(C,M){return M.x=C.x.slice(),M.i=C.i,M}function d(C,M){C==null&&(C=+new Date);var w=new r(C),S=M&&M.state,x=function(){return(w.next()>>>0)/4294967296};return x.double=function(){do var h=w.next()>>>11,u=(w.next()>>>0)/4294967296,g=(h+u)/(1<<21);while(g===0);return g},x.int32=w.next,x.quick=x,S&&(S.x&&t(S,w),x.state=function(){return t(w,{})}),x}n&&n.exports?n.exports=d:a&&a.amd?a(function(){return d}):this.xorshift7=d})(Xr,s,!1)})(Op);var Zy=Op.exports,Ip={exports:{}};(function(s){(function(e,n,a){function r(C){var M=this;M.next=function(){var S=M.w,x=M.X,h=M.i,u,g;return M.w=S=S+1640531527|0,g=x[h+34&127],u=x[h=h+1&127],g^=g<<13,u^=u<<17,g^=g>>>15,u^=u>>>12,g=x[h]=g^u,M.i=h,g+(S^S>>>16)|0};function w(S,x){var h,u,g,f,i,p=[],P=128;for(x===(x|0)?(u=x,x=null):(x=x+"\0",u=0,P=Math.max(P,x.length)),g=0,f=-32;f<P;++f)x&&(u^=x.charCodeAt((f+32)%x.length)),f===0&&(i=u),u^=u<<10,u^=u>>>15,u^=u<<4,u^=u>>>13,f>=0&&(i=i+1640531527|0,h=p[f&127]^=u+i,g=h==0?g+1:0);for(g>=128&&(p[(x&&x.length||0)&127]=-1),g=127,f=4*128;f>0;--f)u=p[g+34&127],h=p[g=g+1&127],u^=u<<13,h^=h<<17,u^=u>>>15,h^=h>>>12,p[g]=u^h;S.w=i,S.X=p,S.i=g}w(M,C)}function t(C,M){return M.i=C.i,M.w=C.w,M.X=C.X.slice(),M}function d(C,M){C==null&&(C=+new Date);var w=new r(C),S=M&&M.state,x=function(){return(w.next()>>>0)/4294967296};return x.double=function(){do var h=w.next()>>>11,u=(w.next()>>>0)/4294967296,g=(h+u)/(1<<21);while(g===0);return g},x.int32=w.next,x.quick=x,S&&(S.X&&t(S,w),x.state=function(){return t(w,{})}),x}n&&n.exports?n.exports=d:a&&a.amd?a(function(){return d}):this.xor4096=d})(Xr,s,!1)})(Ip);var eb=Ip.exports,Ap={exports:{}};(function(s){(function(e,n,a){function r(C){var M=this,w="";M.next=function(){var x=M.b,h=M.c,u=M.d,g=M.a;return x=x<<25^x>>>7^h,h=h-u|0,u=u<<24^u>>>8^g,g=g-x|0,M.b=x=x<<20^x>>>12^h,M.c=h=h-u|0,M.d=u<<16^h>>>16^g,M.a=g-x|0},M.a=0,M.b=0,M.c=-1640531527,M.d=1367130551,C===Math.floor(C)?(M.a=C/4294967296|0,M.b=C|0):w+=C;for(var S=0;S<w.length+20;S++)M.b^=w.charCodeAt(S)|0,M.next()}function t(C,M){return M.a=C.a,M.b=C.b,M.c=C.c,M.d=C.d,M}function d(C,M){var w=new r(C),S=M&&M.state,x=function(){return(w.next()>>>0)/4294967296};return x.double=function(){do var h=w.next()>>>11,u=(w.next()>>>0)/4294967296,g=(h+u)/(1<<21);while(g===0);return g},x.int32=w.next,x.quick=x,S&&(typeof S=="object"&&t(S,w),x.state=function(){return t(w,{})}),x}n&&n.exports?n.exports=d:a&&a.amd?a(function(){return d}):this.tychei=d})(Xr,s,!1)})(Ap);var tb=Ap.exports,Dp={exports:{}};(function(s){(function(e,n,a){var r=256,t=6,d=52,C="random",M=a.pow(r,t),w=a.pow(2,d),S=w*2,x=r-1,h;function u(y,R,b){var c=[];R=R==!0?{entropy:!0}:R||{};var E=p(i(R.entropy?[y,m(n)]:y??P(),3),c),I=new g(c),A=function(){for(var D=I.g(t),O=M,l=0;D<w;)D=(D+l)*r,O*=r,l=I.g(1);for(;D>=S;)D/=2,O/=2,l>>>=1;return(D+l)/O};return A.int32=function(){return I.g(4)|0},A.quick=function(){return I.g(4)/4294967296},A.double=A,p(m(I.S),n),(R.pass||b||function(D,O,l,o){return o&&(o.S&&f(o,I),D.state=function(){return f(I,{})}),l?(a[C]=D,O):D})(A,E,"global"in R?R.global:this==a,R.state)}function g(y){var R,b=y.length,c=this,E=0,I=c.i=c.j=0,A=c.S=[];for(b||(y=[b++]);E<r;)A[E]=E++;for(E=0;E<r;E++)A[E]=A[I=x&I+y[E%b]+(R=A[E])],A[I]=R;(c.g=function(D){for(var O,l=0,o=c.i,v=c.j,T=c.S;D--;)O=T[o=x&o+1],l=l*r+T[x&(T[o]=T[v=x&v+O])+(T[v]=O)];return c.i=o,c.j=v,l})(r)}function f(y,R){return R.i=y.i,R.j=y.j,R.S=y.S.slice(),R}function i(y,R){var b=[],c=typeof y,E;if(R&&c=="object")for(E in y)try{b.push(i(y[E],R-1))}catch{}return b.length?b:c=="string"?y:y+"\0"}function p(y,R){for(var b=y+"",c,E=0;E<b.length;)R[x&E]=x&(c^=R[x&E]*19)+b.charCodeAt(E++);return m(R)}function P(){try{var y;return h&&(y=h.randomBytes)?y=y(r):(y=new Uint8Array(r),(e.crypto||e.msCrypto).getRandomValues(y)),m(y)}catch{var R=e.navigator,b=R&&R.plugins;return[+new Date,e,b,e.screen,m(n)]}}function m(y){return String.fromCharCode.apply(0,y)}if(p(a.random(),n),s.exports){s.exports=u;try{h=require("crypto")}catch{}}else a["seed"+C]=u})(typeof self<"u"?self:Xr,[],Math)})(Dp);var nb=Dp.exports,rb=Mp,ib=Jy,ob=Yy,sb=Zy,ab=eb,lb=tb,Jr=nb;Jr.alea=rb;Jr.xor128=ib;Jr.xorwow=ob;Jr.xorshift7=sb;Jr.xor4096=ab;Jr.tychei=lb;var ub=Jr,cb=ub,vl=["ability","able","aboard","about","above","accept","accident","according","account","accurate","acres","across","act","action","active","activity","actual","actually","add","addition","additional","adjective","adult","adventure","advice","affect","afraid","after","afternoon","again","against","age","ago","agree","ahead","aid","air","airplane","alike","alive","all","allow","almost","alone","along","aloud","alphabet","already","also","although","am","among","amount","ancient","angle","angry","animal","announced","another","answer","ants","any","anybody","anyone","anything","anyway","anywhere","apart","apartment","appearance","apple","applied","appropriate","are","area","arm","army","around","arrange","arrangement","arrive","arrow","art","article","as","aside","ask","asleep","at","ate","atmosphere","atom","atomic","attached","attack","attempt","attention","audience","author","automobile","available","average","avoid","aware","away","baby","back","bad","badly","bag","balance","ball","balloon","band","bank","bar","bare","bark","barn","base","baseball","basic","basis","basket","bat","battle","be","bean","bear","beat","beautiful","beauty","became","because","become","becoming","bee","been","before","began","beginning","begun","behavior","behind","being","believed","bell","belong","below","belt","bend","beneath","bent","beside","best","bet","better","between","beyond","bicycle","bigger","biggest","bill","birds","birth","birthday","bit","bite","black","blank","blanket","blew","blind","block","blood","blow","blue","board","boat","body","bone","book","border","born","both","bottle","bottom","bound","bow","bowl","box","boy","brain","branch","brass","brave","bread","break","breakfast","breath","breathe","breathing","breeze","brick","bridge","brief","bright","bring","broad","broke","broken","brother","brought","brown","brush","buffalo","build","building","built","buried","burn","burst","bus","bush","business","busy","but","butter","buy","by","cabin","cage","cake","call","calm","came","camera","camp","can","canal","cannot","cap","capital","captain","captured","car","carbon","card","care","careful","carefully","carried","carry","case","cast","castle","cat","catch","cattle","caught","cause","cave","cell","cent","center","central","century","certain","certainly","chain","chair","chamber","chance","change","changing","chapter","character","characteristic","charge","chart","check","cheese","chemical","chest","chicken","chief","child","children","choice","choose","chose","chosen","church","circle","circus","citizen","city","class","classroom","claws","clay","clean","clear","clearly","climate","climb","clock","close","closely","closer","cloth","clothes","clothing","cloud","club","coach","coal","coast","coat","coffee","cold","collect","college","colony","color","column","combination","combine","come","comfortable","coming","command","common","community","company","compare","compass","complete","completely","complex","composed","composition","compound","concerned","condition","congress","connected","consider","consist","consonant","constantly","construction","contain","continent","continued","contrast","control","conversation","cook","cookies","cool","copper","copy","corn","corner","correct","correctly","cost","cotton","could","count","country","couple","courage","course","court","cover","cow","cowboy","crack","cream","create","creature","crew","crop","cross","crowd","cry","cup","curious","current","curve","customs","cut","cutting","daily","damage","dance","danger","dangerous","dark","darkness","date","daughter","dawn","day","dead","deal","dear","death","decide","declared","deep","deeply","deer","definition","degree","depend","depth","describe","desert","design","desk","detail","determine","develop","development","diagram","diameter","did","die","differ","difference","different","difficult","difficulty","dig","dinner","direct","direction","directly","dirt","dirty","disappear","discover","discovery","discuss","discussion","disease","dish","distance","distant","divide","division","do","doctor","does","dog","doing","doll","dollar","done","donkey","door","dot","double","doubt","down","dozen","draw","drawn","dream","dress","drew","dried","drink","drive","driven","driver","driving","drop","dropped","drove","dry","duck","due","dug","dull","during","dust","duty","each","eager","ear","earlier","early","earn","earth","easier","easily","east","easy","eat","eaten","edge","education","effect","effort","egg","eight","either","electric","electricity","element","elephant","eleven","else","empty","end","enemy","energy","engine","engineer","enjoy","enough","enter","entire","entirely","environment","equal","equally","equator","equipment","escape","especially","essential","establish","even","evening","event","eventually","ever","every","everybody","everyone","everything","everywhere","evidence","exact","exactly","examine","example","excellent","except","exchange","excited","excitement","exciting","exclaimed","exercise","exist","expect","experience","experiment","explain","explanation","explore","express","expression","extra","eye","face","facing","fact","factor","factory","failed","fair","fairly","fall","fallen","familiar","family","famous","far","farm","farmer","farther","fast","fastened","faster","fat","father","favorite","fear","feathers","feature","fed","feed","feel","feet","fell","fellow","felt","fence","few","fewer","field","fierce","fifteen","fifth","fifty","fight","fighting","figure","fill","film","final","finally","find","fine","finest","finger","finish","fire","fireplace","firm","first","fish","five","fix","flag","flame","flat","flew","flies","flight","floating","floor","flow","flower","fly","fog","folks","follow","food","foot","football","for","force","foreign","forest","forget","forgot","forgotten","form","former","fort","forth","forty","forward","fought","found","four","fourth","fox","frame","free","freedom","frequently","fresh","friend","friendly","frighten","frog","from","front","frozen","fruit","fuel","full","fully","fun","function","funny","fur","furniture","further","future","gain","game","garage","garden","gas","gasoline","gate","gather","gave","general","generally","gentle","gently","get","getting","giant","gift","girl","give","given","giving","glad","glass","globe","go","goes","gold","golden","gone","good","goose","got","government","grabbed","grade","gradually","grain","grandfather","grandmother","graph","grass","gravity","gray","great","greater","greatest","greatly","green","grew","ground","group","grow","grown","growth","guard","guess","guide","gulf","gun","habit","had","hair","half","halfway","hall","hand","handle","handsome","hang","happen","happened","happily","happy","harbor","hard","harder","hardly","has","hat","have","having","hay","he","headed","heading","health","heard","hearing","heart","heat","heavy","height","held","hello","help","helpful","her","herd","here","herself","hidden","hide","high","higher","highest","highway","hill","him","himself","his","history","hit","hold","hole","hollow","home","honor","hope","horn","horse","hospital","hot","hour","house","how","however","huge","human","hundred","hung","hungry","hunt","hunter","hurried","hurry","hurt","husband","ice","idea","identity","if","ill","image","imagine","immediately","importance","important","impossible","improve","in","inch","include","including","income","increase","indeed","independent","indicate","individual","industrial","industry","influence","information","inside","instance","instant","instead","instrument","interest","interior","into","introduced","invented","involved","iron","is","island","it","its","itself","jack","jar","jet","job","join","joined","journey","joy","judge","jump","jungle","just","keep","kept","key","kids","kill","kind","kitchen","knew","knife","know","knowledge","known","label","labor","lack","lady","laid","lake","lamp","land","language","large","larger","largest","last","late","later","laugh","law","lay","layers","lead","leader","leaf","learn","least","leather","leave","leaving","led","left","leg","length","lesson","let","letter","level","library","lie","life","lift","light","like","likely","limited","line","lion","lips","liquid","list","listen","little","live","living","load","local","locate","location","log","lonely","long","longer","look","loose","lose","loss","lost","lot","loud","love","lovely","low","lower","luck","lucky","lunch","lungs","lying","machine","machinery","mad","made","magic","magnet","mail","main","mainly","major","make","making","man","managed","manner","manufacturing","many","map","mark","market","married","mass","massage","master","material","mathematics","matter","may","maybe","me","meal","mean","means","meant","measure","meat","medicine","meet","melted","member","memory","men","mental","merely","met","metal","method","mice","middle","might","mighty","mile","military","milk","mill","mind","mine","minerals","minute","mirror","missing","mission","mistake","mix","mixture","model","modern","molecular","moment","money","monkey","month","mood","moon","more","morning","most","mostly","mother","motion","motor","mountain","mouse","mouth","move","movement","movie","moving","mud","muscle","music","musical","must","my","myself","mysterious","nails","name","nation","national","native","natural","naturally","nature","near","nearby","nearer","nearest","nearly","necessary","neck","needed","needle","needs","negative","neighbor","neighborhood","nervous","nest","never","new","news","newspaper","next","nice","night","nine","no","nobody","nodded","noise","none","noon","nor","north","nose","not","note","noted","nothing","notice","noun","now","number","numeral","nuts","object","observe","obtain","occasionally","occur","ocean","of","off","offer","office","officer","official","oil","old","older","oldest","on","once","one","only","onto","open","operation","opinion","opportunity","opposite","or","orange","orbit","order","ordinary","organization","organized","origin","original","other","ought","our","ourselves","out","outer","outline","outside","over","own","owner","oxygen","pack","package","page","paid","pain","paint","pair","palace","pale","pan","paper","paragraph","parallel","parent","park","part","particles","particular","particularly","partly","parts","party","pass","passage","past","path","pattern","pay","peace","pen","pencil","people","per","percent","perfect","perfectly","perhaps","period","person","personal","pet","phrase","physical","piano","pick","picture","pictured","pie","piece","pig","pile","pilot","pine","pink","pipe","pitch","place","plain","plan","plane","planet","planned","planning","plant","plastic","plate","plates","play","pleasant","please","pleasure","plenty","plural","plus","pocket","poem","poet","poetry","point","pole","police","policeman","political","pond","pony","pool","poor","popular","population","porch","port","position","positive","possible","possibly","post","pot","potatoes","pound","pour","powder","power","powerful","practical","practice","prepare","present","president","press","pressure","pretty","prevent","previous","price","pride","primitive","principal","principle","printed","private","prize","probably","problem","process","produce","product","production","program","progress","promised","proper","properly","property","protection","proud","prove","provide","public","pull","pupil","pure","purple","purpose","push","put","putting","quarter","queen","question","quick","quickly","quiet","quietly","quite","rabbit","race","radio","railroad","rain","raise","ran","ranch","range","rapidly","rate","rather","raw","rays","reach","read","reader","ready","real","realize","rear","reason","recall","receive","recent","recently","recognize","record","red","refer","refused","region","regular","related","relationship","religious","remain","remarkable","remember","remove","repeat","replace","replied","report","represent","require","research","respect","rest","result","return","review","rhyme","rhythm","rice","rich","ride","riding","right","ring","rise","rising","river","road","roar","rock","rocket","rocky","rod","roll","roof","room","root","rope","rose","rough","round","route","row","rubbed","rubber","rule","ruler","run","running","rush","sad","saddle","safe","safety","said","sail","sale","salmon","salt","same","sand","sang","sat","satellites","satisfied","save","saved","saw","say","scale","scared","scene","school","science","scientific","scientist","score","screen","sea","search","season","seat","second","secret","section","see","seed","seeing","seems","seen","seldom","select","selection","sell","send","sense","sent","sentence","separate","series","serious","serve","service","sets","setting","settle","settlers","seven","several","shade","shadow","shake","shaking","shall","shallow","shape","share","sharp","she","sheep","sheet","shelf","shells","shelter","shine","shinning","ship","shirt","shoe","shoot","shop","shore","short","shorter","shot","should","shoulder","shout","show","shown","shut","sick","sides","sight","sign","signal","silence","silent","silk","silly","silver","similar","simple","simplest","simply","since","sing","single","sink","sister","sit","sitting","situation","six","size","skill","skin","sky","slabs","slave","sleep","slept","slide","slight","slightly","slip","slipped","slope","slow","slowly","small","smaller","smallest","smell","smile","smoke","smooth","snake","snow","so","soap","social","society","soft","softly","soil","solar","sold","soldier","solid","solution","solve","some","somebody","somehow","someone","something","sometime","somewhere","son","song","soon","sort","sound","source","south","southern","space","speak","special","species","specific","speech","speed","spell","spend","spent","spider","spin","spirit","spite","split","spoken","sport","spread","spring","square","stage","stairs","stand","standard","star","stared","start","state","statement","station","stay","steady","steam","steel","steep","stems","step","stepped","stick","stiff","still","stock","stomach","stone","stood","stop","stopped","store","storm","story","stove","straight","strange","stranger","straw","stream","street","strength","stretch","strike","string","strip","strong","stronger","struck","structure","struggle","stuck","student","studied","studying","subject","substance","success","successful","such","sudden","suddenly","sugar","suggest","suit","sum","summer","sun","sunlight","supper","supply","support","suppose","sure","surface","surprise","surrounded","swam","sweet","swept","swim","swimming","swing","swung","syllable","symbol","system","table","tail","take","taken","tales","talk","tall","tank","tape","task","taste","taught","tax","tea","teach","teacher","team","tears","teeth","telephone","television","tell","temperature","ten","tent","term","terrible","test","than","thank","that","thee","them","themselves","then","theory","there","therefore","these","they","thick","thin","thing","think","third","thirty","this","those","thou","though","thought","thousand","thread","three","threw","throat","through","throughout","throw","thrown","thumb","thus","thy","tide","tie","tight","tightly","till","time","tin","tiny","tip","tired","title","to","tobacco","today","together","told","tomorrow","tone","tongue","tonight","too","took","tool","top","topic","torn","total","touch","toward","tower","town","toy","trace","track","trade","traffic","trail","train","transportation","trap","travel","treated","tree","triangle","tribe","trick","tried","trip","troops","tropical","trouble","truck","trunk","truth","try","tube","tune","turn","twelve","twenty","twice","two","type","typical","uncle","under","underline","understanding","unhappy","union","unit","universe","unknown","unless","until","unusual","up","upon","upper","upward","us","use","useful","using","usual","usually","valley","valuable","value","vapor","variety","various","vast","vegetable","verb","vertical","very","vessels","victory","view","village","visit","visitor","voice","volume","vote","vowel","voyage","wagon","wait","walk","wall","want","war","warm","warn","was","wash","waste","watch","water","wave","way","we","weak","wealth","wear","weather","week","weigh","weight","welcome","well","went","were","west","western","wet","whale","what","whatever","wheat","wheel","when","whenever","where","wherever","whether","which","while","whispered","whistle","white","who","whole","whom","whose","why","wide","widely","wife","wild","will","willing","win","wind","window","wing","winter","wire","wise","wish","with","within","without","wolf","women","won","wonder","wonderful","wood","wooden","wool","word","wore","work","worker","world","worried","worry","worse","worth","would","wrapped","write","writer","writing","written","wrong","wrote","yard","year","yellow","yes","yesterday","yet","you","young","younger","your","yourself","youth","zero","zebra","zipper","zoo","zulu"];function Lp(s){const e=s!=null&&s.seed?new cb(s.seed):null;function n(){return s&&s.maxLength>1?a():r()}function a(){for(var x=!1,h;!x;)h=r(),h.length<=s.maxLength&&(x=!0);return h}function r(){return vl[t(vl.length)]}function t(x){const h=e?e():Math.random();return Math.floor(h*x)}if(typeof s>"u")return n();typeof s=="number"&&(s={exactly:s}),s.exactly&&(s.min=s.exactly,s.max=s.exactly),typeof s.wordsPerString!="number"&&(s.wordsPerString=1),typeof s.formatter!="function"&&(s.formatter=x=>x),typeof s.separator!="string"&&(s.separator=" ");for(var d=s.min+t(s.max+1-s.min),C=[],M="",w=0,S=0;S<d*s.wordsPerString;S++)w===s.wordsPerString-1?M+=s.formatter(n(),w):M+=s.formatter(n(),w)+s.separator,w++,(S+1)%s.wordsPerString===0&&(C.push(M),M="",w=0);return typeof s.join=="string"&&(C=C.join(s.join)),C}var db=Lp;Lp.wordList=vl;var fb=Yl(db);function pb(s=Math.random().toString()){return Math.random=Xy(s),s}function eu(s,e,n=!1){const a=Array.isArray(s),r=Array.isArray(e);if(!a)r?(e=[e[0]],console.log("Unclear parameters given to randomization.repeat. Multiple set sizes specified, but only one item exists to sample. Proceeding using the first set size.")):(s=[s],e=[e]);else if(r){if(s.length!=e.length)if(console.warn("Unclear parameters given to randomization.repeat. Items and repetitions are unequal lengths. Behavior may not be as expected."),e.length<s.length){let C=[];for(let M=0;M<s.length;M++)C.push(e);e=C}else e=e.slice(0,s.length)}else{let C=[];for(let M=0;M<s.length;M++)C.push(e);e=C}let t=[];for(let C=0;C<s.length;C++)for(let M=0;M<e[C];M++)s[C]==null||typeof s[C]!="object"?t.push(s[C]):t.push(Object.assign({},s[C]));let d=br(t);return n&&(d=Eb(d)),d}function br(s){Array.isArray(s)||console.error("Argument to shuffle() must be an array.");const e=s.slice(0);let n=e.length,a,r;for(;n;)r=Math.floor(Math.random()*n--),a=e[n],e[n]=e[r],e[r]=a;return e}function hb(s,e){Array.isArray(s)||console.error("First argument to shuffleNoRepeats() must be an array."),typeof e<"u"&&typeof e!="function"&&console.error("Second argument to shuffleNoRepeats() must be a function."),typeof e>"u"&&(e=function(a,r){return a===r});const n=br(s);for(let a=0;a<n.length-1;a++)if(e(n[a],n[a+1])){let r=Math.floor(Math.random()*(n.length-2))+1;for(;e(n[a+1],n[r])||e(n[a+1],n[r+1])||e(n[a+1],n[r-1])||e(n[a],n[r]);)r=Math.floor(Math.random()*(n.length-2))+1;const t=n[r];n[r]=n[a+1],n[a+1]=t}return n}function Vp(s,e=!1){const n=s.length;if(n==1)return console.warn("shuffleAlternateGroups() was called with only one group. Defaulting to simple shuffle."),br(s[0]);let a=[];for(let C=0;C<n;C++)a.push(C);e&&(a=br(a));const r=[];let t=null;for(let C=0;C<n;C++)t=t===null?s[C].length:Math.min(t,s[C].length),r.push(br(s[C]));const d=[];for(let C=0;C<t;C++)for(let M=0;M<a.length;M++)d.push(r[a[M]][C]);return d}function _p(s,e){return Array.isArray(s)||console.error("First argument to sampleWithoutReplacement() must be an array"),e>s.length&&console.error("Cannot take a sample larger than the size of the set of items to sample."),br(s).slice(0,e)}function Bp(s,e,n){Array.isArray(s)||console.error("First argument to sampleWithReplacement() must be an array");const a=[];if(typeof n<"u"){n.length!==s.length&&console.error("The length of the weights array must equal the length of the array to be sampled from.");let d=0;for(const C of n)d+=C;for(const C of n)a.push(C/d)}else for(let d=0;d<s.length;d++)a.push(1/s.length);const r=[a[0]];for(let d=1;d<a.length;d++)r.push(a[d]+r[d-1]);const t=[];for(let d=0;d<e;d++){const C=Math.random();let M=0;for(;C>r[M];)M++;t.push(s[M])}return t}function mb(s,e=1,n=!1){let a=[{}];for(const[r,t]of Object.entries(s)){const d=[];for(const C of t)for(const M of a)d.push(Object.assign(Object.assign({},M),{[r]:C}));a=d}return eu(a,e,n)}function gb(s=32){let e="";const n="0123456789abcdefghjklmnopqrstuvwxyz";for(let a=0;a<s;a++)e+=n[Math.floor(Math.random()*n.length)];return e}function vb(s,e){if(e<s)throw new Error("Upper boundary must be less than or equal to lower boundary");return s+Math.floor(Math.random()*(e-s+1))}function yb(s){return Math.random()<=s?1:0}function yl(s,e){return xb()*e+s}function bl(s){return-Math.log(Math.random())/s}function bb(s,e,n,a=!1){let r=yl(s,e)+bl(n);if(a)for(;r<=0;)r=yl(s,e)+bl(n);return r}function Cb(s){return fb(s)}function xb(){for(var s=0,e=0;s===0;)s=Math.random();for(;e===0;)e=Math.random();return Math.sqrt(-2*Math.log(s))*Math.cos(2*Math.PI*e)}function Eb(s){const e={};for(const n of s)for(const a of Object.keys(n))typeof e[a]>"u"&&(e[a]=[]),e[a].push(n[a]);return e}var Pb=Object.freeze({__proto__:null,factorial:mb,randomID:gb,randomInt:vb,randomWords:Cb,repeat:eu,sampleBernoulli:yb,sampleExGaussian:bb,sampleExponential:bl,sampleNormal:yl,sampleWithReplacement:Bp,sampleWithoutReplacement:_p,setSeed:pb,shuffle:br,shuffleAlternateGroups:Vp,shuffleNoRepeats:hb});function Np(){const s={previewMode:!1,outsideTurk:!1,hitId:"INVALID_URL_PARAMETER",assignmentId:"INVALID_URL_PARAMETER",workerId:"INVALID_URL_PARAMETER",turkSubmitTo:"INVALID_URL_PARAMETER"},e=function(r,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");const d="[\\?&]"+t+"=([^&#]*)",M=new RegExp(d).exec(r);return M==null?"":M[1]},n=e(window.location.href,"assignmentId")?window.location.href:document.referrer;return["assignmentId","hitId","workerId","turkSubmitTo"].map(function(r){s[r]=unescape(e(n,r))}),s.previewMode=s.assignmentId=="ASSIGNMENT_ID_NOT_AVAILABLE",s.outsideTurk=!s.previewMode&&s.hitId===""&&s.assignmentId==""&&s.workerId=="",s}function Tb(s){const e=Np(),n=e.assignmentId,a=e.turkSubmitTo;if(!n||!a)return;const r=document.createElement("form");r.method="POST",r.action=a+"/mturk/externalSubmit?assignmentId="+n;for(const t in s)if(s.hasOwnProperty(t)){const d=document.createElement("input");d.type="hidden",d.name=t,d.id=t,d.value=s[t],r.appendChild(d)}document.body.appendChild(r),r.submit()}var Sb=Object.freeze({__proto__:null,submitToTurk:Tb,turkInfo:Np});class Ss{constructor(e,n,a,r){if(this.jsPsych=e,this.progress={current_location:-1,current_variable_set:0,current_repetition:0,current_iteration:0,done:!1},this.parent_node=a,this.relative_id=typeof a>"u"?0:r,typeof n.timeline<"u"){this.timeline_parameters={timeline:[],loop_function:n.loop_function,conditional_function:n.conditional_function,sample:n.sample,randomize_order:typeof n.randomize_order>"u"?!1:n.randomize_order,repetitions:typeof n.repetitions>"u"?1:n.repetitions,timeline_variables:typeof n.timeline_variables>"u"?[{}]:n.timeline_variables,on_timeline_finish:n.on_timeline_finish,on_timeline_start:n.on_timeline_start},this.setTimelineVariablesOrder();var t=Object.assign({},n);delete t.timeline,delete t.conditional_function,delete t.loop_function,delete t.randomize_order,delete t.repetitions,delete t.timeline_variables,delete t.sample,delete t.on_timeline_start,delete t.on_timeline_finish,this.node_trial_data=t;for(var d=0;d<n.timeline.length;d++){var C=Object.assign({},t,n.timeline[d]);if(typeof t.data=="object"&&typeof n.timeline[d].data=="object"){var M=Object.assign({},t.data,n.timeline[d].data);C.data=M}this.timeline_parameters.timeline.push(new Ss(this.jsPsych,C,this,d))}}else typeof n.type>"u"&&console.error('Trial level node is missing the "type" parameter. The parameters for the node are: '+JSON.stringify(n)),this.trial_parameters=Object.assign({},n)}trial(){return typeof this.timeline_parameters>"u"?mr(this.trial_parameters):this.progress.current_location>=this.timeline_parameters.timeline.length?null:this.timeline_parameters.timeline[this.progress.current_location].trial()}markCurrentTrialComplete(){typeof this.timeline_parameters>"u"?this.progress.done=!0:this.timeline_parameters.timeline[this.progress.current_location].markCurrentTrialComplete()}nextRepetiton(){this.setTimelineVariablesOrder(),this.progress.current_location=-1,this.progress.current_variable_set=0,this.progress.current_repetition++;for(var e=0;e<this.timeline_parameters.timeline.length;e++)this.timeline_parameters.timeline[e].reset()}setTimelineVariablesOrder(){const e=this.timeline_parameters;if(!(typeof e>"u"||typeof e.timeline_variables>"u")){for(var n=[],a=0;a<e.timeline_variables.length;a++)n.push(a);typeof e.sample<"u"&&(e.sample.type=="custom"?n=e.sample.fn(n):e.sample.type=="with-replacement"?n=Bp(n,e.sample.size,e.sample.weights):e.sample.type=="without-replacement"?n=_p(n,e.sample.size):e.sample.type=="fixed-repetitions"?n=eu(n,e.sample.size,!1):e.sample.type=="alternate-groups"?n=Vp(e.sample.groups,e.sample.randomize_group_order):console.error('Invalid type in timeline sample parameters. Valid options for type are "custom", "with-replacement", "without-replacement", "fixed-repetitions", and "alternate-groups"')),e.randomize_order&&(n=br(n)),this.progress.order=n}}nextSet(){this.progress.current_location=-1,this.progress.current_variable_set++;for(var e=0;e<this.timeline_parameters.timeline.length;e++)this.timeline_parameters.timeline[e].reset()}advance(){const e=this.progress,n=this.timeline_parameters,a=this.jsPsych.internal;if(e.done)return!0;if(e.current_location==-1){if(typeof n<"u"){if(typeof n.conditional_function<"u"&&e.current_repetition==0&&e.current_variable_set==0){a.call_immediate=!0;var r=n.conditional_function();if(a.call_immediate=!1,r==!1)return e.done=!0,!0}typeof n.on_timeline_start<"u"&&e.current_variable_set==0&&n.on_timeline_start()}return e.current_location=0,this.advance()}if(typeof n<"u"){for(var t=!1;e.current_location<n.timeline.length&&t==!1;){var d=n.timeline[e.current_location].advance();if(d)e.current_location++;else return t=!0,!1}return e.current_variable_set<e.order.length-1?(this.nextSet(),this.advance()):e.current_repetition<n.repetitions-1?(this.nextRepetiton(),typeof n.on_timeline_finish<"u"&&n.on_timeline_finish(),this.advance()):(typeof n.on_timeline_finish<"u"&&n.on_timeline_finish(),typeof n.loop_function<"u"?(a.call_immediate=!0,n.loop_function(this.generatedData())?(this.reset(),a.call_immediate=!1,this.parent_node.advance()):(e.done=!0,a.call_immediate=!1,!0)):(e.done=!0,!0))}}isComplete(){return this.progress.done}getTimelineVariableValue(e){if(!(typeof this.timeline_parameters>"u")){var n=this.timeline_parameters.timeline_variables[this.progress.order[this.progress.current_variable_set]][e];return n}}findTimelineVariable(e){var n=this.getTimelineVariableValue(e);return typeof n>"u"?typeof this.parent_node<"u"?this.parent_node.findTimelineVariable(e):void 0:n}timelineVariable(e){if(typeof this.timeline_parameters>"u"){const a=this.findTimelineVariable(e);return typeof a>"u"&&console.warn("Timeline variable "+e+" not found."),a}else{var n=Math.max(0,this.progress.current_location);n==this.timeline_parameters.timeline.length&&(n=n-1);const a=this.timeline_parameters.timeline[n].timelineVariable(e);return typeof a>"u"&&console.warn("Timeline variable "+e+" not found."),a}}allTimelineVariables(){for(var e=this.allTimelineVariablesNames(),n={},a=0;a<e.length;a++)n[e[a]]=this.timelineVariable(e[a]);return n}allTimelineVariablesNames(e=[]){if(typeof this.timeline_parameters<"u"){e=e.concat(Object.keys(this.timeline_parameters.timeline_variables[this.progress.order[this.progress.current_variable_set]]));var n=Math.max(0,this.progress.current_location);return n==this.timeline_parameters.timeline.length&&(n=n-1),this.timeline_parameters.timeline[n].allTimelineVariablesNames(e)}if(typeof this.timeline_parameters>"u")return e}length(){var e=0;if(typeof this.timeline_parameters<"u")for(var n=0;n<this.timeline_parameters.timeline.length;n++)e+=this.timeline_parameters.timeline[n].length();else return 1;return e}percentComplete(){for(var e=this.length(),n=0,a=0;a<this.timeline_parameters.timeline.length;a++)this.timeline_parameters.timeline[a].isComplete()&&(n+=this.timeline_parameters.timeline[a].length());return n/e*100}reset(){if(this.progress.current_location=-1,this.progress.current_repetition=0,this.progress.current_variable_set=0,this.progress.current_iteration++,this.progress.done=!1,this.setTimelineVariablesOrder(),typeof this.timeline_parameters<"u")for(var e=0;e<this.timeline_parameters.timeline.length;e++)this.timeline_parameters.timeline[e].reset()}end(){this.progress.done=!0}endActiveNode(){typeof this.timeline_parameters>"u"?(this.end(),this.parent_node.end()):this.timeline_parameters.timeline[this.progress.current_location].endActiveNode()}ID(){var e="";return typeof this.parent_node>"u"?"0."+this.progress.current_iteration:(e+=this.parent_node.ID()+"-",e+=this.relative_id+"."+this.progress.current_iteration,e)}activeID(){return typeof this.timeline_parameters>"u"?this.ID():this.timeline_parameters.timeline[this.progress.current_location].activeID()}generatedData(){return this.jsPsych.data.getDataByTimelineNode(this.ID())}trialsOfType(e){if(typeof this.timeline_parameters>"u")return this.trial_parameters.type==e?this.trial_parameters:[];for(var n=[],a=0;a<this.timeline_parameters.timeline.length;a++){var r=this.timeline_parameters.timeline[a].trialsOfType(e);n=n.concat(r)}return n}insert(e){typeof this.timeline_parameters>"u"?console.error("Cannot add new trials to a trial-level node."):this.timeline_parameters.timeline.push(new Ss(this.jsPsych,Object.assign(Object.assign({},this.node_trial_data),e),this,this.timeline_parameters.timeline.length))}}function Mb(s){return new Promise(e=>setTimeout(e,s))}class Rb{version(){return ky}constructor(e){this.extensions={},this.turk=Sb,this.randomization=Pb,this.utils=Fy,this.opts={},this.global_trial_index=0,this.current_trial={},this.current_trial_finished=!1,this.paused=!1,this.waiting=!1,this.file_protocol=!1,this.simulation_mode=null,this.webaudio_context=null,this.internal={call_immediate:!1},this.progress_bar_amount=0,e=Object.assign({display_element:void 0,on_finish:()=>{},on_trial_start:()=>{},on_trial_finish:()=>{},on_data_update:()=>{},on_interaction_data_update:()=>{},on_close:()=>{},use_webaudio:!0,exclusions:{},show_progress_bar:!1,message_progress_bar:"Completion Progress",auto_update_progress_bar:!0,default_iti:0,minimum_valid_rt:0,experiment_width:null,override_safe_mode:!1,case_sensitive_responses:!1,extensions:[]},e),this.opts=e,hr(this),this.webaudio_context=typeof window<"u"&&typeof window.AudioContext<"u"?new AudioContext:null,window.location.protocol=="file:"&&(e.override_safe_mode===!1||typeof e.override_safe_mode>"u")&&(e.use_webaudio=!1,this.file_protocol=!0,console.warn("jsPsych detected that it is running via the file:// protocol and not on a web server. To prevent issues with cross-origin requests, Web Audio and video preloading have been disabled. If you would like to override this setting, you can set 'override_safe_mode' to 'true' in initJsPsych. For more information, see: https://www.jspsych.org/overview/running-experiments")),this.data=new Hy(this),this.pluginAPI=Ky(this);for(const n of e.extensions)this.extensions[n.type.info.name]=new n.type(this);this.pluginAPI.initAudio()}run(e){return $i(this,void 0,void 0,function*(){typeof e>"u"&&console.error("No timeline declared in jsPsych.run. Cannot start experiment."),e.length===0&&console.error("No trials have been added to the timeline (the timeline is an empty array). Cannot start experiment."),this.timelineDescription=e,this.timeline=new Ss(this,{timeline:e}),yield this.prepareDom(),yield this.checkExclusions(this.opts.exclusions),yield this.loadExtensions(this.opts.extensions),document.documentElement.setAttribute("jspsych","present"),this.startExperiment(),yield this.finished})}simulate(e,n="data-only",a={}){return $i(this,void 0,void 0,function*(){this.simulation_mode=n,this.simulation_options=a,yield this.run(e)})}getProgress(){return{total_trials:typeof this.timeline>"u"?void 0:this.timeline.length(),current_trial_global:this.global_trial_index,percent_complete:typeof this.timeline>"u"?0:this.timeline.percentComplete()}}getStartTime(){return this.exp_start_time}getTotalTime(){return typeof this.exp_start_time>"u"?0:new Date().getTime()-this.exp_start_time.getTime()}getDisplayElement(){return this.DOM_target}getDisplayContainerElement(){return this.DOM_container}finishTrial(e={}){var n;if(this.current_trial_finished)return;this.current_trial_finished=!0,typeof this.current_trial.css_classes<"u"&&Array.isArray(this.current_trial.css_classes)&&this.DOM_target.classList.remove(...this.current_trial.css_classes),this.data.write(e);const r=this.data.getLastTrialData().values()[0],t=this.current_trial;if(typeof t.save_trial_parameters=="object")for(const M of Object.keys(t.save_trial_parameters)){const w=t.save_trial_parameters[M];w===!0&&(typeof t[M]>"u"?console.warn(`Invalid parameter specified in save_trial_parameters. Trial has no property called "${M}".`):typeof t[M]=="function"?r[M]=t[M].toString():r[M]=t[M]),w===!1&&M!=="internal_node_id"&&M!=="trial_index"&&delete r[M]}const d=((n=t.extensions)!==null&&n!==void 0?n:[]).map(M=>this.extensions[M.type.info.name].on_finish(M.params)),C=()=>{this.internal.call_immediate=!0,typeof t.on_finish=="function"&&t.on_finish(r),this.opts.on_trial_finish(r),this.opts.on_data_update(r),this.internal.call_immediate=!1,this.simulation_mode==="data-only"?this.nextTrial():typeof t.post_trial_gap===null||typeof t.post_trial_gap>"u"?this.opts.default_iti>0?setTimeout(this.nextTrial,this.opts.default_iti):this.nextTrial():t.post_trial_gap>0?setTimeout(this.nextTrial,t.post_trial_gap):this.nextTrial()};if(d.some(M=>typeof M.then=="function"))Promise.all(d.map(M=>Promise.resolve(M).then(w=>{Object.assign(r,w)}))).then(C);else{for(const M of d)Object.assign(r,M);C()}}endExperiment(e="",n={}){this.timeline.end_message=e,this.timeline.end(),this.pluginAPI.cancelAllKeyboardResponses(),this.pluginAPI.clearAllTimeouts(),this.finishTrial(n)}endCurrentTimeline(){this.timeline.endActiveNode()}getCurrentTrial(){return this.current_trial}getInitSettings(){return this.opts}getCurrentTimelineNodeID(){return this.timeline.activeID()}timelineVariable(e,n=!1){return this.internal.call_immediate||n===!0?this.timeline.timelineVariable(e):{timelineVariablePlaceholder:!0,timelineVariableFunction:()=>this.timeline.timelineVariable(e)}}getAllTimelineVariables(){return this.timeline.allTimelineVariables()}addNodeToEndOfTimeline(e,n){this.timeline.insert(e)}pauseExperiment(){this.paused=!0}resumeExperiment(){this.paused=!1,this.waiting&&(this.waiting=!1,this.nextTrial())}loadFail(e){e=e||"<p>The experiment failed to load.</p>",this.DOM_target.innerHTML=e}getSafeModeStatus(){return this.file_protocol}getTimeline(){return this.timelineDescription}prepareDom(){return $i(this,void 0,void 0,function*(){document.readyState!=="complete"&&(yield new Promise(n=>{window.addEventListener("load",n)}));const e=this.opts;if(typeof e.display_element>"u")document.querySelector("body")===null&&document.documentElement.appendChild(document.createElement("body")),document.querySelector("html").style.height="100%",document.querySelector("body").style.margin="0px",document.querySelector("body").style.height="100%",document.querySelector("body").style.width="100%",e.display_element=document.querySelector("body");else{const n=e.display_element instanceof Element?e.display_element:document.querySelector("#"+e.display_element);n===null?console.error("The display_element specified in initJsPsych() does not exist in the DOM."):e.display_element=n}e.display_element.innerHTML='<div class="jspsych-content-wrapper"><div id="jspsych-content"></div></div>',this.DOM_container=e.display_element,this.DOM_target=document.querySelector("#jspsych-content"),e.experiment_width!==null&&(this.DOM_target.style.width=e.experiment_width+"px"),e.display_element.tabIndex=0,e.display_element.className.indexOf("jspsych-display-element")===-1&&(e.display_element.className+=" jspsych-display-element"),this.DOM_target.className+="jspsych-content",this.data.createInteractionListeners(),window.addEventListener("beforeunload",e.on_close)})}loadExtensions(e){return $i(this,void 0,void 0,function*(){try{yield Promise.all(e.map(n=>this.extensions[n.type.info.name].initialize(n.params||{})))}catch(n){throw console.error(n),new Error(n)}})}startExperiment(){this.finished=new Promise(e=>{this.resolveFinishedPromise=e}),this.opts.show_progress_bar===!0&&this.drawProgressBar(this.opts.message_progress_bar),this.exp_start_time=new Date,this.timeline.advance(),this.doTrial(this.timeline.trial())}finishExperiment(){const e=this.opts.on_finish(this.data.get()),n=()=>{typeof this.timeline.end_message<"u"&&(this.DOM_target.innerHTML=this.timeline.end_message),this.resolveFinishedPromise()};e?Promise.resolve(e).then(n):n()}nextTrial(){if(this.paused){this.waiting=!0;return}this.global_trial_index++,this.timeline.markCurrentTrialComplete();const e=this.timeline.advance();if(this.opts.show_progress_bar===!0&&this.opts.auto_update_progress_bar===!0&&this.updateProgressBar(),e){this.finishExperiment();return}this.doTrial(this.timeline.trial())}doTrial(e){if(this.current_trial=e,this.current_trial_finished=!1,this.evaluateTimelineVariables(e),typeof e.type=="string")throw new qn("A string was provided as the trial's `type` parameter. Since jsPsych v7, the `type` parameter needs to be a plugin object.");if(e.type=Object.assign(Object.assign({},hr(new e.type(this))),{info:e.type.info}),this.evaluateFunctionParameters(e),this.setDefaultValues(e),this.internal.call_immediate=!0,this.opts.on_trial_start(e),typeof e.on_start=="function"&&e.on_start(e),Array.isArray(e.extensions))for(const C of e.extensions)this.extensions[C.type.info.name].on_start(C.params);this.DOM_container.focus(),this.DOM_target.scrollTop=0,typeof e.css_classes<"u"&&(!Array.isArray(e.css_classes)&&typeof e.css_classes=="string"&&(e.css_classes=[e.css_classes]),Array.isArray(e.css_classes)&&this.DOM_target.classList.add(...e.css_classes));const n=()=>{if(typeof e.on_load=="function"&&e.on_load(),Array.isArray(e.extensions))for(const C of e.extensions)this.extensions[C.type.info.name].on_load(C.params)};let a,r,t;this.simulation_mode||(a=e.type.trial(this.DOM_target,e,n)),this.simulation_mode&&(e.type.simulate?(e.simulation_options||(r=this.simulation_options.default),e.simulation_options&&(typeof e.simulation_options=="string"?this.simulation_options[e.simulation_options]?r=this.simulation_options[e.simulation_options]:this.simulation_options.default?(console.log(`No matching simulation options found for "${e.simulation_options}". Using "default" options.`),r=this.simulation_options.default):(console.log(`No matching simulation options found for "${e.simulation_options}" and no "default" options provided. Using the default values provided by the plugin.`),r={}):r=e.simulation_options),t=this.utils.deepMerge(this.simulation_options.default,r),t=this.utils.deepCopy(t),t=this.replaceFunctionsWithValues(t,null),(t==null?void 0:t.simulate)===!1?a=e.type.trial(this.DOM_target,e,n):a=e.type.simulate(e,(t==null?void 0:t.mode)||this.simulation_mode,t,n)):a=e.type.trial(this.DOM_target,e,n)),!(a&&typeof a.then=="function")&&(!this.simulation_mode||this.simulation_mode&&(t==null?void 0:t.simulate)===!1)&&n(),this.internal.call_immediate=!1}evaluateTimelineVariables(e){for(const n of Object.keys(e))typeof e[n]=="object"&&e[n]!==null&&typeof e[n].timelineVariablePlaceholder<"u"&&(e[n]=e[n].timelineVariableFunction()),typeof e[n]=="object"&&e[n]!==null&&n!=="timeline"&&n!=="timeline_variables"&&this.evaluateTimelineVariables(e[n])}evaluateFunctionParameters(e){this.internal.call_immediate=!0;for(const n of Object.keys(e))n!=="type"&&(typeof Bc[n]<"u"&&Bc[n].type!==N.FUNCTION&&(e[n]=this.replaceFunctionsWithValues(e[n],null)),typeof e.type.info.parameters[n]<"u"&&e.type.info.parameters[n].type!==N.FUNCTION&&(e[n]=this.replaceFunctionsWithValues(e[n],e.type.info.parameters[n])));this.internal.call_immediate=!1}replaceFunctionsWithValues(e,n){if(e===null)return e;if(Array.isArray(e))for(let a=0;a<e.length;a++)e[a]=this.replaceFunctionsWithValues(e[a],n);else if(typeof e=="object")if(n===null||!n.nested)for(const a of Object.keys(e))a==="type"||a==="timeline"||a==="timeline_variables"||(e[a]=this.replaceFunctionsWithValues(e[a],null));else for(const a of Object.keys(e))typeof n.nested[a]=="object"&&n.nested[a].type!==N.FUNCTION&&(e[a]=this.replaceFunctionsWithValues(e[a],n.nested[a]));else if(typeof e=="function")return e();return e}setDefaultValues(e){for(const n in e.type.info.parameters)e.type.info.parameters[n].type===N.COMPLEX?(typeof e[n]>"u"&&e.type.info.parameters[n].default&&(e[n]=e.type.info.parameters[n].default),e.type.info.parameters[n].array===!0&&Array.isArray(e[n])&&e[n].forEach(function(a,r){for(const t in e.type.info.parameters[n].nested)(typeof e[n][r][t]>"u"||e[n][r][t]===null)&&(typeof e.type.info.parameters[n].nested[t].default>"u"?console.error(`You must specify a value for the ${t} parameter (nested in the ${n} parameter) in the ${e.type.info.name} plugin.`):e[n][r][t]=e.type.info.parameters[n].nested[t].default)})):(typeof e[n]>"u"||e[n]===null)&&(typeof e.type.info.parameters[n].default>"u"?console.error(`You must specify a value for the ${n} parameter in the ${e.type.info.name} plugin.`):e[n]=e.type.info.parameters[n].default)}checkExclusions(e){return $i(this,void 0,void 0,function*(){if((e.min_width||e.min_height||e.audio)&&console.warn("The exclusions option in `initJsPsych()` is deprecated and will be removed in a future version. We recommend using the browser-check plugin instead. See https://www.jspsych.org/latest/plugins/browser-check/."),e.min_width||e.min_height){const n=e.min_width||0,a=e.min_height||0;if(window.innerWidth<n||window.innerHeight<a){for(this.getDisplayElement().innerHTML="<p>Your browser window is too small to complete this experiment. Please maximize the size of your browser window. If your browser window is already maximized, you will not be able to complete this experiment.</p><p>The minimum width is "+n+"px. Your current width is "+window.innerWidth+"px.</p><p>The minimum height is "+a+"px. Your current height is "+window.innerHeight+"px.</p>";window.innerWidth<n||window.innerHeight<a;)yield Mb(100);this.getDisplayElement().innerHTML=""}}if(typeof e.audio<"u"&&e.audio&&!window.hasOwnProperty("AudioContext")&&!window.hasOwnProperty("webkitAudioContext"))throw this.getDisplayElement().innerHTML="<p>Your browser does not support the WebAudio API, which means that you will not be able to complete the experiment.</p><p>Browsers that support the WebAudio API include Chrome, Firefox, Safari, and Edge.</p>",new Error})}drawProgressBar(e){document.querySelector(".jspsych-display-element").insertAdjacentHTML("afterbegin",'<div id="jspsych-progressbar-container"><span>'+e+'</span><div id="jspsych-progressbar-outer"><div id="jspsych-progressbar-inner"></div></div></div>')}updateProgressBar(){this.setProgressBar(this.getProgress().percent_complete/100)}setProgressBar(e){e=Math.max(Math.min(1,e),0),document.querySelector("#jspsych-progressbar-inner").style.width=e*100+"%",this.progress_bar_amount=e}getProgressBarCompleted(){return this.progress_bar_amount}}typeof window<"u"&&window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext);function aS(s){const e=new Rb(s);return Object.defineProperties(e,Object.fromEntries(Object.entries({init:"`jsPsych.init()` was replaced by `initJsPsych()` in jsPsych v7.",ALL_KEYS:'jsPsych.ALL_KEYS was replaced by the "ALL_KEYS" string in jsPsych v7.',NO_KEYS:'jsPsych.NO_KEYS was replaced by the "NO_KEYS" string in jsPsych v7.',currentTimelineNodeID:"`currentTimelineNodeID()` was renamed to `getCurrentTimelineNodeID()` in jsPsych v7.",progress:"`progress()` was renamed to `getProgress()` in jsPsych v7.",startTime:"`startTime()` was renamed to `getStartTime()` in jsPsych v7.",totalTime:"`totalTime()` was renamed to `getTotalTime()` in jsPsych v7.",currentTrial:"`currentTrial()` was renamed to `getCurrentTrial()` in jsPsych v7.",initSettings:"`initSettings()` was renamed to `getInitSettings()` in jsPsych v7.",allTimelineVariables:"`allTimelineVariables()` was renamed to `getAllTimelineVariables()` in jsPsych v7."}).map(([a,r])=>[a,{get(){throw new qn(r)}}]))),e}N.IMAGE,N.INT,N.INT,N.INT,N.KEYS,N.HTML_STRING,N.BOOL;N.AUDIO,N.STRING,N.HTML_STRING,N.HTML_STRING,N.INT,N.STRING,N.STRING,N.BOOL,N.BOOL,N.BOOL;N.AUDIO,N.KEYS,N.HTML_STRING,N.INT,N.BOOL,N.BOOL,N.BOOL;N.AUDIO,N.INT,N.INT,N.INT,N.INT,N.HTML_STRING,N.INT,N.STRING,N.BOOL,N.HTML_STRING,N.INT,N.BOOL,N.BOOL,N.BOOL;N.STRING,N.STRING,N.INT,N.BOOL,N.INT,N.INT,N.HTML_STRING,N.STRING,N.FUNCTION,N.FUNCTION;N.FUNCTION,N.BOOL;N.FUNCTION,N.STRING,N.HTML_STRING,N.HTML_STRING,N.INT,N.INT,N.STRING,N.STRING,N.BOOL,N.INT;N.FUNCTION,N.KEYS,N.HTML_STRING,N.INT,N.INT,N.BOOL,N.INT;N.FUNCTION,N.INT,N.INT,N.INT,N.INT,N.HTML_STRING,N.INT,N.STRING,N.BOOL,N.HTML_STRING,N.INT,N.INT,N.BOOL,N.INT;N.IMAGE,N.KEY,N.KEYS,N.HTML_STRING,N.HTML_STRING,N.HTML_STRING,N.INT,N.INT,N.BOOL,N.INT,N.HTML_STRING,N.BOOL;N.HTML_STRING,N.KEY,N.KEYS,N.HTML_STRING,N.HTML_STRING,N.HTML_STRING,N.HTML_STRING,N.BOOL,N.BOOL,N.BOOL,N.HTML_STRING,N.INT,N.INT,N.INT;N.IMAGE,N.KEY,N.KEYS,N.HTML_STRING,N.HTML_STRING,N.HTML_STRING,N.HTML_STRING,N.BOOL,N.BOOL,N.BOOL,N.HTML_STRING,N.INT,N.INT,N.INT;N.HTML_STRING,N.STRING,N.BOOL,N.BOOL,N.FUNCTION;N.STRING,N.KEY,N.STRING,N.FUNCTION,N.BOOL,N.BOOL;N.IMAGE,N.INT,N.INT,N.FLOAT,N.INT,N.INT,N.SELECT,N.HTML_STRING,N.SELECT,N.STRING,N.BOOL,N.STRING,N.STRING,N.INT,N.HTML_STRING,N.HTML_STRING,N.BOOL,N.FLOAT;const wb={name:"fullscreen",parameters:{fullscreen_mode:{type:N.BOOL,pretty_name:"Fullscreen mode",default:!0,array:!1},message:{type:N.HTML_STRING,pretty_name:"Message",default:"<p>The experiment will switch to full screen mode when you press the button below</p>",array:!1},button_label:{type:N.STRING,pretty_name:"Button label",default:"Continue",array:!1},delay_after:{type:N.INT,pretty_name:"Delay after",default:1e3,array:!1}}};class Ob{constructor(e){this.jsPsych=e,this.rt=null,this.start_time=0}trial(e,n){var a=typeof Element<"u"&&"ALLOW_KEYBOARD_INPUT"in Element;a?this.endTrial(e,!1,n):n.fullscreen_mode?this.showDisplay(e,n):(this.exitFullScreen(),this.endTrial(e,!0,n))}showDisplay(e,n){e.innerHTML=`
      ${n.message}
      <button id="jspsych-fullscreen-btn" class="jspsych-btn">${n.button_label}</button>
    `,e.querySelector("#jspsych-fullscreen-btn").addEventListener("click",()=>{this.rt=Math.round(performance.now()-this.start_time),this.enterFullScreen(),this.endTrial(e,!0,n)}),this.start_time=performance.now()}endTrial(e,n,a){e.innerHTML="",this.jsPsych.pluginAPI.setTimeout(()=>{var r={success:n,rt:this.rt};this.jsPsych.finishTrial(r)},a.delay_after)}enterFullScreen(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}exitFullScreen(){(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())}simulate(e,n,a,r){n=="data-only"&&(r(),this.simulate_data_only(e,a)),n=="visual"&&this.simulate_visual(e,a,r)}create_simulation_data(e,n){const r={success:!0,rt:this.jsPsych.randomization.sampleExGaussian(1e3,100,.005,!0)};return this.jsPsych.pluginAPI.mergeSimulationData(r,n)}simulate_data_only(e,n){const a=this.create_simulation_data(e,n);this.jsPsych.finishTrial(a)}simulate_visual(e,n,a){const r=this.create_simulation_data(e,n),t=this.jsPsych.getDisplayElement();r.success===!1?this.endTrial(t,!1,e):(this.trial(t,e),a(),this.jsPsych.pluginAPI.clickTarget(t.querySelector("#jspsych-fullscreen-btn"),r.rt))}}Ob.info=wb;N.HTML_STRING,N.INT,N.INT,N.BOOL,N.STRING,N.STRING,N.STRING,N.BOOL,N.BOOL;N.HTML_STRING,N.STRING,N.HTML_STRING,N.HTML_STRING,N.INT,N.INT,N.STRING,N.STRING,N.BOOL;const Ib={name:"html-keyboard-response",parameters:{stimulus:{type:N.HTML_STRING,pretty_name:"Stimulus",default:void 0},choices:{type:N.KEYS,pretty_name:"Choices",default:"ALL_KEYS"},prompt:{type:N.HTML_STRING,pretty_name:"Prompt",default:null},stimulus_duration:{type:N.INT,pretty_name:"Stimulus duration",default:null},trial_duration:{type:N.INT,pretty_name:"Trial duration",default:null},response_ends_trial:{type:N.BOOL,pretty_name:"Response ends trial",default:!0}}};class Ab{constructor(e){this.jsPsych=e}trial(e,n){var a='<div id="jspsych-html-keyboard-response-stimulus">'+n.stimulus+"</div>";n.prompt!==null&&(a+=n.prompt),e.innerHTML=a;var r={rt:null,key:null};const t=()=>{this.jsPsych.pluginAPI.clearAllTimeouts(),typeof C<"u"&&this.jsPsych.pluginAPI.cancelKeyboardResponse(C);var M={rt:r.rt,stimulus:n.stimulus,response:r.key};e.innerHTML="",this.jsPsych.finishTrial(M)};var d=M=>{e.querySelector("#jspsych-html-keyboard-response-stimulus").className+=" responded",r.key==null&&(r=M),n.response_ends_trial&&t()};if(n.choices!="NO_KEYS")var C=this.jsPsych.pluginAPI.getKeyboardResponse({callback_function:d,valid_responses:n.choices,rt_method:"performance",persist:!1,allow_held_key:!1});n.stimulus_duration!==null&&this.jsPsych.pluginAPI.setTimeout(()=>{e.querySelector("#jspsych-html-keyboard-response-stimulus").style.visibility="hidden"},n.stimulus_duration),n.trial_duration!==null&&this.jsPsych.pluginAPI.setTimeout(t,n.trial_duration)}simulate(e,n,a,r){n=="data-only"&&(r(),this.simulate_data_only(e,a)),n=="visual"&&this.simulate_visual(e,a,r)}create_simulation_data(e,n){const a={stimulus:e.stimulus,rt:this.jsPsych.randomization.sampleExGaussian(500,50,.006666666666666667,!0),response:this.jsPsych.pluginAPI.getValidKey(e.choices)},r=this.jsPsych.pluginAPI.mergeSimulationData(a,n);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(e,r),r}simulate_data_only(e,n){const a=this.create_simulation_data(e,n);this.jsPsych.finishTrial(a)}simulate_visual(e,n,a){const r=this.create_simulation_data(e,n),t=this.jsPsych.getDisplayElement();this.trial(t,e),a(),r.rt!==null&&this.jsPsych.pluginAPI.pressKey(r.response,r.rt)}}Ab.info=Ib;N.HTML_STRING,N.INT,N.INT,N.INT,N.INT,N.HTML_STRING,N.INT,N.STRING,N.BOOL,N.HTML_STRING,N.INT,N.INT,N.BOOL;N.HTML_STRING,N.INT,N.INT,N.BOOL,N.STRING,N.STRING,N.STRING,N.BOOL,N.BOOL;N.HTML_STRING,N.KEY,N.KEY,N.STRING,N.STRING,N.KEYS,N.BOOL,N.HTML_STRING,N.HTML_STRING,N.BOOL,N.SELECT,N.BOOL,N.INT;N.IMAGE,N.KEY,N.KEY,N.STRING,N.STRING,N.KEYS,N.BOOL,N.HTML_STRING,N.HTML_STRING,N.BOOL,N.SELECT,N.BOOL,N.INT;N.IMAGE,N.INT,N.INT,N.BOOL,N.STRING,N.HTML_STRING,N.HTML_STRING,N.INT,N.INT,N.STRING,N.STRING,N.BOOL,N.BOOL;N.IMAGE,N.INT,N.INT,N.BOOL,N.KEYS,N.HTML_STRING,N.INT,N.INT,N.BOOL,N.BOOL;N.IMAGE,N.INT,N.INT,N.BOOL,N.INT,N.INT,N.INT,N.INT,N.HTML_STRING,N.INT,N.STRING,N.BOOL,N.HTML_STRING,N.INT,N.INT,N.BOOL,N.BOOL;N.HTML_STRING,N.STRING,N.BOOL,N.INT,N.INT,N.STRING;N.HTML_STRING,N.STRING;N.HTML_STRING,N.KEY,N.KEY,N.BOOL,N.BOOL,N.BOOL,N.BOOL,N.STRING,N.STRING,N.STRING;N.STRING,N.STRING,N.BOOL,N.HTML_STRING,N.STRING,N.BOOL;N.HTML_STRING,N.STRING,N.INT,N.INT,N.BOOL;N.BOOL,N.TIMELINE,N.STRING,N.STRING,N.STRING,N.HTML_STRING,N.BOOL,N.BOOL,N.HTML_STRING,N.BOOL,N.INT,N.FUNCTION,N.FUNCTION;N.FUNCTION,N.FLOAT,N.FLOAT,N.KEY,N.KEY,N.STRING;N.INT,N.INT,N.HTML_STRING,N.INT,N.INT,N.STRING;N.HTML_STRING,N.SELECT,N.KEY,N.KEY,N.INT,N.INT,N.INT,N.HTML_STRING;N.IMAGE,N.SELECT,N.KEY,N.KEY,N.INT,N.INT,N.INT,N.HTML_STRING;N.BOOL,N.INT,N.KEYS,N.INT,N.STRING,N.BOOL,N.INT,N.INT,N.BOOL,N.INT,N.INT,N.HTML_STRING;N.BOOL,N.INT,N.INT,N.STRING,N.BOOL,N.INT,N.INT,N.INT,N.BOOL,N.HTML_STRING;N.STRING,N.INT,N.INT,N.INT,N.INT,N.STRING,N.IMAGE,N.STRING,N.INT,N.STRING,N.STRING,N.HTML_STRING,N.STRING,N.BOOL,N.BOOL,N.KEY,N.BOOL,N.STRING,N.BOOL,N.STRING,N.BOOL,N.STRING,N.BOOL,N.STRING,N.KEYS,N.INT,N.BOOL,N.HTML_STRING;var Db=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Lb={exports:{}},jo={exports:{}};/*!
 * Knockout JavaScript library v3.5.1
 * (c) The Knockout.js team - http://knockoutjs.com/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */var kc;function Vb(){return kc||(kc=1,function(s,e){(function(){(function(n){var a=this||(0,eval)("this"),r=a.document,t=a.navigator,d=a.jQuery,C=a.JSON;d||typeof jQuery>"u"||(d=jQuery),function(M){M(s.exports||e)}(function(M,w){function S(l,o){return l===null||typeof l in p?l===o:!1}function x(l,o){var v;return function(){v||(v=i.a.setTimeout(function(){v=n,l()},o))}}function h(l,o){var v;return function(){clearTimeout(v),v=i.a.setTimeout(l,o)}}function u(l,o){o&&o!=="change"?o==="beforeChange"?this.pc(l):this.gb(l,o):this.qc(l)}function g(l,o){o!==null&&o.s&&o.s()}function f(l,o){var v=this.qd,T=v[b];T.ra||(this.Qb&&this.mb[o]?(v.uc(o,l,this.mb[o]),this.mb[o]=null,--this.Qb):T.I[o]||v.uc(o,l,T.J?{da:l}:v.$c(l)),l.Ja&&l.gd())}var i=typeof M<"u"?M:{};i.b=function(l,o){for(var v=l.split("."),T=i,L=0;L<v.length-1;L++)T=T[v[L]];T[v[v.length-1]]=o},i.L=function(l,o,v){l[o]=v},i.version="3.5.1",i.b("version",i.version),i.options={deferUpdates:!1,useOnlyNativeEvents:!1,foreachHidesDestroyed:!1},i.a=function(){function l(j,G){for(var X in j)L.call(j,X)&&G(X,j[X])}function o(j,G){if(G)for(var X in G)L.call(G,X)&&(j[X]=G[X]);return j}function v(j,G){return j.__proto__=G,j}function T(j,G,X,ne){var le=j[G].match(q)||[];i.a.D(X.match(q),function(ie){i.a.Na(le,ie,ne)}),j[G]=le.join(" ")}var L=Object.prototype.hasOwnProperty,V={__proto__:[]}instanceof Array,_=typeof Symbol=="function",B={},k={};B[t&&/Firefox\/2/i.test(t.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],B.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),l(B,function(j,G){if(G.length)for(var X=0,ne=G.length;X<ne;X++)k[G[X]]=j});var U={propertychange:!0},K=r&&function(){for(var j=3,G=r.createElement("div"),X=G.getElementsByTagName("i");G.innerHTML="<!--[if gt IE "+ ++j+"]><i></i><![endif]-->",X[0];);return 4<j?j:n}(),q=/\S+/g,Z;return{Jc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],D:function(j,G,X){for(var ne=0,le=j.length;ne<le;ne++)G.call(X,j[ne],ne,j)},A:typeof Array.prototype.indexOf=="function"?function(j,G){return Array.prototype.indexOf.call(j,G)}:function(j,G){for(var X=0,ne=j.length;X<ne;X++)if(j[X]===G)return X;return-1},Lb:function(j,G,X){for(var ne=0,le=j.length;ne<le;ne++)if(G.call(X,j[ne],ne,j))return j[ne];return n},Pa:function(j,G){var X=i.a.A(j,G);0<X?j.splice(X,1):X===0&&j.shift()},wc:function(j){var G=[];return j&&i.a.D(j,function(X){0>i.a.A(G,X)&&G.push(X)}),G},Mb:function(j,G,X){var ne=[];if(j)for(var le=0,ie=j.length;le<ie;le++)ne.push(G.call(X,j[le],le));return ne},jb:function(j,G,X){var ne=[];if(j)for(var le=0,ie=j.length;le<ie;le++)G.call(X,j[le],le)&&ne.push(j[le]);return ne},Nb:function(j,G){if(G instanceof Array)j.push.apply(j,G);else for(var X=0,ne=G.length;X<ne;X++)j.push(G[X]);return j},Na:function(j,G,X){var ne=i.a.A(i.a.bc(j),G);0>ne?X&&j.push(G):X||j.splice(ne,1)},Ba:V,extend:o,setPrototypeOf:v,Ab:V?v:o,P:l,Ga:function(j,G,X){if(!j)return j;var ne={},le;for(le in j)L.call(j,le)&&(ne[le]=G.call(X,j[le],le,j));return ne},Tb:function(j){for(;j.firstChild;)i.removeNode(j.firstChild)},Yb:function(j){j=i.a.la(j);for(var G=(j[0]&&j[0].ownerDocument||r).createElement("div"),X=0,ne=j.length;X<ne;X++)G.appendChild(i.oa(j[X]));return G},Ca:function(j,G){for(var X=0,ne=j.length,le=[];X<ne;X++){var ie=j[X].cloneNode(!0);le.push(G?i.oa(ie):ie)}return le},va:function(j,G){if(i.a.Tb(j),G)for(var X=0,ne=G.length;X<ne;X++)j.appendChild(G[X])},Xc:function(j,G){var X=j.nodeType?[j]:j;if(0<X.length){for(var ne=X[0],le=ne.parentNode,ie=0,Y=G.length;ie<Y;ie++)le.insertBefore(G[ie],ne);for(ie=0,Y=X.length;ie<Y;ie++)i.removeNode(X[ie])}},Ua:function(j,G){if(j.length){for(G=G.nodeType===8&&G.parentNode||G;j.length&&j[0].parentNode!==G;)j.splice(0,1);for(;1<j.length&&j[j.length-1].parentNode!==G;)j.length--;if(1<j.length){var X=j[0],ne=j[j.length-1];for(j.length=0;X!==ne;)j.push(X),X=X.nextSibling;j.push(ne)}}return j},Zc:function(j,G){7>K?j.setAttribute("selected",G):j.selected=G},Db:function(j){return j===null||j===n?"":j.trim?j.trim():j.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Ud:function(j,G){return j=j||"",G.length>j.length?!1:j.substring(0,G.length)===G},vd:function(j,G){if(j===G)return!0;if(j.nodeType===11)return!1;if(G.contains)return G.contains(j.nodeType!==1?j.parentNode:j);if(G.compareDocumentPosition)return(G.compareDocumentPosition(j)&16)==16;for(;j&&j!=G;)j=j.parentNode;return!!j},Sb:function(j){return i.a.vd(j,j.ownerDocument.documentElement)},kd:function(j){return!!i.a.Lb(j,i.a.Sb)},R:function(j){return j&&j.tagName&&j.tagName.toLowerCase()},Ac:function(j){return i.onError?function(){try{return j.apply(this,arguments)}catch(G){throw i.onError&&i.onError(G),G}}:j},setTimeout:function(j,G){return setTimeout(i.a.Ac(j),G)},Gc:function(j){setTimeout(function(){throw i.onError&&i.onError(j),j},0)},B:function(j,G,X){var ne=i.a.Ac(X);if(X=U[G],i.options.useOnlyNativeEvents||X||!d)if(X||typeof j.addEventListener!="function")if(typeof j.attachEvent<"u"){var le=function(Y){ne.call(j,Y)},ie="on"+G;j.attachEvent(ie,le),i.a.K.za(j,function(){j.detachEvent(ie,le)})}else throw Error("Browser doesn't support addEventListener or attachEvent");else j.addEventListener(G,ne,!1);else Z||(Z=typeof d(j).on=="function"?"on":"bind"),d(j)[Z](G,ne)},Fb:function(j,G){if(!j||!j.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var X;if(i.a.R(j)==="input"&&j.type&&G.toLowerCase()=="click"?(X=j.type,X=X=="checkbox"||X=="radio"):X=!1,i.options.useOnlyNativeEvents||!d||X)if(typeof r.createEvent=="function")if(typeof j.dispatchEvent=="function")X=r.createEvent(k[G]||"HTMLEvents"),X.initEvent(G,!0,!0,a,0,0,0,0,0,!1,!1,!1,!1,0,j),j.dispatchEvent(X);else throw Error("The supplied element doesn't support dispatchEvent");else if(X&&j.click)j.click();else if(typeof j.fireEvent<"u")j.fireEvent("on"+G);else throw Error("Browser doesn't support triggering events");else d(j).trigger(G)},f:function(j){return i.O(j)?j():j},bc:function(j){return i.O(j)?j.v():j},Eb:function(j,G,X){var ne;G&&(typeof j.classList=="object"?(ne=j.classList[X?"add":"remove"],i.a.D(G.match(q),function(le){ne.call(j.classList,le)})):typeof j.className.baseVal=="string"?T(j.className,"baseVal",G,X):T(j,"className",G,X))},Bb:function(j,G){var X=i.a.f(G);(X===null||X===n)&&(X="");var ne=i.h.firstChild(j);!ne||ne.nodeType!=3||i.h.nextSibling(ne)?i.h.va(j,[j.ownerDocument.createTextNode(X)]):ne.data=X,i.a.Ad(j)},Yc:function(j,G){if(j.name=G,7>=K)try{var X=j.name.replace(/[&<>'"]/g,function(ne){return"&#"+ne.charCodeAt(0)+";"});j.mergeAttributes(r.createElement("<input name='"+X+"'/>"),!1)}catch{}},Ad:function(j){9<=K&&(j=j.nodeType==1?j:j.parentNode,j.style&&(j.style.zoom=j.style.zoom))},wd:function(j){if(K){var G=j.style.width;j.style.width=0,j.style.width=G}},Pd:function(j,G){j=i.a.f(j),G=i.a.f(G);for(var X=[],ne=j;ne<=G;ne++)X.push(ne);return X},la:function(j){for(var G=[],X=0,ne=j.length;X<ne;X++)G.push(j[X]);return G},Da:function(j){return _?Symbol(j):j},Zd:K===6,$d:K===7,W:K,Lc:function(j,G){for(var X=i.a.la(j.getElementsByTagName("input")).concat(i.a.la(j.getElementsByTagName("textarea"))),ne=typeof G=="string"?function(Y){return Y.name===G}:function(Y){return G.test(Y.name)},le=[],ie=X.length-1;0<=ie;ie--)ne(X[ie])&&le.push(X[ie]);return le},Nd:function(j){return typeof j=="string"&&(j=i.a.Db(j))?C&&C.parse?C.parse(j):new Function("return "+j)():null},hc:function(j,G,X){if(!C||!C.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return C.stringify(i.a.f(j),G,X)},Od:function(j,G,X){X=X||{};var ne=X.params||{},le=X.includeFields||this.Jc,ie=j;if(typeof j=="object"&&i.a.R(j)==="form")for(var ie=j.action,Y=le.length-1;0<=Y;Y--)for(var Q=i.a.Lc(j,le[Y]),J=Q.length-1;0<=J;J--)ne[Q[J].name]=Q[J].value;G=i.a.f(G);var re=r.createElement("form");re.style.display="none",re.action=ie,re.method="post";for(var ae in G)j=r.createElement("input"),j.type="hidden",j.name=ae,j.value=i.a.hc(i.a.f(G[ae])),re.appendChild(j);l(ne,function(ce,ve){var $=r.createElement("input");$.type="hidden",$.name=ce,$.value=ve,re.appendChild($)}),r.body.appendChild(re),X.submitter?X.submitter(re):re.submit(),setTimeout(function(){re.parentNode.removeChild(re)},0)}}}(),i.b("utils",i.a),i.b("utils.arrayForEach",i.a.D),i.b("utils.arrayFirst",i.a.Lb),i.b("utils.arrayFilter",i.a.jb),i.b("utils.arrayGetDistinctValues",i.a.wc),i.b("utils.arrayIndexOf",i.a.A),i.b("utils.arrayMap",i.a.Mb),i.b("utils.arrayPushAll",i.a.Nb),i.b("utils.arrayRemoveItem",i.a.Pa),i.b("utils.cloneNodes",i.a.Ca),i.b("utils.createSymbolOrString",i.a.Da),i.b("utils.extend",i.a.extend),i.b("utils.fieldsIncludedWithJsonPost",i.a.Jc),i.b("utils.getFormFields",i.a.Lc),i.b("utils.objectMap",i.a.Ga),i.b("utils.peekObservable",i.a.bc),i.b("utils.postJson",i.a.Od),i.b("utils.parseJson",i.a.Nd),i.b("utils.registerEventHandler",i.a.B),i.b("utils.stringifyJson",i.a.hc),i.b("utils.range",i.a.Pd),i.b("utils.toggleDomNodeCssClass",i.a.Eb),i.b("utils.triggerEvent",i.a.Fb),i.b("utils.unwrapObservable",i.a.f),i.b("utils.objectForEach",i.a.P),i.b("utils.addOrRemoveItem",i.a.Na),i.b("utils.setTextContent",i.a.Bb),i.b("unwrap",i.a.f),Function.prototype.bind||(Function.prototype.bind=function(l){var o=this;if(arguments.length===1)return function(){return o.apply(l,arguments)};var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice(0);return T.push.apply(T,arguments),o.apply(l,T)}}),i.a.g=new function(){var l=0,o="__ko__"+new Date().getTime(),v={},T,L;return i.a.W?(T=function(V,_){var B=V[o];if(!B||B==="null"||!v[B]){if(!_)return n;B=V[o]="ko"+l++,v[B]={}}return v[B]},L=function(V){var _=V[o];return _?(delete v[_],V[o]=null,!0):!1}):(T=function(V,_){var B=V[o];return!B&&_&&(B=V[o]={}),B},L=function(V){return V[o]?(delete V[o],!0):!1}),{get:function(V,_){var B=T(V,!1);return B&&B[_]},set:function(V,_,B){(V=T(V,B!==n))&&(V[_]=B)},Ub:function(V,_,B){return V=T(V,!0),V[_]||(V[_]=B)},clear:L,Z:function(){return l+++o}}},i.b("utils.domData",i.a.g),i.b("utils.domData.clear",i.a.g.clear),i.a.K=new function(){function l(_,B){var k=i.a.g.get(_,T);return k===n&&B&&(k=[],i.a.g.set(_,T,k)),k}function o(_){var B=l(_,!1);if(B)for(var B=B.slice(0),k=0;k<B.length;k++)B[k](_);i.a.g.clear(_),i.a.K.cleanExternalData(_),V[_.nodeType]&&v(_.childNodes,!0)}function v(_,B){for(var k=[],U,K=0;K<_.length;K++)if((!B||_[K].nodeType===8)&&(o(k[k.length]=U=_[K]),_[K]!==U))for(;K--&&i.a.A(k,_[K])==-1;);}var T=i.a.g.Z(),L={1:!0,8:!0,9:!0},V={1:!0,9:!0};return{za:function(_,B){if(typeof B!="function")throw Error("Callback must be a function");l(_,!0).push(B)},yb:function(_,B){var k=l(_,!1);k&&(i.a.Pa(k,B),k.length==0&&i.a.g.set(_,T,n))},oa:function(_){return i.u.G(function(){L[_.nodeType]&&(o(_),V[_.nodeType]&&v(_.getElementsByTagName("*")))}),_},removeNode:function(_){i.oa(_),_.parentNode&&_.parentNode.removeChild(_)},cleanExternalData:function(_){d&&typeof d.cleanData=="function"&&d.cleanData([_])}}},i.oa=i.a.K.oa,i.removeNode=i.a.K.removeNode,i.b("cleanNode",i.oa),i.b("removeNode",i.removeNode),i.b("utils.domNodeDisposal",i.a.K),i.b("utils.domNodeDisposal.addDisposeCallback",i.a.K.za),i.b("utils.domNodeDisposal.removeDisposeCallback",i.a.K.yb),function(){var l=[0,"",""],o=[1,"<table>","</table>"],v=[3,"<table><tbody><tr>","</tr></tbody></table>"],T=[1,"<select multiple='multiple'>","</select>"],L={thead:o,tbody:o,tfoot:o,tr:[2,"<table><tbody>","</tbody></table>"],td:v,th:v,option:T,optgroup:T},V=8>=i.a.W;i.a.ua=function(_,B){var k;if(d){if(d.parseHTML)k=d.parseHTML(_,B)||[];else if((k=d.clean([_],B))&&k[0]){for(var U=k[0];U.parentNode&&U.parentNode.nodeType!==11;)U=U.parentNode;U.parentNode&&U.parentNode.removeChild(U)}}else{(k=B)||(k=r);var U=k.parentWindow||k.defaultView||a,K=i.a.Db(_).toLowerCase(),q=k.createElement("div"),Z;for(Z=(K=K.match(/^(?:\x3c!--.*?--\x3e\s*?)*?<([a-z]+)[\s>]/))&&L[K[1]]||l,K=Z[0],Z="ignored<div>"+Z[1]+_+Z[2]+"</div>",typeof U.innerShiv=="function"?q.appendChild(U.innerShiv(Z)):(V&&k.body.appendChild(q),q.innerHTML=Z,V&&q.parentNode.removeChild(q));K--;)q=q.lastChild;k=i.a.la(q.lastChild.childNodes)}return k},i.a.Md=function(_,B){var k=i.a.ua(_,B);return k.length&&k[0].parentElement||i.a.Yb(k)},i.a.fc=function(_,B){if(i.a.Tb(_),B=i.a.f(B),B!==null&&B!==n)if(typeof B!="string"&&(B=B.toString()),d)d(_).html(B);else for(var k=i.a.ua(B,_.ownerDocument),U=0;U<k.length;U++)_.appendChild(k[U])}}(),i.b("utils.parseHtmlFragment",i.a.ua),i.b("utils.setHtml",i.a.fc),i.aa=function(){function l(v,T){if(v){if(v.nodeType==8){var L=i.aa.Uc(v.nodeValue);L!=null&&T.push({ud:v,Kd:L})}else if(v.nodeType==1)for(var L=0,V=v.childNodes,_=V.length;L<_;L++)l(V[L],T)}}var o={};return{Xb:function(v){if(typeof v!="function")throw Error("You can only pass a function to ko.memoization.memoize()");var T=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return o[T]=v,"<!--[ko_memo:"+T+"]-->"},bd:function(v,T){var L=o[v];if(L===n)throw Error("Couldn't find any memo with ID "+v+". Perhaps it's already been unmemoized.");try{return L.apply(null,T||[]),!0}finally{delete o[v]}},cd:function(v,T){var L=[];l(v,L);for(var V=0,_=L.length;V<_;V++){var B=L[V].ud,k=[B];T&&i.a.Nb(k,T),i.aa.bd(L[V].Kd,k),B.nodeValue="",B.parentNode&&B.parentNode.removeChild(B)}},Uc:function(v){return(v=v.match(/^\[ko_memo\:(.*?)\]$/))?v[1]:null}}}(),i.b("memoization",i.aa),i.b("memoization.memoize",i.aa.Xb),i.b("memoization.unmemoize",i.aa.bd),i.b("memoization.parseMemoText",i.aa.Uc),i.b("memoization.unmemoizeDomNodeAndDescendants",i.aa.cd),i.na=function(){function l(){if(L){for(var B=L,k=0,U;_<L;)if(U=T[_++]){if(_>B){if(5e3<=++k){_=L,i.a.Gc(Error("'Too much recursion' after processing "+k+" task groups."));break}B=L}try{U()}catch(K){i.a.Gc(K)}}}}function o(){l(),_=L=T.length=0}var v,T=[],L=0,V=1,_=0;return a.MutationObserver?v=function(B){var k=r.createElement("div");return new MutationObserver(B).observe(k,{attributes:!0}),function(){k.classList.toggle("foo")}}(o):v=r&&"onreadystatechange"in r.createElement("script")?function(B){var k=r.createElement("script");k.onreadystatechange=function(){k.onreadystatechange=null,r.documentElement.removeChild(k),k=null,B()},r.documentElement.appendChild(k)}:function(B){setTimeout(B,0)},{scheduler:v,zb:function(B){return L||i.na.scheduler(o),T[L++]=B,V++},cancel:function(B){B=B-(V-L),B>=_&&B<L&&(T[B]=null)},resetForTesting:function(){var B=L-_;return _=L=T.length=0,B},Sd:l}}(),i.b("tasks",i.na),i.b("tasks.schedule",i.na.zb),i.b("tasks.runEarly",i.na.Sd),i.Ta={throttle:function(l,o){l.throttleEvaluation=o;var v=null;return i.$({read:l,write:function(T){clearTimeout(v),v=i.a.setTimeout(function(){l(T)},o)}})},rateLimit:function(l,o){var v,T,L;typeof o=="number"?v=o:(v=o.timeout,T=o.method),l.Hb=!1,L=typeof T=="function"?T:T=="notifyWhenChangesStop"?h:x,l.ub(function(V){return L(V,v,o)})},deferred:function(l,o){if(o!==!0)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");l.Hb||(l.Hb=!0,l.ub(function(v){var T,L=!1;return function(){if(!L){i.na.cancel(T),T=i.na.zb(v);try{L=!0,l.notifySubscribers(n,"dirty")}finally{L=!1}}}}))},notify:function(l,o){l.equalityComparer=o=="always"?null:S}};var p={undefined:1,boolean:1,number:1,string:1};i.b("extenders",i.Ta),i.ic=function(l,o,v){this.da=l,this.lc=o,this.mc=v,this.Ib=!1,this.fb=this.Jb=null,i.L(this,"dispose",this.s),i.L(this,"disposeWhenNodeIsRemoved",this.l)},i.ic.prototype.s=function(){this.Ib||(this.fb&&i.a.K.yb(this.Jb,this.fb),this.Ib=!0,this.mc(),this.da=this.lc=this.mc=this.Jb=this.fb=null)},i.ic.prototype.l=function(l){this.Jb=l,i.a.K.za(l,this.fb=this.s.bind(this))},i.T=function(){i.a.Ab(this,P),P.qb(this)};var P={qb:function(l){l.U={change:[]},l.sc=1},subscribe:function(l,o,v){var T=this;v=v||"change";var L=new i.ic(T,o?l.bind(o):l,function(){i.a.Pa(T.U[v],L),T.hb&&T.hb(v)});return T.Qa&&T.Qa(v),T.U[v]||(T.U[v]=[]),T.U[v].push(L),L},notifySubscribers:function(l,o){if(o=o||"change",o==="change"&&this.Gb(),this.Wa(o)){var v=o==="change"&&this.ed||this.U[o].slice(0);try{i.u.xc();for(var T=0,L;L=v[T];++T)L.Ib||L.lc(l)}finally{i.u.end()}}},ob:function(){return this.sc},Dd:function(l){return this.ob()!==l},Gb:function(){++this.sc},ub:function(l){var o=this,v=i.O(o),T,L,V,_,B;o.gb||(o.gb=o.notifySubscribers,o.notifySubscribers=u);var k=l(function(){o.Ja=!1,v&&_===o&&(_=o.nc?o.nc():o());var U=L||B&&o.sb(V,_);B=L=T=!1,U&&o.gb(V=_)});o.qc=function(U,K){K&&o.Ja||(B=!K),o.ed=o.U.change.slice(0),o.Ja=T=!0,_=U,k()},o.pc=function(U){T||(V=U,o.gb(U,"beforeChange"))},o.rc=function(){B=!0},o.gd=function(){o.sb(V,o.v(!0))&&(L=!0)}},Wa:function(l){return this.U[l]&&this.U[l].length},Bd:function(l){if(l)return this.U[l]&&this.U[l].length||0;var o=0;return i.a.P(this.U,function(v,T){v!=="dirty"&&(o+=T.length)}),o},sb:function(l,o){return!this.equalityComparer||!this.equalityComparer(l,o)},toString:function(){return"[object Object]"},extend:function(l){var o=this;return l&&i.a.P(l,function(v,T){var L=i.Ta[v];typeof L=="function"&&(o=L(o,T)||o)}),o}};i.L(P,"init",P.qb),i.L(P,"subscribe",P.subscribe),i.L(P,"extend",P.extend),i.L(P,"getSubscriptionsCount",P.Bd),i.a.Ba&&i.a.setPrototypeOf(P,Function.prototype),i.T.fn=P,i.Qc=function(l){return l!=null&&typeof l.subscribe=="function"&&typeof l.notifySubscribers=="function"},i.b("subscribable",i.T),i.b("isSubscribable",i.Qc),i.S=i.u=function(){function l(V){v.push(T),T=V}function o(){T=v.pop()}var v=[],T,L=0;return{xc:l,end:o,cc:function(V){if(T){if(!i.Qc(V))throw Error("Only subscribable things can act as dependencies");T.od.call(T.pd,V,V.fd||(V.fd=++L))}},G:function(V,_,B){try{return l(),V.apply(_,B||[])}finally{o()}},qa:function(){if(T)return T.o.qa()},Va:function(){if(T)return T.o.Va()},Ya:function(){if(T)return T.Ya},o:function(){if(T)return T.o}}}(),i.b("computedContext",i.S),i.b("computedContext.getDependenciesCount",i.S.qa),i.b("computedContext.getDependencies",i.S.Va),i.b("computedContext.isInitial",i.S.Ya),i.b("computedContext.registerDependency",i.S.cc),i.b("ignoreDependencies",i.Yd=i.u.G);var m=i.a.Da("_latestValue");i.ta=function(l){function o(){return 0<arguments.length?(o.sb(o[m],arguments[0])&&(o.ya(),o[m]=arguments[0],o.xa()),this):(i.u.cc(o),o[m])}return o[m]=l,i.a.Ba||i.a.extend(o,i.T.fn),i.T.fn.qb(o),i.a.Ab(o,y),i.options.deferUpdates&&i.Ta.deferred(o,!0),o};var y={equalityComparer:S,v:function(){return this[m]},xa:function(){this.notifySubscribers(this[m],"spectate"),this.notifySubscribers(this[m])},ya:function(){this.notifySubscribers(this[m],"beforeChange")}};i.a.Ba&&i.a.setPrototypeOf(y,i.T.fn);var R=i.ta.Ma="__ko_proto__";y[R]=i.ta,i.O=function(l){if((l=typeof l=="function"&&l[R])&&l!==y[R]&&l!==i.o.fn[R])throw Error("Invalid object that looks like an observable; possibly from another Knockout instance");return!!l},i.Za=function(l){return typeof l=="function"&&(l[R]===y[R]||l[R]===i.o.fn[R]&&l.Nc)},i.b("observable",i.ta),i.b("isObservable",i.O),i.b("isWriteableObservable",i.Za),i.b("isWritableObservable",i.Za),i.b("observable.fn",y),i.L(y,"peek",y.v),i.L(y,"valueHasMutated",y.xa),i.L(y,"valueWillMutate",y.ya),i.Ha=function(l){if(l=l||[],typeof l!="object"||!("length"in l))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return l=i.ta(l),i.a.Ab(l,i.Ha.fn),l.extend({trackArrayChanges:!0})},i.Ha.fn={remove:function(l){for(var o=this.v(),v=[],T=typeof l!="function"||i.O(l)?function(_){return _===l}:l,L=0;L<o.length;L++){var V=o[L];if(T(V)){if(v.length===0&&this.ya(),o[L]!==V)throw Error("Array modified during remove; cannot remove item");v.push(V),o.splice(L,1),L--}}return v.length&&this.xa(),v},removeAll:function(l){if(l===n){var o=this.v(),v=o.slice(0);return this.ya(),o.splice(0,o.length),this.xa(),v}return l?this.remove(function(T){return 0<=i.a.A(l,T)}):[]},destroy:function(l){var o=this.v(),v=typeof l!="function"||i.O(l)?function(V){return V===l}:l;this.ya();for(var T=o.length-1;0<=T;T--){var L=o[T];v(L)&&(L._destroy=!0)}this.xa()},destroyAll:function(l){return l===n?this.destroy(function(){return!0}):l?this.destroy(function(o){return 0<=i.a.A(l,o)}):[]},indexOf:function(l){var o=this();return i.a.A(o,l)},replace:function(l,o){var v=this.indexOf(l);0<=v&&(this.ya(),this.v()[v]=o,this.xa())},sorted:function(l){var o=this().slice(0);return l?o.sort(l):o.sort()},reversed:function(){return this().slice(0).reverse()}},i.a.Ba&&i.a.setPrototypeOf(i.Ha.fn,i.ta.fn),i.a.D("pop push reverse shift sort splice unshift".split(" "),function(l){i.Ha.fn[l]=function(){var o=this.v();this.ya(),this.zc(o,l,arguments);var v=o[l].apply(o,arguments);return this.xa(),v===o?this:v}}),i.a.D(["slice"],function(l){i.Ha.fn[l]=function(){var o=this();return o[l].apply(o,arguments)}}),i.Pc=function(l){return i.O(l)&&typeof l.remove=="function"&&typeof l.push=="function"},i.b("observableArray",i.Ha),i.b("isObservableArray",i.Pc),i.Ta.trackArrayChanges=function(l,o){function v(){function q(){if(B){var Z=[].concat(l.v()||[]),j;l.Wa("arrayChange")&&((!L||1<B)&&(L=i.a.Pb(k,Z,l.Ob)),j=L),k=Z,L=null,B=0,j&&j.length&&l.notifySubscribers(j,"arrayChange")}}T?q():(T=!0,_=l.subscribe(function(){++B},null,"spectate"),k=[].concat(l.v()||[]),L=null,V=l.subscribe(q))}if(l.Ob={},o&&typeof o=="object"&&i.a.extend(l.Ob,o),l.Ob.sparse=!0,!l.zc){var T=!1,L=null,V,_,B=0,k,U=l.Qa,K=l.hb;l.Qa=function(q){U&&U.call(l,q),q==="arrayChange"&&v()},l.hb=function(q){K&&K.call(l,q),q!=="arrayChange"||l.Wa("arrayChange")||(V&&V.s(),_&&_.s(),_=V=null,T=!1,k=n)},l.zc=function(q,Z,j){function G(re,ae,ce){return X[X.length]={status:re,value:ae,index:ce}}if(T&&!B){var X=[],ne=q.length,le=j.length,ie=0;switch(Z){case"push":ie=ne;case"unshift":for(Z=0;Z<le;Z++)G("added",j[Z],ie+Z);break;case"pop":ie=ne-1;case"shift":ne&&G("deleted",q[ie],ie);break;case"splice":Z=Math.min(Math.max(0,0>j[0]?ne+j[0]:j[0]),ne);for(var ne=le===1?ne:Math.min(Z+(j[1]||0),ne),le=Z+le-2,ie=Math.max(ne,le),Y=[],Q=[],J=2;Z<ie;++Z,++J)Z<ne&&Q.push(G("deleted",q[Z],Z)),Z<le&&Y.push(G("added",j[J],Z));i.a.Kc(Q,Y);break;default:return}L=X}}}};var b=i.a.Da("_state");i.o=i.$=function(l,o,v){function T(){if(0<arguments.length){if(typeof L=="function")L.apply(V.nb,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}return V.ra||i.u.cc(T),(V.ka||V.J&&T.Xa())&&T.ha(),V.X}if(typeof l=="object"?v=l:(v=v||{},l&&(v.read=l)),typeof v.read!="function")throw Error("Pass a function that returns the value of the ko.computed");var L=v.write,V={X:n,sa:!0,ka:!0,rb:!1,jc:!1,ra:!1,wb:!1,J:!1,Wc:v.read,nb:o||v.owner,l:v.disposeWhenNodeIsRemoved||v.l||null,Sa:v.disposeWhen||v.Sa,Rb:null,I:{},V:0,Ic:null};return T[b]=V,T.Nc=typeof L=="function",i.a.Ba||i.a.extend(T,i.T.fn),i.T.fn.qb(T),i.a.Ab(T,c),v.pure?(V.wb=!0,V.J=!0,i.a.extend(T,E)):v.deferEvaluation&&i.a.extend(T,I),i.options.deferUpdates&&i.Ta.deferred(T,!0),V.l&&(V.jc=!0,V.l.nodeType||(V.l=null)),V.J||v.deferEvaluation||T.ha(),V.l&&T.ja()&&i.a.K.za(V.l,V.Rb=function(){T.s()}),T};var c={equalityComparer:S,qa:function(){return this[b].V},Va:function(){var l=[];return i.a.P(this[b].I,function(o,v){l[v.Ka]=v.da}),l},Vb:function(l){if(!this[b].V)return!1;var o=this.Va();return i.a.A(o,l)!==-1?!0:!!i.a.Lb(o,function(v){return v.Vb&&v.Vb(l)})},uc:function(l,o,v){if(this[b].wb&&o===this)throw Error("A 'pure' computed must not be called recursively");this[b].I[l]=v,v.Ka=this[b].V++,v.La=o.ob()},Xa:function(){var l,o,v=this[b].I;for(l in v)if(Object.prototype.hasOwnProperty.call(v,l)&&(o=v[l],this.Ia&&o.da.Ja||o.da.Dd(o.La)))return!0},Jd:function(){this.Ia&&!this[b].rb&&this.Ia(!1)},ja:function(){var l=this[b];return l.ka||0<l.V},Rd:function(){this.Ja?this[b].ka&&(this[b].sa=!0):this.Hc()},$c:function(l){if(l.Hb){var o=l.subscribe(this.Jd,this,"dirty"),v=l.subscribe(this.Rd,this);return{da:l,s:function(){o.s(),v.s()}}}return l.subscribe(this.Hc,this)},Hc:function(){var l=this,o=l.throttleEvaluation;o&&0<=o?(clearTimeout(this[b].Ic),this[b].Ic=i.a.setTimeout(function(){l.ha(!0)},o)):l.Ia?l.Ia(!0):l.ha(!0)},ha:function(l){var o=this[b],v=o.Sa,T=!1;if(!o.rb&&!o.ra){if(o.l&&!i.a.Sb(o.l)||v&&v()){if(!o.jc){this.s();return}}else o.jc=!1;o.rb=!0;try{T=this.zd(l)}finally{o.rb=!1}return T}},zd:function(l){var o=this[b],T=!1,v=o.wb?n:!o.V,T={qd:this,mb:o.I,Qb:o.V};i.u.xc({pd:T,od:f,o:this,Ya:v}),o.I={},o.V=0;var L=this.yd(o,T);return o.V?T=this.sb(o.X,L):(this.s(),T=!0),T&&(o.J?this.Gb():this.notifySubscribers(o.X,"beforeChange"),o.X=L,this.notifySubscribers(o.X,"spectate"),!o.J&&l&&this.notifySubscribers(o.X),this.rc&&this.rc()),v&&this.notifySubscribers(o.X,"awake"),T},yd:function(l,o){try{var v=l.Wc;return l.nb?v.call(l.nb):v()}finally{i.u.end(),o.Qb&&!l.J&&i.a.P(o.mb,g),l.sa=l.ka=!1}},v:function(l){var o=this[b];return(o.ka&&(l||!o.V)||o.J&&this.Xa())&&this.ha(),o.X},ub:function(l){i.T.fn.ub.call(this,l),this.nc=function(){return this[b].J||(this[b].sa?this.ha():this[b].ka=!1),this[b].X},this.Ia=function(o){this.pc(this[b].X),this[b].ka=!0,o&&(this[b].sa=!0),this.qc(this,!o)}},s:function(){var l=this[b];!l.J&&l.I&&i.a.P(l.I,function(o,v){v.s&&v.s()}),l.l&&l.Rb&&i.a.K.yb(l.l,l.Rb),l.I=n,l.V=0,l.ra=!0,l.sa=!1,l.ka=!1,l.J=!1,l.l=n,l.Sa=n,l.Wc=n,this.Nc||(l.nb=n)}},E={Qa:function(l){var o=this,v=o[b];if(!v.ra&&v.J&&l=="change"){if(v.J=!1,v.sa||o.Xa())v.I=null,v.V=0,o.ha()&&o.Gb();else{var T=[];i.a.P(v.I,function(L,V){T[V.Ka]=L}),i.a.D(T,function(L,V){var _=v.I[L],B=o.$c(_.da);B.Ka=V,B.La=_.La,v.I[L]=B}),o.Xa()&&o.ha()&&o.Gb()}v.ra||o.notifySubscribers(v.X,"awake")}},hb:function(l){var o=this[b];o.ra||l!="change"||this.Wa("change")||(i.a.P(o.I,function(v,T){T.s&&(o.I[v]={da:T.da,Ka:T.Ka,La:T.La},T.s())}),o.J=!0,this.notifySubscribers(n,"asleep"))},ob:function(){var l=this[b];return l.J&&(l.sa||this.Xa())&&this.ha(),i.T.fn.ob.call(this)}},I={Qa:function(l){l!="change"&&l!="beforeChange"||this.v()}};i.a.Ba&&i.a.setPrototypeOf(c,i.T.fn);var A=i.ta.Ma;c[A]=i.o,i.Oc=function(l){return typeof l=="function"&&l[A]===c[A]},i.Fd=function(l){return i.Oc(l)&&l[b]&&l[b].wb},i.b("computed",i.o),i.b("dependentObservable",i.o),i.b("isComputed",i.Oc),i.b("isPureComputed",i.Fd),i.b("computed.fn",c),i.L(c,"peek",c.v),i.L(c,"dispose",c.s),i.L(c,"isActive",c.ja),i.L(c,"getDependenciesCount",c.qa),i.L(c,"getDependencies",c.Va),i.xb=function(l,o){return typeof l=="function"?i.o(l,o,{pure:!0}):(l=i.a.extend({},l),l.pure=!0,i.o(l,o))},i.b("pureComputed",i.xb),function(){function l(T,L,V){if(V=V||new v,T=L(T),typeof T!="object"||T===null||T===n||T instanceof RegExp||T instanceof Date||T instanceof String||T instanceof Number||T instanceof Boolean)return T;var _=T instanceof Array?[]:{};return V.save(T,_),o(T,function(B){var k=L(T[B]);switch(typeof k){case"boolean":case"number":case"string":case"function":_[B]=k;break;case"object":case"undefined":var U=V.get(k);_[B]=U!==n?U:l(k,L,V)}}),_}function o(T,L){if(T instanceof Array){for(var V=0;V<T.length;V++)L(V);typeof T.toJSON=="function"&&L("toJSON")}else for(V in T)L(V)}function v(){this.keys=[],this.values=[]}i.ad=function(T){if(arguments.length==0)throw Error("When calling ko.toJS, pass the object you want to convert.");return l(T,function(L){for(var V=0;i.O(L)&&10>V;V++)L=L();return L})},i.toJSON=function(T,L,V){return T=i.ad(T),i.a.hc(T,L,V)},v.prototype={constructor:v,save:function(T,L){var V=i.a.A(this.keys,T);0<=V?this.values[V]=L:(this.keys.push(T),this.values.push(L))},get:function(T){return T=i.a.A(this.keys,T),0<=T?this.values[T]:n}}}(),i.b("toJS",i.ad),i.b("toJSON",i.toJSON),i.Wd=function(l,o,v){function T(L){var V=i.xb(l,v).extend({ma:"always"}),_=V.subscribe(function(B){B&&(_.s(),L(B))});return V.notifySubscribers(V.v()),_}return typeof Promise!="function"||o?T(o.bind(v)):new Promise(T)},i.b("when",i.Wd),function(){i.w={M:function(l){switch(i.a.R(l)){case"option":return l.__ko__hasDomDataOptionValue__===!0?i.a.g.get(l,i.c.options.$b):7>=i.a.W?l.getAttributeNode("value")&&l.getAttributeNode("value").specified?l.value:l.text:l.value;case"select":return 0<=l.selectedIndex?i.w.M(l.options[l.selectedIndex]):n;default:return l.value}},cb:function(l,o,v){switch(i.a.R(l)){case"option":typeof o=="string"?(i.a.g.set(l,i.c.options.$b,n),"__ko__hasDomDataOptionValue__"in l&&delete l.__ko__hasDomDataOptionValue__,l.value=o):(i.a.g.set(l,i.c.options.$b,o),l.__ko__hasDomDataOptionValue__=!0,l.value=typeof o=="number"?o:"");break;case"select":(o===""||o===null)&&(o=n);for(var T=-1,L=0,V=l.options.length,_;L<V;++L)if(_=i.w.M(l.options[L]),_==o||_===""&&o===n){T=L;break}(v||0<=T||o===n&&1<l.size)&&(l.selectedIndex=T,i.a.W===6&&i.a.setTimeout(function(){l.selectedIndex=T},0));break;default:(o===null||o===n)&&(o=""),l.value=o}}}}(),i.b("selectExtensions",i.w),i.b("selectExtensions.readValue",i.w.M),i.b("selectExtensions.writeValue",i.w.cb),i.m=function(){function l(B){B=i.a.Db(B),B.charCodeAt(0)===123&&(B=B.slice(1,-1)),B+=`
,`;var k=[],U=B.match(T),K,q=[],Z=0;if(1<U.length){for(var j=0,G;G=U[j];++j){var X=G.charCodeAt(0);if(X===44){if(0>=Z){k.push(K&&q.length?{key:K,value:q.join("")}:{unknown:K||q.join("")}),K=Z=0,q=[];continue}}else if(X===58){if(!Z&&!K&&q.length===1){K=q.pop();continue}}else{if(X===47&&1<G.length&&(G.charCodeAt(1)===47||G.charCodeAt(1)===42))continue;X===47&&j&&1<G.length?(X=U[j-1].match(L))&&!V[X[0]]&&(B=B.substr(B.indexOf(G)+1),U=B.match(T),j=-1,G="/"):X===40||X===123||X===91?++Z:X===41||X===125||X===93?--Z:K||q.length||X!==34&&X!==39||(G=G.slice(1,-1))}q.push(G)}if(0<Z)throw Error("Unbalanced parentheses, braces, or brackets")}return k}var o=["true","false","null","undefined"],v=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,T=RegExp(`"(?:\\\\.|[^"])*"|'(?:\\\\.|[^'])*'|\`(?:\\\\.|[^\`])*\`|/\\*(?:[^*]|\\*+[^*/])*\\*+/|//.*
|/(?:\\\\.|[^/])+/w*|[^\\s:,/][^,"'\`{}()/:[\\]]*[^\\s,"'\`{}()/:[\\]]|[^\\s]`,"g"),L=/[\])"'A-Za-z0-9_$]+$/,V={in:1,return:1,typeof:1},_={};return{Ra:[],wa:_,ac:l,vb:function(B,k){function U(X,ne){var le;if(!j){var ie=i.getBindingHandler(X);if(ie&&ie.preprocess&&!(ne=ie.preprocess(ne,X,U)))return;(ie=_[X])&&(le=ne,0<=i.a.A(o,le)?le=!1:(ie=le.match(v),le=ie===null?!1:ie[1]?"Object("+ie[1]+")"+ie[2]:le),ie=le),ie&&q.push("'"+(typeof _[X]=="string"?_[X]:X)+"':function(_z){"+le+"=_z}")}Z&&(ne="function(){return "+ne+" }"),K.push("'"+X+"':"+ne)}k=k||{};var K=[],q=[],Z=k.valueAccessors,j=k.bindingParams,G=typeof B=="string"?l(B):B;return i.a.D(G,function(X){U(X.key||X.unknown,X.value)}),q.length&&U("_ko_property_writers","{"+q.join(",")+" }"),K.join(",")},Id:function(B,k){for(var U=0;U<B.length;U++)if(B[U].key==k)return!0;return!1},eb:function(B,k,U,K,q){B&&i.O(B)?!i.Za(B)||q&&B.v()===K||B(K):(B=k.get("_ko_property_writers"))&&B[U]&&B[U](K)}}}(),i.b("expressionRewriting",i.m),i.b("expressionRewriting.bindingRewriteValidators",i.m.Ra),i.b("expressionRewriting.parseObjectLiteral",i.m.ac),i.b("expressionRewriting.preProcessBindings",i.m.vb),i.b("expressionRewriting._twoWayBindings",i.m.wa),i.b("jsonExpressionRewriting",i.m),i.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",i.m.vb),function(){function l(U){return U.nodeType==8&&V.test(L?U.text:U.nodeValue)}function o(U){return U.nodeType==8&&_.test(L?U.text:U.nodeValue)}function v(U,K){for(var q=U,Z=1,j=[];q=q.nextSibling;){if(o(q)&&(i.a.g.set(q,k,!0),Z--,Z===0))return j;j.push(q),l(q)&&Z++}if(!K)throw Error("Cannot find closing comment tag to match: "+U.nodeValue);return null}function T(U,K){var q=v(U,K);return q?0<q.length?q[q.length-1].nextSibling:U.nextSibling:null}var L=r&&r.createComment("test").text==="<!--test-->",V=L?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,_=L?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,B={ul:!0,ol:!0},k="__ko_matchedEndComment__";i.h={ea:{},childNodes:function(U){return l(U)?v(U):U.childNodes},Ea:function(U){if(l(U)){U=i.h.childNodes(U);for(var K=0,q=U.length;K<q;K++)i.removeNode(U[K])}else i.a.Tb(U)},va:function(U,K){if(l(U)){i.h.Ea(U);for(var q=U.nextSibling,Z=0,j=K.length;Z<j;Z++)q.parentNode.insertBefore(K[Z],q)}else i.a.va(U,K)},Vc:function(U,K){var q;l(U)?(q=U.nextSibling,U=U.parentNode):q=U.firstChild,q?K!==q&&U.insertBefore(K,q):U.appendChild(K)},Wb:function(U,K,q){q?(q=q.nextSibling,l(U)&&(U=U.parentNode),q?K!==q&&U.insertBefore(K,q):U.appendChild(K)):i.h.Vc(U,K)},firstChild:function(U){if(l(U))return!U.nextSibling||o(U.nextSibling)?null:U.nextSibling;if(U.firstChild&&o(U.firstChild))throw Error("Found invalid end comment, as the first child of "+U);return U.firstChild},nextSibling:function(U){if(l(U)&&(U=T(U)),U.nextSibling&&o(U.nextSibling)){var K=U.nextSibling;if(o(K)&&!i.a.g.get(K,k))throw Error("Found end comment without a matching opening comment, as child of "+U);return null}return U.nextSibling},Cd:l,Vd:function(U){return(U=(L?U.text:U.nodeValue).match(V))?U[1]:null},Sc:function(U){if(B[i.a.R(U)]){var K=U.firstChild;if(K)do if(K.nodeType===1){var q;q=K.firstChild;var Z=null;if(q)do if(Z)Z.push(q);else if(l(q)){var j=T(q,!0);j?q=j:Z=[q]}else o(q)&&(Z=[q]);while(q=q.nextSibling);if(q=Z)for(Z=K.nextSibling,j=0;j<q.length;j++)Z?U.insertBefore(q[j],Z):U.appendChild(q[j])}while(K=K.nextSibling)}}}}(),i.b("virtualElements",i.h),i.b("virtualElements.allowedBindings",i.h.ea),i.b("virtualElements.emptyNode",i.h.Ea),i.b("virtualElements.insertAfter",i.h.Wb),i.b("virtualElements.prepend",i.h.Vc),i.b("virtualElements.setDomNodeChildren",i.h.va),function(){i.ga=function(){this.nd={}},i.a.extend(i.ga.prototype,{nodeHasBindings:function(l){switch(l.nodeType){case 1:return l.getAttribute("data-bind")!=null||i.j.getComponentNameForNode(l);case 8:return i.h.Cd(l);default:return!1}},getBindings:function(l,o){var v=this.getBindingsString(l,o),v=v?this.parseBindingsString(v,o,l):null;return i.j.tc(v,l,o,!1)},getBindingAccessors:function(l,o){var v=this.getBindingsString(l,o),v=v?this.parseBindingsString(v,o,l,{valueAccessors:!0}):null;return i.j.tc(v,l,o,!0)},getBindingsString:function(l){switch(l.nodeType){case 1:return l.getAttribute("data-bind");case 8:return i.h.Vd(l);default:return null}},parseBindingsString:function(l,o,v,T){try{var L=this.nd,V=l+(T&&T.valueAccessors||""),_;if(!(_=L[V])){var B,k="with($context){with($data||{}){return{"+i.m.vb(l,T)+"}}}";B=new Function("$context","$element",k),_=L[V]=B}return _(o,v)}catch(U){throw U.message=`Unable to parse bindings.
Bindings value: `+l+`
Message: `+U.message,U}}}),i.ga.instance=new i.ga}(),i.b("bindingProvider",i.ga),function(){function l(ie){var Y=(ie=i.a.g.get(ie,le))&&ie.N;Y&&(ie.N=null,Y.Tc())}function o(ie,Y,Q){this.node=ie,this.yc=Y,this.kb=[],this.H=!1,Y.N||i.a.K.za(ie,l),Q&&Q.N&&(Q.N.kb.push(ie),this.Kb=Q)}function v(ie){return function(){return ie}}function T(ie){return ie()}function L(ie){return i.a.Ga(i.u.G(ie),function(Y,Q){return function(){return ie()[Q]}})}function V(ie,Y,Q){return typeof ie=="function"?L(ie.bind(null,Y,Q)):i.a.Ga(ie,v)}function _(ie,Y){return L(this.getBindings.bind(this,ie,Y))}function B(ie,Y){var Q=i.h.firstChild(Y);if(Q){var J,re=i.ga.instance,ae=re.preprocessNode;if(ae){for(;J=Q;)Q=i.h.nextSibling(J),ae.call(re,J);Q=i.h.firstChild(Y)}for(;J=Q;)Q=i.h.nextSibling(J),k(ie,J)}i.i.ma(Y,i.i.H)}function k(ie,Y){var Q=ie,J=Y.nodeType===1;J&&i.h.Sc(Y),(J||i.ga.instance.nodeHasBindings(Y))&&(Q=K(Y,null,ie).bindingContextForDescendants),Q&&!X[i.a.R(Y)]&&B(Q,Y)}function U(ie){var Y=[],Q={},J=[];return i.a.P(ie,function re(ae){if(!Q[ae]){var ce=i.getBindingHandler(ae);ce&&(ce.after&&(J.push(ae),i.a.D(ce.after,function(ve){if(ie[ve]){if(i.a.A(J,ve)!==-1)throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+J.join(", "));re(ve)}}),J.length--),Y.push({key:ae,Mc:ce})),Q[ae]=!0}}),Y}function K(ie,Y,Q){var J=i.a.g.Ub(ie,le,{}),re=J.hd;if(!Y){if(re)throw Error("You cannot apply bindings multiple times to the same element.");J.hd=!0}re||(J.context=Q),J.Zb||(J.Zb={});var ae;if(Y&&typeof Y!="function")ae=Y;else{var ce=i.ga.instance,ve=ce.getBindingAccessors||_,$=i.$(function(){return(ae=Y?Y(Q,ie):ve.call(ce,ie,Q))&&(Q[Z]&&Q[Z](),Q[G]&&Q[G]()),ae},null,{l:ie});ae&&$.ja()||($=null)}var H=Q,oe;if(ae){var ue=function(){return i.a.Ga($?$():ae,T)},fe=$?function(de){return function(){return T($()[de])}}:function(de){return ae[de]};ue.get=function(de){return ae[de]&&T(fe(de))},ue.has=function(de){return de in ae},i.i.H in ae&&i.i.subscribe(ie,i.i.H,function(){var de=(0,ae[i.i.H])();if(de){var Ee=i.h.childNodes(ie);Ee.length&&de(Ee,i.Ec(Ee[0]))}}),i.i.pa in ae&&(H=i.i.Cb(ie,Q),i.i.subscribe(ie,i.i.pa,function(){var de=(0,ae[i.i.pa])();de&&i.h.firstChild(ie)&&de(ie)})),J=U(ae),i.a.D(J,function(de){var Ee=de.Mc.init,xe=de.Mc.update,Te=de.key;if(ie.nodeType===8&&!i.h.ea[Te])throw Error("The binding '"+Te+"' cannot be used with virtual elements");try{typeof Ee=="function"&&i.u.G(function(){var Me=Ee(ie,fe(Te),ue,H.$data,H);if(Me&&Me.controlsDescendantBindings){if(oe!==n)throw Error("Multiple bindings ("+oe+" and "+Te+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");oe=Te}}),typeof xe=="function"&&i.$(function(){xe(ie,fe(Te),ue,H.$data,H)},null,{l:ie})}catch(Me){throw Me.message='Unable to process binding "'+Te+": "+ae[Te]+`"
Message: `+Me.message,Me}})}return J=oe===n,{shouldBindDescendants:J,bindingContextForDescendants:J&&H}}function q(ie,Y){return ie&&ie instanceof i.fa?ie:new i.fa(ie,n,n,Y)}var Z=i.a.Da("_subscribable"),j=i.a.Da("_ancestorBindingInfo"),G=i.a.Da("_dataDependency");i.c={};var X={script:!0,textarea:!0,template:!0};i.getBindingHandler=function(ie){return i.c[ie]};var ne={};i.fa=function(ie,Y,Q,J,re){function ae(){var fe=H?$():$,de=i.a.f(fe);return Y?(i.a.extend(ce,Y),j in Y&&(ce[j]=Y[j])):(ce.$parents=[],ce.$root=de,ce.ko=i),ce[Z]=oe,ve?de=ce.$data:(ce.$rawData=fe,ce.$data=de),Q&&(ce[Q]=de),J&&J(ce,Y,de),Y&&Y[Z]&&!i.S.o().Vb(Y[Z])&&Y[Z](),ue&&(ce[G]=ue),ce.$data}var ce=this,ve=ie===ne,$=ve?n:ie,H=typeof $=="function"&&!i.O($),oe,ue=re&&re.dataDependency;re&&re.exportDependencies?ae():(oe=i.xb(ae),oe.v(),oe.ja()?oe.equalityComparer=null:ce[Z]=n)},i.fa.prototype.createChildContext=function(ie,Y,Q,J){if(!J&&Y&&typeof Y=="object"&&(J=Y,Y=J.as,Q=J.extend),Y&&J&&J.noChildContext){var re=typeof ie=="function"&&!i.O(ie);return new i.fa(ne,this,null,function(ae){Q&&Q(ae),ae[Y]=re?ie():ie},J)}return new i.fa(ie,this,Y,function(ae,ce){ae.$parentContext=ce,ae.$parent=ce.$data,ae.$parents=(ce.$parents||[]).slice(0),ae.$parents.unshift(ae.$parent),Q&&Q(ae)},J)},i.fa.prototype.extend=function(ie,Y){return new i.fa(ne,this,null,function(Q){i.a.extend(Q,typeof ie=="function"?ie(Q):ie)},Y)};var le=i.a.g.Z();o.prototype.Tc=function(){this.Kb&&this.Kb.N&&this.Kb.N.sd(this.node)},o.prototype.sd=function(ie){i.a.Pa(this.kb,ie),!this.kb.length&&this.H&&this.Cc()},o.prototype.Cc=function(){this.H=!0,this.yc.N&&!this.kb.length&&(this.yc.N=null,i.a.K.yb(this.node,l),i.i.ma(this.node,i.i.pa),this.Tc())},i.i={H:"childrenComplete",pa:"descendantsComplete",subscribe:function(ie,Y,Q,J,re){var ae=i.a.g.Ub(ie,le,{});return ae.Fa||(ae.Fa=new i.T),re&&re.notifyImmediately&&ae.Zb[Y]&&i.u.G(Q,J,[ie]),ae.Fa.subscribe(Q,J,Y)},ma:function(ie,Y){var Q=i.a.g.get(ie,le);if(Q&&(Q.Zb[Y]=!0,Q.Fa&&Q.Fa.notifySubscribers(ie,Y),Y==i.i.H)){if(Q.N)Q.N.Cc();else if(Q.N===n&&Q.Fa&&Q.Fa.Wa(i.i.pa))throw Error("descendantsComplete event not supported for bindings on this node")}},Cb:function(ie,Y){var Q=i.a.g.Ub(ie,le,{});return Q.N||(Q.N=new o(ie,Q,Y[j])),Y[j]==Q?Y:Y.extend(function(J){J[j]=Q})}},i.Td=function(ie){return(ie=i.a.g.get(ie,le))&&ie.context},i.ib=function(ie,Y,Q){return ie.nodeType===1&&i.h.Sc(ie),K(ie,Y,q(Q))},i.ld=function(ie,Y,Q){return Q=q(Q),i.ib(ie,V(Y,Q,ie),Q)},i.Oa=function(ie,Y){Y.nodeType!==1&&Y.nodeType!==8||B(q(ie),Y)},i.vc=function(ie,Y,Q){if(!d&&a.jQuery&&(d=a.jQuery),2>arguments.length){if(Y=r.body,!Y)throw Error("ko.applyBindings: could not find document.body; has the document been loaded?")}else if(!Y||Y.nodeType!==1&&Y.nodeType!==8)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");k(q(ie,Q),Y)},i.Dc=function(ie){return!ie||ie.nodeType!==1&&ie.nodeType!==8?n:i.Td(ie)},i.Ec=function(ie){return(ie=i.Dc(ie))?ie.$data:n},i.b("bindingHandlers",i.c),i.b("bindingEvent",i.i),i.b("bindingEvent.subscribe",i.i.subscribe),i.b("bindingEvent.startPossiblyAsyncContentBinding",i.i.Cb),i.b("applyBindings",i.vc),i.b("applyBindingsToDescendants",i.Oa),i.b("applyBindingAccessorsToNode",i.ib),i.b("applyBindingsToNode",i.ld),i.b("contextFor",i.Dc),i.b("dataFor",i.Ec)}(),function(l){function o(_,B){var k=Object.prototype.hasOwnProperty.call(L,_)?L[_]:l,U;k?k.subscribe(B):(k=L[_]=new i.T,k.subscribe(B),v(_,function(K,q){var Z=!(!q||!q.synchronous);V[_]={definition:K,Gd:Z},delete L[_],U||Z?k.notifySubscribers(K):i.na.zb(function(){k.notifySubscribers(K)})}),U=!0)}function v(_,B){T("getConfig",[_],function(k){k?T("loadComponent",[_,k],function(U){B(U,k)}):B(null,null)})}function T(_,B,k,U){U||(U=i.j.loaders.slice(0));var K=U.shift();if(K){var q=K[_];if(q){var Z=!1;if(q.apply(K,B.concat(function(j){Z?k(null):j!==null?k(j):T(_,B,k,U)}))!==l&&(Z=!0,!K.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else T(_,B,k,U)}else k(null)}var L={},V={};i.j={get:function(_,B){var k=Object.prototype.hasOwnProperty.call(V,_)?V[_]:l;k?k.Gd?i.u.G(function(){B(k.definition)}):i.na.zb(function(){B(k.definition)}):o(_,B)},Bc:function(_){delete V[_]},oc:T},i.j.loaders=[],i.b("components",i.j),i.b("components.get",i.j.get),i.b("components.clearCachedDefinition",i.j.Bc)}(),function(){function l(k,U,K,q){function Z(){--G===0&&q(j)}var j={},G=2,X=K.template;K=K.viewModel,X?L(U,X,function(ne){i.j.oc("loadTemplate",[k,ne],function(le){j.template=le,Z()})}):Z(),K?L(U,K,function(ne){i.j.oc("loadViewModel",[k,ne],function(le){j[B]=le,Z()})}):Z()}function o(k,U,K){if(typeof U=="function")K(function(Z){return new U(Z)});else if(typeof U[B]=="function")K(U[B]);else if("instance"in U){var q=U.instance;K(function(){return q})}else"viewModel"in U?o(k,U.viewModel,K):k("Unknown viewModel value: "+U)}function v(k){switch(i.a.R(k)){case"script":return i.a.ua(k.text);case"textarea":return i.a.ua(k.value);case"template":if(T(k.content))return i.a.Ca(k.content.childNodes)}return i.a.Ca(k.childNodes)}function T(k){return a.DocumentFragment?k instanceof DocumentFragment:k&&k.nodeType===11}function L(k,U,K){typeof U.require=="string"?w||a.require?(w||a.require)([U.require],function(q){q&&typeof q=="object"&&q.Xd&&q.default&&(q=q.default),K(q)}):k("Uses require, but no AMD loader is present"):K(U)}function V(k){return function(U){throw Error("Component '"+k+"': "+U)}}var _={};i.j.register=function(k,U){if(!U)throw Error("Invalid configuration for "+k);if(i.j.tb(k))throw Error("Component "+k+" is already registered");_[k]=U},i.j.tb=function(k){return Object.prototype.hasOwnProperty.call(_,k)},i.j.unregister=function(k){delete _[k],i.j.Bc(k)},i.j.Fc={getConfig:function(k,U){U(i.j.tb(k)?_[k]:null)},loadComponent:function(k,U,K){var q=V(k);L(q,U,function(Z){l(k,q,Z,K)})},loadTemplate:function(k,U,K){if(k=V(k),typeof U=="string")K(i.a.ua(U));else if(U instanceof Array)K(U);else if(T(U))K(i.a.la(U.childNodes));else if(U.element)if(U=U.element,a.HTMLElement?U instanceof HTMLElement:U&&U.tagName&&U.nodeType===1)K(v(U));else if(typeof U=="string"){var q=r.getElementById(U);q?K(v(q)):k("Cannot find element with ID "+U)}else k("Unknown element type: "+U);else k("Unknown template value: "+U)},loadViewModel:function(k,U,K){o(V(k),U,K)}};var B="createViewModel";i.b("components.register",i.j.register),i.b("components.isRegistered",i.j.tb),i.b("components.unregister",i.j.unregister),i.b("components.defaultLoader",i.j.Fc),i.j.loaders.push(i.j.Fc),i.j.dd=_}(),function(){function l(v,T){var L=v.getAttribute("params");if(L){var L=o.parseBindingsString(L,T,v,{valueAccessors:!0,bindingParams:!0}),L=i.a.Ga(L,function(B){return i.o(B,null,{l:v})}),V=i.a.Ga(L,function(B){var k=B.v();return B.ja()?i.o({read:function(){return i.a.f(B())},write:i.Za(k)&&function(U){B()(U)},l:v}):k});return Object.prototype.hasOwnProperty.call(V,"$raw")||(V.$raw=L),V}return{$raw:{}}}i.j.getComponentNameForNode=function(v){var T=i.a.R(v);if(i.j.tb(T)&&(T.indexOf("-")!=-1||""+v=="[object HTMLUnknownElement]"||8>=i.a.W&&v.tagName===T))return T},i.j.tc=function(v,T,L,V){if(T.nodeType===1){var _=i.j.getComponentNameForNode(T);if(_){if(v=v||{},v.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var B={name:_,params:l(T,L)};v.component=V?function(){return B}:B}}return v};var o=new i.ga;9>i.a.W&&(i.j.register=function(v){return function(T){return v.apply(this,arguments)}}(i.j.register),r.createDocumentFragment=function(v){return function(){var T=v();return i.j.dd,T}}(r.createDocumentFragment))}(),function(){function l(T,L,V){if(L=L.template,!L)throw Error("Component '"+T+"' has no template");T=i.a.Ca(L),i.h.va(V,T)}function o(T,L,V){var _=T.createViewModel;return _?_.call(T,L,V):L}var v=0;i.c.component={init:function(T,L,V,_,B){function k(){var j=U&&U.dispose;typeof j=="function"&&j.call(U),q&&q.s(),K=U=q=null}var U,K,q,Z=i.a.la(i.h.childNodes(T));return i.h.Ea(T),i.a.K.za(T,k),i.o(function(){var j=i.a.f(L()),G,X;if(typeof j=="string"?G=j:(G=i.a.f(j.name),X=i.a.f(j.params)),!G)throw Error("No component name specified");var ne=i.i.Cb(T,B),le=K=++v;i.j.get(G,function(ie){if(K===le){if(k(),!ie)throw Error("Unknown component '"+G+"'");l(G,ie,T);var Y=o(ie,X,{element:T,templateNodes:Z});ie=ne.createChildContext(Y,{extend:function(Q){Q.$component=Y,Q.$componentTemplateNodes=Z}}),Y&&Y.koDescendantsComplete&&(q=i.i.subscribe(T,i.i.pa,Y.koDescendantsComplete,Y)),U=Y,i.Oa(ie,T)}})},null,{l:T}),{controlsDescendantBindings:!0}}},i.h.ea.component=!0}();var D={class:"className",for:"htmlFor"};i.c.attr={update:function(l,o){var v=i.a.f(o())||{};i.a.P(v,function(T,L){L=i.a.f(L);var V=T.indexOf(":"),V="lookupNamespaceURI"in l&&0<V&&l.lookupNamespaceURI(T.substr(0,V)),_=L===!1||L===null||L===n;_?V?l.removeAttributeNS(V,T):l.removeAttribute(T):L=L.toString(),8>=i.a.W&&T in D?(T=D[T],_?l.removeAttribute(T):l[T]=L):_||(V?l.setAttributeNS(V,T,L):l.setAttribute(T,L)),T==="name"&&i.a.Yc(l,_?"":L)})}},function(){i.c.checked={after:["value","attr"],init:function(l,o,v){function T(){var j=l.checked,G=V();if(!i.S.Ya()&&(j||!B&&!i.S.qa())){var X=i.u.G(o);if(U){var ne=K?X.v():X,le=Z;Z=G,le!==G?j&&(i.a.Na(ne,G,!0),i.a.Na(ne,le,!1)):i.a.Na(ne,G,j),K&&i.Za(X)&&X(ne)}else _&&(G===n?G=j:j||(G=n)),i.m.eb(X,v,"checked",G,!0)}}function L(){var j=i.a.f(o()),G=V();U?(l.checked=0<=i.a.A(j,G),Z=G):l.checked=_&&G===n?!!j:V()===j}var V=i.xb(function(){if(v.has("checkedValue"))return i.a.f(v.get("checkedValue"));if(q)return v.has("value")?i.a.f(v.get("value")):l.value}),_=l.type=="checkbox",B=l.type=="radio";if(_||B){var k=o(),U=_&&i.a.f(k)instanceof Array,K=!(U&&k.push&&k.splice),q=B||U,Z=U?V():n;B&&!l.name&&i.c.uniqueName.init(l,function(){return!0}),i.o(T,null,{l}),i.a.B(l,"click",T),i.o(L,null,{l}),k=n}}},i.m.wa.checked=!0,i.c.checkedValue={update:function(l,o){l.value=i.a.f(o())}}}(),i.c.class={update:function(l,o){var v=i.a.Db(i.a.f(o()));i.a.Eb(l,l.__ko__cssValue,!1),l.__ko__cssValue=v,i.a.Eb(l,v,!0)}},i.c.css={update:function(l,o){var v=i.a.f(o());v!==null&&typeof v=="object"?i.a.P(v,function(T,L){L=i.a.f(L),i.a.Eb(l,T,L)}):i.c.class.update(l,o)}},i.c.enable={update:function(l,o){var v=i.a.f(o());v&&l.disabled?l.removeAttribute("disabled"):v||l.disabled||(l.disabled=!0)}},i.c.disable={update:function(l,o){i.c.enable.update(l,function(){return!i.a.f(o())})}},i.c.event={init:function(l,o,v,T,L){var V=o()||{};i.a.P(V,function(_){typeof _=="string"&&i.a.B(l,_,function(B){var k,U=o()[_];if(U){try{var K=i.a.la(arguments);T=L.$data,K.unshift(T),k=U.apply(T,K)}finally{k!==!0&&(B.preventDefault?B.preventDefault():B.returnValue=!1)}v.get(_+"Bubble")===!1&&(B.cancelBubble=!0,B.stopPropagation&&B.stopPropagation())}})})}},i.c.foreach={Rc:function(l){return function(){var o=l(),v=i.a.bc(o);return!v||typeof v.length=="number"?{foreach:o,templateEngine:i.ba.Ma}:(i.a.f(o),{foreach:v.data,as:v.as,noChildContext:v.noChildContext,includeDestroyed:v.includeDestroyed,afterAdd:v.afterAdd,beforeRemove:v.beforeRemove,afterRender:v.afterRender,beforeMove:v.beforeMove,afterMove:v.afterMove,templateEngine:i.ba.Ma})}},init:function(l,o){return i.c.template.init(l,i.c.foreach.Rc(o))},update:function(l,o,v,T,L){return i.c.template.update(l,i.c.foreach.Rc(o),v,T,L)}},i.m.Ra.foreach=!1,i.h.ea.foreach=!0,i.c.hasfocus={init:function(l,o,v){function T(_){l.__ko_hasfocusUpdating=!0;var B=l.ownerDocument;if("activeElement"in B){var k;try{k=B.activeElement}catch{k=B.body}_=k===l}B=o(),i.m.eb(B,v,"hasfocus",_,!0),l.__ko_hasfocusLastValue=_,l.__ko_hasfocusUpdating=!1}var L=T.bind(null,!0),V=T.bind(null,!1);i.a.B(l,"focus",L),i.a.B(l,"focusin",L),i.a.B(l,"blur",V),i.a.B(l,"focusout",V),l.__ko_hasfocusLastValue=!1},update:function(l,o){var v=!!i.a.f(o());l.__ko_hasfocusUpdating||l.__ko_hasfocusLastValue===v||(v?l.focus():l.blur(),!v&&l.__ko_hasfocusLastValue&&l.ownerDocument.body.focus(),i.u.G(i.a.Fb,null,[l,v?"focusin":"focusout"]))}},i.m.wa.hasfocus=!0,i.c.hasFocus=i.c.hasfocus,i.m.wa.hasFocus="hasfocus",i.c.html={init:function(){return{controlsDescendantBindings:!0}},update:function(l,o){i.a.fc(l,o())}},function(){function l(o,v,T){i.c[o]={init:function(L,V,_,B,k){var U,K,q={},Z,j,G;if(v){B=_.get("as");var X=_.get("noChildContext");G=!(B&&X),q={as:B,noChildContext:X,exportDependencies:G}}return j=(Z=_.get("completeOn")=="render")||_.has(i.i.pa),i.o(function(){var ne=i.a.f(V()),le=!T!=!ne,ie=!K,Y;(G||le!==U)&&(j&&(k=i.i.Cb(L,k)),le&&((!v||G)&&(q.dataDependency=i.S.o()),Y=v?k.createChildContext(typeof ne=="function"?ne:V,q):i.S.qa()?k.extend(null,q):k),ie&&i.S.qa()&&(K=i.a.Ca(i.h.childNodes(L),!0)),le?(ie||i.h.va(L,i.a.Ca(K)),i.Oa(Y,L)):(i.h.Ea(L),Z||i.i.ma(L,i.i.H)),U=le)},null,{l:L}),{controlsDescendantBindings:!0}}},i.m.Ra[o]=!1,i.h.ea[o]=!0}l("if"),l("ifnot",!1,!0),l("with",!0)}(),i.c.let={init:function(l,o,v,T,L){return o=L.extend(o),i.Oa(o,l),{controlsDescendantBindings:!0}}},i.h.ea.let=!0;var O={};i.c.options={init:function(l){if(i.a.R(l)!=="select")throw Error("options binding applies only to SELECT elements");for(;0<l.length;)l.remove(0);return{controlsDescendantBindings:!0}},update:function(l,o,v){function T(){return i.a.jb(l.options,function(X){return X.selected})}function L(X,ne,le){var ie=typeof ne;return ie=="function"?ne(X):ie=="string"?X[ne]:le}function V(X,ne){if(j&&U)i.i.ma(l,i.i.H);else if(Z.length){var le=0<=i.a.A(Z,i.w.M(ne[0]));i.a.Zc(ne[0],le),j&&!le&&i.u.G(i.a.Fb,null,[l,"change"])}}var _=l.multiple,B=l.length!=0&&_?l.scrollTop:null,k=i.a.f(o()),U=v.get("valueAllowUnset")&&v.has("value"),K=v.get("optionsIncludeDestroyed");o={};var q,Z=[];U||(_?Z=i.a.Mb(T(),i.w.M):0<=l.selectedIndex&&Z.push(i.w.M(l.options[l.selectedIndex]))),k&&(typeof k.length>"u"&&(k=[k]),q=i.a.jb(k,function(X){return K||X===n||X===null||!i.a.f(X._destroy)}),v.has("optionsCaption")&&(k=i.a.f(v.get("optionsCaption")),k!==null&&k!==n&&q.unshift(O)));var j=!1;if(o.beforeRemove=function(X){l.removeChild(X)},k=V,v.has("optionsAfterRender")&&typeof v.get("optionsAfterRender")=="function"&&(k=function(X,ne){V(0,ne),i.u.G(v.get("optionsAfterRender"),null,[ne[0],X!==O?X:n])}),i.a.ec(l,q,function(X,ne,le){return le.length&&(Z=!U&&le[0].selected?[i.w.M(le[0])]:[],j=!0),ne=l.ownerDocument.createElement("option"),X===O?(i.a.Bb(ne,v.get("optionsCaption")),i.w.cb(ne,n)):(le=L(X,v.get("optionsValue"),X),i.w.cb(ne,i.a.f(le)),X=L(X,v.get("optionsText"),le),i.a.Bb(ne,X)),[ne]},o,k),!U){var G;_?G=Z.length&&T().length<Z.length:G=Z.length&&0<=l.selectedIndex?i.w.M(l.options[l.selectedIndex])!==Z[0]:Z.length||0<=l.selectedIndex,G&&i.u.G(i.a.Fb,null,[l,"change"])}(U||i.S.Ya())&&i.i.ma(l,i.i.H),i.a.wd(l),B&&20<Math.abs(B-l.scrollTop)&&(l.scrollTop=B)}},i.c.options.$b=i.a.g.Z(),i.c.selectedOptions={init:function(l,o,v){function T(){var _=o(),B=[];i.a.D(l.getElementsByTagName("option"),function(k){k.selected&&B.push(i.w.M(k))}),i.m.eb(_,v,"selectedOptions",B)}function L(){var _=i.a.f(o()),B=l.scrollTop;_&&typeof _.length=="number"&&i.a.D(l.getElementsByTagName("option"),function(k){var U=0<=i.a.A(_,i.w.M(k));k.selected!=U&&i.a.Zc(k,U)}),l.scrollTop=B}if(i.a.R(l)!="select")throw Error("selectedOptions binding applies only to SELECT elements");var V;i.i.subscribe(l,i.i.H,function(){V?T():(i.a.B(l,"change",T),V=i.o(L,null,{l}))},null,{notifyImmediately:!0})},update:function(){}},i.m.wa.selectedOptions=!0,i.c.style={update:function(l,o){var v=i.a.f(o()||{});i.a.P(v,function(T,L){if(L=i.a.f(L),(L===null||L===n||L===!1)&&(L=""),d)d(l).css(T,L);else if(/^--/.test(T))l.style.setProperty(T,L);else{T=T.replace(/-(\w)/g,function(_,B){return B.toUpperCase()});var V=l.style[T];l.style[T]=L,L===V||l.style[T]!=V||isNaN(L)||(l.style[T]=L+"px")}})}},i.c.submit={init:function(l,o,v,T,L){if(typeof o()!="function")throw Error("The value for a submit binding must be a function");i.a.B(l,"submit",function(V){var _,B=o();try{_=B.call(L.$data,l)}finally{_!==!0&&(V.preventDefault?V.preventDefault():V.returnValue=!1)}})}},i.c.text={init:function(){return{controlsDescendantBindings:!0}},update:function(l,o){i.a.Bb(l,o())}},i.h.ea.text=!0,function(){if(a&&a.navigator){var l=function(q){if(q)return parseFloat(q[1])},o=a.navigator.userAgent,v,T,L,V,_;(v=a.opera&&a.opera.version&&parseInt(a.opera.version()))||(_=l(o.match(/Edge\/([^ ]+)$/)))||l(o.match(/Chrome\/([^ ]+)/))||(T=l(o.match(/Version\/([^ ]+) Safari/)))||(L=l(o.match(/Firefox\/([^ ]+)/)))||(V=i.a.W||l(o.match(/MSIE ([^ ]+)/)))||(V=l(o.match(/rv:([^ )]+)/)))}if(8<=V&&10>V)var B=i.a.g.Z(),k=i.a.g.Z(),U=function(q){var Z=this.activeElement;(Z=Z&&i.a.g.get(Z,k))&&Z(q)},K=function(q,Z){var j=q.ownerDocument;i.a.g.get(j,B)||(i.a.g.set(j,B,!0),i.a.B(j,"selectionchange",U)),i.a.g.set(q,k,Z)};i.c.textInput={init:function(q,Z,j){function G(ae,ce){i.a.B(q,ae,ce)}function X(){var ae=i.a.f(Z());(ae===null||ae===n)&&(ae=""),Q!==n&&ae===Q?i.a.setTimeout(X,4):q.value!==ae&&(re=!0,q.value=ae,re=!1,ie=q.value)}function ne(){Y||(Q=q.value,Y=i.a.setTimeout(le,4))}function le(){clearTimeout(Y),Q=Y=n;var ae=q.value;ie!==ae&&(ie=ae,i.m.eb(Z(),j,"textInput",ae))}var ie=q.value,Y,Q,J=i.a.W==9?ne:le,re=!1;V&&G("keypress",le),11>V&&G("propertychange",function(ae){re||ae.propertyName!=="value"||J()}),V==8&&(G("keyup",le),G("keydown",le)),K&&(K(q,J),G("dragend",ne)),(!V||9<=V)&&G("input",J),5>T&&i.a.R(q)==="textarea"?(G("keydown",ne),G("paste",ne),G("cut",ne)):11>v?G("keydown",ne):4>L?(G("DOMAutoComplete",le),G("dragdrop",le),G("drop",le)):_&&q.type==="number"&&G("keydown",ne),G("change",le),G("blur",le),i.o(X,null,{l:q})}},i.m.wa.textInput=!0,i.c.textinput={preprocess:function(q,Z,j){j("textInput",q)}}}(),i.c.uniqueName={init:function(l,o){if(o()){var v="ko_unique_"+ ++i.c.uniqueName.rd;i.a.Yc(l,v)}}},i.c.uniqueName.rd=0,i.c.using={init:function(l,o,v,T,L){var V;return v.has("as")&&(V={as:v.get("as"),noChildContext:v.get("noChildContext")}),o=L.createChildContext(o,V),i.Oa(o,l),{controlsDescendantBindings:!0}}},i.h.ea.using=!0,i.c.value={init:function(l,o,v){var T=i.a.R(l),L=T=="input";if(!L||l.type!="checkbox"&&l.type!="radio"){var V=[],_=v.get("valueUpdate"),B=!1,k=null;_&&(typeof _=="string"?V=[_]:V=i.a.wc(_),i.a.Pa(V,"change"));var U=function(){k=null,B=!1;var Z=o(),j=i.w.M(l);i.m.eb(Z,v,"value",j)};!i.a.W||!L||l.type!="text"||l.autocomplete=="off"||l.form&&l.form.autocomplete=="off"||i.a.A(V,"propertychange")!=-1||(i.a.B(l,"propertychange",function(){B=!0}),i.a.B(l,"focus",function(){B=!1}),i.a.B(l,"blur",function(){B&&U()})),i.a.D(V,function(Z){var j=U;i.a.Ud(Z,"after")&&(j=function(){k=i.w.M(l),i.a.setTimeout(U,0)},Z=Z.substring(5)),i.a.B(l,Z,j)});var K;if(K=L&&l.type=="file"?function(){var Z=i.a.f(o());Z===null||Z===n||Z===""?l.value="":i.u.G(U)}:function(){var Z=i.a.f(o()),j=i.w.M(l);k!==null&&Z===k?i.a.setTimeout(K,0):(Z!==j||j===n)&&(T==="select"?(j=v.get("valueAllowUnset"),i.w.cb(l,Z,j),j||Z===i.w.M(l)||i.u.G(U)):i.w.cb(l,Z))},T==="select"){var q;i.i.subscribe(l,i.i.H,function(){q?v.get("valueAllowUnset")?K():U():(i.a.B(l,"change",U),q=i.o(K,null,{l}))},null,{notifyImmediately:!0})}else i.a.B(l,"change",U),i.o(K,null,{l})}else i.ib(l,{checkedValue:o})},update:function(){}},i.m.wa.value=!0,i.c.visible={update:function(l,o){var v=i.a.f(o()),T=l.style.display!="none";v&&!T?l.style.display="":!v&&T&&(l.style.display="none")}},i.c.hidden={update:function(l,o){i.c.visible.update(l,function(){return!i.a.f(o())})}},function(l){i.c[l]={init:function(o,v,T,L,V){return i.c.event.init.call(this,o,function(){var _={};return _[l]=v(),_},T,L,V)}}}("click"),i.ca=function(){},i.ca.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},i.ca.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},i.ca.prototype.makeTemplateSource=function(l,o){if(typeof l=="string"){o=o||r;var v=o.getElementById(l);if(!v)throw Error("Cannot find template with ID "+l);return new i.C.F(v)}if(l.nodeType==1||l.nodeType==8)return new i.C.ia(l);throw Error("Unknown template type: "+l)},i.ca.prototype.renderTemplate=function(l,o,v,T){return l=this.makeTemplateSource(l,T),this.renderTemplateSource(l,o,v,T)},i.ca.prototype.isTemplateRewritten=function(l,o){return this.allowTemplateRewriting===!1?!0:this.makeTemplateSource(l,o).data("isRewritten")},i.ca.prototype.rewriteTemplate=function(l,o,v){l=this.makeTemplateSource(l,v),o=o(l.text()),l.text(o),l.data("isRewritten",!0)},i.b("templateEngine",i.ca),i.kc=function(){function l(T,L,V,_){T=i.m.ac(T);for(var B=i.m.Ra,k=0;k<T.length;k++){var U=T[k].key;if(Object.prototype.hasOwnProperty.call(B,U)){var K=B[U];if(typeof K=="function"){if(U=K(T[k].value))throw Error(U)}else if(!K)throw Error("This template engine does not support the '"+U+"' binding within its templates")}}return V="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+i.m.vb(T,{valueAccessors:!0})+" } })()},'"+V.toLowerCase()+"')",_.createJavaScriptEvaluatorBlock(V)+L}var o=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,v=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{xd:function(T,L,V){L.isTemplateRewritten(T,V)||L.rewriteTemplate(T,function(_){return i.kc.Ld(_,L)},V)},Ld:function(T,L){return T.replace(o,function(V,_,B,k,U){return l(U,_,B,L)}).replace(v,function(V,_){return l(_,"<!-- ko -->","#comment",L)})},md:function(T,L){return i.aa.Xb(function(V,_){var B=V.nextSibling;B&&B.nodeName.toLowerCase()===L&&i.ib(B,T,_)})}}}(),i.b("__tr_ambtns",i.kc.md),function(){i.C={},i.C.F=function(v){if(this.F=v){var T=i.a.R(v);this.ab=T==="script"?1:T==="textarea"?2:T=="template"&&v.content&&v.content.nodeType===11?3:4}},i.C.F.prototype.text=function(){var v=this.ab===1?"text":this.ab===2?"value":"innerHTML";if(arguments.length==0)return this.F[v];var T=arguments[0];v==="innerHTML"?i.a.fc(this.F,T):this.F[v]=T};var l=i.a.g.Z()+"_";i.C.F.prototype.data=function(v){if(arguments.length===1)return i.a.g.get(this.F,l+v);i.a.g.set(this.F,l+v,arguments[1])};var o=i.a.g.Z();i.C.F.prototype.nodes=function(){var v=this.F;if(arguments.length==0){var T=i.a.g.get(v,o)||{},L=T.lb||(this.ab===3?v.content:this.ab===4?v:n);if(!L||T.jd){var V=this.text();V&&V!==T.bb&&(L=i.a.Md(V,v.ownerDocument),i.a.g.set(v,o,{lb:L,bb:V,jd:!0}))}return L}T=arguments[0],this.ab!==n&&this.text(""),i.a.g.set(v,o,{lb:T})},i.C.ia=function(v){this.F=v},i.C.ia.prototype=new i.C.F,i.C.ia.prototype.constructor=i.C.ia,i.C.ia.prototype.text=function(){if(arguments.length==0){var v=i.a.g.get(this.F,o)||{};return v.bb===n&&v.lb&&(v.bb=v.lb.innerHTML),v.bb}i.a.g.set(this.F,o,{bb:arguments[0]})},i.b("templateSources",i.C),i.b("templateSources.domElement",i.C.F),i.b("templateSources.anonymousTemplate",i.C.ia)}(),function(){function l(k,U,K){var q;for(U=i.h.nextSibling(U);k&&(q=k)!==U;)k=i.h.nextSibling(q),K(q,k)}function o(k,U){if(k.length){var K=k[0],q=k[k.length-1],Z=K.parentNode,j=i.ga.instance,G=j.preprocessNode;if(G){if(l(K,q,function(X,ne){var le=X.previousSibling,ie=G.call(j,X);ie&&(X===K&&(K=ie[0]||ne),X===q&&(q=ie[ie.length-1]||le))}),k.length=0,!K)return;K===q?k.push(K):(k.push(K,q),i.a.Ua(k,Z))}l(K,q,function(X){X.nodeType!==1&&X.nodeType!==8||i.vc(U,X)}),l(K,q,function(X){X.nodeType!==1&&X.nodeType!==8||i.aa.cd(X,[U])}),i.a.Ua(k,Z)}}function v(k){return k.nodeType?k:0<k.length?k[0]:null}function T(k,U,K,q,Z){Z=Z||{};var j=(k&&v(k)||K||{}).ownerDocument,G=Z.templateEngine||V;if(i.kc.xd(K,G,j),K=G.renderTemplate(K,q,Z,j),typeof K.length!="number"||0<K.length&&typeof K[0].nodeType!="number")throw Error("Template engine must return an array of DOM nodes");switch(j=!1,U){case"replaceChildren":i.h.va(k,K),j=!0;break;case"replaceNode":i.a.Xc(k,K),j=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+U)}return j&&(o(K,q),Z.afterRender&&i.u.G(Z.afterRender,null,[K,q[Z.as||"$data"]]),U=="replaceChildren"&&i.i.ma(k,i.i.H)),K}function L(k,U,K){return i.O(k)?k():typeof k=="function"?k(U,K):k}var V;i.gc=function(k){if(k!=n&&!(k instanceof i.ca))throw Error("templateEngine must inherit from ko.templateEngine");V=k},i.dc=function(k,U,K,q,Z){if(K=K||{},(K.templateEngine||V)==n)throw Error("Set a template engine before calling renderTemplate");if(Z=Z||"replaceChildren",q){var j=v(q);return i.$(function(){var X=U&&U instanceof i.fa?U:new i.fa(U,null,null,null,{exportDependencies:!0}),G=L(k,X.$data,X),X=T(q,Z,G,X,K);Z=="replaceNode"&&(q=X,j=v(q))},null,{Sa:function(){return!j||!i.a.Sb(j)},l:j&&Z=="replaceNode"?j.parentNode:j})}return i.aa.Xb(function(G){i.dc(k,U,K,G,"replaceNode")})},i.Qd=function(k,U,K,q,Z){function j(Q,J){i.u.G(i.a.ec,null,[q,Q,X,K,G,J]),i.i.ma(q,i.i.H)}function G(Q,J){o(J,ne),K.afterRender&&K.afterRender(J,Q),ne=null}function X(Q,J){ne=Z.createChildContext(Q,{as:le,noChildContext:K.noChildContext,extend:function(ae){ae.$index=J,le&&(ae[le+"Index"]=J)}});var re=L(k,Q,ne);return T(q,"ignoreTargetNode",re,ne,K)}var ne,le=K.as,ie=K.includeDestroyed===!1||i.options.foreachHidesDestroyed&&!K.includeDestroyed;if(ie||K.beforeRemove||!i.Pc(U))return i.$(function(){var Q=i.a.f(U)||[];typeof Q.length>"u"&&(Q=[Q]),ie&&(Q=i.a.jb(Q,function(J){return J===n||J===null||!i.a.f(J._destroy)})),j(Q)},null,{l:q});j(U.v());var Y=U.subscribe(function(Q){j(U(),Q)},null,"arrayChange");return Y.l(q),Y};var _=i.a.g.Z(),B=i.a.g.Z();i.c.template={init:function(k,U){var K=i.a.f(U());if(typeof K=="string"||"name"in K)i.h.Ea(k);else if("nodes"in K){if(K=K.nodes||[],i.O(K))throw Error('The "nodes" option must be a plain, non-observable array.');var q=K[0]&&K[0].parentNode;q&&i.a.g.get(q,B)||(q=i.a.Yb(K),i.a.g.set(q,B,!0)),new i.C.ia(k).nodes(q)}else if(K=i.h.childNodes(k),0<K.length)q=i.a.Yb(K),new i.C.ia(k).nodes(q);else throw Error("Anonymous template defined, but no template content was provided");return{controlsDescendantBindings:!0}},update:function(k,U,K,q,Z){var j=U();U=i.a.f(j),K=!0,q=null,typeof U=="string"?U={}:(j="name"in U?U.name:k,"if"in U&&(K=i.a.f(U.if)),K&&"ifnot"in U&&(K=!i.a.f(U.ifnot)),K&&!j&&(K=!1)),"foreach"in U?q=i.Qd(j,K&&U.foreach||[],U,k,Z):K?(K=Z,"data"in U&&(K=Z.createChildContext(U.data,{as:U.as,noChildContext:U.noChildContext,exportDependencies:!0})),q=i.dc(j,K,U,k)):i.h.Ea(k),Z=q,(U=i.a.g.get(k,_))&&typeof U.s=="function"&&U.s(),i.a.g.set(k,_,!Z||Z.ja&&!Z.ja()?n:Z)}},i.m.Ra.template=function(k){return k=i.m.ac(k),k.length==1&&k[0].unknown||i.m.Id(k,"name")?null:"This template engine does not support anonymous templates nested within its templates"},i.h.ea.template=!0}(),i.b("setTemplateEngine",i.gc),i.b("renderTemplate",i.dc),i.a.Kc=function(l,o,v){if(l.length&&o.length){var T,L,V,_,B;for(T=L=0;(!v||T<v)&&(_=l[L]);++L){for(V=0;B=o[V];++V)if(_.value===B.value){_.moved=B.index,B.moved=_.index,o.splice(V,1),T=V=0;break}T+=V}}},i.a.Pb=function(){function l(o,v,T,L,V){var _=Math.min,B=Math.max,k=[],U,K=o.length,q,Z=v.length,j=Z-K||1,G=K+Z+1,X,ne,le;for(U=0;U<=K;U++)for(ne=X,k.push(X=[]),le=_(Z,U+j),q=B(0,U-1);q<=le;q++)X[q]=q?U?o[U-1]===v[q-1]?ne[q-1]:_(ne[q]||G,X[q-1]||G)+1:q+1:U+1;for(_=[],B=[],j=[],U=K,q=Z;U||q;)Z=k[U][q]-1,q&&Z===k[U][q-1]?B.push(_[_.length]={status:T,value:v[--q],index:q}):U&&Z===k[U-1][q]?j.push(_[_.length]={status:L,value:o[--U],index:U}):(--q,--U,V.sparse||_.push({status:"retained",value:v[q]}));return i.a.Kc(j,B,!V.dontLimitMoves&&10*K),_.reverse()}return function(o,v,T){return T=typeof T=="boolean"?{dontLimitMoves:T}:T||{},o=o||[],v=v||[],o.length<v.length?l(o,v,"added","deleted",T):l(v,o,"deleted","added",T)}}(),i.b("utils.compareArrays",i.a.Pb),function(){function l(T,L,V,_,B){var k=[],U=i.$(function(){var K=L(V,B,i.a.Ua(k,T))||[];0<k.length&&(i.a.Xc(k,K),_&&i.u.G(_,null,[V,K,B])),k.length=0,i.a.Nb(k,K)},null,{l:T,Sa:function(){return!i.a.kd(k)}});return{Y:k,$:U.ja()?U:n}}var o=i.a.g.Z(),v=i.a.g.Z();i.a.ec=function(T,L,V,_,B,k){function U(de){re={Aa:de,pb:i.ta(ne++)},G.push(re),j||J.push(re)}function K(de){re=Z[de],ne!==re.pb.v()&&Q.push(re),re.pb(ne++),i.a.Ua(re.Y,T),G.push(re)}function q(de,Ee){if(de)for(var xe=0,Te=Ee.length;xe<Te;xe++)i.a.D(Ee[xe].Y,function(Me){de(Me,xe,Ee[xe].Aa)})}L=L||[],typeof L.length>"u"&&(L=[L]),_=_||{};var Z=i.a.g.get(T,o),j=!Z,G=[],X=0,ne=0,le=[],ie=[],Y=[],Q=[],J=[],re,ae=0;if(j)i.a.D(L,U);else{if(!k||Z&&Z._countWaitingForRemove){var ce=i.a.Mb(Z,function(de){return de.Aa});k=i.a.Pb(ce,L,{dontLimitMoves:_.dontLimitMoves,sparse:!0})}for(var ce=0,ve,$,H;ve=k[ce];ce++)switch($=ve.moved,H=ve.index,ve.status){case"deleted":for(;X<H;)K(X++);$===n&&(re=Z[X],re.$&&(re.$.s(),re.$=n),i.a.Ua(re.Y,T).length&&(_.beforeRemove&&(G.push(re),ae++,re.Aa===v?re=null:Y.push(re)),re&&le.push.apply(le,re.Y))),X++;break;case"added":for(;ne<H;)K(X++);$!==n?(ie.push(G.length),K($)):U(ve.value)}for(;ne<L.length;)K(X++);G._countWaitingForRemove=ae}i.a.g.set(T,o,G),q(_.beforeMove,Q),i.a.D(le,_.beforeRemove?i.oa:i.removeNode);var oe,ue,fe;try{fe=T.ownerDocument.activeElement}catch{}if(ie.length)for(;(ce=ie.shift())!=n;){for(re=G[ce],oe=n;ce;)if((ue=G[--ce].Y)&&ue.length){oe=ue[ue.length-1];break}for(L=0;X=re.Y[L];oe=X,L++)i.h.Wb(T,X,oe)}for(ce=0;re=G[ce];ce++){for(re.Y||i.a.extend(re,l(T,V,re.Aa,B,re.pb)),L=0;X=re.Y[L];oe=X,L++)i.h.Wb(T,X,oe);!re.Ed&&B&&(B(re.Aa,re.Y,re.pb),re.Ed=!0,oe=re.Y[re.Y.length-1])}for(fe&&T.ownerDocument.activeElement!=fe&&fe.focus(),q(_.beforeRemove,Y),ce=0;ce<Y.length;++ce)Y[ce].Aa=v;q(_.afterMove,Q),q(_.afterAdd,J)}}(),i.b("utils.setDomNodeChildrenFromArrayMapping",i.a.ec),i.ba=function(){this.allowTemplateRewriting=!1},i.ba.prototype=new i.ca,i.ba.prototype.constructor=i.ba,i.ba.prototype.renderTemplateSource=function(l,o,v,T){return(o=!(9>i.a.W)&&l.nodes?l.nodes():null)?i.a.la(o.cloneNode(!0).childNodes):(l=l.text(),i.a.ua(l,T))},i.ba.Ma=new i.ba,i.gc(i.ba.Ma),i.b("nativeTemplateEngine",i.ba),function(){i.$a=function(){var o=this.Hd=function(){if(!d||!d.tmpl)return 0;try{if(0<=d.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch{}return 1}();this.renderTemplateSource=function(v,T,L,V){if(V=V||r,L=L||{},2>o)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var _=v.data("precompiled");return _||(_=v.text()||"",_=d.template(null,"{{ko_with $item.koBindingContext}}"+_+"{{/ko_with}}"),v.data("precompiled",_)),v=[T.$data],T=d.extend({koBindingContext:T},L.templateOptions),T=d.tmpl(_,v,T),T.appendTo(V.createElement("div")),d.fragments={},T},this.createJavaScriptEvaluatorBlock=function(v){return"{{ko_code ((function() { return "+v+" })()) }}"},this.addTemplate=function(v,T){r.write("<script type='text/html' id='"+v+"'>"+T+"<\/script>")},0<o&&(d.tmpl.tag.ko_code={open:"__.push($1 || '');"},d.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},i.$a.prototype=new i.ca,i.$a.prototype.constructor=i.$a;var l=new i.$a;0<l.Hd&&i.gc(l),i.b("jqueryTmplTemplateEngine",i.$a)}()})})()})()}(jo,jo.exports)),jo.exports}/*!
 * surveyjs - Survey JavaScript library v1.9.30
 * Copyright (c) 2015-2022 Devsoft Baltic O  - http://surveyjs.io/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */(function(s,e){(function(a,r){s.exports=r(Vb())})(Db,function(n){return function(a){var r={};function t(d){if(r[d])return r[d].exports;var C=r[d]={i:d,l:!1,exports:{}};return a[d].call(C.exports,C,C.exports,t),C.l=!0,C.exports}return t.m=a,t.c=r,t.d=function(d,C,M){t.o(d,C)||Object.defineProperty(d,C,{enumerable:!0,get:M})},t.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},t.t=function(d,C){if(C&1&&(d=t(d)),C&8||C&4&&typeof d=="object"&&d&&d.__esModule)return d;var M=Object.create(null);if(t.r(M),Object.defineProperty(M,"default",{enumerable:!0,value:d}),C&2&&typeof d!="string")for(var w in d)t.d(M,w,(function(S){return d[S]}).bind(null,w));return M},t.n=function(d){var C=d&&d.__esModule?function(){return d.default}:function(){return d};return t.d(C,"a",C),C},t.o=function(d,C){return Object.prototype.hasOwnProperty.call(d,C)},t.p="",t(t.s="./src/entries/knockout.ts")}({"./node_modules/html-loader/index.js?interpolate!./node_modules/val-loader/index.js!./src/knockout/components/panel/panel.html":function(a,r){a.exports="<!-- ko template: { name: 'survey-panel', data: question, as: 'question', afterRender: question.koPanelAfterRender } --><!-- /ko -->"},"./node_modules/html-loader/index.js?interpolate!./node_modules/val-loader/index.js!./src/knockout/components/popup/popup.html":function(a,r){a.exports=`<div class="sv-popup" tabindex="-1"
  data-bind="visible: isVisible, click: clickOutside, class: styleClass, event: { keydown: function(data, event) { onKeyDown(event); return true; } }">
  <div class="sv-popup__container"
    data-bind="style: { left: left, top: top, height: height, width: width }, click: function() { return true; }, clickBubble: false">
    <div class="sv-popup__shadow">
      <!-- ko if: showPointer -->
      <span class="sv-popup__pointer" data-bind="style: {left: pointerTarget.left, top: pointerTarget.top }"></span>
      <!-- /ko -->
      <div class="sv-popup__body-content">
        <!-- ko if: !!title  -->
        <div class="sv-popup__body-header" data-bind="text: title"></div>
        <!-- /ko -->
        <div class="sv-popup__scrolling-content">
          <div class="sv-popup__content"
            data-bind="component: { name: contentComponentName, params: contentComponentData }"></div>
        </div>
        <!-- ko if: showFooter  -->
        <div class="sv-popup__body-footer">
          <button type="button" class="sv-popup__body-footer-item sv-popup__button sv-popup__button--cancel"
            data-bind="click: cancel, text: cancelButtonText"> Cancel </button>
          <!-- ko if: isModal  -->
          <button type="button" class="sv-popup__body-footer-item sv-popup__button sv-popup__button--apply"
            data-bind="click: apply, text: applyButtonText"> Apply </button>
          <!-- /ko -->
        </div>
        <!-- /ko -->
      </div>
    </div>
  </div>
</div>`},"./node_modules/html-loader/index.js?interpolate!./node_modules/val-loader/index.js!./src/knockout/components/progress/buttons.html":function(a,r){a.exports=`<div data-bind="css: survey.css.progressButtonsContainerCenter">
    <div data-bind="css: survey.css.progressButtonsContainer">
        <div data-bind="css: getScrollButtonCss(true), click: clickScrollButton.bind($data, $element.nextElementSibling, true)" role="button"></div>
        <div data-bind="css: survey.css.progressButtonsListContainer">
            <ul data-bind="foreach: survey.visiblePages, css: survey.css.progressButtonsList">
                <li data-bind="css: $parent.getListElementCss($index), click: $parent.isListElementClickable($index) ? $parent.clickListElement.bind($parent, $index) : null">
                    <div data-bind="css: css.progressButtonsPageTitle, text: locNavigationTitle.koRenderedHtml() || name, attr: { title: locNavigationTitle.koRenderedHtml() || name }"></div>
                    <div data-bind="css: css.progressButtonsPageDescription, text: locNavigationDescription.koRenderedHtml(), attr: { title: locNavigationDescription.koRenderedHtml() }"></div>
                </li>
            </ul>
        </div>
        <div data-bind="css: getScrollButtonCss(false), click: clickScrollButton.bind($data, $element.previousElementSibling, false)" role="button"></div>
    </div>
</div>`},"./node_modules/html-loader/index.js?interpolate!./node_modules/val-loader/index.js!./src/knockout/components/progress/progress.html":function(a,r){a.exports=`<div data-bind="css: model.css.progress">
    <div data-bind="css: model.css.progressBar, style: { width: model.progressValue + '%' }"
        role="progressbar" aria-valuemin="0" aria-valuemax="100">
        <span data-bind="text: model.progressText, css: getProgressTextInBarCss(model.css)"></span>
    </div>
    <span data-bind="text: model.progressText, css: getProgressTextUnderBarCss(model.css)"></span>
</div>`},"./node_modules/html-loader/index.js?interpolate!./node_modules/val-loader/index.js!./src/knockout/components/tooltip-error/tooltip-error.html":function(a,r){a.exports=`<!-- ko if: question.hasVisibleErrors -->
  <!-- ko template: { name: 'survey-question-errors', data: question, afterRender: afterRender } -->
  <!-- /ko -->
<!-- /ko -->`},"./node_modules/html-loader/index.js?interpolate!./node_modules/val-loader/index.js!./src/knockout/templates/entry.html":function(a,r,t){a.exports=""+t("./src/knockout/templates/comment.html")+`
`+t("./src/knockout/templates/flowpanel.html")+`
`+t("./src/knockout/templates/header.html")+`
`+t("./src/knockout/templates/index.html")+`
`+t("./src/knockout/templates/page.html")+`
`+t("./src/knockout/templates/panel.html")+`
`+t("./src/knockout/templates/rows.html")+`
`+t("./src/knockout/templates/row.html")+`
`+t("./src/knockout/templates/string.html")+`
`+t("./src/knockout/templates/timerpanel.html")+`
`+t("./src/knockout/templates/question.html")+`
`+t("./src/knockout/templates/questioncontent.html")+`
`+t("./src/knockout/templates/questiontitle.html")+`
`+t("./src/knockout/templates/question-boolean.html")+`
`+t("./src/knockout/templates/question-checkbox.html")+`
`+t("./src/knockout/templates/question-ranking.html")+`
`+t("./src/knockout/templates/question-comment.html")+`
`+t("./src/knockout/templates/question-composite.html")+`
`+t("./src/knockout/templates/question-custom.html")+`
`+t("./src/knockout/templates/question-dropdown.html")+`
`+t("./src/knockout/templates/question-empty.html")+`
`+t("./src/knockout/templates/question-errors.html")+`
`+t("./src/knockout/templates/question-expression.html")+`
`+t("./src/knockout/templates/question-file.html")+`
`+t("./src/knockout/templates/question-html.html")+`
`+t("./src/knockout/templates/question-image.html")+`
`+t("./src/knockout/templates/question-imagepicker.html")+`
`+t("./src/knockout/templates/question-matrix.html")+`
`+t("./src/knockout/templates/question-matrixdynamic.html")+`
`+t("./src/knockout/templates/question-multipletext.html")+`
`+t("./src/knockout/templates/question-paneldynamic.html")+`
`+t("./src/knockout/templates/question-paneldynamic-navigator.html")+`
`+t("./src/knockout/templates/question-radiogroup.html")+`
`+t("./src/knockout/templates/question-rating.html")+`
`+t("./src/knockout/templates/question-signaturepad.html")+`
`+t("./src/knockout/templates/question-text.html")+`
`+t("./src/knockout/templates/question-buttongroup.html")},"./node_modules/html-loader/index.js?interpolate!./node_modules/val-loader/index.js!./src/knockout/templates/window/window.html":function(a,r){a.exports=`<div style="position: fixed; bottom: 3px; right: 10px; max-width: 60%;" data-bind="css: cssRoot">
    <div data-bind="css: cssHeaderRoot">
        <span data-bind="click:doExpand" style="width: 100%; cursor: pointer;">
            <span style="padding-right:10px" data-bind="css: cssHeaderTitle, text: locTitle.koRenderedHtml"></span>
            <span aria-hidden="true" data-bind="css: cssButton"></span>
        </span>
        <span data-bind="visible:isExpanded, click:doExpand" style="float: right; cursor: pointer;">
            <span style="padding-right:10px" data-bind="css: cssHeaderTitle">X</span>
        </span>
    </div>
    <div data-bind="visible:isExpanded, css: cssBody">
        <div id="windowSurveyJS"></div>
    </div>
</div>`},"./node_modules/process/browser.js":function(a,r){var t=a.exports={},d,C;function M(){throw new Error("setTimeout has not been defined")}function w(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?d=setTimeout:d=M}catch{d=M}try{typeof clearTimeout=="function"?C=clearTimeout:C=w}catch{C=w}})();function S(y){if(d===setTimeout)return setTimeout(y,0);if((d===M||!d)&&setTimeout)return d=setTimeout,setTimeout(y,0);try{return d(y,0)}catch{try{return d.call(null,y,0)}catch{return d.call(this,y,0)}}}function x(y){if(C===clearTimeout)return clearTimeout(y);if((C===w||!C)&&clearTimeout)return C=clearTimeout,clearTimeout(y);try{return C(y)}catch{try{return C.call(null,y)}catch{return C.call(this,y)}}}var h=[],u=!1,g,f=-1;function i(){!u||!g||(u=!1,g.length?h=g.concat(h):f=-1,h.length&&p())}function p(){if(!u){var y=S(i);u=!0;for(var R=h.length;R;){for(g=h,h=[];++f<R;)g&&g[f].run();f=-1,R=h.length}g=null,u=!1,x(y)}}t.nextTick=function(y){var R=new Array(arguments.length-1);if(arguments.length>1)for(var b=1;b<arguments.length;b++)R[b-1]=arguments[b];h.push(new P(y,R)),h.length===1&&!u&&S(p)};function P(y,R){this.fun=y,this.array=R}P.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function m(){}t.on=m,t.addListener=m,t.once=m,t.off=m,t.removeListener=m,t.removeAllListeners=m,t.emit=m,t.prependListener=m,t.prependOnceListener=m,t.listeners=function(y){return[]},t.binding=function(y){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(y){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},"./node_modules/setimmediate/setImmediate.js":function(a,r,t){(function(d,C){(function(M,w){if(M.setImmediate)return;var S=1,x={},h=!1,u=M.document,g;function f(A){typeof A!="function"&&(A=new Function(""+A));for(var D=new Array(arguments.length-1),O=0;O<D.length;O++)D[O]=arguments[O+1];var l={callback:A,args:D};return x[S]=l,g(S),S++}function i(A){delete x[A]}function p(A){var D=A.callback,O=A.args;switch(O.length){case 0:D();break;case 1:D(O[0]);break;case 2:D(O[0],O[1]);break;case 3:D(O[0],O[1],O[2]);break;default:D.apply(w,O);break}}function P(A){if(h)setTimeout(P,0,A);else{var D=x[A];if(D){h=!0;try{p(D)}finally{i(A),h=!1}}}}function m(){g=function(A){C.nextTick(function(){P(A)})}}function y(){if(M.postMessage&&!M.importScripts){var A=!0,D=M.onmessage;return M.onmessage=function(){A=!1},M.postMessage("","*"),M.onmessage=D,A}}function R(){var A="setImmediate$"+Math.random()+"$",D=function(O){O.source===M&&typeof O.data=="string"&&O.data.indexOf(A)===0&&P(+O.data.slice(A.length))};M.addEventListener?M.addEventListener("message",D,!1):M.attachEvent("onmessage",D),g=function(O){M.postMessage(A+O,"*")}}function b(){var A=new MessageChannel;A.port1.onmessage=function(D){var O=D.data;P(O)},g=function(D){A.port2.postMessage(D)}}function c(){var A=u.documentElement;g=function(D){var O=u.createElement("script");O.onreadystatechange=function(){P(D),O.onreadystatechange=null,A.removeChild(O),O=null},A.appendChild(O)}}function E(){g=function(A){setTimeout(P,0,A)}}var I=Object.getPrototypeOf&&Object.getPrototypeOf(M);I=I&&I.setTimeout?I:M,{}.toString.call(M.process)==="[object process]"?m():y()?R():M.MessageChannel?b():u&&"onreadystatechange"in u.createElement("script")?c():E(),I.setImmediate=f,I.clearImmediate=i})(typeof self>"u"?typeof d>"u"?this:d:self)}).call(this,t("./node_modules/webpack/buildin/global.js"),t("./node_modules/process/browser.js"))},"./node_modules/signature_pad/dist/signature_pad.mjs":function(a,r,t){t.r(r);/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bzier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bzier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bzier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function d(S,x,h){this.x=S,this.y=x,this.time=h||new Date().getTime()}d.prototype.velocityFrom=function(S){return this.time!==S.time?this.distanceTo(S)/(this.time-S.time):1},d.prototype.distanceTo=function(S){return Math.sqrt(Math.pow(this.x-S.x,2)+Math.pow(this.y-S.y,2))},d.prototype.equals=function(S){return this.x===S.x&&this.y===S.y&&this.time===S.time};function C(S,x,h,u){this.startPoint=S,this.control1=x,this.control2=h,this.endPoint=u}C.prototype.length=function(){for(var S=10,x=0,h=void 0,u=void 0,g=0;g<=S;g+=1){var f=g/S,i=this._point(f,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),p=this._point(f,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(g>0){var P=i-h,m=p-u;x+=Math.sqrt(P*P+m*m)}h=i,u=p}return x},C.prototype._point=function(S,x,h,u,g){return x*(1-S)*(1-S)*(1-S)+3*h*(1-S)*(1-S)*S+3*u*(1-S)*S*S+g*S*S*S};function M(S,x,h){var u,g,f,i=null,p=0;h||(h={});var P=function(){p=h.leading===!1?0:Date.now(),i=null,f=S.apply(u,g),i||(u=g=null)};return function(){var m=Date.now();!p&&h.leading===!1&&(p=m);var y=x-(m-p);return u=this,g=arguments,y<=0||y>x?(i&&(clearTimeout(i),i=null),p=m,f=S.apply(u,g),i||(u=g=null)):!i&&h.trailing!==!1&&(i=setTimeout(P,y)),f}}function w(S,x){var h=this,u=x||{};this.velocityFilterWeight=u.velocityFilterWeight||.7,this.minWidth=u.minWidth||.5,this.maxWidth=u.maxWidth||2.5,this.throttle="throttle"in u?u.throttle:16,this.minDistance="minDistance"in u?u.minDistance:5,this.throttle?this._strokeMoveUpdate=M(w.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=w.prototype._strokeUpdate,this.dotSize=u.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=u.penColor||"black",this.backgroundColor=u.backgroundColor||"rgba(0,0,0,0)",this.onBegin=u.onBegin,this.onEnd=u.onEnd,this._canvas=S,this._ctx=S.getContext("2d"),this.clear(),this._handleMouseDown=function(g){g.which===1&&(h._mouseButtonDown=!0,h._strokeBegin(g))},this._handleMouseMove=function(g){h._mouseButtonDown&&h._strokeMoveUpdate(g)},this._handleMouseUp=function(g){g.which===1&&h._mouseButtonDown&&(h._mouseButtonDown=!1,h._strokeEnd(g))},this._handleTouchStart=function(g){if(g.targetTouches.length===1){var f=g.changedTouches[0];h._strokeBegin(f)}},this._handleTouchMove=function(g){g.preventDefault();var f=g.targetTouches[0];h._strokeMoveUpdate(f)},this._handleTouchEnd=function(g){var f=g.target===h._canvas;f&&(g.preventDefault(),h._strokeEnd(g))},this.on()}w.prototype.clear=function(){var S=this._ctx,x=this._canvas;S.fillStyle=this.backgroundColor,S.clearRect(0,0,x.width,x.height),S.fillRect(0,0,x.width,x.height),this._data=[],this._reset(),this._isEmpty=!0},w.prototype.fromDataURL=function(S){var x=this,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=new Image,g=h.ratio||window.devicePixelRatio||1,f=h.width||this._canvas.width/g,i=h.height||this._canvas.height/g;this._reset(),u.src=S,u.onload=function(){x._ctx.drawImage(u,0,0,f,i)},this._isEmpty=!1},w.prototype.toDataURL=function(S){var x;switch(S){case"image/svg+xml":return this._toSVG();default:for(var h=arguments.length,u=Array(h>1?h-1:0),g=1;g<h;g++)u[g-1]=arguments[g];return(x=this._canvas).toDataURL.apply(x,[S].concat(u))}},w.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},w.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},w.prototype.isEmpty=function(){return this._isEmpty},w.prototype._strokeBegin=function(S){this._data.push([]),this._reset(),this._strokeUpdate(S),typeof this.onBegin=="function"&&this.onBegin(S)},w.prototype._strokeUpdate=function(S){var x=S.clientX,h=S.clientY,u=this._createPoint(x,h),g=this._data[this._data.length-1],f=g&&g[g.length-1],i=f&&u.distanceTo(f)<this.minDistance;if(!(f&&i)){var p=this._addPoint(u),P=p.curve,m=p.widths;P&&m&&this._drawCurve(P,m.start,m.end),this._data[this._data.length-1].push({x:u.x,y:u.y,time:u.time,color:this.penColor})}},w.prototype._strokeEnd=function(S){var x=this.points.length>2,h=this.points[0];if(!x&&h&&this._drawDot(h),h){var u=this._data[this._data.length-1],g=u[u.length-1];h.equals(g)||u.push({x:h.x,y:h.y,time:h.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(S)},w.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},w.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},w.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},w.prototype._createPoint=function(S,x,h){var u=this._canvas.getBoundingClientRect();return new d(S-u.left,x-u.top,h||new Date().getTime())},w.prototype._addPoint=function(S){var x=this.points,h=void 0;if(x.push(S),x.length>2){x.length===3&&x.unshift(x[0]),h=this._calculateCurveControlPoints(x[0],x[1],x[2]);var u=h.c2;h=this._calculateCurveControlPoints(x[1],x[2],x[3]);var g=h.c1,f=new C(x[1],u,g,x[2]),i=this._calculateCurveWidths(f);return x.shift(),{curve:f,widths:i}}return{}},w.prototype._calculateCurveControlPoints=function(S,x,h){var u=S.x-x.x,g=S.y-x.y,f=x.x-h.x,i=x.y-h.y,p={x:(S.x+x.x)/2,y:(S.y+x.y)/2},P={x:(x.x+h.x)/2,y:(x.y+h.y)/2},m=Math.sqrt(u*u+g*g),y=Math.sqrt(f*f+i*i),R=p.x-P.x,b=p.y-P.y,c=y/(m+y),E={x:P.x+R*c,y:P.y+b*c},I=x.x-E.x,A=x.y-E.y;return{c1:new d(p.x+I,p.y+A),c2:new d(P.x+I,P.y+A)}},w.prototype._calculateCurveWidths=function(S){var x=S.startPoint,h=S.endPoint,u={start:null,end:null},g=this.velocityFilterWeight*h.velocityFrom(x)+(1-this.velocityFilterWeight)*this._lastVelocity,f=this._strokeWidth(g);return u.start=this._lastWidth,u.end=f,this._lastVelocity=g,this._lastWidth=f,u},w.prototype._strokeWidth=function(S){return Math.max(this.maxWidth/(S+1),this.minWidth)},w.prototype._drawPoint=function(S,x,h){var u=this._ctx;u.moveTo(S,x),u.arc(S,x,h,0,2*Math.PI,!1),this._isEmpty=!1},w.prototype._drawCurve=function(S,x,h){var u=this._ctx,g=h-x,f=Math.floor(S.length());u.beginPath();for(var i=0;i<f;i+=1){var p=i/f,P=p*p,m=P*p,y=1-p,R=y*y,b=R*y,c=b*S.startPoint.x;c+=3*R*p*S.control1.x,c+=3*y*P*S.control2.x,c+=m*S.endPoint.x;var E=b*S.startPoint.y;E+=3*R*p*S.control1.y,E+=3*y*P*S.control2.y,E+=m*S.endPoint.y;var I=x+m*g;this._drawPoint(c,E,I)}u.closePath(),u.fill()},w.prototype._drawDot=function(S){var x=this._ctx,h=typeof this.dotSize=="function"?this.dotSize():this.dotSize;x.beginPath(),this._drawPoint(S.x,S.y,h),x.closePath(),x.fill()},w.prototype._fromData=function(S,x,h){for(var u=0;u<S.length;u+=1){var g=S[u];if(g.length>1)for(var f=0;f<g.length;f+=1){var i=g[f],p=new d(i.x,i.y,i.time),P=i.color;if(f===0)this.penColor=P,this._reset(),this._addPoint(p);else if(f!==g.length-1){var m=this._addPoint(p),y=m.curve,R=m.widths;y&&R&&x(y,R,P)}}else{this._reset();var b=g[0];h(b)}}},w.prototype._toSVG=function(){var S=this,x=this._data,h=this._canvas,u=Math.max(window.devicePixelRatio||1,1),g=0,f=0,i=h.width/u,p=h.height/u,P=document.createElementNS("http://www.w3.org/2000/svg","svg");P.setAttributeNS(null,"width",h.width),P.setAttributeNS(null,"height",h.height),this._fromData(x,function(D,O,l){var o=document.createElement("path");if(!isNaN(D.control1.x)&&!isNaN(D.control1.y)&&!isNaN(D.control2.x)&&!isNaN(D.control2.y)){var v="M "+D.startPoint.x.toFixed(3)+","+D.startPoint.y.toFixed(3)+" "+("C "+D.control1.x.toFixed(3)+","+D.control1.y.toFixed(3)+" ")+(D.control2.x.toFixed(3)+","+D.control2.y.toFixed(3)+" ")+(D.endPoint.x.toFixed(3)+","+D.endPoint.y.toFixed(3));o.setAttribute("d",v),o.setAttribute("stroke-width",(O.end*2.25).toFixed(3)),o.setAttribute("stroke",l),o.setAttribute("fill","none"),o.setAttribute("stroke-linecap","round"),P.appendChild(o)}},function(D){var O=document.createElement("circle"),l=typeof S.dotSize=="function"?S.dotSize():S.dotSize;O.setAttribute("r",l),O.setAttribute("cx",D.x),O.setAttribute("cy",D.y),O.setAttribute("fill",D.color),P.appendChild(O)});var m="data:image/svg+xml;base64,",y='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+g+" "+f+" "+i+" "+p+'"')+(' width="'+i+'"')+(' height="'+p+'"')+">",R=P.innerHTML;if(R===void 0){var b=document.createElement("dummy"),c=P.childNodes;b.innerHTML="";for(var E=0;E<c.length;E+=1)b.appendChild(c[E].cloneNode(!0));R=b.innerHTML}var I="</svg>",A=y+R+I;return m+btoa(A)},w.prototype.fromData=function(S){var x=this;this.clear(),this._fromData(S,function(h,u){return x._drawCurve(h,u.start,u.end)},function(h){return x._drawDot(h)}),this._data=S},w.prototype.toData=function(){return this._data},r.default=w},"./node_modules/timers-browserify/main.js":function(a,r,t){(function(d){var C=typeof d<"u"&&d||typeof self<"u"&&self||window,M=Function.prototype.apply;r.setTimeout=function(){return new w(M.call(setTimeout,C,arguments),clearTimeout)},r.setInterval=function(){return new w(M.call(setInterval,C,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(S){S&&S.close()};function w(S,x){this._id=S,this._clearFn=x}w.prototype.unref=w.prototype.ref=function(){},w.prototype.close=function(){this._clearFn.call(C,this._id)},r.enroll=function(S,x){clearTimeout(S._idleTimeoutId),S._idleTimeout=x},r.unenroll=function(S){clearTimeout(S._idleTimeoutId),S._idleTimeout=-1},r._unrefActive=r.active=function(S){clearTimeout(S._idleTimeoutId);var x=S._idleTimeout;x>=0&&(S._idleTimeoutId=setTimeout(function(){S._onTimeout&&S._onTimeout()},x))},t("./node_modules/setimmediate/setImmediate.js"),r.setImmediate=typeof self<"u"&&self.setImmediate||typeof d<"u"&&d.setImmediate||this&&this.setImmediate,r.clearImmediate=typeof self<"u"&&self.clearImmediate||typeof d<"u"&&d.clearImmediate||this&&this.clearImmediate}).call(this,t("./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/global.js":function(a,r){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch{typeof window=="object"&&(t=window)}a.exports=t},"./src/actions/action.ts":function(a,r,t){t.r(r),t.d(r,"Action",function(){return h}),t.d(r,"ActionDropdownViewModel",function(){return u});var d=t("./src/base.ts"),C=t("./src/jsonobject.ts"),M=t("./src/utils/cssClassBuilder.ts"),w=t("./src/actions/container.ts"),S=function(){var g=function(f,i){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,P){p.__proto__=P}||function(p,P){for(var m in P)Object.prototype.hasOwnProperty.call(P,m)&&(p[m]=P[m])},g(f,i)};return function(f,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");g(f,i);function p(){this.constructor=f}f.prototype=i===null?Object.create(i):(p.prototype=i.prototype,new p)}}(),x=function(g,f,i,p){var P=arguments.length,m=P<3?f:p===null?p=Object.getOwnPropertyDescriptor(f,i):p,y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(g,f,i,p);else for(var R=g.length-1;R>=0;R--)(y=g[R])&&(m=(P<3?y(m):P>3?y(f,i,m):y(f,i))||m);return P>3&&m&&Object.defineProperty(f,i,m),m},h=function(g){S(f,g);function f(i){var p=g.call(this)||this;if(p.innerItem=i,p.iconSize=24,i)for(var P in i)p[P]=i[P];return p}return f.prototype.raiseUpdate=function(){this.updateCallback&&this.updateCallback()},f.prototype.updateTitleValue=function(){this.locTitle&&(this.titleValue=this.locTitle.renderedHtml)},Object.defineProperty(f.prototype,"title",{get:function(){return this.titleValue},set:function(i){this.locTitle?this.locTitle.text=i:this.titleValue=i},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"cssClasses",{get:function(){return this.cssClassesValue||w.defaultActionBarCss},set:function(i){this.cssClassesValue=i},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"disabled",{get:function(){return this.enabled!==void 0&&!this.enabled},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasTitle",{get:function(){return(this.mode!="small"&&(this.showTitle||this.showTitle===void 0)||!this.iconName)&&!!this.title},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isVisible",{get:function(){return this.visible&&this.mode!=="popup"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"canShrink",{get:function(){return!!this.iconName},enumerable:!1,configurable:!0}),f.prototype.getActionRootCss=function(){return new M.CssClassBuilder().append("sv-action").append(this.css).append("sv-action--space",this.needSpace).append("sv-action--hidden",!this.isVisible).toString()},f.prototype.getActionBarItemTitleCss=function(){return new M.CssClassBuilder().append(this.cssClasses.itemTitle).append(this.cssClasses.itemTitleWithIcon,!!this.iconName).toString()},f.prototype.getActionBarItemCss=function(){return new M.CssClassBuilder().append(this.cssClasses.item).append(this.cssClasses.itemAsIcon,!this.hasTitle).append(this.cssClasses.itemActive,!!this.active).append(this.cssClasses.itemPressed,!!this.pressed).append(this.innerCss).toString()},x([Object(C.property)()],f.prototype,"id",void 0),x([Object(C.property)()],f.prototype,"iconName",void 0),x([Object(C.property)()],f.prototype,"iconSize",void 0),x([Object(C.property)({defaultValue:!0,onSet:function(i,p){p.raiseUpdate()}})],f.prototype,"visible",void 0),x([Object(C.property)()],f.prototype,"tooltip",void 0),x([Object(C.property)()],f.prototype,"enabled",void 0),x([Object(C.property)()],f.prototype,"showTitle",void 0),x([Object(C.property)()],f.prototype,"action",void 0),x([Object(C.property)()],f.prototype,"css",void 0),x([Object(C.property)()],f.prototype,"innerCss",void 0),x([Object(C.property)()],f.prototype,"data",void 0),x([Object(C.property)()],f.prototype,"popupModel",void 0),x([Object(C.property)()],f.prototype,"needSeparator",void 0),x([Object(C.property)()],f.prototype,"active",void 0),x([Object(C.property)()],f.prototype,"pressed",void 0),x([Object(C.property)()],f.prototype,"template",void 0),x([Object(C.property)()],f.prototype,"component",void 0),x([Object(C.property)()],f.prototype,"items",void 0),x([Object(C.property)()],f.prototype,"visibleIndex",void 0),x([Object(C.property)({defaultValue:"large"})],f.prototype,"mode",void 0),x([Object(C.property)()],f.prototype,"disableTabStop",void 0),x([Object(C.property)()],f.prototype,"disableShrink",void 0),x([Object(C.property)({defaultValue:!1})],f.prototype,"needSpace",void 0),x([Object(C.property)({onSet:function(i,p){i.onChanged=function(){p.updateTitleValue()},p.updateTitleValue()}})],f.prototype,"locTitle",void 0),x([Object(C.property)()],f.prototype,"titleValue",void 0),f}(d.Base),u=function(){function g(f){this.item=f,this.funcKey="sv-dropdown-action",this.setupPopupCallbacks()}return g.prototype.setupPopupCallbacks=function(){var f=this,i=this.popupModel=this.item.popupModel;i&&i.registerFunctionOnPropertyValueChanged("isVisible",function(){i.isVisible?f.item.pressed=!0:f.item.pressed=!1},this.funcKey)},g.prototype.removePopupCallbacks=function(){this.popupModel&&this.popupModel.unRegisterFunctionOnPropertyValueChanged("isVisible",this.funcKey)},g.prototype.dispose=function(){this.removePopupCallbacks()},g}()},"./src/actions/adaptive-container.ts":function(a,r,t){t.r(r),t.d(r,"AdaptiveActionContainer",function(){return h});var d=t("./src/utils/responsivity-manager.ts"),C=t("./src/list.ts"),M=t("./src/popup.ts"),w=t("./src/actions/action.ts"),S=t("./src/actions/container.ts"),x=function(){var u=function(g,f){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,p){i.__proto__=p}||function(i,p){for(var P in p)Object.prototype.hasOwnProperty.call(p,P)&&(i[P]=p[P])},u(g,f)};return function(g,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");u(g,f);function i(){this.constructor=g}g.prototype=f===null?Object.create(f):(i.prototype=f.prototype,new i)}}(),h=function(u){x(g,u);function g(){var f=u.call(this)||this;return f.minVisibleItemsCount=0,f.isResponsivenessDisabled=!1,f.invisibleItemsListModel=new C.ListModel([],function(i){f.invisibleItemSelected(i),f.dotsItemPopupModel.toggleVisibility()},!1),f.dotsItemPopupModel=new M.PopupModel("sv-list",{model:f.invisibleItemsListModel}),f.dotsItem=new w.Action({id:"dotsItem-id",component:"sv-action-bar-item-dropdown",css:"sv-dots",innerCss:"sv-dots__item",iconName:"icon-more",visible:!1,action:function(i){f.dotsItemPopupModel.toggleVisibility()},popupModel:f.dotsItemPopupModel}),f}return g.prototype.invisibleItemSelected=function(f){f&&typeof f.action=="function"&&f.action()},g.prototype.hideItemsGreaterN=function(f){f=Math.max(f,this.minVisibleItemsCount);var i=[];this.visibleActions.forEach(function(p){f<=0&&(p.mode="popup",i.push(p.innerItem)),f--}),this.invisibleItemsListModel.setItems(i)},g.prototype.getVisibleItemsCount=function(f){for(var i=this.visibleActions.map(function(m){return m.minDimension}),p=0,P=0;P<i.length;P++)if(p+=i[P],p>f)return P;return P},g.prototype.updateItemMode=function(f,i){for(var p=this.visibleActions,P=p.length-1;P>=0;P--)i>f&&!p[P].disableShrink?(i-=p[P].maxDimension-p[P].minDimension,p[P].mode="small"):p[P].mode="large"},g.prototype.onSet=function(){var f=this;this.actions.forEach(function(i){return i.updateCallback=function(){return f.raiseUpdate(!1)}}),u.prototype.onSet.call(this)},g.prototype.onPush=function(f){var i=this;f.updateCallback=function(){return i.raiseUpdate(!1)},u.prototype.onPush.call(this,f)},g.prototype.getRenderedActions=function(){return this.actions.length>=2?this.actions.concat([this.dotsItem]):this.actions},g.prototype.raiseUpdate=function(f){this.isResponsivenessDisabled||u.prototype.raiseUpdate.call(this,f)},g.prototype.fit=function(f,i){if(!(f<=0)){this.dotsItem.visible=!1;var p=0,P=0,m=this.visibleActions;m.forEach(function(y){p+=y.minDimension,P+=y.maxDimension}),f>=P?this.setActionsMode("large"):f<p?(this.setActionsMode("small"),this.hideItemsGreaterN(this.getVisibleItemsCount(f-i)),this.dotsItem.visible=!0):this.updateItemMode(f,P)}},g.prototype.initResponsivityManager=function(f){this.responsivityManager=new d.ResponsivityManager(f,this,".sv-action:not(.sv-dots)>.sv-action__content")},g.prototype.resetResponsivityManager=function(){this.responsivityManager&&(this.responsivityManager.dispose(),this.responsivityManager=void 0)},g.prototype.setActionsMode=function(f){this.actions.forEach(function(i){return i.mode=f})},g.prototype.dispose=function(){u.prototype.dispose.call(this),this.resetResponsivityManager()},g}(S.ActionContainer)},"./src/actions/container.ts":function(a,r,t){t.r(r),t.d(r,"defaultActionBarCss",function(){return x}),t.d(r,"ActionContainer",function(){return h});var d=t("./src/jsonobject.ts"),C=t("./src/base.ts"),M=t("./src/actions/action.ts"),w=function(){var u=function(g,f){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,p){i.__proto__=p}||function(i,p){for(var P in p)Object.prototype.hasOwnProperty.call(p,P)&&(i[P]=p[P])},u(g,f)};return function(g,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");u(g,f);function i(){this.constructor=g}g.prototype=f===null?Object.create(f):(i.prototype=f.prototype,new i)}}(),S=function(u,g,f,i){var p=arguments.length,P=p<3?g:i===null?i=Object.getOwnPropertyDescriptor(g,f):i,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(u,g,f,i);else for(var y=u.length-1;y>=0;y--)(m=u[y])&&(P=(p<3?m(P):p>3?m(g,f,P):m(g,f))||P);return p>3&&P&&Object.defineProperty(g,f,P),P},x={root:"sv-action-bar",item:"sv-action-bar-item",itemActive:"sv-action-bar-item--active",itemPressed:"sv-action-bar-item--pressed",itemIcon:"sv-action-bar-item__icon",itemTitle:"sv-action-bar-item__title",itemTitleWithIcon:"sv-action-bar-item__title--with-icon"},h=function(u){w(g,u);function g(){return u!==null&&u.apply(this,arguments)||this}return g.prototype.getRenderedActions=function(){return this.actions},g.prototype.raiseUpdate=function(f){this.updateCallback&&this.updateCallback(f)},g.prototype.onSet=function(){var f=this;this.actions.forEach(function(i){f.setActionCssClasses(i)}),this.raiseUpdate(!0)},g.prototype.onPush=function(f){this.setActionCssClasses(f),this.raiseUpdate(!0)},g.prototype.onRemove=function(f){this.raiseUpdate(!0)},g.prototype.setActionCssClasses=function(f){f.cssClasses=this.cssClasses},Object.defineProperty(g.prototype,"hasActions",{get:function(){return(this.actions||[]).length>0},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"renderedActions",{get:function(){return this.getRenderedActions()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"visibleActions",{get:function(){return this.actions.filter(function(f){return f.visible!==!1})},enumerable:!1,configurable:!0}),g.prototype.getRootCss=function(){return this.cssClasses.root+(this.containerCss?" "+this.containerCss:"")},Object.defineProperty(g.prototype,"cssClasses",{get:function(){return this.cssClassesValue||x},set:function(f){var i=this;this.cssClassesValue=f,this.actions.forEach(function(p){i.setActionCssClasses(p)})},enumerable:!1,configurable:!0}),g.prototype.createAction=function(f){return f instanceof M.Action?f:new M.Action(f)},g.prototype.addAction=function(f,i){var p=this.createAction(f);return this.actions.push(p),this.sortItems(),p},g.prototype.sortItems=function(){this.actions=[].concat(this.actions.filter(function(f){return f.visibleIndex===void 0||f.visibleIndex>=0})).sort(function(f,i){return f.visibleIndex-i.visibleIndex})},g.prototype.setItems=function(f,i){var p=this;i===void 0&&(i=!0),this.actions=f.map(function(P){return p.createAction(P)}),i&&this.sortItems()},g.prototype.initResponsivityManager=function(f){},g.prototype.resetResponsivityManager=function(){},g.prototype.getActionById=function(f){for(var i=0;i<this.actions.length;i++)if(this.actions[i].id===f)return this.actions[i];return null},S([Object(d.propertyArray)({onSet:function(f,i){i.onSet()},onPush:function(f,i,p){p.onPush(f)},onRemove:function(f,i,p){p.onRemove(f)}})],g.prototype,"actions",void 0),g}(C.Base)},"./src/base.ts":function(a,r,t){t.r(r),t.d(r,"Bindings",function(){return u}),t.d(r,"Dependencies",function(){return g}),t.d(r,"ComputedUpdater",function(){return f}),t.d(r,"Base",function(){return i}),t.d(r,"ArrayChanges",function(){return p}),t.d(r,"Event",function(){return P}),t.d(r,"EventBase",function(){return m});var d=t("./src/localizablestring.ts"),C=t("./src/helpers.ts"),M=t("./src/jsonobject.ts"),w=t("./src/settings.ts"),S=t("./src/conditions.ts"),x=function(){var y=function(R,b){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,E){c.__proto__=E}||function(c,E){for(var I in E)Object.prototype.hasOwnProperty.call(E,I)&&(c[I]=E[I])},y(R,b)};return function(R,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");y(R,b);function c(){this.constructor=R}R.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c)}}(),h=function(y,R,b){if(b||arguments.length===2)for(var c=0,E=R.length,I;c<E;c++)(I||!(c in R))&&(I||(I=Array.prototype.slice.call(R,0,c)),I[c]=R[c]);return y.concat(I||Array.prototype.slice.call(R))},u=function(){function y(R){this.obj=R,this.properties=null,this.values=null}return y.prototype.getType=function(){return"bindings"},y.prototype.getNames=function(){var R=[];this.fillProperties();for(var b=0;b<this.properties.length;b++)this.properties[b].isVisible("",this.obj)&&R.push(this.properties[b].name);return R},y.prototype.getProperties=function(){var R=[];this.fillProperties();for(var b=0;b<this.properties.length;b++)R.push(this.properties[b]);return R},y.prototype.setBinding=function(R,b){this.values||(this.values={}),b?this.values[R]=b:(delete this.values[R],Object.keys(this.values).length==0&&(this.values=null))},y.prototype.clearBinding=function(R){this.setBinding(R,"")},y.prototype.isEmpty=function(){return!this.values},y.prototype.getValueNameByPropertyName=function(R){if(this.values)return this.values[R]},y.prototype.getPropertiesByValueName=function(R){if(!this.values)return[];var b=[];for(var c in this.values)this.values[c]==R&&b.push(c);return b},y.prototype.getJson=function(){if(this.isEmpty())return null;var R={};for(var b in this.values)R[b]=this.values[b];return R},y.prototype.setJson=function(R){if(this.values=null,!!R){this.values={};for(var b in R)this.values[b]=R[b]}},y.prototype.fillProperties=function(){if(this.properties===null){this.properties=[];for(var R=M.Serializer.getPropertiesByObj(this.obj),b=0;b<R.length;b++)R[b].isBindable&&this.properties.push(R[b])}},y}(),g=function(){function y(R,b,c){this.currentDependency=R,this.target=b,this.property=c,this.dependencies=[],this.id=""+ ++y.DependenciesCount}return y.prototype.addDependency=function(R,b){this.target===R&&this.property===b||this.dependencies.some(function(c){return c.obj===R&&c.prop===b})||(this.dependencies.push({obj:R,prop:b,id:this.id}),R.registerFunctionOnPropertiesValueChanged([b],this.currentDependency,this.id))},y.prototype.dispose=function(){this.dependencies.forEach(function(R){R.obj.unRegisterFunctionOnPropertiesValueChanged([R.prop],R.id)})},y.DependenciesCount=0,y}(),f=function(){function y(R){this._updater=R,this.dependencies=void 0,this.type=y.ComputedUpdaterType}return Object.defineProperty(y.prototype,"updater",{get:function(){return this._updater},enumerable:!1,configurable:!0}),y.prototype.setDependencies=function(R){this.clearDependencies(),this.dependencies=R},y.prototype.getDependencies=function(){return this.dependencies},y.prototype.clearDependencies=function(){this.dependencies&&(this.dependencies.dispose(),this.dependencies=void 0)},y.prototype.dispose=function(){this.clearDependencies()},y.ComputedUpdaterType="__dependency_computed",y}(),i=function(){function y(){this.propertyHash={},this.eventList=[],this.isLoadingFromJsonValue=!1,this.loadingOwner=null,this.onPropertyChanged=this.addEvent(),this.onItemValuePropertyChanged=this.addEvent(),this.isCreating=!0,this.bindingsValue=new u(this),M.CustomPropertiesCollection.createProperties(this),this.onBaseCreating(),this.isCreating=!1}return y.finishCollectDependencies=function(){var R=y.currentDependencis;return y.currentDependencis=void 0,R},y.startCollectDependencies=function(R,b,c){if(y.currentDependencis!==void 0)throw new Error("Attempt to collect nested dependencies. Nested dependencies are not supported.");y.currentDependencis=new g(R,b,c)},y.collectDependency=function(R,b){y.currentDependencis!==void 0&&y.currentDependencis.addDependency(R,b)},Object.defineProperty(y,"commentPrefix",{get:function(){return w.settings.commentPrefix},set:function(R){w.settings.commentPrefix=R},enumerable:!1,configurable:!0}),y.prototype.isValueEmpty=function(R,b){return b===void 0&&(b=!0),b&&(R=this.trimValue(R)),C.Helpers.isValueEmpty(R)},y.prototype.trimValue=function(R){return R&&(typeof R=="string"||R instanceof String)?R.trim():R},y.prototype.IsPropertyEmpty=function(R){return R!==""&&this.isValueEmpty(R)},y.prototype.dispose=function(){for(var R=0;R<this.eventList.length;R++)this.eventList[R].clear();this.onPropertyValueChangedCallback=void 0,this.isDisposedValue=!0},Object.defineProperty(y.prototype,"isDisposed",{get:function(){return this.isDisposedValue===!0},enumerable:!1,configurable:!0}),y.prototype.addEvent=function(){var R=new m;return this.eventList.push(R),R},y.prototype.onBaseCreating=function(){},y.prototype.getType=function(){return"base"},y.prototype.getSurvey=function(R){return null},Object.defineProperty(y.prototype,"isDesignMode",{get:function(){var R=this.getSurvey();return!!R&&R.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"inSurvey",{get:function(){return!!this.getSurvey(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"bindings",{get:function(){return this.bindingsValue},enumerable:!1,configurable:!0}),y.prototype.checkBindings=function(R,b){},y.prototype.updateBindings=function(R,b){var c=this.bindings.getValueNameByPropertyName(R);c&&this.updateBindingValue(c,b)},y.prototype.updateBindingValue=function(R,b){},y.prototype.getTemplate=function(){return this.getType()},Object.defineProperty(y.prototype,"isLoadingFromJson",{get:function(){return this.isLoadingFromJsonValue||this.getIsLoadingFromJson()},enumerable:!1,configurable:!0}),y.prototype.getIsLoadingFromJson=function(){return this.loadingOwner&&this.loadingOwner.isLoadingFromJson?!0:this.isLoadingFromJsonValue},y.prototype.startLoadingFromJson=function(){this.isLoadingFromJsonValue=!0},y.prototype.endLoadingFromJson=function(){this.isLoadingFromJsonValue=!1},y.prototype.toJSON=function(){return new M.JsonObject().toJsonObject(this)},y.prototype.fromJSON=function(R){new M.JsonObject().toObject(R,this),this.onSurveyLoad()},y.prototype.onSurveyLoad=function(){},y.prototype.clone=function(){var R=M.Serializer.createClass(this.getType());return R.fromJSON(this.toJSON()),R},y.prototype.getPropertyByName=function(R){return M.Serializer.findProperty(this.getType(),R)},y.prototype.isPropertyVisible=function(R){var b=this.getPropertyByName(R);return b?b.isVisible("",this):!1},y.createProgressInfo=function(){return{questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0}},y.prototype.getProgressInfo=function(){return y.createProgressInfo()},y.prototype.localeChanged=function(){},y.prototype.locStrsChanged=function(){if(this.arraysInfo)for(var R in this.arraysInfo){var b=this.arraysInfo[R];if(b&&b.isItemValues){var c=this.getPropertyValue(R);c&&y.itemValueLocStrChanged&&y.itemValueLocStrChanged(c)}}if(this.localizableStrings)for(var R in this.localizableStrings){var b=this.getLocalizableString(R);b&&b.strChanged()}},y.prototype.getPropertyValue=function(R,b){b===void 0&&(b=null);var c=this.getPropertyValueCore(this.propertyHash,R);if(this.IsPropertyEmpty(c)){if(b!=null)return b;var E=M.Serializer.findProperty(this.getType(),R);if(E&&(!E.isCustom||!this.isCreating)){if(!this.IsPropertyEmpty(E.defaultValue)&&!Array.isArray(E.defaultValue))return E.defaultValue;if(E.type=="boolean"||E.type=="switch")return!1;if(E.isCustom&&E.onGetValue)return E.onGetValue(this)}}return c},y.prototype.getPropertyValueCore=function(R,b){return y.collectDependency(this,b),this.getPropertyValueCoreHandler?this.getPropertyValueCoreHandler(R,b):R[b]},y.prototype.geValueFromHash=function(){return this.propertyHash.value},y.prototype.setPropertyValueCore=function(R,b,c){this.setPropertyValueCoreHandler?this.isDisposedValue?console.warn("Attempt to set property '"+b+"' of a disposed object '"+this.getType()+"'"):this.setPropertyValueCoreHandler(R,b,c):R[b]=c},Object.defineProperty(y.prototype,"isEditingSurveyElement",{get:function(){var R=this.getSurvey();return!!R&&R.isEditingSurveyElement},enumerable:!1,configurable:!0}),y.prototype.iteratePropertiesHash=function(R){var b=this,c=[];for(var E in this.propertyHash)E==="value"&&this.isEditingSurveyElement&&Array.isArray(this.value)||c.push(E);c.forEach(function(I){return R(b.propertyHash,I)})},y.prototype.setPropertyValue=function(R,b){var c=this.getPropertyValue(R);if(c&&Array.isArray(c)&&this.arraysInfo&&(!b||Array.isArray(b))){if(this.isTwoValueEquals(c,b))return;this.setArrayPropertyDirectly(R,b)}else this.setPropertyValueDirectly(R,b),!this.isDisposedValue&&!this.isTwoValueEquals(c,b)&&this.propertyValueChanged(R,c,b)},y.prototype.setArrayPropertyDirectly=function(R,b,c){c===void 0&&(c=!0);var E=this.arraysInfo[R];this.setArray(R,this.getPropertyValue(R),b,E?E.isItemValues:!1,E?c&&E.onPush:null)},y.prototype.setPropertyValueDirectly=function(R,b){this.setPropertyValueCore(this.propertyHash,R,b)},y.prototype.clearPropertyValue=function(R){this.setPropertyValueCore(this.propertyHash,R,null),delete this.propertyHash[R]},y.prototype.onPropertyValueChangedCallback=function(R,b,c,E,I){},y.prototype.itemValuePropertyChanged=function(R,b,c,E){this.onItemValuePropertyChanged.fire(this,{obj:R,name:b,oldValue:c,newValue:E,propertyName:R.ownerPropertyName})},y.prototype.onPropertyValueChanged=function(R,b,c){},y.prototype.propertyValueChanged=function(R,b,c,E,I){if(!this.isLoadingFromJson&&(this.updateBindings(R,c),this.onPropertyValueChanged(R,b,c),this.onPropertyChanged.fire(this,{name:R,oldValue:b,newValue:c}),this.doPropertyValueChangedCallback(R,b,c,E,this),this.checkConditionPropertyChanged(R),!!this.onPropChangeFunctions))for(var A=0;A<this.onPropChangeFunctions.length;A++)this.onPropChangeFunctions[A].name==R&&this.onPropChangeFunctions[A].func(c)},Object.defineProperty(y.prototype,"isInternal",{get:function(){return!1},enumerable:!1,configurable:!0}),y.prototype.doPropertyValueChangedCallback=function(R,b,c,E,I){if(!this.isInternal){I||(I=this);var A=this.getSurvey();A||(A=this),A.onPropertyValueChangedCallback&&A.onPropertyValueChangedCallback(R,b,c,I,E),A!==this&&this.onPropertyValueChangedCallback&&this.onPropertyValueChangedCallback(R,b,c,I,E)}},y.prototype.addExpressionProperty=function(R,b,c){this.expressionInfo||(this.expressionInfo={}),this.expressionInfo[R]={onExecute:b,canRun:c}},y.prototype.getDataFilteredValues=function(){return{}},y.prototype.getDataFilteredProperties=function(){return{}},y.prototype.runConditionCore=function(R,b){if(this.expressionInfo)for(var c in this.expressionInfo)this.runConditionItemCore(c,R,b)},y.prototype.canRunConditions=function(){return!this.isDesignMode},y.prototype.checkConditionPropertyChanged=function(R){!this.expressionInfo||!this.expressionInfo[R]||this.canRunConditions()&&this.runConditionItemCore(R,this.getDataFilteredValues(),this.getDataFilteredProperties())},y.prototype.runConditionItemCore=function(R,b,c){var E=this,I=this.expressionInfo[R],A=this.getPropertyValue(R);A&&(I.canRun&&!I.canRun(this)||(I.runner||(I.runner=new S.ExpressionRunner(A),I.runner.onRunComplete=function(D){I.onExecute(E,D)}),I.runner.expression=A,I.runner.run(b,c)))},y.prototype.registerFunctionOnPropertyValueChanged=function(R,b,c){if(c===void 0&&(c=null),this.onPropChangeFunctions||(this.onPropChangeFunctions=[]),c)for(var E=0;E<this.onPropChangeFunctions.length;E++){var I=this.onPropChangeFunctions[E];if(I.name==R&&I.key==c){I.func=b;return}}this.onPropChangeFunctions.push({name:R,func:b,key:c})},y.prototype.registerFunctionOnPropertiesValueChanged=function(R,b,c){c===void 0&&(c=null);for(var E=0;E<R.length;E++)this.registerFunctionOnPropertyValueChanged(R[E],b,c)},y.prototype.unRegisterFunctionOnPropertyValueChanged=function(R,b){if(b===void 0&&(b=null),!!this.onPropChangeFunctions)for(var c=0;c<this.onPropChangeFunctions.length;c++){var E=this.onPropChangeFunctions[c];if(E.name==R&&E.key==b){this.onPropChangeFunctions.splice(c,1);return}}},y.prototype.unRegisterFunctionOnPropertiesValueChanged=function(R,b){b===void 0&&(b=null);for(var c=0;c<R.length;c++)this.unRegisterFunctionOnPropertyValueChanged(R[c],b)},y.prototype.createCustomLocalizableObj=function(R){var b=this.getLocalizableString(R);b||!this.getLocale||this.createLocalizableString(R,this,!1,!0)},y.prototype.createLocalizableString=function(R,b,c,E){var I=this;c===void 0&&(c=!1),E===void 0&&(E=!1);var A=new d.LocalizableString(b,c,R);return E&&(A.localizationName=E===!0?R:E),A.onStrChanged=function(D,O){I.propertyValueChanged(R,D,O)},this.localizableStrings||(this.localizableStrings={}),this.localizableStrings[R]=A,A},y.prototype.getLocalizableString=function(R){return this.localizableStrings?this.localizableStrings[R]:null},y.prototype.getLocalizableStringText=function(R,b){b===void 0&&(b="");var c=this.getLocalizableString(R);if(!c)return"";var E=c.text;return E||b},y.prototype.setLocalizableStringText=function(R,b){var c=this.getLocalizableString(R);c&&(c.text=b)},y.prototype.addUsedLocales=function(R){if(this.localizableStrings)for(var b in this.localizableStrings){var c=this.getLocalizableString(b);c&&this.AddLocStringToUsedLocales(c,R)}if(this.arraysInfo)for(var b in this.arraysInfo){var E=this.getPropertyValue(b);if(!(!E||!E.length))for(var I=0;I<E.length;I++){var c=E[I];c&&c.addUsedLocales&&c.addUsedLocales(R)}}},y.prototype.searchText=function(R,b){var c=[];this.getSearchableLocalizedStrings(c);for(var E=0;E<c.length;E++)c[E].setFindText(R)&&b.push({element:this,str:c[E]})},y.prototype.getSearchableLocalizedStrings=function(R){if(this.localizableStrings){var b=[];this.getSearchableLocKeys(b);for(var c=0;c<b.length;c++){var E=this.getLocalizableString(b[c]);E&&R.push(E)}}if(this.arraysInfo){var I=[];this.getSearchableItemValueKeys(I);for(var c=0;c<I.length;c++){var A=this.getPropertyValue(I[c]);if(A)for(var D=0;D<A.length;D++)R.push(A[D].locText)}}},y.prototype.getSearchableLocKeys=function(R){},y.prototype.getSearchableItemValueKeys=function(R){},y.prototype.AddLocStringToUsedLocales=function(R,b){for(var c=R.getLocales(),E=0;E<c.length;E++)b.indexOf(c[E])<0&&b.push(c[E])},y.prototype.createItemValues=function(R){var b=this,c=this.createNewArray(R,function(E){E.locOwner=b,E.ownerPropertyName=R});return this.arraysInfo[R].isItemValues=!0,c},y.prototype.notifyArrayChanged=function(R,b){R.onArrayChanged&&R.onArrayChanged(b)},y.prototype.createNewArrayCore=function(R){var b=null;return this.createArrayCoreHandler&&(b=this.createArrayCoreHandler(this.propertyHash,R)),b||(b=new Array,this.setPropertyValueCore(this.propertyHash,R,b)),b},y.prototype.ensureArray=function(R,b,c){if(b===void 0&&(b=null),c===void 0&&(c=null),!(this.arraysInfo&&this.arraysInfo[R]))return this.createNewArray(R,b,c)},y.prototype.createNewArray=function(R,b,c){b===void 0&&(b=null),c===void 0&&(c=null);var E=this.createNewArrayCore(R);this.arraysInfo||(this.arraysInfo={}),this.arraysInfo[R]={onPush:b,isItemValues:!1};var I=this;return E.push=function(A){var D=Object.getPrototypeOf(E).push.call(E,A);if(!I.isDisposedValue){b&&b(A,E.length-1);var O=new p(E.length-1,0,[A],[]);I.propertyValueChanged(R,E,E,O),I.notifyArrayChanged(E,O)}return D},E.shift=function(){var A=Object.getPrototypeOf(E).shift.call(E);if(!I.isDisposedValue&&A){c&&c(A);var D=new p(E.length-1,1,[],[]);I.propertyValueChanged(R,E,E,D),I.notifyArrayChanged(E,D)}return A},E.unshift=function(A){var D=Object.getPrototypeOf(E).unshift.call(E,A);if(!I.isDisposedValue){b&&b(A,E.length-1);var O=new p(0,0,[A],[]);I.propertyValueChanged(R,E,E,O),I.notifyArrayChanged(E,O)}return D},E.pop=function(){var A=Object.getPrototypeOf(E).pop.call(E);if(!I.isDisposedValue){c&&c(A);var D=new p(E.length-1,1,[],[]);I.propertyValueChanged(R,E,E,D),I.notifyArrayChanged(E,D)}return A},E.splice=function(A,D){for(var O,l=[],o=2;o<arguments.length;o++)l[o-2]=arguments[o];A||(A=0),D||(D=0);var v=(O=Object.getPrototypeOf(E).splice).call.apply(O,h([E,A,D],l,!1));if(l||(l=[]),!I.isDisposedValue){if(c&&v)for(var T=0;T<v.length;T++)c(v[T]);if(b)for(var T=0;T<l.length;T++)b(l[T],A+T);var L=new p(A,D,l,v);I.propertyValueChanged(R,E,E,L),I.notifyArrayChanged(E,L)}return v},E},y.prototype.getItemValueType=function(){},y.prototype.setArray=function(R,b,c,E,I){var A=[].concat(b);if(Object.getPrototypeOf(b).splice.call(b,0,b.length),c)for(var D=0;D<c.length;D++){var O=c[D];E&&y.createItemValue&&(O=y.createItemValue(O,this.getItemValueType())),Object.getPrototypeOf(b).push.call(b,O),I&&I(b[D])}var l=new p(0,A.length,b,A);this.propertyValueChanged(R,A,b,l),this.notifyArrayChanged(b,l)},y.prototype.isTwoValueEquals=function(R,b,c,E){return c===void 0&&(c=!1),E===void 0&&(E=!1),C.Helpers.isTwoValueEquals(R,b,!1,!c,E)},y.copyObject=function(R,b){for(var c in b){var E=b[c];typeof E=="object"&&(E={},this.copyObject(E,b[c])),R[c]=E}},y.prototype.copyCssClasses=function(R,b){b&&(typeof b=="string"||b instanceof String?R.root=b:y.copyObject(R,b))},y.prototype.getValueInLowCase=function(R){return R&&typeof R=="string"?R.toLowerCase():R},y.currentDependencis=void 0,y}(),p=function(){function y(R,b,c,E){this.index=R,this.deleteCount=b,this.itemsToAdd=c,this.deletedItems=E}return y}(),P=function(){function y(){}return Object.defineProperty(y.prototype,"isEmpty",{get:function(){return!this.callbacks||this.callbacks.length==0},enumerable:!1,configurable:!0}),y.prototype.fire=function(R,b){if(this.callbacks){for(var c=0;c<this.callbacks.length;c++)if(this.callbacks[c](R,b),!this.callbacks)return}},y.prototype.clear=function(){this.callbacks=void 0},y.prototype.add=function(R){this.hasFunc(R)||(this.callbacks||(this.callbacks=new Array),this.callbacks.push(R),this.fireCallbackChanged())},y.prototype.remove=function(R){if(this.hasFunc(R)){var b=this.callbacks.indexOf(R,0);this.callbacks.splice(b,1),this.fireCallbackChanged()}},y.prototype.hasFunc=function(R){return this.callbacks==null?!1:this.callbacks.indexOf(R,0)>-1},y.prototype.fireCallbackChanged=function(){this.onCallbacksChanged&&this.onCallbacksChanged()},y}(),m=function(y){x(R,y);function R(){return y!==null&&y.apply(this,arguments)||this}return R}(P)},"./src/calculatedValue.ts":function(a,r,t){t.r(r),t.d(r,"CalculatedValue",function(){return x});var d=t("./src/helpers.ts"),C=t("./src/base.ts"),M=t("./src/conditions.ts"),w=t("./src/jsonobject.ts"),S=function(){var h=function(u,g){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,i){f.__proto__=i}||function(f,i){for(var p in i)Object.prototype.hasOwnProperty.call(i,p)&&(f[p]=i[p])},h(u,g)};return function(u,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");h(u,g);function f(){this.constructor=u}u.prototype=g===null?Object.create(g):(f.prototype=g.prototype,new f)}}(),x=function(h){S(u,h);function u(g,f){g===void 0&&(g=null),f===void 0&&(f=null);var i=h.call(this)||this;return i.expressionIsRunning=!1,i.isCalculated=!1,g&&(i.name=g),f&&(i.expression=f),i}return u.prototype.setOwner=function(g){this.data=g,this.rerunExpression()},u.prototype.getType=function(){return"calculatedvalue"},u.prototype.getSurvey=function(g){return this.data&&this.data.getSurvey?this.data.getSurvey():null},Object.defineProperty(u.prototype,"owner",{get:function(){return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"name",{get:function(){return this.getPropertyValue("name","")},set:function(g){this.setPropertyValue("name",g)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"includeIntoResult",{get:function(){return this.getPropertyValue("includeIntoResult",!1)},set:function(g){this.setPropertyValue("includeIntoResult",g)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(g){this.setPropertyValue("expression",g),this.rerunExpression()},enumerable:!1,configurable:!0}),u.prototype.locCalculation=function(){this.expressionIsRunning=!0},u.prototype.unlocCalculation=function(){this.expressionIsRunning=!1},u.prototype.resetCalculation=function(){this.isCalculated=!1},u.prototype.doCalculation=function(g,f,i){this.isCalculated||(this.runExpressionCore(g,f,i),this.isCalculated=!0)},u.prototype.runExpression=function(g,f){this.runExpressionCore(null,g,f)},Object.defineProperty(u.prototype,"value",{get:function(){if(this.data)return this.data.getVariable(this.name)},enumerable:!1,configurable:!0}),u.prototype.setValue=function(g){this.data&&this.data.setVariable(this.name,g)},Object.defineProperty(u.prototype,"canRunExpression",{get:function(){return!!this.data&&!this.isLoadingFromJson&&!!this.expression&&!this.expressionIsRunning&&!!this.name},enumerable:!1,configurable:!0}),u.prototype.rerunExpression=function(){this.canRunExpression&&this.runExpression(this.data.getFilteredValues(),this.data.getFilteredProperties())},u.prototype.runExpressionCore=function(g,f,i){this.canRunExpression&&(this.ensureExpression(f),this.locCalculation(),g&&this.runDependentExpressions(g,f,i),this.expressionRunner.run(f,i))},u.prototype.runDependentExpressions=function(g,f,i){var p=this.expressionRunner.getVariables();if(p)for(var P=0;P<g.length;P++){var m=g[P];m===this||p.indexOf(m.name)<0||(m.doCalculation(g,f,i),f[m.name]=m.value)}},u.prototype.ensureExpression=function(g){var f=this;this.expressionRunner||(this.expressionRunner=new M.ExpressionRunner(this.expression),this.expressionRunner.onRunComplete=function(i){d.Helpers.isTwoValueEquals(i,f.value)||f.setValue(i),f.unlocCalculation()})},u}(C.Base);w.Serializer.addClass("calculatedvalue",[{name:"!name",isUnique:!0},"expression:expression","includeIntoResult:boolean"],function(){return new x},"base")},"./src/choicesRestful.ts":function(a,r,t){t.r(r),t.d(r,"ChoicesRestful",function(){return u}),t.d(r,"ChoicesRestfull",function(){return g});var d=t("./src/base.ts"),C=t("./src/itemvalue.ts"),M=t("./src/jsonobject.ts"),w=t("./src/error.ts"),S=t("./src/settings.ts"),x=function(){var f=function(i,p){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,m){P.__proto__=m}||function(P,m){for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&(P[y]=m[y])},f(i,p)};return function(i,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");f(i,p);function P(){this.constructor=i}i.prototype=p===null?Object.create(p):(P.prototype=p.prototype,new P)}}(),h=function(){function f(){this.parser=new DOMParser}return f.prototype.assignValue=function(i,p,P){Array.isArray(i[p])?i[p].push(P):i[p]!==void 0?i[p]=[i[p]].concat(P):typeof P=="object"&&Object.keys(P).length===1&&Object.keys(P)[0]===p?i[p]=P[p]:i[p]=P},f.prototype.xml2Json=function(i,p){if(i.children&&i.children.length>0)for(var P=0;P<i.children.length;P++){var m=i.children[P],y={};this.xml2Json(m,y),this.assignValue(p,m.nodeName,y)}else this.assignValue(p,i.nodeName,i.textContent)},f.prototype.parseXmlString=function(i){var p=this.parser.parseFromString(i,"text/xml"),P={};return this.xml2Json(p,P),P},f}(),u=function(f){x(i,f);function i(){var p=f.call(this)||this;return p.lastObjHash="",p.isRunningValue=!1,p.processedUrl="",p.processedPath="",p.isUsingCacheFromUrl=void 0,p.error=null,p.createItemValue=function(P){return new C.ItemValue(P)},p}return Object.defineProperty(i,"EncodeParameters",{get:function(){return S.settings.webserviceEncodeParameters},set:function(p){S.settings.webserviceEncodeParameters=p},enumerable:!1,configurable:!0}),i.clearCache=function(){i.itemsResult={},i.sendingSameRequests={}},i.addSameRequest=function(p){if(!p.isUsingCache)return!1;var P=p.objHash,m=i.sendingSameRequests[P];return m?(m.push(p),p.isRunningValue=!0,!0):(i.sendingSameRequests[p.objHash]=[],!1)},i.unregisterSameRequests=function(p,P){if(p.isUsingCache){var m=i.sendingSameRequests[p.objHash];if(delete i.sendingSameRequests[p.objHash],!!m)for(var y=0;y<m.length;y++)m[y].isRunningValue=!1,m[y].getResultCallback&&m[y].getResultCallback(P)}},i.getCachedItemsResult=function(p){var P=p.objHash,m=i.itemsResult[P];return m?(p.getResultCallback&&p.getResultCallback(m),!0):!1},i.prototype.getSurvey=function(p){return this.owner?this.owner.survey:null},i.prototype.run=function(p){if(p===void 0&&(p=null),!(!this.url||!this.getResultCallback)){if(this.processedText(p),!this.processedUrl){this.doEmptyResultCallback({}),this.lastObjHash=this.objHash;return}this.lastObjHash!==this.objHash&&(this.lastObjHash=this.objHash,this.error=null,!this.useChangedItemsResults()&&(i.addSameRequest(this)||this.sendRequest()))}},Object.defineProperty(i.prototype,"isUsingCache",{get:function(){return this.isUsingCacheFromUrl===!0?!0:this.isUsingCacheFromUrl===!1?!1:S.settings.useCachingForChoicesRestful},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isRunning",{get:function(){return this.getIsRunning()},enumerable:!1,configurable:!0}),i.prototype.getIsRunning=function(){return this.isRunningValue},Object.defineProperty(i.prototype,"isWaitingForParameters",{get:function(){return this.url&&!this.processedUrl},enumerable:!1,configurable:!0}),i.prototype.useChangedItemsResults=function(){return i.getCachedItemsResult(this)},i.prototype.doEmptyResultCallback=function(p){var P=[];this.updateResultCallback&&(P=this.updateResultCallback(P,p)),this.getResultCallback(P)},i.prototype.processedText=function(p){var P=this.url;if(P&&(P=P.replace(i.cacheText,"").replace(i.noCacheText,"")),p){var m=p.processTextEx(P,!1,S.settings.webserviceEncodeParameters),y=p.processTextEx(this.path,!1,S.settings.webserviceEncodeParameters);!m.hasAllValuesOnLastRun||!y.hasAllValuesOnLastRun?(this.processedUrl="",this.processedPath=""):(this.processedUrl=m.text,this.processedPath=y.text)}else this.processedUrl=P,this.processedPath=this.path;this.onProcessedUrlCallback&&this.onProcessedUrlCallback(this.processedUrl,this.processedPath)},i.prototype.parseResponse=function(p){var P;if(p&&typeof p.indexOf=="function"&&p.indexOf("<")===0){var m=new h;P=m.parseXmlString(p)}else try{P=JSON.parse(p)}catch{P=(p||"").split(`
`).map(function(R){return R.trim(" ")}).filter(function(R){return!!R})}return P},i.prototype.sendRequest=function(){var p=new XMLHttpRequest;p.open("GET",this.processedUrl),p.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var P=this,m=this.objHash;p.onload=function(){P.beforeLoadRequest(),p.status===200?P.onLoad(P.parseResponse(p.response),m):P.onError(p.statusText,p.responseText)};var y={request:p};i.onBeforeSendRequest&&i.onBeforeSendRequest(this,y),this.beforeSendRequest(),y.request.send()},i.prototype.getType=function(){return"choicesByUrl"},Object.defineProperty(i.prototype,"isEmpty",{get:function(){return!this.url&&!this.path&&!this.valueName&&!this.titleName&&!this.imageLinkName},enumerable:!1,configurable:!0}),i.prototype.getCustomPropertiesNames=function(){for(var p=this.getCustomProperties(),P=new Array,m=0;m<p.length;m++)P.push(this.getCustomPropertyName(p[m].name));return P},i.prototype.getCustomPropertyName=function(p){return p+"Name"},i.prototype.getCustomProperties=function(){for(var p=M.Serializer.getProperties(this.itemValueType),P=[],m=0;m<p.length;m++)p[m].name==="value"||p[m].name==="text"||p[m].name==="visibleIf"||p[m].name==="enableIf"||P.push(p[m]);return P},i.prototype.setData=function(p){this.clear(),p.url&&(this.url=p.url),p.path&&(this.path=p.path),p.valueName&&(this.valueName=p.valueName),p.titleName&&(this.titleName=p.titleName),p.imageLinkName&&(this.imageLinkName=p.imageLinkName),p.allowEmptyResponse!==void 0&&(this.allowEmptyResponse=p.allowEmptyResponse),p.attachOriginalItems!==void 0&&(this.attachOriginalItems=p.attachOriginalItems);for(var P=this.getCustomPropertiesNames(),m=0;m<P.length;m++)p[P[m]]&&(this[P[m]]=p[P[m]])},i.prototype.getData=function(){if(this.isEmpty)return null;var p={};this.url&&(p.url=this.url),this.path&&(p.path=this.path),this.valueName&&(p.valueName=this.valueName),this.titleName&&(p.titleName=this.titleName),this.imageLinkName&&(p.imageLinkName=this.imageLinkName),this.allowEmptyResponse&&(p.allowEmptyResponse=this.allowEmptyResponse),this.attachOriginalItems&&(p.attachOriginalItems=this.attachOriginalItems);for(var P=this.getCustomPropertiesNames(),m=0;m<P.length;m++)this[P[m]]&&(p[P[m]]=this[P[m]]);return p},Object.defineProperty(i.prototype,"url",{get:function(){return this.getPropertyValue("url","")},set:function(p){this.setPropertyValue("url",p),this.isUsingCacheFromUrl=void 0,p&&(p.indexOf(i.cacheText)>-1?this.isUsingCacheFromUrl=!0:p.indexOf(i.noCacheText)>-1&&(this.isUsingCacheFromUrl=!1))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this.getPropertyValue("path","")},set:function(p){this.setPropertyValue("path",p)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"valueName",{get:function(){return this.getPropertyValue("valueName","")},set:function(p){this.setPropertyValue("valueName",p)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"titleName",{get:function(){return this.getPropertyValue("titleName","")},set:function(p){this.setPropertyValue("titleName",p)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"imageLinkName",{get:function(){return this.getPropertyValue("imageLinkName","")},set:function(p){this.setPropertyValue("imageLinkName",p)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"allowEmptyResponse",{get:function(){return this.getPropertyValue("allowEmptyResponse")},set:function(p){this.setPropertyValue("allowEmptyResponse",p)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"attachOriginalItems",{get:function(){return this.getPropertyValue("attachOriginalItems")},set:function(p){this.setPropertyValue("attachOriginalItems",p)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"itemValueType",{get:function(){if(!this.owner)return"itemvalue";var p=M.Serializer.findProperty(this.owner.getType(),"choices");return!p||p.type=="itemvalue[]"?"itemvalue":p.type},enumerable:!1,configurable:!0}),i.prototype.clear=function(){this.url="",this.path="",this.valueName="",this.titleName="",this.imageLinkName="";for(var p=this.getCustomPropertiesNames(),P=0;P<p.length;P++)this[p[P]]&&(this[p[P]]="")},i.prototype.beforeSendRequest=function(){this.isRunningValue=!0,this.beforeSendRequestCallback&&this.beforeSendRequestCallback()},i.prototype.beforeLoadRequest=function(){this.isRunningValue=!1},i.prototype.onLoad=function(p,P){P===void 0&&(P=null),P||(P=this.objHash);var m=new Array,y=this.getResultAfterPath(p);if(y&&y.length)for(var R=0;R<y.length;R++){var b=y[R];if(b){var c=this.getItemValueCallback?this.getItemValueCallback(b):this.getValue(b),E=this.createItemValue(c);this.setTitle(E,b),this.setCustomProperties(E,b),this.attachOriginalItems&&(E.originalItem=b);var I=this.getImageLink(b);I&&(E.imageLink=I),m.push(E)}}else this.allowEmptyResponse||(this.error=new w.WebRequestEmptyError(null,this.owner));this.updateResultCallback&&(m=this.updateResultCallback(m,p)),this.isUsingCache&&(i.itemsResult[P]=m),this.callResultCallback(m,P),i.unregisterSameRequests(this,m)},i.prototype.callResultCallback=function(p,P){P==this.objHash&&this.getResultCallback(p)},i.prototype.setCustomProperties=function(p,P){for(var m=this.getCustomProperties(),y=0;y<m.length;y++){var R=m[y],b=this.getValueCore(P,this.getPropertyBinding(R.name));this.isValueEmpty(b)||(p[R.name]=b)}},i.prototype.getPropertyBinding=function(p){return this[this.getCustomPropertyName(p)]?this[this.getCustomPropertyName(p)]:this[p]?this[p]:p},i.prototype.onError=function(p,P){this.error=new w.WebRequestError(p,P,this.owner),this.doEmptyResultCallback(P),i.unregisterSameRequests(this,[])},i.prototype.getResultAfterPath=function(p){if(!p||!this.processedPath)return p;for(var P=this.getPathes(),m=0;m<P.length;m++)if(p=p[P[m]],!p)return null;return p},i.prototype.getPathes=function(){var p=[];return this.processedPath.indexOf(";")>-1?p=this.path.split(";"):p=this.processedPath.split(","),p.length==0&&p.push(this.processedPath),p},i.prototype.getValue=function(p){if(!p)return null;if(this.valueName)return this.getValueCore(p,this.valueName);if(!(p instanceof Object))return p;var P=Object.keys(p).length;return P<1?null:p[Object.keys(p)[0]]},i.prototype.setTitle=function(p,P){var m=this.titleName?this.titleName:"title",y=this.getValueCore(P,m);y&&(typeof y=="string"?p.text=y:p.locText.setJson(y))},i.prototype.getImageLink=function(p){var P=this.imageLinkName?this.imageLinkName:"imageLink";return this.getValueCore(p,P)},i.prototype.getValueCore=function(p,P){if(!p)return null;if(P.indexOf(".")<0)return p[P];for(var m=P.split("."),y=0;y<m.length;y++)if(p=p[m[y]],!p)return null;return p},Object.defineProperty(i.prototype,"objHash",{get:function(){return this.processedUrl+";"+this.processedPath+";"+this.valueName+";"+this.titleName+";"+this.imageLinkName},enumerable:!1,configurable:!0}),i.cacheText="{CACHE}",i.noCacheText="{NOCACHE}",i.itemsResult={},i.sendingSameRequests={},i}(d.Base),g=function(f){x(i,f);function i(){return f!==null&&f.apply(this,arguments)||this}return Object.defineProperty(i,"EncodeParameters",{get:function(){return u.EncodeParameters},set:function(p){u.EncodeParameters=p},enumerable:!1,configurable:!0}),i.clearCache=function(){u.clearCache()},Object.defineProperty(i,"onBeforeSendRequest",{get:function(){return u.onBeforeSendRequest},set:function(p){u.onBeforeSendRequest=p},enumerable:!1,configurable:!0}),i}(u);M.Serializer.addClass("choicesByUrl",["url","path","valueName","titleName",{name:"imageLinkName",visibleIf:function(f){return!!f&&!!f.owner&&f.owner.getType()=="imagepicker"}},{name:"allowEmptyResponse:boolean"},{name:"attachOriginalItems:boolean",visible:!1}],function(){return new u})},"./src/conditionProcessValue.ts":function(a,r,t){t.r(r),t.d(r,"ProcessValue",function(){return M});var d=t("./src/helpers.ts"),C="@survey",M=function(){function w(){this.values=null,this.properties=null}return w.prototype.getFirstName=function(S,x){if(x===void 0&&(x=null),!S)return S;var h="";if(x&&(h=this.getFirstPropertyName(S,x),h))return h;for(var u=0;u<S.length;u++){var g=S[u];if(g=="."||g=="[")break;h+=g}return h},w.prototype.hasValue=function(S,x){x===void 0&&(x=null),x||(x=this.values);var h=this.getValueCore(S,x);return h.hasValue},w.prototype.getValue=function(S,x){x===void 0&&(x=null),x||(x=this.values);var h=this.getValueCore(S,x);return h.value},w.prototype.setValue=function(S,x,h){if(x){var u=this.getNonNestedObject(S,x,!0);u&&(S=u.value,x=u.text,S&&x&&(S[x]=h))}},w.prototype.getValueInfo=function(S){if(S.path){S.value=this.getValueFromPath(S.path,this.values),S.hasValue=S.value!==null&&!d.Helpers.isValueEmpty(S.value),!S.hasValue&&S.path.length>1&&S.path[S.path.length-1]=="length"&&(S.hasValue=!0,S.value=0);return}var x=this.getValueCore(S.name,this.values);S.value=x.value,S.hasValue=x.hasValue,S.path=x.hasValue?x.path:null},w.prototype.getValueFromPath=function(S,x){if(S.length===2&&S[0]===C)return this.getValueFromSurvey(S[1]);for(var h=0;x&&h<S.length;){var u=S[h];if(d.Helpers.isNumber(u)&&Array.isArray(x)&&u>=x.length)return null;x=x[u],h++}return x},w.prototype.getValueCore=function(S,x){var h=this.getValueFromValues(S,x);if(S&&!h.hasValue){var u=this.getValueFromSurvey(S);u!==void 0&&(h.hasValue=!0,h.value=u,h.path=[C,S])}return h},w.prototype.getValueFromSurvey=function(S){if(this.properties&&this.properties.survey)return this.properties.survey.getBuiltInVariableValue(S.toLocaleLowerCase())},w.prototype.getValueFromValues=function(S,x){var h={hasValue:!1,value:null,path:null},u=x;if(!u&&u!==0&&u!==!1)return h;S&&S.lastIndexOf(".length")>-1&&S.lastIndexOf(".length")===S.length-7&&(h.value=0,h.hasValue=!0);var g=this.getNonNestedObject(u,S,!1);return g&&(h.path=g.path,h.value=g.text?this.getObjectValue(g.value,g.text):g.value,h.hasValue=!d.Helpers.isValueEmpty(h.value)),h},w.prototype.getNonNestedObject=function(S,x,h){for(var u=this.getFirstPropertyName(x,S,h),g=u?[u]:null;x!=u&&S;){var f=x[0]=="[";if(f){var i=this.getObjInArray(S,x);if(!i)return null;S=i.value,x=i.text,g.push(i.index)}else{if(!u&&x==this.getFirstName(x))return{value:S,text:x,path:g};if(S=this.getObjectValue(S,u),d.Helpers.isValueEmpty(S)&&!h)return null;x=x.substr(u.length)}x&&x[0]=="."&&(x=x.substr(1)),u=this.getFirstPropertyName(x,S,h),u&&g.push(u)}return{value:S,text:x,path:g}},w.prototype.getObjInArray=function(S,x){if(!Array.isArray(S))return null;for(var h=1,u="";h<x.length&&x[h]!="]";)u+=x[h],h++;return x=h<x.length?x.substr(h+1):"",h=this.getIntValue(u),h<0||h>=S.length?null:{value:S[h],text:x,index:h}},w.prototype.getFirstPropertyName=function(S,x,h){if(h===void 0&&(h=!1),!S||(x||(x={}),x.hasOwnProperty(S)))return S;var u=S.toLowerCase(),g=u[0],f=g.toUpperCase();for(var i in x){var p=i[0];if(p===f||p===g){var P=i.toLowerCase();if(P==u)return i;if(u.length<=P.length)continue;var m=u[P.length];if(m!="."&&m!="[")continue;if(P==u.substr(0,P.length))return i}}if(h&&S[0]!=="["){var y=S.indexOf(".");return y>-1&&(S=S.substr(0,y),x[S]={}),S}return""},w.prototype.getObjectValue=function(S,x){return x?S[x]:null},w.prototype.getIntValue=function(S){return S=="0"||(S|0)>0&&S%1==0?Number(S):-1},w}()},"./src/conditions.ts":function(a,r,t){t.r(r),t.d(r,"ExpressionExecutor",function(){return w}),t.d(r,"ExpressionRunnerBase",function(){return S}),t.d(r,"ConditionRunner",function(){return x}),t.d(r,"ExpressionRunner",function(){return h});var d=t("./src/conditionProcessValue.ts"),C=t("./src/conditionsParser.ts"),M=function(){var u=function(g,f){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,p){i.__proto__=p}||function(i,p){for(var P in p)Object.prototype.hasOwnProperty.call(p,P)&&(i[P]=p[P])},u(g,f)};return function(g,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");u(g,f);function i(){this.constructor=g}g.prototype=f===null?Object.create(f):(i.prototype=f.prototype,new i)}}(),w=function(){function u(g){this.processValue=new d.ProcessValue,this.parser=new C.ConditionsParser,this.isAsyncValue=!1,this.hasFunctionValue=!1,this.setExpression(g)}return Object.defineProperty(u.prototype,"expression",{get:function(){return this.expressionValue},enumerable:!1,configurable:!0}),u.prototype.setExpression=function(g){this.expression!==g&&(this.expressionValue=g,this.operand=this.parser.parseExpression(g),this.hasFunctionValue=this.canRun()?this.operand.hasFunction():!1,this.isAsyncValue=this.hasFunction()?this.operand.hasAsyncFunction():!1)},u.prototype.getVariables=function(){if(!this.operand)return[];var g=[];return this.operand.setVariables(g),g},u.prototype.hasFunction=function(){return this.hasFunctionValue},Object.defineProperty(u.prototype,"isAsync",{get:function(){return this.isAsyncValue},enumerable:!1,configurable:!0}),u.prototype.canRun=function(){return!!this.operand},u.prototype.run=function(g,f){var i=this;if(f===void 0&&(f=null),!this.operand)return null;if(this.processValue.values=g,this.processValue.properties=f,!this.isAsync)return this.runValues();this.asyncFuncList=[],this.operand.addToAsyncList(this.asyncFuncList);for(var p=0;p<this.asyncFuncList.length;p++)this.asyncFuncList[p].onAsyncReady=function(){i.doAsyncFunctionReady()};for(var p=0;p<this.asyncFuncList.length;p++)this.asyncFuncList[p].evaluateAsync(this.processValue);return!1},u.prototype.doAsyncFunctionReady=function(){for(var g=0;g<this.asyncFuncList.length;g++)if(!this.asyncFuncList[g].isReady)return;this.runValues()},u.prototype.runValues=function(){var g=this.operand.evaluate(this.processValue);return this.onComplete&&this.onComplete(g),g},u.createExpressionExecutor=function(g){return new u(g)},u}(),S=function(){function u(g){this.expression=g}return Object.defineProperty(u.prototype,"expression",{get:function(){return this.expressionExecutor?this.expressionExecutor.expression:""},set:function(g){var f=this;this.expressionExecutor&&g===this.expression||(this.expressionExecutor=w.createExpressionExecutor(g),this.expressionExecutor.onComplete=function(i){f.doOnComplete(i)})},enumerable:!1,configurable:!0}),u.prototype.getVariables=function(){return this.expressionExecutor.getVariables()},u.prototype.hasFunction=function(){return this.expressionExecutor.hasFunction()},Object.defineProperty(u.prototype,"isAsync",{get:function(){return this.expressionExecutor.isAsync},enumerable:!1,configurable:!0}),u.prototype.canRun=function(){return this.expressionExecutor.canRun()},u.prototype.runCore=function(g,f){return f===void 0&&(f=null),this.expressionExecutor.run(g,f)},u.prototype.doOnComplete=function(g){},u}(),x=function(u){M(g,u);function g(){return u!==null&&u.apply(this,arguments)||this}return g.prototype.run=function(f,i){return i===void 0&&(i=null),this.runCore(f,i)==!0},g.prototype.doOnComplete=function(f){this.onRunComplete&&this.onRunComplete(f==!0)},g}(S),h=function(u){M(g,u);function g(){return u!==null&&u.apply(this,arguments)||this}return g.prototype.run=function(f,i){return i===void 0&&(i=null),this.runCore(f,i)},g.prototype.doOnComplete=function(f){this.onRunComplete&&this.onRunComplete(f)},g}(S)},"./src/conditionsParser.ts":function(a,r,t){t.r(r),t.d(r,"ConditionsParserError",function(){return C}),t.d(r,"ConditionsParser",function(){return M});var d=t("./src/expressions/expressionParser.ts"),C=function(){function w(S,x){this.at=S,this.code=x}return w}(),M=function(){function w(){}return w.prototype.patchExpression=function(S){return S.replace(/=>/g,">=").replace(/=</g,"<=").replace(/<>/g,"!=").replace(/==/g,"= ").replace(/equals/g,"equal ").replace(/notequals/g,"notequal ")},w.prototype.createCondition=function(S){return this.parseExpression(S)},w.prototype.parseExpression=function(S){try{var x=w.parserCache[S];return x===void 0&&(x=Object(d.parse)(this.patchExpression(S)),x.hasAsyncFunction()||(w.parserCache[S]=x)),x}catch(h){h instanceof d.SyntaxError&&(this.conditionError=new C(h.location.start.offset,h.message))}},Object.defineProperty(w.prototype,"error",{get:function(){return this.conditionError},enumerable:!1,configurable:!0}),w.parserCache={},w}()},"./src/defaultCss/cssbootstrap.ts":function(a,r,t){t.r(r),t.d(r,"defaultBootstrapCss",function(){return C});var d=t("./src/defaultCss/cssstandard.ts"),C={root:"sv_main sv_bootstrap_css",container:"sv_container",header:"panel-heading card-header",body:"panel-body card-block mt-4",bodyEmpty:"panel-body card-block mt-4 sv_body_empty",footer:"panel-footer card-footer",title:"",description:"",logo:"sv_logo",logoImage:"sv_logo__image",headerText:"sv_header__text",navigationButton:"btn sv_nav_btn",completedPage:"",navigation:{complete:"sv_complete_btn",prev:"sv_prev_btn",next:"sv_next_btn",start:"sv_start_btn",preview:"sv_preview_btn",edit:"sv_edit_btn"},progress:"progress center-block mx-auto mb-4",progressBar:"progress-bar",progressTextUnderBar:"sv-hidden",progressTextInBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"",title:"",description:"small"},pageTitle:"",pageDescription:"small",row:"sv_row",question:{mainRoot:"sv_qstn",flowRoot:"sv_q_flow sv_qstn",header:"",headerLeft:"title-left",content:"",contentLeft:"content-left",titleLeftRoot:"sv_qstn_left",title:"",titleExpandable:"sv_q_title_expandable",titleExpanded:"sv_q_title_expanded",titleCollapsed:"sv_q_title_collapsed",number:"sv_q_num",description:"small",descriptionUnderInput:"small",requiredText:"sv_q_required_text",comment:"form-control",required:"",titleRequired:"",hasError:"has-error",indent:20,formGroup:"form-group"},panel:{title:"sv_p_title",titleExpandable:"sv_p_title_expandable",titleExpanded:"sv_p_title_expanded",titleCollapsed:"sv_p_title_collapsed",titleOnError:"",icon:"sv_panel_icon",iconExpanded:"sv_expanded",description:"small sv_p_description",container:"sv_p_container",footer:"sv_p_footer",number:"sv_q_num",requiredText:"sv_q_required_text"},error:{root:"alert alert-danger",icon:"glyphicon glyphicon-exclamation-sign",item:"",locationTop:"sv_qstn_error_top",locationBottom:"sv_qstn_error_bottom"},boolean:{root:"sv_qbln form-inline checkbox",rootRadio:"sv_qbln form-inline checkbox",item:"sv-boolean",control:"sv-visuallyhidden",itemChecked:"sv-boolean--checked checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label ",disabledLabel:"sv-boolean__label--disabled",materialDecorator:"sv-item__decorator sv-boolean__decorator",itemDecorator:"sv-item__svg sv-boolean__svg",checkedPath:"sv-boolean__checked-path",uncheckedPath:"sv-boolean__unchecked-path",indeterminatePath:"sv-boolean__indeterminate-path"},checkbox:{root:"sv_qcbc sv_qcbx form-inline",item:"checkbox",itemChecked:"checked",itemSelectAll:"sv_q_checkbox_selectall",itemNone:"sv_q_checkbox_none",itemInline:"sv_q_checkbox_inline",itemControl:"",itemDecorator:"sv-hidden",label:"",labelChecked:"",controlLabel:"",materialDecorator:"checkbox-material",other:"sv_q_checkbox_other form-control",column:"sv_q_select_column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sv-ranking--disabled",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag"},comment:"form-control",dropdown:{root:"",control:"form-control",other:"sv_q_dd_other form-control"},html:{root:""},image:{root:"sv_q_image",image:"sv_image_image"},matrix:{root:"table sv_q_matrix",label:"sv_q_m_label",itemChecked:"checked",itemDecorator:"sv-hidden",cellText:"sv_q_m_cell_text",cellTextSelected:"sv_q_m_cell_selected bg-primary",cellLabel:"sv_q_m_cell_label",cellResponsiveTitle:"sv-hidden"},matrixdropdown:{root:"table",cell:"sv_matrix_cell",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",rowAdditional:"sv-matrix__row--additional",detailRow:"sv_matrix_detail_row",detailRowText:"sv_matrix_cell_detail_rowtext",detailCell:"sv_matrix_cell_detail",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions"},matrixdynamic:{root:"table",button:"button",buttonAdd:"",buttonRemove:"",iconAdd:"",iconRemove:"",iconDrag:"sv-matrixdynamic__drag-icon",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",detailRow:"sv_matrix_detail_row",detailCell:"sv_matrix_cell_detail",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions",emptyRowsSection:"sv_matrix_empty_rows_section",emptyRowsText:"sv_matrix_empty_rows_text",emptyRowsButton:"",ghostRow:"sv-matrix-row--drag-drop-ghost-mod"},paneldynamic:{root:"",navigation:"sv-paneldynamic__navigation",progressTop:"sv-paneldynamic__progress sv-paneldynamic__progress--top",progressBottom:"sv-paneldynamic__progress sv-paneldynamic__progress--bottom",title:"sv-title sv-question__title",button:"button",buttonAdd:"button sv-paneldynamic__add-btn",buttonRemove:"sv_p_remove_btn",buttonRemoveRight:"button sv-paneldynamic__remove-btn--right",buttonPrev:"sv-paneldynamic__prev-btn",buttonNext:"sv-paneldynamic__next-btn",buttonPrevDisabled:"sv-paneldynamic__prev-btn--disabled",buttonNextDisabled:"sv-paneldynamic__next-btn--disabled",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text",panelWrapper:"sv_p_wrapper",panelWrapperInRow:"sv_p_wrapper_in_row",footer:"",progressBtnIcon:"icon-progressbutton"},multipletext:{root:"sv_q_mt table",itemTitle:"sv_q_mt_title",item:"sv_q_mt_item",itemLabel:"sv_q_mt_label",row:"form-group bmd-form-group",itemValue:"sv_q_mt_item_value form-control"},radiogroup:{root:"sv_qcbc form-inline",item:"radio",itemChecked:"checked",itemInline:"sv_q_radiogroup_inline",label:"",labelChecked:"",itemControl:"",itemDecorator:"sv-hidden",controlLabel:"",materialDecorator:"circle",other:"sv_q_radiogroup_other form-control",clearButton:"sv_q_radiogroup_clear button",column:"sv_q_select_column"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemHover:"sv-button-group__item--hover",itemSelected:"sv-button-group__item--selected",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},imagepicker:{root:"sv_imgsel",item:"sv_q_imgsel",itemChecked:"checked",itemInline:"sv_q_imagepicker_inline",label:"sv_q_imgsel_label",itemControl:"sv_q_imgsel_control_item",image:"sv_q_imgsel_image",itemText:"sv_q_imgsel_text",clearButton:"sv_q_radiogroup_clear"},rating:{root:"btn-group",item:"btn btn-default btn-secondary",selected:"active",minText:"sv_q_rating_min_text",itemText:"sv_q_rating_item_text",maxText:"sv_q_rating_max_text",disabled:""},text:"form-control",expression:"form-control",file:{root:"sv_q_file",placeholderInput:"sv_q_file_placeholder",preview:"sv_q_file_preview",removeButton:"sv_q_file_remove_button",fileInput:"sv_q_file_input",removeFile:"sv_q_file_remove",fileDecorator:"sv-hidden",fileSign:"sv_q_file_sign",removeButtonBottom:"sv-hidden",dragAreaPlaceholder:"sv-hidden",fileList:""},signaturepad:{root:"sv_q_signaturepad sjs_sp_container",controls:"sjs_sp_controls",placeholder:"sjs_sp_placeholder",clearButton:"sjs_sp_clear"},saveData:{root:"",saving:"alert alert-info",error:"alert alert-danger",success:"alert alert-success",saveAgainButton:""},window:{root:"modal-content",body:"modal-body",header:{root:"modal-header panel-title",title:"pull-left",button:"glyphicon pull-right",buttonExpanded:"glyphicon pull-right glyphicon-chevron-up",buttonCollapsed:"glyphicon pull-right glyphicon-chevron-down"}}};d.surveyCss.bootstrap=C},"./src/defaultCss/cssbootstrapmaterial.ts":function(a,r,t){t.r(r),t.d(r,"defaultBootstrapMaterialCss",function(){return C});var d=t("./src/defaultCss/cssstandard.ts"),C={root:"sv_main sv_bootstrapmaterial_css",container:"sv_container",header:"card-heading",body:"card-body",bodyEmpty:"card-body sv_body_empty",footer:"card-footer",title:"",description:"",logo:"sv_logo",logoImage:"sv_logo__image",headerText:"sv_header__text",navigationButton:"btn-primary sv_nav_btn",completedPage:"",navigation:{complete:"sv_complete_btn",prev:"sv_prev_btn",next:"sv_next_btn",start:"sv_start_btn",preview:"sv_preview_btn",edit:"sv_edit_btn"},progress:"progress center-block mx-auto mb-4",progressBar:"progress-bar",progressTextUnderBar:"sv-hidden",progressTextInBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"",title:"",description:"small"},pageTitle:"",pageDescription:"small",row:"sv_row",question:{mainRoot:"sv_qstn form-group bmd-form-group",flowRoot:"sv_q_flow form-group bmd-form-group",header:"",headerLeft:"title-left",content:"",contentLeft:"content-left",titleLeftRoot:"sv_qstn_left",requiredText:"sv_q_required_text",title:"",titleExpandable:"sv_q_title_expandable",titleExpanded:"sv_q_title_expanded",titleCollapsed:"sv_q_title_collapsed",number:"sv_q_num",description:"small",descriptionUnderInput:"small",comment:"form-control",required:"",titleRequired:"",hasError:"has-error",indent:20,formGroup:"form-group bmd-form-group"},panel:{title:"sv_p_title",titleExpandable:"sv_p_title_expandable",titleExpanded:"sv_p_title_expanded",titleCollapsed:"sv_p_title_collapsed",titleOnError:"",icon:"sv_panel_icon",iconExpanded:"sv_expanded",description:"small sv_p_description",container:"sv_p_container",footer:"sv_p_footer",number:"sv_q_num",requiredText:"sv_q_required_text"},error:{root:"alert alert-danger",icon:"glyphicon glyphicon-exclamation-sign",item:"",locationTop:"sv_qstn_error_top",locationBottom:"sv_qstn_error_bottom"},boolean:{root:"sv_qbln checkbox",rootRadio:"sv_qbln form-inline checkbox",item:"sv-boolean",control:"sv-visuallyhidden",itemChecked:"sv-boolean--checked checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label ",disabledLabel:"sv-boolean__label--disabled",materialDecorator:"sv-item__decorator sv-boolean__decorator",itemDecorator:"sv-item__svg sv-boolean__svg",checkedPath:"sv-boolean__checked-path",uncheckedPath:"sv-boolean__unchecked-path",indeterminatePath:"sv-boolean__indeterminate-path"},checkbox:{root:"sv_qcbx",item:"checkbox",itemChecked:"checked",itemSelectAll:"sv_q_checkbox_selectall",itemNone:"sv_q_checkbox_none",itemInline:"sv_q_checkbox_inline",itemDecorator:"sv-hidden",itemControl:"",label:"",labelChecked:"",controlLabel:"",materialDecorator:"checkbox-decorator",other:"sv_q_checkbox_other form-control",column:"sv_q_select_column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sv-ranking--disabled",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag"},comment:"form-control",dropdown:{root:"",control:"form-control",other:"sv_q_dd_other form-control"},html:{root:""},image:{root:"sv_q_image",image:"sv_image_image"},matrix:{root:"table sv_q_matrix",row:"form-group bmd-form-group",label:"sv_q_m_label radio-inline",cellText:"sv_q_m_cell_text",cellTextSelected:"sv_q_m_cell_selected bg-primary",cellLabel:"sv_q_m_cell_label",itemValue:"form-control",itemChecked:"checked",itemDecorator:"sv-hidden",materialDecorator:"bmd-radio",cellResponsiveTitle:"sv-hidden"},matrixdropdown:{root:"table",itemValue:"form-group bmd-form-group",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",rowAdditional:"sv-matrix__row--additional",detailRow:"sv_matrix_detail_row",detailRowText:"sv_matrix_cell_detail_rowtext",detailCell:"sv_matrix_cell_detail",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions"},matrixdynamic:{mainRoot:"sv_qstn",flowRoot:"sv_q_flow",root:"table",button:"btn btn-primary",itemValue:"form-group bmd-form-group",buttonAdd:"",buttonRemove:"",iconAdd:"",iconRemove:"",iconDrag:"sv-matrixdynamic__drag-icon",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",detailRow:"sv_matrix_detail_row",detailCell:"sv_matrix_cell_detail",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions",emptyRowsSection:"sv_matrix_empty_rows_section",emptyRowsText:"sv_matrix_empty_rows_text",emptyRowsButton:"",ghostRow:"sv-matrix-row--drag-drop-ghost-mod"},paneldynamic:{root:"",navigation:"sv-paneldynamic__navigation",progressTop:"sv-paneldynamic__progress sv-paneldynamic__progress--top",progressBottom:"sv-paneldynamic__progress sv-paneldynamic__progress--bottom",title:"sv-title sv-question__title",button:"button",buttonAdd:"button sv-paneldynamic__add-btn btn btn-primary",buttonRemove:"button sv-paneldynamic__remove-btn btn btn-primary",buttonRemoveRight:"sv-paneldynamic__remove-btn--right",buttonPrev:"sv-paneldynamic__prev-btn",buttonNext:"sv-paneldynamic__next-btn",buttonPrevDisabled:"sv-paneldynamic__prev-btn--disabled",buttonNextDisabled:"sv-paneldynamic__next-btn--disabled",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text",panelWrapper:"sv_p_wrapper",panelWrapperInRow:"sv_p_wrapper_in_row",progressBtnIcon:"icon-progressbutton",footer:""},multipletext:{root:"sv_q_mt table",itemTitle:"sv_q_mt_title",item:"sv_q_mt_item",itemLabel:"sv_q_mt_label",row:"form-group bmd-form-group",itemValue:"sv_q_mt_item_value form-control"},radiogroup:{root:"",item:"radio",itemChecked:"checked",itemInline:"sv_q_radiogroup_inline",itemDecorator:"sv-hidden",label:"",labelChecked:"",itemControl:"",controlLabel:"sv_q_radiogroup_control_label",materialDecorator:"bmd-radio",other:"sv_q_radiogroup_other form-control",clearButton:"sv_q_radiogroup_clear button btn btn-primary",column:"sv_q_select_column"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemSelected:"sv-button-group__item--selected",itemHover:"sv-button-group__item--hover",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},imagepicker:{root:"sv_imgsel",item:"sv_q_imgsel",itemChecked:"checked",itemInline:"sv_q_imagepicker_inline",label:"sv_q_imgsel_label",itemControl:"sv_q_imgsel_control_item",image:"sv_q_imgsel_image",itemText:"sv_q_imgsel_text",clearButton:"sv_q_radiogroup_clear"},rating:{root:"btn-group",item:"btn btn-default btn-secondary",selected:"active",minText:"sv_q_rating_min_text",itemText:"sv_q_rating_item_text",maxText:"sv_q_rating_max_text",disabled:""},text:"form-control",expression:"form-control",file:{root:"form-group bmd-form-group is-fileinput sv_q_file",placeholderInput:"",preview:"sv_q_file_preview",removeButton:"sv_q_file_remove_button",fileInput:"sv_q_file_input",fileSign:"sv_q_file_sign",removeFile:"sv_q_file_remove",fileDecorator:"sv-hidden",removeButtonBottom:"sv-hidden",dragAreaPlaceholder:"sv-hidden",fileList:""},signaturepad:{root:"sv_q_signaturepad sjs_sp_container",controls:"sjs_sp_controls",placeholder:"sjs_sp_placeholder",clearButton:"sjs_sp_clear"},saveData:{root:"",saving:"alert alert-info",error:"alert alert-danger",success:"alert alert-success",saveAgainButton:""},window:{root:"modal-content",body:"modal-body",header:{root:"modal-header card-title",title:"pull-left",button:"glyphicon pull-right",buttonExpanded:"glyphicon pull-right glyphicon-chevron-up",buttonCollapsed:"glyphicon pull-right glyphicon-chevron-down"}}};d.surveyCss.bootstrapmaterial=C},"./src/defaultCss/cssmodern.ts":function(a,r,t){t.r(r),t.d(r,"modernCss",function(){return C});var d=t("./src/defaultCss/cssstandard.ts"),C={root:"sv-root-modern",timerRoot:"sv-body__timer",container:"sv-container-modern",header:"sv-title sv-container-modern__title",headerClose:"sv-container-modern__close",body:"sv-body",bodyEmpty:"sv-body sv-body--empty",footer:"sv-footer sv-body__footer sv-clearfix",title:"",description:"",logo:"sv-logo",logoImage:"sv-logo__image",headerText:"sv-header__text",navigationButton:"sv-btn sv-btn--navigation",completedPage:"sv-completedpage",navigation:{complete:"sv-footer__complete-btn",prev:"sv-footer__prev-btn",next:"sv-footer__next-btn",start:"sv-footer__start-btn",preview:"sv-footer__preview-btn",edit:"sv-footer__edit-btn"},panel:{title:"sv-title sv-panel__title",titleExpandable:"sv-panel__title--expandable",titleExpanded:"sv-panel__title--expanded",titleCollapsed:"sv-panel__title--collapsed",titleOnError:"sv-panel__title--error",description:"sv-description sv-panel__description",container:"sv-panel sv-row__panel",content:"sv-panel__content",icon:"sv-panel__icon",iconExpanded:"sv-panel__icon--expanded",footer:"sv-panel__footer",requiredText:"sv-panel__required-text",number:"sv-question__num"},paneldynamic:{root:"sv-paneldynamic",navigation:"sv-paneldynamic__navigation",title:"sv-title sv-question__title",button:"sv-btn",buttonRemove:"sv-paneldynamic__remove-btn",buttonRemoveRight:"sv-paneldynamic__remove-btn--right",buttonAdd:"sv-paneldynamic__add-btn",progressTop:"sv-paneldynamic__progress sv-paneldynamic__progress--top",progressBottom:"sv-paneldynamic__progress sv-paneldynamic__progress--bottom",buttonPrev:"sv-paneldynamic__prev-btn",buttonNext:"sv-paneldynamic__next-btn",buttonPrevDisabled:"sv-paneldynamic__prev-btn--disabled",buttonNextDisabled:"sv-paneldynamic__next-btn--disabled",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text",separator:"sv-paneldynamic__separator",panelWrapper:"sv-paneldynamic__panel-wrapper",panelWrapperInRow:"sv-paneldynamic__panel-wrapper--in-row",progressBtnIcon:"icon-progressbutton",footer:""},progress:"sv-progress sv-body__progress",progressBar:"sv-progress__bar",progressText:"sv-progress__text",progressTextInBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"sv-page sv-body__page",title:"sv-title sv-page__title",description:"sv-description sv-page__description"},pageTitle:"sv-title sv-page__title",pageDescription:"sv-description sv-page__description",row:"sv-row sv-clearfix",question:{mainRoot:"sv-question sv-row__question",flowRoot:"sv-question sv-row__question sv-row__question--flow",asCell:"sv-table__cell",header:"sv-question__header",headerLeft:"sv-question__header--location--left",headerTop:"sv-question__header--location--top",headerBottom:"sv-question__header--location--bottom",content:"sv-question__content",contentLeft:"sv-question__content--left",titleLeftRoot:"",answered:"sv-question--answered",titleOnAnswer:"sv-question__title--answer",titleOnError:"sv-question__title--error",title:"sv-title sv-question__title",titleExpandable:"sv-question__title--expandable",titleExpanded:"sv-question__title--expanded",titleCollapsed:"sv-question__title--collapsed",icon:"sv-question__icon",iconExpanded:"sv-question__icon--expanded",requiredText:"sv-question__required-text",number:"sv-question__num",description:"sv-description sv-question__description",descriptionUnderInput:"sv-description sv-question__description",comment:"sv-comment",required:"sv-question--required",titleRequired:"sv-question__title--required",indent:20,footer:"sv-question__footer",formGroup:"sv-question__form-group",hasError:"",disabled:"sv-question--disabled"},image:{root:"sv-image",image:"sv_image_image"},error:{root:"sv-question__erbox",icon:"",item:"",locationTop:"sv-question__erbox--location--top",locationBottom:"sv-question__erbox--location--bottom"},checkbox:{root:"sv-selectbase",item:"sv-item sv-checkbox sv-selectbase__item",itemSelectAll:"sv-checkbox--selectall",itemNone:"sv-checkbox--none",itemDisabled:"sv-item--disabled sv-checkbox--disabled",itemChecked:"sv-checkbox--checked",itemHover:"sv-checkbox--allowhover",itemInline:"sv-selectbase__item--inline",label:"sv-selectbase__label",labelChecked:"",itemControl:"sv-visuallyhidden sv-item__control",itemDecorator:"sv-item__svg sv-checkbox__svg",itemSvgIconId:"#icon-moderncheck",controlLabel:"sv-item__control-label",materialDecorator:"sv-item__decorator sv-selectbase__decorator sv-checkbox__decorator",other:"sv-comment sv-question__other",column:"sv-selectbase__column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sv-ranking--disabled",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag"},radiogroup:{root:"sv-selectbase",item:"sv-item sv-radio sv-selectbase__item",itemInline:"sv-selectbase__item--inline",label:"sv-selectbase__label",labelChecked:"",itemDisabled:"sv-item--disabled sv-radio--disabled",itemChecked:"sv-radio--checked",itemHover:"sv-radio--allowhover",itemControl:"sv-visuallyhidden sv-item__control",itemDecorator:"sv-item__svg sv-radio__svg",itemSvgIconId:"#icon-modernradio",controlLabel:"sv-item__control-label",materialDecorator:"sv-item__decorator sv-selectbase__decorator sv-radio__decorator",other:"sv-comment sv-question__other",clearButton:"sv-btn sv-selectbase__clear-btn",column:"sv-selectbase__column"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemSelected:"sv-button-group__item--selected",itemHover:"sv-button-group__item--hover",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},boolean:{root:"sv_qbln",rootRadio:"sv_qbln",small:"sv-row__question--small",item:"sv-boolean sv-item",control:"sv-visuallyhidden",itemChecked:"sv-boolean--checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-item--disabled sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label ",disabledLabel:"sv-boolean__label--disabled",materialDecorator:"sv-item__decorator sv-boolean__decorator ",itemDecorator:"sv-item__svg  sv-boolean__svg",checkedPath:"sv-boolean__checked-path",uncheckedPath:"sv-boolean__unchecked-path",indeterminatePath:"sv-boolean__indeterminate-path"},text:{root:"sv-text",small:"sv-row__question--small",onError:"sv-text--error"},multipletext:{root:"sv-multipletext",item:"sv-multipletext__item",itemLabel:"sv-multipletext__item-label",itemTitle:"sv-multipletext__item-title",row:"sv-multipletext__row",cell:"sv-multipletext__cell"},dropdown:{root:"",small:"sv-row__question--small",control:"sv-dropdown",selectWrapper:"",other:"sv-comment sv-question__other",onError:"sv-dropdown--error"},imagepicker:{root:"sv-selectbase sv-imagepicker",column:"sv-selectbase__column",item:"sv-imagepicker__item",itemInline:"sv-imagepicker__item--inline",itemChecked:"sv-imagepicker__item--checked",itemDisabled:"sv-imagepicker__item--disabled",itemHover:"sv-imagepicker__item--allowhover",label:"sv-imagepicker__label",itemControl:"sv-imagepicker__control sv-visuallyhidden",image:"sv-imagepicker__image",itemText:"sv-imagepicker__text",clearButton:"sv-btn",other:"sv-comment sv-question__other"},matrix:{tableWrapper:"sv-matrix",root:"sv-table sv-matrix-root",rowError:"sv-matrix__row--error",cell:"sv-table__cell sv-matrix__cell",headerCell:"sv-table__cell sv-table__cell--header",label:"sv-item sv-radio sv-matrix__label",itemValue:"sv-visuallyhidden sv-item__control sv-radio__control",itemChecked:"sv-radio--checked",itemDisabled:"sv-item--disabled sv-radio--disabled",itemHover:"sv-radio--allowhover",materialDecorator:"sv-item__decorator sv-radio__decorator",itemDecorator:"sv-item__svg sv-radio__svg",cellText:"sv-matrix__text",cellTextSelected:"sv-matrix__text--checked",cellTextDisabled:"sv-matrix__text--disabled",cellResponsiveTitle:"sv-hidden",itemSvgIconId:"#icon-modernradio"},matrixdropdown:{root:"sv-table sv-matrixdropdown",cell:"sv-table__cell",headerCell:"sv-table__cell sv-table__cell--header",row:"sv-table__row",rowAdditional:"sv-table__row--additional",detailRow:"sv-table__row--detail",detailRowText:"sv-table__cell--detail-rowtext",detailCell:"sv-table__cell--detail",choiceCell:"sv-table__cell--choice",detailButton:"sv-table__cell--detail-button",detailButtonExpanded:"sv-table__cell--detail-button--expanded",detailIcon:"sv-detail-panel__icon",detailIconExpanded:"sv-detail-panel__icon--expanded",detailPanelCell:"sv-table__cell--detail-panel",actionsCell:"sv-table__cell sv-table__cell--actions"},matrixdynamic:{root:"sv-table sv-matrixdynamic",cell:"sv-table__cell",headerCell:"sv-table__cell sv-table__cell--header",button:"sv-btn",buttonAdd:"sv-matrixdynamic__add-btn",buttonRemove:"sv-matrixdynamic__remove-btn",iconAdd:"",iconRemove:"",iconDrag:"sv-matrixdynamic__drag-icon",row:"sv-table__row",detailRow:"sv-table__row--detail",detailCell:"sv-table__cell--detail",choiceCell:"sv-table__cell--choice",detailButton:"sv-table__cell--detail-button",detailButtonExpanded:"sv-table__cell--detail-button--expanded",detailIcon:"sv-detail-panel__icon",detailIconExpanded:"sv-detail-panel__icon--expanded",detailPanelCell:"sv-table__cell--detail-panel",actionsCell:"sv-table__cell sv-table__cell--actions",emptyRowsSection:"sv-table__empty--rows--section",emptyRowsText:"sv-table__empty--rows--text",emptyRowsButton:"",ghostRow:"sv-matrix-row--drag-drop-ghost-mod"},rating:{root:"sv-rating",item:"sv-rating__item",selected:"sv-rating__item--selected",minText:"sv-rating__min-text",itemText:"sv-rating__item-text",maxText:"sv-rating__max-text",itemDisabled:"sv-rating--disabled"},comment:{root:"sv-comment",small:"sv-row__question--small"},expression:"",file:{root:"sv-file",other:"sv-comment sv-question__other",placeholderInput:"sv-visuallyhidden",preview:"sv-file__preview",fileSignBottom:"sv-file__sign",fileDecorator:"sv-file__decorator",fileInput:"sv-visuallyhidden",noFileChosen:"sv-description sv-file__no-file-chosen",chooseFile:"sv-btn sv-file__choose-btn",controlDisabled:"sv-file__choose-btn--disabled",removeButton:"sv-hidden",removeButtonBottom:"sv-btn sv-file__clean-btn",removeFile:"sv-hidden",removeFileSvg:"sv-file__remove-svg",removeFileSvgIconId:"icon-removefile",wrapper:"sv-file__wrapper",dragAreaPlaceholder:"sv-hidden",fileList:""},signaturepad:{root:"sv-signaturepad sjs_sp_container",small:"sv-row__question--small",controls:"sjs_sp_controls",placeholder:"sjs_sp_placeholder",clearButton:"sjs_sp_clear"},saveData:{root:"",saving:"",error:"",success:"",saveAgainButton:""},window:{root:"sv_window",body:"sv_window_content",header:{root:"sv_window_title",title:"",button:"",buttonExpanded:"",buttonCollapsed:""}},variables:{themeMark:"--sv-modern-mark"}};d.surveyCss.modern=C},"./src/defaultCss/cssstandard.ts":function(a,r,t){t.r(r),t.d(r,"surveyCss",function(){return d}),t.d(r,"defaultStandardCss",function(){return C});var d={currentType:"",getCss:function(){var M=this.currentType?this[this.currentType]:C;return M||(M=C),M}},C={root:"sv_main sv_default_css",container:"sv_container",header:"sv_header",body:"sv_body",bodyEmpty:"sv_body sv_body_empty",footer:"sv_nav",title:"",description:"",logo:"sv_logo",logoImage:"sv_logo__image",headerText:"sv_header__text",navigationButton:"sv_nav_btn",completedPage:"sv_completed_page",navigation:{complete:"sv_complete_btn",prev:"sv_prev_btn",next:"sv_next_btn",start:"sv_start_btn",preview:"sv_preview_btn",edit:"sv_edit_btn"},progress:"sv_progress",progressBar:"sv_progress_bar",progressTextInBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"sv_p_root",title:"sv_page_title",description:""},pageTitle:"sv_page_title",pageDescription:"",row:"sv_row",question:{mainRoot:"sv_q sv_qstn",flowRoot:"sv_q_flow sv_qstn",header:"",headerLeft:"title-left",content:"",contentLeft:"content-left",titleLeftRoot:"sv_qstn_left",requiredText:"sv_q_required_text",title:"sv_q_title",titleExpandable:"sv_q_title_expandable",titleExpanded:"sv_q_title_expanded",titleCollapsed:"sv_q_title_collapsed",number:"sv_q_num",description:"sv_q_description",comment:"",required:"",titleRequired:"",hasError:"",indent:20,footer:"sv_q_footer",formGroup:"form-group",asCell:"sv_matrix_cell",icon:"sv_question_icon",iconExpanded:"sv_expanded",disabled:"sv_q--disabled"},panel:{title:"sv_p_title",titleExpandable:"sv_p_title_expandable",titleExpanded:"sv_p_title_expanded",titleCollapsed:"sv_p_title_collapsed",titleOnError:"",icon:"sv_panel_icon",iconExpanded:"sv_expanded",description:"sv_p_description",container:"sv_p_container",footer:"sv_p_footer",number:"sv_q_num",requiredText:"sv_q_required_text"},error:{root:"sv_q_erbox",icon:"",item:"",locationTop:"sv_qstn_error_top",locationBottom:"sv_qstn_error_bottom"},boolean:{root:"sv_qcbc sv_qbln",rootRadio:"sv_qcbc sv_qbln",item:"sv-boolean",control:"sv-visuallyhidden",itemChecked:"sv-boolean--checked checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label ",disabledLabel:"sv-boolean__label--disabled",materialDecorator:"sv-item__decorator sv-boolean__decorator",itemDecorator:"sv-item__svg sv-boolean__svg",checkedPath:"sv-boolean__checked-path",uncheckedPath:"sv-boolean__unchecked-path",indeterminatePath:"sv-boolean__indeterminate-path"},checkbox:{root:"sv_qcbc sv_qcbx",item:"sv_q_checkbox",itemSelectAll:"sv_q_checkbox_selectall",itemNone:"sv_q_checkbox_none",itemChecked:"checked",itemInline:"sv_q_checkbox_inline",label:"sv_q_checkbox_label",labelChecked:"",itemControl:"sv_q_checkbox_control_item",itemDecorator:"sv-hidden",controlLabel:"sv_q_checkbox_control_label",other:"sv_q_other sv_q_checkbox_other",column:"sv_q_select_column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sv-ranking--disabled",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag"},comment:"",dropdown:{root:"",control:"sv_q_dropdown_control",selectWrapper:"sv_select_wrapper",other:"sv_q_dd_other"},html:{root:""},image:{root:"sv_q_image",image:"sv_image_image"},matrix:{root:"sv_q_matrix",label:"sv_q_m_label",itemChecked:"checked",itemDecorator:"sv-hidden",cell:"sv_q_m_cell",cellText:"sv_q_m_cell_text",cellTextSelected:"sv_q_m_cell_selected",cellLabel:"sv_q_m_cell_label",cellResponsiveTitle:"sv-hidden"},matrixdropdown:{root:"sv_q_matrix_dropdown",cell:"sv_matrix_cell",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",rowAdditional:"sv-matrix__row--additional",detailRow:"sv_matrix_detail_row",detailRowText:"sv_matrix_cell_detail_rowtext",detailCell:"sv_matrix_cell_detail",choiceCell:"sv-table__cell--choice",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions"},matrixdynamic:{root:"sv_q_matrix_dynamic",button:"sv_matrix_dynamic_button",buttonAdd:"",buttonRemove:"",iconAdd:"",iconRemove:"",iconDrag:"sv-matrixdynamic__drag-icon",cell:"sv_matrix_cell",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",detailRow:"sv_matrix_detail_row",detailCell:"sv_matrix_cell_detail",choiceCell:"sv-table__cell--choice",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions",emptyRowsSection:"sv_matrix_empty_rows_section",emptyRowsText:"sv_matrix_empty_rows_text",emptyRowsButton:"",ghostRow:"sv-matrix-row--drag-drop-ghost-mod"},paneldynamic:{root:"sv_panel_dynamic",title:"sv_p_title",button:"",buttonAdd:"sv-paneldynamic__add-btn",buttonRemove:"sv_p_remove_btn",buttonRemoveRight:"sv_p_remove_btn_right",buttonPrev:"sv-paneldynamic__prev-btn",buttonPrevDisabled:"sv-paneldynamic__prev-btn--disabled",buttonNextDisabled:"sv-paneldynamic__next-btn--disabled",buttonNext:"sv-paneldynamic__next-btn",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text",panelWrapper:"sv_p_wrapper",panelWrapperInRow:"sv_p_wrapper_in_row",footer:"",progressBtnIcon:"icon-progressbutton"},multipletext:{root:"sv_q_mt",itemTitle:"sv_q_mt_title",item:"sv_q_mt_item",row:"sv_q_mt_row",itemLabel:"sv_q_mt_label",itemValue:"sv_q_mt_item_value sv_q_text_root"},radiogroup:{root:"sv_qcbc",item:"sv_q_radiogroup",itemChecked:"checked",itemInline:"sv_q_radiogroup_inline",itemDecorator:"sv-hidden",label:"sv_q_radiogroup_label",labelChecked:"",itemControl:"sv_q_radiogroup_control_item",controlLabel:"",other:"sv_q_other sv_q_radiogroup_other",clearButton:"sv_q_radiogroup_clear",column:"sv_q_select_column"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemHover:"sv-button-group__item--hover",itemSelected:"sv-button-group__item--selected",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},imagepicker:{root:"sv_imgsel",item:"sv_q_imgsel",itemChecked:"checked",label:"sv_q_imgsel_label",itemControl:"sv_q_imgsel_control_item",image:"sv_q_imgsel_image",itemInline:"sv_q_imagepicker_inline",itemText:"sv_q_imgsel_text",clearButton:"sv_q_radiogroup_clear",column:"sv_q_select_column"},rating:{root:"sv_q_rating",item:"sv_q_rating_item",selected:"active",minText:"sv_q_rating_min_text",itemText:"sv_q_rating_item_text",maxText:"sv_q_rating_max_text"},text:"sv_q_text_root",expression:"",file:{root:"sv_q_file",placeholderInput:"sv-visuallyhidden",preview:"sv_q_file_preview",removeButton:"sv_q_file_remove_button",fileInput:"sv-visuallyhidden",removeFile:"sv_q_file_remove",fileDecorator:"sv-file__decorator",fileSign:"sv_q_file_sign",chooseFile:"sv_q_file_choose_button",noFileChosen:"sv_q_file_placeholder",dragAreaPlaceholder:"sv-hidden",fileList:""},signaturepad:{root:"sv_q_signaturepad sjs_sp_container",controls:"sjs_sp_controls",placeholder:"sjs_sp_placeholder",clearButton:"sjs_sp_clear"},saveData:{root:"",saving:"",error:"",success:"",saveAgainButton:""},window:{root:"sv_window",body:"sv_window_content",header:{root:"sv_window_title",title:"",button:"",buttonExpanded:"",buttonCollapsed:""}},variables:{themeMark:"--sv-default-mark"}};d.standard=C},"./src/defaultCss/defaultV2Css.ts":function(a,r,t){t.r(r),t.d(r,"defaultV2Css",function(){return C});var d=t("./src/defaultCss/cssstandard.ts"),C={root:"sd-root-modern",rootMobile:"sd-root-modern--mobile",container:"sd-container-modern",header:"sd-title sd-container-modern__title",body:"sd-body",bodyEmpty:"sd-body sd-body--empty",footer:"sd-footer sd-body__navigation sd-clearfix",title:"sd-title",description:"sd-description",logo:"sd-logo",logoImage:"sd-logo__image",headerText:"sd-header__text",navigationButton:"",bodyNavigationButton:"sd-btn",completedPage:"sd-completedpage",timerRoot:"sd-body__timer",navigation:{complete:"sd-btn--action sd-navigation__complete-btn",prev:"sd-navigation__prev-btn",next:"sd-navigation__next-btn",start:"sd-navigation__start-btn",preview:"sd-navigation__preview-btn",edit:""},panel:{title:"sd-title sd-element__title sd-panel__title",titleExpandable:"sd-element__title--expandable",titleExpanded:"sd-element__title--expanded",titleCollapsed:"sd-element__title--collapsed",titleOnExpand:"sd-panel__title--expanded",titleOnError:"sd-panel__title--error",description:"sd-description sd-panel__description",container:"sd-element sd-element--complex sd-panel sd-row__panel",withFrame:"sd-element--with-frame",content:"sd-panel__content",icon:"sd-panel__icon",iconExpanded:"sd-panel__icon--expanded",footer:"sd-panel__footer",requiredText:"sd-panel__required-text",header:"sd-panel__header sd-element__header sd-element__header--location-top",collapsed:"sd-element--collapsed",nested:"sd-element--nested",invisible:"sd-element--invisible",navigationButton:""},paneldynamic:{mainRoot:"sd-element  sd-question sd-question--paneldynamic sd-element--complex sd-question--complex sd-row__question",empty:"sd-question--empty",root:"sd-paneldynamic",navigation:"sd-paneldynamic__navigation",title:"sd-title sd-element__title sd-question__title",button:"sd-action sd-paneldynamic__btn",buttonRemove:"sd-action--negative sd-paneldynamic__remove-btn",buttonAdd:"sd-paneldynamic__add-btn",buttonPrev:"sd-paneldynamic__prev-btn sd-action--icon sd-action",buttonPrevDisabled:"sd-action--disabled",buttonNextDisabled:"sd-action--disabled",buttonNext:"sd-paneldynamic__next-btn sd-action--icon sd-action",progressContainer:"sd-paneldynamic__progress-container",progress:"sd-progress",progressBar:"sd-progress__bar",progressText:"sd-paneldynamic__progress-text",separator:"sd-paneldynamic__separator",panelWrapper:"sd-paneldynamic__panel-wrapper",footer:"sd-paneldynamic__footer",footerButtonsContainer:"sd-paneldynamic__buttons-container",panelWrapperInRow:"sd-paneldynamic__panel-wrapper--in-row",progressBtnIcon:"icon-progressbuttonv2",noEntriesPlaceholder:"sd-paneldynamic__placeholder sd-question__placeholder"},progress:"sd-progress sd-body__progress",progressBar:"sd-progress__bar",progressText:"sd-progress__text",progressButtonsContainerCenter:"sd-progress-buttons__container-center",progressButtonsContainer:"sd-progress-buttons__container",progressButtonsImageButtonLeft:"sd-progress-buttons__image-button-left",progressButtonsImageButtonRight:"sd-progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sd-progress-buttons__image-button--hidden",progressButtonsListContainer:"sd-progress-buttons__list-container",progressButtonsList:"sd-progress-buttons__list",progressButtonsListElementPassed:"sd-progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sd-progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sd-progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sd-progress-buttons__page-title",progressButtonsPageDescription:"sd-progress-buttons__page-description",progressTextInBar:"sd-hidden",page:{root:"sd-page sd-body__page",title:"sd-title sd-page__title",description:"sd-description sd-page__description"},pageTitle:"sd-title sd-page__title",pageDescription:"sd-description sd-page__description",row:"sd-row sd-clearfix",rowMultiple:"sd-row--multiple",question:{mainRoot:"sd-element sd-question sd-row__question",flowRoot:"sd-element sd-question sd-row__question sd-row__question--flow",withFrame:"sd-element--with-frame",asCell:"sd-table__cell",answered:"sd-question--answered",header:"sd-question__header sd-element__header",headerLeft:"sd-question__header--location--left",headerTop:"sd-question__header--location-top sd-element__header--location-top",headerBottom:"sd-question__header--location--bottom",content:"sd-question__content",contentLeft:"sd-question__content--left",titleLeftRoot:"sd-question--left",titleOnAnswer:"sd-question__title--answer",titleOnError:"sd-question__title--error",title:"sd-title sd-element__title sd-question__title",titleExpandable:"sd-element__title--expandable",titleExpanded:"sd-element__title--expanded",titleCollapsed:"sd-element__title--collapsed",requiredText:"sd-question__required-text",number:"sd-element__num",description:"sd-description sd-question__description",descriptionUnderInput:"sd-description sd-question__description",comment:"sd-input sd-comment",other:"sd-input sd-comment",required:"sd-question--required",titleRequired:"sd-question__title--required",indent:20,footer:"sd-question__footer",formGroup:"sd-question__form-group",hasError:"sd-question--error",disabled:"sd-question--disabled",collapsed:"sd-element--collapsed",nested:"sd-element--nested",invisible:"sd-element--invisible"},image:{mainRoot:"sd-question sd-question--image",root:"sd-image",image:"sd-image__image",adaptive:"sd-image__image--adaptive",withFrame:""},html:{mainRoot:"sd-question sd-row__question sd-question--html",root:"sd-html",withFrame:""},error:{root:"sd-question__erbox",icon:"",item:"",tooltip:"sd-question__erbox--tooltip",aboveQuestion:"sd-question__erbox--above-question",locationTop:"sd-question__erbox--location--top",locationBottom:"sd-question__erbox--location--bottom"},checkbox:{root:"sd-selectbase",rootMultiColumn:"sd-selectbase--multi-column",item:"sd-item sd-checkbox sd-selectbase__item",itemOnError:"sd-item--error",itemSelectAll:"sd-checkbox--selectall",itemNone:"sd-checkbox--none",itemDisabled:"sd-item--disabled sd-checkbox--disabled",itemChecked:"sd-item--checked sd-checkbox--checked",itemHover:"sd-item--allowhover sd-checkbox--allowhover",itemInline:"sd-selectbase__item--inline",label:"sd-selectbase__label",labelChecked:"",itemControl:"sd-visuallyhidden sd-item__control sd-checkbox__control",itemDecorator:"sd-item__svg sd-checkbox__svg",itemSvgIconId:"#icon-v2check",controlLabel:"sd-item__control-label",materialDecorator:"sd-item__decorator sd-checkbox__decorator",other:"sd-input sd-comment sd-selectbase__other",column:"sd-selectbase__column"},radiogroup:{root:"sd-selectbase",rootMultiColumn:"sd-selectbase--multi-column",item:"sd-item sd-radio sd-selectbase__item",itemOnError:"sd-item--error",itemInline:"sd-selectbase__item--inline",label:"sd-selectbase__label",labelChecked:"",itemDisabled:"sd-item--disabled sd-radio--disabled",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",controlLabel:"sd-item__control-label",materialDecorator:"sd-item__decorator sd-radio__decorator",other:"sd-input sd-comment sd-selectbase__other",clearButton:"sd-btn sd-selectbase__clear-btn",column:"sd-selectbase__column"},boolean:{mainRoot:"sd-element sd-question sd-row__question sd-question--boolean",root:"sv_qcbc sv_qbln sd-scrollable-container",rootRadio:"sv_qcbc sv_qbln sd-scrollable-container sd-scrollable-container--compact",item:"sd-boolean",radioItem:"sd-item",radioItemChecked:"sd-item--checked sd-radio--checked",radioLabel:"sd-selectbase__label",radioControlLabel:"sd-item__control-label",radioFieldset:"sd-selectbase",itemOnError:"sd-boolean--error",control:"sd-boolean__control sd-visuallyhidden",itemChecked:"sd-boolean--checked",itemIndeterminate:"sd-boolean--indeterminate",itemDisabled:"sd-boolean--disabled",label:"sd-boolean__label",switch:"sd-boolean__switch",disabledLabel:"sd-checkbox__label--disabled",itemDecorator:"sd-checkbox__hidden",materialDecorator:"sd-checkbox__rectangle",itemRadioDecorator:"sd-item__svg sd-radio__svg",materialRadioDecorator:"sd-item__decorator sd-radio__decorator",sliderText:"sd-boolean__thumb-text",slider:"sd-boolean__thumb",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control"},text:{root:"sd-input sd-text",small:"sd-row__question--small",controlDisabled:"sd-input--disabled",onError:"sd-input--error"},multipletext:{root:"sd-multipletext",itemLabel:"sd-multipletext__item-container sd-input",itemLabelOnError:"sd-multipletext__item-container--error",item:"sd-multipletext__item",itemTitle:"sd-multipletext__item-title",row:"sd-multipletext__row",cell:"sd-multipletext__cell"},dropdown:{root:"sd-selectbase",small:"sd-row__question--small",selectWrapper:"",other:"sd-input sd-comment sd-selectbase__other",onError:"sd-input--error",label:"sd-selectbase__label",item:"sd-item sd-radio sd-selectbase__item",itemDisabled:"sd-item--disabled sd-radio--disabled",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",control:"sd-input sd-dropdown",controlDisabled:"sd-input--disabled",controlEmpty:"sd-dropdown--empty",controlLabel:"sd-item__control-label",materialDecorator:"sd-item__decorator sd-radio__decorator"},imagepicker:{mainRoot:"sd-element sd-question sd-row__question",root:"sd-selectbase sd-imagepicker",rootColumn:"sd-imagepicker--column",item:"sd-imagepicker__item",itemOnError:"sd-imagepicker__item--error",itemInline:"sd-imagepicker__item--inline",itemChecked:"sd-imagepicker__item--checked",itemDisabled:"sd-imagepicker__item--disabled",itemHover:"sd-imagepicker__item--allowhover",label:"sd-imagepicker__label",itemDecorator:"sd-imagepicker__item-decorator",imageContainer:"sd-imagepicker__image-container",itemControl:"sd-imagepicker__control sd-visuallyhidden",image:"sd-imagepicker__image",itemText:"sd-imagepicker__text",clearButton:"sd-btn",other:"sd-input sd-comment",itemNoImage:"sd-imagepicker__no-image",itemNoImageSvgIcon:"sd-imagepicker__no-image-svg",itemNoImageSvgIconId:"#icon-no-image",column:"sd-selectbase__column sd-imagepicker__column"},matrix:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",tableWrapper:"sd-matrix",root:"sd-table sd-matrix__table",rowError:"sd-matrix__row--error",cell:"sd-table__cell sd-matrix__cell",headerCell:"sd-table__cell sd-table__cell--header",label:"sd-item sd-radio sd-matrix__label",itemOnError:"sd-item--error",itemValue:"sd-visuallyhidden sd-item__control sd-radio__control",itemChecked:"sd-item--checked sd-radio--checked",itemDisabled:"sd-item--disabled sd-radio--disabled",itemHover:"sd-radio--allowhover",materialDecorator:"sd-item__decorator sd-radio__decorator",itemDecorator:"sd-item__svg sd-radio__svg",cellText:"sd-matrix__text",cellTextSelected:"sd-matrix__text--checked",cellTextDisabled:"sd-matrix__text--disabled",cellResponsiveTitle:"sd-matrix__responsive-title"},matrixdropdown:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",rootScroll:"sd-question--scroll",root:"sd-table sd-matrixdropdown",cell:"sd-table__cell",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-table__cell--row-text",detailButton:"sd-table__cell--detail-button",detailButtonExpanded:"sd-table__cell--detail-button--expanded",detailIcon:"sd-detail-panel__icon",detailIconExpanded:"sd-detail-panel__icon--expanded",detailIconId:"icon-expanddetail",detailIconExpandedId:"icon-collapsedetail",actionsCell:"sd-table__cell sd-table__cell--actions",emptyCell:"sd-table__cell--empty",verticalCell:"sd-table__cell--vertical",cellQuestionWrapper:"sd-table__question-wrapper"},matrixdynamic:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",rootScroll:"sd-question--scroll",empty:"sd-question--empty",root:"sd-table sd-matrixdynamic",cell:"sd-table__cell",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-table__cell--row-text",button:"sd-action sd-matrixdynamic__btn",detailRow:"sd-table__row sd-table__row--detail",detailButton:"sd-table__cell--detail-button",detailButtonExpanded:"sd-table__cell--detail-button--expanded",detailIcon:"sd-detail-panel__icon",detailIconExpanded:"sd-detail-panel__icon--expanded",detailIconId:"icon-expanddetail",detailIconExpandedId:"icon-collapsedetail",detailPanelCell:"sd-table__cell--detail-panel",actionsCell:"sd-table__cell sd-table__cell--actions",buttonAdd:"sd-matrixdynamic__add-btn",buttonRemove:"sd-action--negative sd-matrixdynamic__remove-btn",iconAdd:"",iconRemove:"",dragElementDecorator:"sd-drag-element__svg",iconDragElement:"#icon-v2dragelement_16x16",footer:"sd-matrixdynamic__footer",emptyRowsSection:"sd-matrixdynamic__placeholder sd-question__placeholder",iconDrag:"sv-matrixdynamic__drag-icon",ghostRow:"sv-matrix-row--drag-drop-ghost-mod",emptyCell:"sd-table__cell--empty",verticalCell:"sd-table__cell--vertical",cellQuestionWrapper:"sd-table__question-wrapper"},rating:{rootDropdown:"sd-scrollable-container sd-scrollable-container--compact sd-selectbase",root:"sd-scrollable-container sd-rating",rootWrappable:"sd-scrollable-container sd-rating sd-rating--wrappable",item:"sd-rating__item",itemOnError:"sd-rating__item--error",itemHover:"sd-rating__item--allowhover",selected:"sd-rating__item--selected",minText:"sd-rating__item-text sd-rating__min-text",itemText:"sd-rating__item-text",maxText:"sd-rating__item-text sd-rating__max-text",itemDisabled:"sd-rating__item--disabled",control:"sd-input sd-dropdown",controlDisabled:"sd-input--disabled",controlEmpty:"sd-dropdown--empty",onError:"sd-input--error"},comment:{root:"sd-input sd-comment",small:"sd-row__question--small",controlDisabled:"sd-input--disabled",onError:"sd-input--error"},expression:"",file:{root:"sd-file",other:"sd-input sd-comment",placeholderInput:"sd-visuallyhidden",preview:"sd-file__preview",fileSign:"",fileList:"sd-file__list",fileSignBottom:"sd-file__sign",fileDecorator:"sd-file__decorator",onError:"sd-file__decorator--error",fileDecoratorDrag:"sd-file__decorator--drag",fileInput:"sd-visuallyhidden",noFileChosen:"sd-description sd-file__no-file-chosen",chooseFile:"sd-file__choose-btn",chooseFileAsText:"sd-action sd-file__choose-btn--text",chooseFileAsTextDisabled:"sd-action--disabled",chooseFileAsIcon:"sd-context-btn sd-file__choose-btn--icon",chooseFileIconId:"icon-choosefile",disabled:"sd-file__choose-btn--disabled",removeButton:"sd-context-btn sd-context-btn--negative sd-file__btn sd-file__clean-btn",removeButtonBottom:"",removeButtonIconId:"icon-clear",removeFile:"sd-hidden",removeFileSvg:"",removeFileSvgIconId:"icon-delete",wrapper:"sd-file__wrapper",defaultImage:"sd-file__default-image",defaultImageIconId:"icon-defaultfile",leftIconId:"icon-arrowleft",rightIconId:"icon-arrowright",removeFileButton:"sd-context-btn sd-context-btn--negative sd-file__remove-file-button",dragAreaPlaceholder:"sd-file__drag-area-placeholder",imageWrapper:"sd-file__image-wrapper",single:"sd-file--single",singleImage:"sd-file--single-image",mobile:"sd-file--mobile"},signaturepad:{mainRoot:"sd-element sd-question sd-question--signature sd-row__question",root:"sd-signaturepad sjs_sp_container",small:"sd-row__question--small",controls:"sjs_sp_controls sd-signaturepad__controls",placeholder:"sjs_sp_placeholder",clearButton:"sjs_sp_clear sd-context-btn sd-context-btn--negative sd-signaturepad__clear",clearButtonIconId:"icon-clear"},saveData:{root:"",saving:"",error:"",success:"",saveAgainButton:""},window:{root:"sv_window",body:"sv_window_content",header:{root:"sv_window_title",title:"",button:"",buttonExpanded:"",buttonCollapsed:""}},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sv-ranking--disabled",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking--drag",itemOnError:"sv-ranking-item--error"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemHover:"sv-button-group__item--hover",itemSelected:"sv-button-group__item--selected",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},actionBar:{root:"sd-action-bar",item:"sd-action",itemPressed:"sd-action--pressed",itemAsIcon:"sd-action--icon",itemIcon:"sd-action__icon",itemTitle:"sd-action__title"},variables:{mobileWidth:"--sd-mobile-width",imagepickerGapBetweenItems:"--sd-imagepicker-gap",themeMark:"--sv-defaultV2-mark"}};d.surveyCss.defaultV2=C},"./src/defaultTitle.ts":function(a,r,t){t.r(r),t.d(r,"DefaultTitleModel",function(){return C});var d=t("./src/utils/cssClassBuilder.ts"),C=function(){function M(){}return M.getIconCss=function(w,S){return new d.CssClassBuilder().append(w.icon).append(w.iconExpanded,!S).toString()},M}()},"./src/dragdrop/choices.ts":function(a,r,t){t.r(r),t.d(r,"DragDropChoices",function(){return M});var d=t("./src/dragdrop/core.ts"),C=function(){var w=function(S,x){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,u){h.__proto__=u}||function(h,u){for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(h[g]=u[g])},w(S,x)};return function(S,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");w(S,x);function h(){this.constructor=S}S.prototype=x===null?Object.create(x):(h.prototype=x.prototype,new h)}}(),M=function(w){C(S,w);function S(){return w!==null&&w.apply(this,arguments)||this}return Object.defineProperty(S.prototype,"draggedElementType",{get:function(){return"item-value"},enumerable:!1,configurable:!0}),S.prototype.createDraggedElementShortcut=function(x,h,u){if(this.parentElement.getType()==="imagepicker")return this.createImagePickerShortcut(x,h,u);var g=document.createElement("div");g.style.cssText=` 
          cursor: grabbing;
          position: absolute;
          z-index: 1000;
          font-family: "Open Sans";
        `;var f=!0,i=h.closest("[data-sv-drop-target-item-value]").cloneNode(f);i.style.cssText=`
      min-width: 100px;
      box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.1);
      background-color: white;
      border-radius: 36px;
      padding-right: 16px;
      margin-left: 0;
    `;var p=i.querySelector(".svc-item-value-controls__drag-icon");p.style.visibility="visible";var P=i.querySelector(".svc-item-value-controls__remove");P.style.backgroundColor="transparent",i.classList.remove("svc-item-value--moveup"),i.classList.remove("svc-item-value--movedown"),this.draggedElement.isDragDropMoveDown=!1,this.draggedElement.isDragDropMoveUp=!1,g.appendChild(i);var m=h.getBoundingClientRect();return g.shortcutXOffset=u.clientX-m.x,g.shortcutYOffset=u.clientY-m.y,this.isBottom=null,g},S.prototype.createImagePickerShortcut=function(x,h,u){var g=document.createElement("div");g.style.cssText=` 
      cursor: grabbing;
      position: absolute;
      z-index: 1000;
      box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.1);
      padding: 4px;
      border-radius: 4px;
      background: white;
    `;var f=h.closest("[data-sv-drop-target-item-value]"),i=f.querySelector(".svc-image-item-value-controls"),p=f.querySelector(".sd-imagepicker__image-container"),P=f.querySelector("img");return i.style.display="none",p.style.width=P.width+"px",p.style.height=P.height+"px",P.style.objectFit="cover",P.style.borderRadius="4px",g.appendChild(P),g},S.prototype.findDropTargetNodeByDragOverNode=function(x){var h=x.closest(this.dropTargetDataAttributeName);return h},S.prototype.getDropTargetByDataAttributeValue=function(x){var h;return h=this.parentElement.choices.filter(function(u){return""+u.value==x})[0],h},S.prototype.getVisibleChoices=function(){var x=this.parentElement;return x.getType()==="ranking"?x.rankingChoices:x.visibleChoices},S.prototype.isDropTargetValid=function(x){var h=this.getVisibleChoices();if(this.parentElement.getType()!=="imagepicker"){var u=h.indexOf(this.dropTarget),g=h.indexOf(this.draggedElement);if(g>u&&this.dropTarget.isDragDropMoveUp)return this.dropTarget.isDragDropMoveUp=!1,!1;if(g<u&&this.dropTarget.isDragDropMoveDown)return this.dropTarget.isDragDropMoveDown=!1,!1}return h.indexOf(x)!==-1},S.prototype.calculateIsBottom=function(x){var h=this.getVisibleChoices();return h.indexOf(this.dropTarget)-h.indexOf(this.draggedElement)>0},S.prototype.afterDragOver=function(x){if(!this.isDropTargetDoesntChanged(this.isBottom)&&this.dropTarget!==this.draggedElement){var h=this.getVisibleChoices(),u=h.indexOf(this.dropTarget),g=h.indexOf(this.draggedElement);h.splice(g,1),h.splice(u,0,this.draggedElement),this.parentElement.getType()!=="imagepicker"&&(g!==u&&(x.classList.remove("svc-item-value--moveup"),x.classList.remove("svc-item-value--movedown"),this.dropTarget.isDragDropMoveDown=!1,this.dropTarget.isDragDropMoveUp=!1),g>u&&(this.dropTarget.isDragDropMoveDown=!0),g<u&&(this.dropTarget.isDragDropMoveUp=!0),w.prototype.ghostPositionChanged.call(this))}},S.prototype.doDrop=function(){var x=this.parentElement.choices,h=this.getVisibleChoices().filter(function(f){return x.indexOf(f)!==-1}),u=x.indexOf(this.draggedElement),g=h.indexOf(this.draggedElement);return x.splice(u,1),x.splice(g,0,this.draggedElement),this.parentElement},S.prototype.doClear=function(){this.updateVisibleChoices()},S.prototype.updateVisibleChoices=function(){var x=this.parentElement;this.parentElement.getType()==="ranking"?x.updateRankingChoices():x.updateVisibleChoices()},S}(d.DragDropCore)},"./src/dragdrop/core.ts":function(a,r,t){t.r(r),t.d(r,"DragDropCore",function(){return h});var d=t("./src/base.ts"),C=t("./src/jsonobject.ts"),M=t("./src/utils/utils.ts"),w=t("./src/utils/devices.ts"),S=function(){var u=function(g,f){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,p){i.__proto__=p}||function(i,p){for(var P in p)Object.prototype.hasOwnProperty.call(p,P)&&(i[P]=p[P])},u(g,f)};return function(g,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");u(g,f);function i(){this.constructor=g}g.prototype=f===null?Object.create(f):(i.prototype=f.prototype,new i)}}(),x=function(u,g,f,i){var p=arguments.length,P=p<3?g:i===null?i=Object.getOwnPropertyDescriptor(g,f):i,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(u,g,f,i);else for(var y=u.length-1;y>=0;y--)(m=u[y])&&(P=(p<3?m(P):p>3?m(g,f,P):m(g,f))||P);return p>3&&P&&Object.defineProperty(g,f,P),P};typeof window<"u"&&window.addEventListener("touchmove",function(u){h.PreventScrolling&&u.preventDefault()},{passive:!1});var h=function(u){S(g,u);function g(f,i){var p=u.call(this)||this;return p.surveyValue=f,p.creator=i,p.onGhostPositionChanged=new d.EventBase,p.onBeforeDrop=new d.EventBase,p.onAfterDrop=new d.EventBase,p.draggedElement=null,p.dropTarget=null,p.prevDropTarget=null,p.draggedElementShortcut=null,p.scrollIntervalId=null,p.allowDropHere=!1,p.stopLongTapIfMoveEnough=function(P){P.preventDefault(),p.currentX=P.pageX,p.currentY=P.pageY,!p.isMicroMovement&&(document.body.style.setProperty("touch-action",""),document.body.style.setProperty("user-select",""),document.body.style.setProperty("-webkit-user-select",""),p.stopLongTap())},p.stopLongTap=function(P){clearTimeout(p.timeoutID),p.timeoutID=null,document.removeEventListener("pointerup",p.stopLongTap),document.removeEventListener("pointermove",p.stopLongTapIfMoveEnough)},p.onContextMenu=function(P){P.preventDefault(),P.stopPropagation()},p.dragOver=function(P){p.moveShortcutElement(P),p.draggedElementShortcut.style.cursor="grabbing";var m=p.findDropTargetNodeFromPoint(P.clientX,P.clientY);if(!m){p.banDropHere();return}p.dropTarget=p.getDropTargetByNode(m,P);var y=p.isDropTargetValid(p.dropTarget,m);if(p.doDragOver(m),!y){p.banDropHere();return}var R=p.calculateIsBottom(P.clientY,m);p.allowDropHere=!0,!p.isDropTargetDoesntChanged(R)&&(p.isBottom=null,p.isBottom=R,p.afterDragOver(m),p.prevDropTarget=p.dropTarget)},p.drop=function(){if(p.allowDropHere){p.onBeforeDrop.fire(p,null);var P=p.doDrop();p.onAfterDrop.fire(p,{draggedElement:P})}p.clear()},p.handlePointerCancel=function(P){p.clear()},p.handleEscapeButton=function(P){P.keyCode==27&&p.clear()},p.banDropHere=function(){p.allowDropHere=!1,p.doBanDropHere(),p.dropTarget=null,p.draggedElementShortcut.style.cursor="not-allowed",p.isBottom=null},p.doBanDropHere=function(){},p.clear=function(){cancelAnimationFrame(p.scrollIntervalId),document.removeEventListener("pointermove",p.dragOver),document.removeEventListener("pointercancel",p.handlePointerCancel),document.removeEventListener("keydown",p.handleEscapeButton),document.removeEventListener("pointerup",p.drop),p.draggedElementShortcut.removeEventListener("pointerup",p.drop),w.IsTouch&&p.draggedElementShortcut.removeEventListener("contextmenu",p.onContextMenu),document.body.removeChild(p.draggedElementShortcut),p.doClear(),p.dropTarget=null,p.draggedElementShortcut=null,p.draggedElement=null,p.isBottom=null,p.parentElement=null,p.scrollIntervalId=null,w.IsTouch&&(p.savedTargetNode&&document.body.removeChild(p.savedTargetNode),g.PreventScrolling=!1),document.body.style.setProperty("touch-action",""),document.body.style.setProperty("user-select",""),document.body.style.setProperty("-webkit-user-select","")},p}return g.prototype.ghostPositionChanged=function(){this.onGhostPositionChanged.fire({},{})},Object.defineProperty(g.prototype,"dropTargetDataAttributeName",{get:function(){return"[data-sv-drop-target-".concat(this.draggedElementType,"]")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"survey",{get:function(){return this.surveyValue||this.creator.survey},enumerable:!1,configurable:!0}),g.prototype.startDrag=function(f,i,p,P,m){if(m===void 0&&(m=!1),w.IsTouch){this.startLongTapProcessing(f,i,p,P,m);return}this.doStartDrag(f,i,p,P)},g.prototype.startLongTapProcessing=function(f,i,p,P,m){var y=this;m===void 0&&(m=!1),this.startX=f.pageX,this.startY=f.pageY,document.body.style.setProperty("touch-action","none","important"),document.body.style.setProperty("user-select","none","important"),document.body.style.setProperty("-webkit-user-select","none","important"),this.timeoutID=setTimeout(function(){y.doStartDrag(f,i,p,P),m||(y.savedTargetNode=f.target,y.savedTargetNode.style.cssText=`
          position: absolute;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden;
          clip: rect(1px 1px 1px 1px);
          clip: rect(1px, 1px, 1px, 1px);
        `,document.body.appendChild(y.savedTargetNode)),y.stopLongTap()},500),document.addEventListener("pointerup",this.stopLongTap),document.addEventListener("pointermove",this.stopLongTapIfMoveEnough)},Object.defineProperty(g.prototype,"isMicroMovement",{get:function(){var f=5,i=Math.abs(this.currentX-this.startX),p=Math.abs(this.currentY-this.startY);return i<f&&p<f},enumerable:!1,configurable:!0}),g.prototype.doStartDrag=function(f,i,p,P){if(w.IsTouch&&(g.PreventScrolling=!0),f.which!==3){this.draggedElement=i,this.parentElement=p,this.onStartDrag();var m=this.getShortcutText(this.draggedElement);this.draggedElementShortcut=this.createDraggedElementShortcut(m,P,f),document.body.append(this.draggedElementShortcut),this.moveShortcutElement(f),document.addEventListener("pointermove",this.dragOver),document.addEventListener("pointercancel",this.handlePointerCancel),document.addEventListener("keydown",this.handleEscapeButton),document.addEventListener("pointerup",this.drop),w.IsTouch?this.draggedElementShortcut.addEventListener("contextmenu",this.onContextMenu):this.draggedElementShortcut.addEventListener("pointerup",this.drop)}},g.prototype.isDropTargetDoesntChanged=function(f){return this.dropTarget===this.prevDropTarget&&f===this.isBottom},g.prototype.onStartDrag=function(){},g.prototype.getShortcutText=function(f){return f.shortcutText},g.prototype.createDraggedElementShortcut=function(f,i,p){var P=document.createElement("div");return P.innerText=f,P.className=this.getDraggedElementClass(),P},g.prototype.getDraggedElementClass=function(){return"sv-dragged-element-shortcut"},g.prototype.doDragOver=function(f){},g.prototype.afterDragOver=function(f){},g.prototype.getGhostPosition=function(f){return this.dropTarget!==f?null:this.isBottom?"bottom":"top"},g.prototype.moveShortcutElement=function(f){this.doScroll(f.clientY,f.clientX);var i=this.draggedElementShortcut.offsetHeight,p=this.draggedElementShortcut.offsetWidth,P=this.draggedElementShortcut.shortcutXOffset||p/2,m=this.draggedElementShortcut.shortcutYOffset||i/2,y=document.documentElement.clientHeight,R=document.documentElement.clientWidth,b=this.getShortcutBottomCoordinate(f.clientY,i,m),c=this.getShortcutRightCoordinate(f.clientX,p,P);if(c>=R){this.draggedElementShortcut.style.left=f.pageX-f.clientX+R-p+"px",this.draggedElementShortcut.style.top=f.pageY-m+"px";return}if(f.clientX-P<=0){this.draggedElementShortcut.style.left=f.pageX-f.clientX+"px",this.draggedElementShortcut.style.top=f.pageY-m+"px";return}if(b>=y){this.draggedElementShortcut.style.left=f.pageX-P+"px",this.draggedElementShortcut.style.top=f.pageY-f.clientY+y-i+"px";return}if(f.clientY-m<=0){this.draggedElementShortcut.style.left=f.pageX-P+"px",this.draggedElementShortcut.style.top=f.pageY-f.clientY+"px";return}this.draggedElementShortcut.style.left=f.pageX-P+"px",this.draggedElementShortcut.style.top=f.pageY-m+"px"},g.prototype.getShortcutBottomCoordinate=function(f,i,p){return f+i-p},g.prototype.getShortcutRightCoordinate=function(f,i,p){return f+i-p},g.prototype.doScroll=function(f,i){var p=this;cancelAnimationFrame(this.scrollIntervalId);var P=50;this.draggedElementShortcut.hidden=!0;var m=document.elementFromPoint(i,f);this.draggedElementShortcut.hidden=!1;var y=Object(M.findScrollableParent)(m),R,b,c,E;y.tagName==="HTML"?(R=0,b=document.documentElement.clientHeight,c=0,E=document.documentElement.clientWidth):(R=y.getBoundingClientRect().top,b=y.getBoundingClientRect().bottom,c=y.getBoundingClientRect().left,E=y.getBoundingClientRect().right);var I=function(){f-R<=P?y.scrollTop-=15:b-f<=P?y.scrollTop+=15:E-i<=P?y.scrollLeft+=15:i-c<=P&&(y.scrollLeft-=15),p.scrollIntervalId=requestAnimationFrame(I)};this.scrollIntervalId=requestAnimationFrame(I)},g.prototype.getDataAttributeValueByNode=function(f){var i=this,p="svDropTarget",P=this.draggedElementType.split("-");return P.forEach(function(m){p+=i.capitalizeFirstLetter(m)}),f.dataset[p]},g.prototype.getDropTargetByNode=function(f,i){var p=this.getDataAttributeValueByNode(f);return this.getDropTargetByDataAttributeValue(p,f,i)},g.prototype.capitalizeFirstLetter=function(f){return f.charAt(0).toUpperCase()+f.slice(1)},g.prototype.calculateMiddleOfHTMLElement=function(f){var i=f.getBoundingClientRect();return i.y+i.height/2},g.prototype.findDropTargetNodeFromPoint=function(f,i){this.draggedElementShortcut.hidden=!0;var p=document.elementFromPoint(f,i);return this.draggedElementShortcut.hidden=!1,p?this.findDropTargetNodeByDragOverNode(p):null},g.prototype.findDropTargetNodeByDragOverNode=function(f){var i=f.querySelector(this.dropTargetDataAttributeName)||f.closest(this.dropTargetDataAttributeName);return i},g.prototype.doClear=function(){},g.PreventScrolling=!1,x([Object(C.property)({defaultValue:null,onSet:function(f,i){i.ghostPositionChanged()}})],g.prototype,"isBottom",void 0),g}(d.Base)},"./src/dragdrop/matrix-rows.ts":function(a,r,t){t.r(r),t.d(r,"DragDropMatrixRows",function(){return M});var d=t("./src/dragdrop/core.ts"),C=function(){var w=function(S,x){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,u){h.__proto__=u}||function(h,u){for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(h[g]=u[g])},w(S,x)};return function(S,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");w(S,x);function h(){this.constructor=S}S.prototype=x===null?Object.create(x):(h.prototype=x.prototype,new h)}}(),M=function(w){C(S,w);function S(){var x=w!==null&&w.apply(this,arguments)||this;return x.fromIndex=null,x.toIndex=null,x.doDrop=function(){return x.parentElement.moveRowByIndex(x.fromIndex,x.toIndex),x.parentElement},x}return Object.defineProperty(S.prototype,"draggedElementType",{get:function(){return"matrix-row"},enumerable:!1,configurable:!0}),S.prototype.createDraggedElementShortcut=function(x,h,u){var g=this,f=document.createElement("div");f.style.cssText=` 
          cursor: grabbing;
          position: absolute;
          z-index: 1000;
          font-family: "Open Sans";
        `;var i=!0,p=h.closest("[data-sv-drop-target-matrix-row]"),P=p.cloneNode(i);P.style.cssText=`
      box-shadow: rgb(0 0 0 / 10%) 0px 8px 16px;
      background-color: white;
      display: flex;
      flex-grow: 0;
      flex-shrink: 0;
      align-items: center;
      line-height: 0;
      width: `.concat(p.offsetWidth,`px;
    `),P.classList.remove("sv-matrix__drag-drop--moveup"),P.classList.remove("sv-matrix__drag-drop--movedown"),this.draggedElement.isDragDropMoveDown=!1,this.draggedElement.isDragDropMoveUp=!1,f.appendChild(P);var m=h.getBoundingClientRect();f.shortcutXOffset=u.clientX-m.x,f.shortcutYOffset=u.clientY-m.y;var y=this.parentElement.renderedTable.rows;return y.forEach(function(R,b){R.row===g.draggedElement&&(R.isGhostRow=!0)}),this.fromIndex=this.parentElement.visibleRows.indexOf(this.draggedElement),f},S.prototype.getDropTargetByDataAttributeValue=function(x){var h=this.parentElement,u;return u=h.renderedTable.rows.filter(function(g){return g.row.id===x})[0],u.row},S.prototype.isDropTargetValid=function(x){return!0},S.prototype.findDropTargetNodeByDragOverNode=function(x){var h=x.closest(this.dropTargetDataAttributeName);return h},S.prototype.calculateIsBottom=function(x){var h=this.parentElement.renderedTable.rows,u=h.map(function(g){return g.row});return u.indexOf(this.dropTarget)-u.indexOf(this.draggedElement)>0},S.prototype.afterDragOver=function(x){var h=this;if(!this.isDropTargetDoesntChanged(this.isBottom)&&this.dropTarget!==this.draggedElement){var u,g,f,i=this.parentElement.renderedTable.rows;i.forEach(function(p,P){p.row===h.dropTarget&&(u=P),p.row===h.draggedElement&&(f=p,g=P,f.isGhostRow=!0)}),i.splice(g,1),i.splice(u,0,f),this.toIndex=u,w.prototype.ghostPositionChanged.call(this)}},S.prototype.doClear=function(){this.parentElement.resetRenderedTable(),this.fromIndex=null,this.toIndex=null},S}(d.DragDropCore)},"./src/dragdrop/ranking-choices.ts":function(a,r,t){t.r(r),t.d(r,"DragDropRankingChoices",function(){return S});var d=t("./src/dragdrop/choices.ts"),C=t("./src/utils/cssClassBuilder.ts"),M=t("./src/utils/devices.ts"),w=function(){var x=function(h,u){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,f){g.__proto__=f}||function(g,f){for(var i in f)Object.prototype.hasOwnProperty.call(f,i)&&(g[i]=f[i])},x(h,u)};return function(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");x(h,u);function g(){this.constructor=h}h.prototype=u===null?Object.create(u):(g.prototype=u.prototype,new g)}}(),S=function(x){w(h,x);function h(){var u=x!==null&&x.apply(this,arguments)||this;return u.isDragOverRootNode=!1,u.doDragOver=function(){var g=u.draggedElementShortcut.querySelector(".sv-ranking-item");g.style.cursor="grabbing"},u.doBanDropHere=function(){if(u.isDragOverRootNode){u.allowDropHere=!0;return}var g=u.draggedElementShortcut.querySelector(".sv-ranking-item");g.style.cursor="not-allowed"},u.doDrop=function(){return u.parentElement.setValue(),u.parentElement},u.doClear=function(){u.parentElement.dropTargetNodeMove=null,u.parentElement.updateRankingChoices()},u}return Object.defineProperty(h.prototype,"draggedElementType",{get:function(){return"ranking-item"},enumerable:!1,configurable:!0}),h.prototype.createDraggedElementShortcut=function(u,g,f){var i=document.createElement("div");i.className=this.shortcutClass,i.style.cssText=` 
          cursor: grabbing;
          position: absolute;
          z-index: 1000;
          border-radius: 36px;
          min-width: 100px;
          box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.1);
          background-color: white;
          padding-right: 16px;
          padding-left: 20px;
          font-family: "Open Sans";
        `;var p=!0,P=g.cloneNode(p);i.appendChild(P);var m=g.getBoundingClientRect();return i.shortcutXOffset=f.clientX-m.x,i.shortcutYOffset=f.clientY-m.y,i},Object.defineProperty(h.prototype,"shortcutClass",{get:function(){return new C.CssClassBuilder().append(this.parentElement.cssClasses.root).append(this.parentElement.cssClasses.rootMobileMod,M.IsMobile).toString()},enumerable:!1,configurable:!0}),h.prototype.getDropTargetByDataAttributeValue=function(u){return this.parentElement.rankingChoices[u]},h.prototype.findDropTargetNodeByDragOverNode=function(u){return this.isDragOverRootNode=this.getIsDragOverRootNode(u),u.closest(this.dropTargetDataAttributeName)},h.prototype.getIsDragOverRootNode=function(u){return typeof u.className=="string"&&u.className.indexOf("sv-ranking")!==-1},h.prototype.isDropTargetValid=function(u,g){var f=this.parentElement.rankingChoices,i=f.indexOf(this.dropTarget),p=f.indexOf(this.draggedElement);return p>i&&g.classList.contains("sv-dragdrop-moveup")?(this.parentElement.dropTargetNodeMove=null,!1):p<i&&g.classList.contains("sv-dragdrop-movedown")?(this.parentElement.dropTargetNodeMove=null,!1):f.indexOf(u)!==-1},h.prototype.calculateIsBottom=function(u){var g=this.parentElement.rankingChoices;return g.indexOf(this.dropTarget)-g.indexOf(this.draggedElement)>0},h.prototype.afterDragOver=function(u){var g=this.parentElement.rankingChoices,f=g.indexOf(this.dropTarget),i=g.indexOf(this.draggedElement);g.splice(i,1),g.splice(f,0,this.draggedElement),this.parentElement.setPropertyValue("rankingChoices",g),this.updateDraggedElementShortcut(f+1),i!==f&&(u.classList.remove("sv-dragdrop-moveup"),u.classList.remove("sv-dragdrop-movedown"),this.parentElement.dropTargetNodeMove=null),i>f&&(this.parentElement.dropTargetNodeMove="down"),i<f&&(this.parentElement.dropTargetNodeMove="up")},h.prototype.updateDraggedElementShortcut=function(u){var g=u+"",f=this.draggedElementShortcut.querySelector(".sv-ranking-item__index");f.innerText=g},h.prototype.ghostPositionChanged=function(){this.parentElement.currentDropTarget=this.draggedElement,x.prototype.ghostPositionChanged.call(this)},h}(d.DragDropChoices)},"./src/dragdrop/survey-elements.ts":function(a,r,t){t.r(r),t.d(r,"DragDropSurveyElements",function(){return S});var d=t("./src/survey-element.ts"),C=t("./src/jsonobject.ts"),M=t("./src/dragdrop/core.ts"),w=function(){var x=function(h,u){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,f){g.__proto__=f}||function(g,f){for(var i in f)Object.prototype.hasOwnProperty.call(f,i)&&(g[i]=f[i])},x(h,u)};return function(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");x(h,u);function g(){this.constructor=h}h.prototype=u===null?Object.create(u):(g.prototype=u.prototype,new g)}}(),S=function(x){w(h,x);function h(){var u=x!==null&&x.apply(this,arguments)||this;return u.isEdge=!1,u.prevIsEdge=null,u.ghostSurveyElement=null,u.isDraggedElementSelected=!1,u.doBanDropHere=function(){u.removeGhostElementFromSurvey(),u.isEdge=null},u.doDrop=function(){return u.dropTarget?(document.activeElement.blur(),u.insertRealElementIntoSurvey()):null},u.doClear=function(){u.removeGhostElementFromSurvey(),u.isEdge=null,u.ghostSurveyElement=null,u.draggedElement&&(u.draggedElement.isDragMe=!1)},u}return Object.defineProperty(h.prototype,"draggedElementType",{get:function(){return"survey-element"},enumerable:!1,configurable:!0}),h.prototype.startDragToolboxItem=function(u,g,f){var i=!0,p=this.createElementFromJson(g);p.toolboxItemTitle=f,this.startDrag(u,p,null,null,i)},h.prototype.startDragSurveyElement=function(u,g,f){this.isDraggedElementSelected=f,this.startDrag(u,g)},h.prototype.getShortcutText=function(u){return u.toolboxItemTitle||x.prototype.getShortcutText.call(this,u)},h.prototype.createDraggedElementShortcut=function(u,g,f){var i=document.createElement("div"),p=document.createElement("span");return p.className="svc-dragged-element-shortcut__text",p.innerText=u,i.appendChild(this.createDraggedElementIcon()),i.appendChild(p),i.className=this.getDraggedElementClass(),i},h.prototype.createDraggedElementIcon=function(){var u=document.createElement("span"),g=this.draggedElement.getType(),f='<svg class="sv-svg-icon" role="img" style="width: 24px; height: 24px;"><use xlink:href="#icon-'.concat(g,'"></use></svg>');return u.className="svc-dragged-element-shortcut__icon",u.innerHTML=f,u},h.prototype.getDraggedElementClass=function(){var u="svc-dragged-element-shortcut";return this.isDraggedElementSelected&&(u+=" svc-dragged-element-shortcut--selected"),u},h.prototype.createElementFromJson=function(u){var g=this.createNewElement(u);return g.setSurveyImpl?g.setSurveyImpl(this.survey):g.setData(this.survey),g.renderWidth="100%",g},h.prototype.createNewElement=function(u){var g=C.Serializer.createClass(u.type);return new C.JsonObject().toObject(u,g),g},h.prototype.getDropTargetByDataAttributeValue=function(u,g,f){if(this.isEdge=this.calculateIsEdge(g,f.clientY),!u){var i=g.parentElement.closest(this.dropTargetDataAttributeName);u=this.getDataAttributeValueByNode(i)}if(!u)throw new Error("Can't find drop target survey element name");if(u===h.ghostSurveyElementName)return this.prevDropTarget;if(u==="newGhostPage")return h.newGhostPage;var p=this.survey.getPageByName(u);if(p)return p.elements.length!==0?null:p;var P,m;if(this.survey.pages.forEach(function(b){m=b.getElementByName(u),m&&(P=m)}),P.getType()==="paneldynamic"&&!this.isEdge&&(P=P.template),(P.getType()==="matrixdropdown"||P.getType()==="matrixdynamic")&&P.detailPanelMode!=="none"&&!this.isEdge?P=P.detailPanel:P.isPanel&&(P=this.getPanelDropTarget(g,P,f)),!P.page){var y=g.parentElement.closest("[data-sv-drop-target-page]");u=y.dataset.svDropTargetPage;var R=this.survey.getPageByName(u);P.__page=R}return P},h.prototype.isDropTargetValid=function(){return!(!this.dropTarget||this.dropTarget===this.draggedElement||this.draggedElement.getType()==="paneldynamic"&&this.dropTarget===this.draggedElement.template||h.restrictDragQuestionBetweenPages&&this.shouldRestricDragQuestionBetweenPages(this.dropTarget))},h.prototype.calculateIsBottom=function(u,g){if(this.getDataAttributeValueByNode(g)===h.ghostSurveyElementName)return this.isBottom;var f=this.calculateMiddleOfHTMLElement(g);return u>=f},h.prototype.isDropTargetDoesntChanged=function(u){return this.dropTarget===this.ghostSurveyElement?!0:this.dropTarget===this.prevDropTarget&&u===this.isBottom&&this.isEdge===this.prevIsEdge},h.prototype.shouldRestricDragQuestionBetweenPages=function(u){var g=this.draggedElement.page,f=u.isPage?u:u.page;return g&&g!==f},h.prototype.getPanelDropTarget=function(u,g,f){var i=this.isEdge;return!i&&g.questions.length!==0&&(u=this.findDeepestDropTargetChild(u),g=this.getDropTargetByNode(u,f)),g},h.prototype.findDeepestDropTargetChild=function(u){for(var g=this.dropTargetDataAttributeName,f=u;u;)f=u,u=u.querySelector(g);return f},h.prototype.calculateIsEdge=function(u,g){var f=u.getBoundingClientRect();return g-f.top<=h.edgeHeight||f.bottom-g<=h.edgeHeight},h.prototype.calculateIsRight=function(){var u=this.dropTarget.parent,g=u.elements.indexOf(this.draggedElement),f=u.elements.indexOf(this.dropTarget);return g<f},h.prototype.afterDragOver=function(){this.prevIsEdge=this.isEdge,this.insertGhostElementIntoSurvey()},h.prototype.onStartDrag=function(){this.ghostSurveyElement=this.createGhostSurveyElement(),this.draggedElement.isDragMe=!0},h.prototype.insertGhostElementIntoSurvey=function(){this.removeGhostElementFromSurvey();var u=this.calcTargetRowMultiple();if(this.ghostSurveyElement=this.createGhostSurveyElement(u),this.ghostSurveyElement.name=h.ghostSurveyElementName,this.parentElement=this.dropTarget.isPage?this.dropTarget:this.dropTarget.page||this.dropTarget.__page,this.isDragOverInsideEmptyPanel()){this.dropTarget.dragTypeOverMe=d.DragTypeOverMeEnum.InsideEmptyPanel;return}if(!this.isEdge&&u){this.dropTarget.dragTypeOverMe=this.calculateIsRight()?d.DragTypeOverMeEnum.MultilineRight:d.DragTypeOverMeEnum.MultilineLeft;return}this.parentElement.dragDropStart(this.draggedElement,this.ghostSurveyElement,h.nestedPanelDepth);var g=this.parentElement.dragDropMoveTo(this.dropTarget,u?this.calculateIsRight():this.isBottom,this.isEdge);return g},h.prototype.calcTargetRowMultiple=function(){var u=this,g=this.dropTarget.isPage||this.dropTarget.isPanel?this.dropTarget:this.dropTarget.parent;this.dropTarget.getType()==="paneldynamic"&&(g=this.dropTarget.templateValue);var f;g.rows.forEach(function(p){p.elements.indexOf(u.dropTarget)!==-1&&(f=p)});var i=f&&f.elements.length>1;return this.isEdge&&i?(g.__page=this.dropTarget.page,this.dropTarget=g,!1):i},h.prototype.isDragOverInsideEmptyPanel=function(){var u=this.dropTarget.isPanel&&this.dropTarget.questions.length===0,g=!this.isEdge;return u&&g},h.prototype.removeGhostElementFromSurvey=function(){var u=this.prevDropTarget||this.dropTarget;u&&(u.dragTypeOverMe=null),this.parentElement&&this.parentElement.dragDropFinish(!0)},h.prototype.insertRealElementIntoSurvey=function(){this.removeGhostElementFromSurvey();var u=this.calcTargetRowMultiple();this.dropTarget.isPage&&this.dropTarget._isGhost&&this.dropTarget._addGhostPageViewModel();var g=new C.JsonObject().toJsonObject(this.draggedElement);g.type=this.draggedElement.getType();var f=this.createFakeTargetElement(this.draggedElement.name,g);this.parentElement.dragDropStart(this.draggedElement,f,h.nestedPanelDepth),this.parentElement.dragDropMoveTo(this.dropTarget,u?this.calculateIsRight():this.isBottom,this.isEdge);var i=this.parentElement.dragDropFinish();return i},h.prototype.createFakeTargetElement=function(u,g){if(!u||!g)return null;var f=null;return f=C.Serializer.createClass(g.type),new C.JsonObject().toObject(g,f),f.name=u,f.setSurveyImpl?f.setSurveyImpl(this.survey):f.setData(this.survey),f.renderWidth="100%",f},h.prototype.createGhostSurveyElement=function(u){u===void 0&&(u=!1);var g="sv-drag-drop-ghost",f="300px";u&&(f="4px",g+=" sv-drag-drop-ghost--vertical");var i={type:"html",minWidth:f,name:h.ghostSurveyElementName,html:'<div class="'.concat(g,'"></div>')},p=this.createElementFromJson(i);return p.startWithNewLine=!u,u&&(p.maxWidth="4px",p.renderWidth="0px",p.paddingRight="0px",p.paddingLeft="0px"),p},h.newGhostPage=null,h.restrictDragQuestionBetweenPages=!1,h.edgeHeight=30,h.nestedPanelDepth=-1,h.ghostSurveyElementName="sv-drag-drop-ghost-survey-element-name",h}(M.DragDropCore)},"./src/dxSurveyService.ts":function(a,r,t){t.r(r),t.d(r,"dxSurveyService",function(){return C});var d=t("./src/settings.ts"),C=function(){function M(){}return Object.defineProperty(M,"serviceUrl",{get:function(){return d.settings.surveyServiceUrl},set:function(w){d.settings.surveyServiceUrl=w},enumerable:!1,configurable:!0}),M.prototype.loadSurvey=function(w,S){var x=new XMLHttpRequest;x.open("GET",M.serviceUrl+"/getSurvey?surveyId="+w),x.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),x.onload=function(){var h=JSON.parse(x.response);S(x.status==200,h,x.response)},x.send()},M.prototype.getSurveyJsonAndIsCompleted=function(w,S,x){var h=new XMLHttpRequest;h.open("GET",M.serviceUrl+"/getSurveyAndIsCompleted?surveyId="+w+"&clientId="+S),h.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),h.onload=function(){var u=JSON.parse(h.response),g=u?u.survey:null,f=u?u.isCompleted:null;x(h.status==200,g,f,h.response)},h.send()},M.prototype.sendResult=function(w,S,x,h,u){h===void 0&&(h=null),u===void 0&&(u=!1);var g=new XMLHttpRequest;g.open("POST",M.serviceUrl+"/post/"),g.setRequestHeader("Content-Type","application/json; charset=utf-8");var f={postId:w,surveyResult:JSON.stringify(S)};h&&(f.clientId=h),u&&(f.isPartialCompleted=!0);var i=JSON.stringify(f);g.onload=g.onerror=function(){x&&x(g.status===200,g.response,g)},g.send(i)},M.prototype.sendFile=function(w,S,x){var h=new XMLHttpRequest;h.onload=h.onerror=function(){x&&x(h.status==200,JSON.parse(h.response))},h.open("POST",M.serviceUrl+"/upload/",!0);var u=new FormData;u.append("file",S),u.append("postId",w),h.send(u)},M.prototype.getResult=function(w,S,x){var h=new XMLHttpRequest,u="resultId="+w+"&name="+S;h.open("GET",M.serviceUrl+"/getResult?"+u),h.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),h.onload=function(){var g=null,f=null;if(h.status==200){g=JSON.parse(h.response),f=[];for(var i in g.QuestionResult){var p={name:i,value:g.QuestionResult[i]};f.push(p)}}x(h.status==200,g,f,h.response)},h.send()},M.prototype.isCompleted=function(w,S,x){var h=new XMLHttpRequest,u="resultId="+w+"&clientId="+S;h.open("GET",M.serviceUrl+"/isCompleted?"+u),h.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),h.onload=function(){var g=null;h.status==200&&(g=JSON.parse(h.response)),x(h.status==200,g,h.response)},h.send()},M}()},"./src/entries/chunks/localization.ts":function(a,r,t){t.r(r),t("./src/localization/arabic.ts"),t("./src/localization/basque.ts"),t("./src/localization/bulgarian.ts"),t("./src/localization/catalan.ts"),t("./src/localization/croatian.ts"),t("./src/localization/czech.ts"),t("./src/localization/danish.ts"),t("./src/localization/dutch.ts"),t("./src/localization/nl-BE.ts"),t("./src/localization/estonian.ts"),t("./src/localization/finnish.ts"),t("./src/localization/french.ts"),t("./src/localization/georgian.ts"),t("./src/localization/german.ts"),t("./src/localization/greek.ts"),t("./src/localization/hebrew.ts"),t("./src/localization/hindi.ts"),t("./src/localization/hungarian.ts"),t("./src/localization/icelandic.ts"),t("./src/localization/indonesian.ts"),t("./src/localization/italian.ts"),t("./src/localization/japanese.ts"),t("./src/localization/kazakh.ts"),t("./src/localization/korean.ts"),t("./src/localization/latvian.ts"),t("./src/localization/lithuanian.ts"),t("./src/localization/macedonian.ts"),t("./src/localization/malay.ts"),t("./src/localization/norwegian.ts"),t("./src/localization/persian.ts"),t("./src/localization/polish.ts"),t("./src/localization/portuguese.ts"),t("./src/localization/portuguese-br.ts"),t("./src/localization/romanian.ts"),t("./src/localization/russian.ts"),t("./src/localization/serbian.ts"),t("./src/localization/simplified-chinese.ts"),t("./src/localization/slovak.ts"),t("./src/localization/spanish.ts"),t("./src/localization/swahili.ts"),t("./src/localization/swedish.ts"),t("./src/localization/tajik.ts"),t("./src/localization/thai.ts"),t("./src/localization/traditional-chinese.ts"),t("./src/localization/turkish.ts"),t("./src/localization/ukrainian.ts"),t("./src/localization/vietnamese.ts"),t("./src/localization/welsh.ts")},"./src/entries/chunks/model.ts":function(a,r,t){t.r(r),t.d(r,"Version",function(){return Re}),t("./src/main.scss");var d=t("./src/settings.ts");t.d(r,"settings",function(){return d.settings});var C=t("./src/helpers.ts");t.d(r,"Helpers",function(){return C.Helpers});var M=t("./src/validator.ts");t.d(r,"AnswerCountValidator",function(){return M.AnswerCountValidator}),t.d(r,"EmailValidator",function(){return M.EmailValidator}),t.d(r,"NumericValidator",function(){return M.NumericValidator}),t.d(r,"RegexValidator",function(){return M.RegexValidator}),t.d(r,"SurveyValidator",function(){return M.SurveyValidator}),t.d(r,"TextValidator",function(){return M.TextValidator}),t.d(r,"ValidatorResult",function(){return M.ValidatorResult}),t.d(r,"ExpressionValidator",function(){return M.ExpressionValidator}),t.d(r,"ValidatorRunner",function(){return M.ValidatorRunner});var w=t("./src/itemvalue.ts");t.d(r,"ItemValue",function(){return w.ItemValue});var S=t("./src/base.ts");t.d(r,"Base",function(){return S.Base}),t.d(r,"Event",function(){return S.Event}),t.d(r,"ArrayChanges",function(){return S.ArrayChanges}),t.d(r,"ComputedUpdater",function(){return S.ComputedUpdater});var x=t("./src/survey-error.ts");t.d(r,"SurveyError",function(){return x.SurveyError});var h=t("./src/survey-element.ts");t.d(r,"SurveyElementCore",function(){return h.SurveyElementCore}),t.d(r,"SurveyElement",function(){return h.SurveyElement}),t.d(r,"DragTypeOverMeEnum",function(){return h.DragTypeOverMeEnum});var u=t("./src/calculatedValue.ts");t.d(r,"CalculatedValue",function(){return u.CalculatedValue});var g=t("./src/error.ts");t.d(r,"CustomError",function(){return g.CustomError}),t.d(r,"AnswerRequiredError",function(){return g.AnswerRequiredError}),t.d(r,"OneAnswerRequiredError",function(){return g.OneAnswerRequiredError}),t.d(r,"RequreNumericError",function(){return g.RequreNumericError}),t.d(r,"ExceedSizeError",function(){return g.ExceedSizeError});var f=t("./src/localizablestring.ts");t.d(r,"LocalizableString",function(){return f.LocalizableString}),t.d(r,"LocalizableStrings",function(){return f.LocalizableStrings});var i=t("./src/expressionItems.ts");t.d(r,"HtmlConditionItem",function(){return i.HtmlConditionItem}),t.d(r,"UrlConditionItem",function(){return i.UrlConditionItem});var p=t("./src/choicesRestful.ts");t.d(r,"ChoicesRestful",function(){return p.ChoicesRestful}),t.d(r,"ChoicesRestfull",function(){return p.ChoicesRestfull});var P=t("./src/functionsfactory.ts");t.d(r,"FunctionFactory",function(){return P.FunctionFactory}),t.d(r,"registerFunction",function(){return P.registerFunction});var m=t("./src/conditions.ts");t.d(r,"ConditionRunner",function(){return m.ConditionRunner}),t.d(r,"ExpressionRunner",function(){return m.ExpressionRunner}),t.d(r,"ExpressionExecutor",function(){return m.ExpressionExecutor});var y=t("./src/expressions/expressions.ts");t.d(r,"Operand",function(){return y.Operand}),t.d(r,"Const",function(){return y.Const}),t.d(r,"BinaryOperand",function(){return y.BinaryOperand}),t.d(r,"Variable",function(){return y.Variable}),t.d(r,"FunctionOperand",function(){return y.FunctionOperand}),t.d(r,"ArrayOperand",function(){return y.ArrayOperand});var R=t("./src/conditionsParser.ts");t.d(r,"ConditionsParser",function(){return R.ConditionsParser});var b=t("./src/conditionProcessValue.ts");t.d(r,"ProcessValue",function(){return b.ProcessValue});var c=t("./src/jsonobject.ts");t.d(r,"JsonError",function(){return c.JsonError}),t.d(r,"JsonIncorrectTypeError",function(){return c.JsonIncorrectTypeError}),t.d(r,"JsonMetadata",function(){return c.JsonMetadata}),t.d(r,"JsonMetadataClass",function(){return c.JsonMetadataClass}),t.d(r,"JsonMissingTypeError",function(){return c.JsonMissingTypeError}),t.d(r,"JsonMissingTypeErrorBase",function(){return c.JsonMissingTypeErrorBase}),t.d(r,"JsonObject",function(){return c.JsonObject}),t.d(r,"JsonObjectProperty",function(){return c.JsonObjectProperty}),t.d(r,"JsonRequiredPropertyError",function(){return c.JsonRequiredPropertyError}),t.d(r,"JsonUnknownPropertyError",function(){return c.JsonUnknownPropertyError}),t.d(r,"Serializer",function(){return c.Serializer}),t.d(r,"property",function(){return c.property}),t.d(r,"propertyArray",function(){return c.propertyArray});var E=t("./src/question_matrixdropdownbase.ts");t.d(r,"MatrixDropdownCell",function(){return E.MatrixDropdownCell}),t.d(r,"MatrixDropdownRowModelBase",function(){return E.MatrixDropdownRowModelBase}),t.d(r,"QuestionMatrixDropdownModelBase",function(){return E.QuestionMatrixDropdownModelBase});var I=t("./src/question_matrixdropdowncolumn.ts");t.d(r,"MatrixDropdownColumn",function(){return I.MatrixDropdownColumn}),t.d(r,"matrixDropdownColumnTypes",function(){return I.matrixDropdownColumnTypes});var A=t("./src/question_matrixdropdownrendered.ts");t.d(r,"QuestionMatrixDropdownRenderedCell",function(){return A.QuestionMatrixDropdownRenderedCell}),t.d(r,"QuestionMatrixDropdownRenderedRow",function(){return A.QuestionMatrixDropdownRenderedRow}),t.d(r,"QuestionMatrixDropdownRenderedTable",function(){return A.QuestionMatrixDropdownRenderedTable});var D=t("./src/question_matrixdropdown.ts");t.d(r,"MatrixDropdownRowModel",function(){return D.MatrixDropdownRowModel}),t.d(r,"QuestionMatrixDropdownModel",function(){return D.QuestionMatrixDropdownModel});var O=t("./src/question_matrixdynamic.ts");t.d(r,"MatrixDynamicRowModel",function(){return O.MatrixDynamicRowModel}),t.d(r,"QuestionMatrixDynamicModel",function(){return O.QuestionMatrixDynamicModel});var l=t("./src/question_matrix.ts");t.d(r,"MatrixRowModel",function(){return l.MatrixRowModel}),t.d(r,"MatrixCells",function(){return l.MatrixCells}),t.d(r,"QuestionMatrixModel",function(){return l.QuestionMatrixModel});var o=t("./src/question_multipletext.ts");t.d(r,"MultipleTextItemModel",function(){return o.MultipleTextItemModel}),t.d(r,"QuestionMultipleTextModel",function(){return o.QuestionMultipleTextModel});var v=t("./src/panel.ts");t.d(r,"PanelModel",function(){return v.PanelModel}),t.d(r,"PanelModelBase",function(){return v.PanelModelBase}),t.d(r,"QuestionRowModel",function(){return v.QuestionRowModel});var T=t("./src/flowpanel.ts");t.d(r,"FlowPanelModel",function(){return T.FlowPanelModel});var L=t("./src/page.ts");t.d(r,"PageModel",function(){return L.PageModel}),t("./src/template-renderer.ts");var V=t("./src/defaultTitle.ts");t.d(r,"DefaultTitleModel",function(){return V.DefaultTitleModel});var _=t("./src/question.ts");t.d(r,"Question",function(){return _.Question});var B=t("./src/questionnonvalue.ts");t.d(r,"QuestionNonValue",function(){return B.QuestionNonValue});var k=t("./src/question_empty.ts");t.d(r,"QuestionEmptyModel",function(){return k.QuestionEmptyModel});var U=t("./src/question_baseselect.ts");t.d(r,"QuestionCheckboxBase",function(){return U.QuestionCheckboxBase}),t.d(r,"QuestionSelectBase",function(){return U.QuestionSelectBase});var K=t("./src/question_checkbox.ts");t.d(r,"QuestionCheckboxModel",function(){return K.QuestionCheckboxModel});var q=t("./src/question_ranking.ts");t.d(r,"QuestionRankingModel",function(){return q.QuestionRankingModel});var Z=t("./src/question_comment.ts");t.d(r,"QuestionCommentModel",function(){return Z.QuestionCommentModel});var j=t("./src/question_dropdown.ts");t.d(r,"QuestionDropdownModel",function(){return j.QuestionDropdownModel});var G=t("./src/questionfactory.ts");t.d(r,"QuestionFactory",function(){return G.QuestionFactory}),t.d(r,"ElementFactory",function(){return G.ElementFactory});var X=t("./src/question_file.ts");t.d(r,"QuestionFileModel",function(){return X.QuestionFileModel});var ne=t("./src/question_html.ts");t.d(r,"QuestionHtmlModel",function(){return ne.QuestionHtmlModel});var le=t("./src/question_radiogroup.ts");t.d(r,"QuestionRadiogroupModel",function(){return le.QuestionRadiogroupModel});var ie=t("./src/question_rating.ts");t.d(r,"QuestionRatingModel",function(){return ie.QuestionRatingModel}),t.d(r,"RenderedRatingItem",function(){return ie.RenderedRatingItem});var Y=t("./src/question_expression.ts");t.d(r,"QuestionExpressionModel",function(){return Y.QuestionExpressionModel});var Q=t("./src/question_text.ts");t.d(r,"QuestionTextModel",function(){return Q.QuestionTextModel});var J=t("./src/question_boolean.ts");t.d(r,"QuestionBooleanModel",function(){return J.QuestionBooleanModel});var re=t("./src/question_imagepicker.ts");t.d(r,"QuestionImagePickerModel",function(){return re.QuestionImagePickerModel}),t.d(r,"ImageItemValue",function(){return re.ImageItemValue});var ae=t("./src/question_image.ts");t.d(r,"QuestionImageModel",function(){return ae.QuestionImageModel});var ce=t("./src/question_signaturepad.ts");t.d(r,"QuestionSignaturePadModel",function(){return ce.QuestionSignaturePadModel});var ve=t("./src/question_paneldynamic.ts");t.d(r,"QuestionPanelDynamicModel",function(){return ve.QuestionPanelDynamicModel}),t.d(r,"QuestionPanelDynamicItem",function(){return ve.QuestionPanelDynamicItem});var $=t("./src/surveytimer.ts");t.d(r,"SurveyTimer",function(){return $.SurveyTimer});var H=t("./src/surveyTimerModel.ts");t.d(r,"SurveyTimerModel",function(){return H.SurveyTimerModel});var oe=t("./src/surveyProgress.ts");t.d(r,"SurveyProgressModel",function(){return oe.SurveyProgressModel});var ue=t("./src/surveyProgressButtons.ts");t.d(r,"SurveyProgressButtonsModel",function(){return ue.SurveyProgressButtonsModel});var fe=t("./src/survey.ts");t.d(r,"SurveyModel",function(){return fe.SurveyModel}),t.d(r,"Model",function(){return fe.SurveyModel});var de=t("./src/trigger.ts");t.d(r,"SurveyTrigger",function(){return de.SurveyTrigger}),t.d(r,"SurveyTriggerComplete",function(){return de.SurveyTriggerComplete}),t.d(r,"SurveyTriggerSetValue",function(){return de.SurveyTriggerSetValue}),t.d(r,"SurveyTriggerVisible",function(){return de.SurveyTriggerVisible}),t.d(r,"SurveyTriggerCopyValue",function(){return de.SurveyTriggerCopyValue}),t.d(r,"SurveyTriggerRunExpression",function(){return de.SurveyTriggerRunExpression}),t.d(r,"Trigger",function(){return de.Trigger});var Ee=t("./src/surveyWindow.ts");t.d(r,"SurveyWindowModel",function(){return Ee.SurveyWindowModel});var xe=t("./src/textPreProcessor.ts");t.d(r,"TextPreProcessor",function(){return xe.TextPreProcessor});var Te=t("./src/dxSurveyService.ts");t.d(r,"dxSurveyService",function(){return Te.dxSurveyService});var Me=t("./src/localization/english.ts");t.d(r,"englishStrings",function(){return Me.englishStrings});var Ve=t("./src/surveyStrings.ts");t.d(r,"surveyLocalization",function(){return Ve.surveyLocalization}),t.d(r,"surveyStrings",function(){return Ve.surveyStrings});var Pe=t("./src/questionCustomWidgets.ts");t.d(r,"QuestionCustomWidget",function(){return Pe.QuestionCustomWidget}),t.d(r,"CustomWidgetCollection",function(){return Pe.CustomWidgetCollection});var Ke=t("./src/question_custom.ts");t.d(r,"QuestionCustomModel",function(){return Ke.QuestionCustomModel}),t.d(r,"QuestionCompositeModel",function(){return Ke.QuestionCompositeModel}),t.d(r,"ComponentQuestionJSON",function(){return Ke.ComponentQuestionJSON}),t.d(r,"ComponentCollection",function(){return Ke.ComponentCollection});var $e=t("./src/stylesmanager.ts");t.d(r,"StylesManager",function(){return $e.StylesManager});var qe=t("./src/list.ts");t.d(r,"ListModel",function(){return qe.ListModel});var ke=t("./src/popup.ts");t.d(r,"PopupModel",function(){return ke.PopupModel}),t.d(r,"PopupBaseViewModel",function(){return ke.PopupBaseViewModel}),t.d(r,"createPopupModalViewModel",function(){return ke.createPopupModalViewModel});var Le=t("./src/question_buttongroup.ts");t.d(r,"QuestionButtonGroupModel",function(){return Le.QuestionButtonGroupModel}),t.d(r,"ButtonGroupItemModel",function(){return Le.ButtonGroupItemModel}),t.d(r,"ButtonGroupItemValue",function(){return Le.ButtonGroupItemValue});var Ue=t("./src/utils/devices.ts");t.d(r,"IsMobile",function(){return Ue.IsMobile}),t.d(r,"IsTouch",function(){return Ue.IsTouch});var Ge=t("./src/utils/utils.ts");t.d(r,"confirmAction",function(){return Ge.confirmAction}),t.d(r,"detectIEOrEdge",function(){return Ge.detectIEOrEdge}),t.d(r,"doKey2ClickUp",function(){return Ge.doKey2ClickUp}),t.d(r,"doKey2ClickDown",function(){return Ge.doKey2ClickDown}),t.d(r,"loadFileFromBase64",function(){return Ge.loadFileFromBase64}),t.d(r,"increaseHeightByContent",function(){return Ge.increaseHeightByContent}),t.d(r,"createSvg",function(){return Ge.createSvg});var ct=t("./src/utils/cssClassBuilder.ts");t.d(r,"CssClassBuilder",function(){return ct.CssClassBuilder});var rt=t("./src/defaultCss/cssstandard.ts");t.d(r,"surveyCss",function(){return rt.surveyCss});var dt=t("./src/dragdrop/survey-elements.ts");t.d(r,"DragDropSurveyElements",function(){return dt.DragDropSurveyElements});var se=t("./src/dragdrop/choices.ts");t.d(r,"DragDropChoices",function(){return se.DragDropChoices});var Re;Re="".concat("1.9.30")},"./src/entries/core.ts":function(a,r,t){t.r(r);var d=t("./src/entries/chunks/model.ts");t.d(r,"Version",function(){return d.Version}),t.d(r,"settings",function(){return d.settings}),t.d(r,"Helpers",function(){return d.Helpers}),t.d(r,"AnswerCountValidator",function(){return d.AnswerCountValidator}),t.d(r,"EmailValidator",function(){return d.EmailValidator}),t.d(r,"NumericValidator",function(){return d.NumericValidator}),t.d(r,"RegexValidator",function(){return d.RegexValidator}),t.d(r,"SurveyValidator",function(){return d.SurveyValidator}),t.d(r,"TextValidator",function(){return d.TextValidator}),t.d(r,"ValidatorResult",function(){return d.ValidatorResult}),t.d(r,"ExpressionValidator",function(){return d.ExpressionValidator}),t.d(r,"ValidatorRunner",function(){return d.ValidatorRunner}),t.d(r,"ItemValue",function(){return d.ItemValue}),t.d(r,"Base",function(){return d.Base}),t.d(r,"Event",function(){return d.Event}),t.d(r,"ArrayChanges",function(){return d.ArrayChanges}),t.d(r,"ComputedUpdater",function(){return d.ComputedUpdater}),t.d(r,"SurveyError",function(){return d.SurveyError}),t.d(r,"SurveyElementCore",function(){return d.SurveyElementCore}),t.d(r,"SurveyElement",function(){return d.SurveyElement}),t.d(r,"DragTypeOverMeEnum",function(){return d.DragTypeOverMeEnum}),t.d(r,"CalculatedValue",function(){return d.CalculatedValue}),t.d(r,"CustomError",function(){return d.CustomError}),t.d(r,"AnswerRequiredError",function(){return d.AnswerRequiredError}),t.d(r,"OneAnswerRequiredError",function(){return d.OneAnswerRequiredError}),t.d(r,"RequreNumericError",function(){return d.RequreNumericError}),t.d(r,"ExceedSizeError",function(){return d.ExceedSizeError}),t.d(r,"LocalizableString",function(){return d.LocalizableString}),t.d(r,"LocalizableStrings",function(){return d.LocalizableStrings}),t.d(r,"HtmlConditionItem",function(){return d.HtmlConditionItem}),t.d(r,"UrlConditionItem",function(){return d.UrlConditionItem}),t.d(r,"ChoicesRestful",function(){return d.ChoicesRestful}),t.d(r,"ChoicesRestfull",function(){return d.ChoicesRestfull}),t.d(r,"FunctionFactory",function(){return d.FunctionFactory}),t.d(r,"registerFunction",function(){return d.registerFunction}),t.d(r,"ConditionRunner",function(){return d.ConditionRunner}),t.d(r,"ExpressionRunner",function(){return d.ExpressionRunner}),t.d(r,"ExpressionExecutor",function(){return d.ExpressionExecutor}),t.d(r,"Operand",function(){return d.Operand}),t.d(r,"Const",function(){return d.Const}),t.d(r,"BinaryOperand",function(){return d.BinaryOperand}),t.d(r,"Variable",function(){return d.Variable}),t.d(r,"FunctionOperand",function(){return d.FunctionOperand}),t.d(r,"ArrayOperand",function(){return d.ArrayOperand}),t.d(r,"ConditionsParser",function(){return d.ConditionsParser}),t.d(r,"ProcessValue",function(){return d.ProcessValue}),t.d(r,"JsonError",function(){return d.JsonError}),t.d(r,"JsonIncorrectTypeError",function(){return d.JsonIncorrectTypeError}),t.d(r,"JsonMetadata",function(){return d.JsonMetadata}),t.d(r,"JsonMetadataClass",function(){return d.JsonMetadataClass}),t.d(r,"JsonMissingTypeError",function(){return d.JsonMissingTypeError}),t.d(r,"JsonMissingTypeErrorBase",function(){return d.JsonMissingTypeErrorBase}),t.d(r,"JsonObject",function(){return d.JsonObject}),t.d(r,"JsonObjectProperty",function(){return d.JsonObjectProperty}),t.d(r,"JsonRequiredPropertyError",function(){return d.JsonRequiredPropertyError}),t.d(r,"JsonUnknownPropertyError",function(){return d.JsonUnknownPropertyError}),t.d(r,"Serializer",function(){return d.Serializer}),t.d(r,"property",function(){return d.property}),t.d(r,"propertyArray",function(){return d.propertyArray}),t.d(r,"MatrixDropdownCell",function(){return d.MatrixDropdownCell}),t.d(r,"MatrixDropdownRowModelBase",function(){return d.MatrixDropdownRowModelBase}),t.d(r,"QuestionMatrixDropdownModelBase",function(){return d.QuestionMatrixDropdownModelBase}),t.d(r,"MatrixDropdownColumn",function(){return d.MatrixDropdownColumn}),t.d(r,"matrixDropdownColumnTypes",function(){return d.matrixDropdownColumnTypes}),t.d(r,"QuestionMatrixDropdownRenderedCell",function(){return d.QuestionMatrixDropdownRenderedCell}),t.d(r,"QuestionMatrixDropdownRenderedRow",function(){return d.QuestionMatrixDropdownRenderedRow}),t.d(r,"QuestionMatrixDropdownRenderedTable",function(){return d.QuestionMatrixDropdownRenderedTable}),t.d(r,"MatrixDropdownRowModel",function(){return d.MatrixDropdownRowModel}),t.d(r,"QuestionMatrixDropdownModel",function(){return d.QuestionMatrixDropdownModel}),t.d(r,"MatrixDynamicRowModel",function(){return d.MatrixDynamicRowModel}),t.d(r,"QuestionMatrixDynamicModel",function(){return d.QuestionMatrixDynamicModel}),t.d(r,"MatrixRowModel",function(){return d.MatrixRowModel}),t.d(r,"MatrixCells",function(){return d.MatrixCells}),t.d(r,"QuestionMatrixModel",function(){return d.QuestionMatrixModel}),t.d(r,"MultipleTextItemModel",function(){return d.MultipleTextItemModel}),t.d(r,"QuestionMultipleTextModel",function(){return d.QuestionMultipleTextModel}),t.d(r,"PanelModel",function(){return d.PanelModel}),t.d(r,"PanelModelBase",function(){return d.PanelModelBase}),t.d(r,"QuestionRowModel",function(){return d.QuestionRowModel}),t.d(r,"FlowPanelModel",function(){return d.FlowPanelModel}),t.d(r,"PageModel",function(){return d.PageModel}),t.d(r,"DefaultTitleModel",function(){return d.DefaultTitleModel}),t.d(r,"Question",function(){return d.Question}),t.d(r,"QuestionNonValue",function(){return d.QuestionNonValue}),t.d(r,"QuestionEmptyModel",function(){return d.QuestionEmptyModel}),t.d(r,"QuestionCheckboxBase",function(){return d.QuestionCheckboxBase}),t.d(r,"QuestionSelectBase",function(){return d.QuestionSelectBase}),t.d(r,"QuestionCheckboxModel",function(){return d.QuestionCheckboxModel}),t.d(r,"QuestionRankingModel",function(){return d.QuestionRankingModel}),t.d(r,"QuestionCommentModel",function(){return d.QuestionCommentModel}),t.d(r,"QuestionDropdownModel",function(){return d.QuestionDropdownModel}),t.d(r,"QuestionFactory",function(){return d.QuestionFactory}),t.d(r,"ElementFactory",function(){return d.ElementFactory}),t.d(r,"QuestionFileModel",function(){return d.QuestionFileModel}),t.d(r,"QuestionHtmlModel",function(){return d.QuestionHtmlModel}),t.d(r,"QuestionRadiogroupModel",function(){return d.QuestionRadiogroupModel}),t.d(r,"QuestionRatingModel",function(){return d.QuestionRatingModel}),t.d(r,"RenderedRatingItem",function(){return d.RenderedRatingItem}),t.d(r,"QuestionExpressionModel",function(){return d.QuestionExpressionModel}),t.d(r,"QuestionTextModel",function(){return d.QuestionTextModel}),t.d(r,"QuestionBooleanModel",function(){return d.QuestionBooleanModel}),t.d(r,"QuestionImagePickerModel",function(){return d.QuestionImagePickerModel}),t.d(r,"ImageItemValue",function(){return d.ImageItemValue}),t.d(r,"QuestionImageModel",function(){return d.QuestionImageModel}),t.d(r,"QuestionSignaturePadModel",function(){return d.QuestionSignaturePadModel}),t.d(r,"QuestionPanelDynamicModel",function(){return d.QuestionPanelDynamicModel}),t.d(r,"QuestionPanelDynamicItem",function(){return d.QuestionPanelDynamicItem}),t.d(r,"SurveyTimer",function(){return d.SurveyTimer}),t.d(r,"SurveyTimerModel",function(){return d.SurveyTimerModel}),t.d(r,"SurveyProgressModel",function(){return d.SurveyProgressModel}),t.d(r,"SurveyProgressButtonsModel",function(){return d.SurveyProgressButtonsModel}),t.d(r,"SurveyModel",function(){return d.SurveyModel}),t.d(r,"Model",function(){return d.Model}),t.d(r,"SurveyTrigger",function(){return d.SurveyTrigger}),t.d(r,"SurveyTriggerComplete",function(){return d.SurveyTriggerComplete}),t.d(r,"SurveyTriggerSetValue",function(){return d.SurveyTriggerSetValue}),t.d(r,"SurveyTriggerVisible",function(){return d.SurveyTriggerVisible}),t.d(r,"SurveyTriggerCopyValue",function(){return d.SurveyTriggerCopyValue}),t.d(r,"SurveyTriggerRunExpression",function(){return d.SurveyTriggerRunExpression}),t.d(r,"Trigger",function(){return d.Trigger}),t.d(r,"SurveyWindowModel",function(){return d.SurveyWindowModel}),t.d(r,"TextPreProcessor",function(){return d.TextPreProcessor}),t.d(r,"dxSurveyService",function(){return d.dxSurveyService}),t.d(r,"englishStrings",function(){return d.englishStrings}),t.d(r,"surveyLocalization",function(){return d.surveyLocalization}),t.d(r,"surveyStrings",function(){return d.surveyStrings}),t.d(r,"QuestionCustomWidget",function(){return d.QuestionCustomWidget}),t.d(r,"CustomWidgetCollection",function(){return d.CustomWidgetCollection}),t.d(r,"QuestionCustomModel",function(){return d.QuestionCustomModel}),t.d(r,"QuestionCompositeModel",function(){return d.QuestionCompositeModel}),t.d(r,"ComponentQuestionJSON",function(){return d.ComponentQuestionJSON}),t.d(r,"ComponentCollection",function(){return d.ComponentCollection}),t.d(r,"StylesManager",function(){return d.StylesManager}),t.d(r,"ListModel",function(){return d.ListModel}),t.d(r,"PopupModel",function(){return d.PopupModel}),t.d(r,"PopupBaseViewModel",function(){return d.PopupBaseViewModel}),t.d(r,"createPopupModalViewModel",function(){return d.createPopupModalViewModel}),t.d(r,"QuestionButtonGroupModel",function(){return d.QuestionButtonGroupModel}),t.d(r,"ButtonGroupItemModel",function(){return d.ButtonGroupItemModel}),t.d(r,"ButtonGroupItemValue",function(){return d.ButtonGroupItemValue}),t.d(r,"IsMobile",function(){return d.IsMobile}),t.d(r,"IsTouch",function(){return d.IsTouch}),t.d(r,"confirmAction",function(){return d.confirmAction}),t.d(r,"detectIEOrEdge",function(){return d.detectIEOrEdge}),t.d(r,"doKey2ClickUp",function(){return d.doKey2ClickUp}),t.d(r,"doKey2ClickDown",function(){return d.doKey2ClickDown}),t.d(r,"loadFileFromBase64",function(){return d.loadFileFromBase64}),t.d(r,"increaseHeightByContent",function(){return d.increaseHeightByContent}),t.d(r,"createSvg",function(){return d.createSvg}),t.d(r,"CssClassBuilder",function(){return d.CssClassBuilder}),t.d(r,"surveyCss",function(){return d.surveyCss}),t.d(r,"DragDropSurveyElements",function(){return d.DragDropSurveyElements}),t.d(r,"DragDropChoices",function(){return d.DragDropChoices});var C=t("./src/defaultCss/cssstandard.ts");t.d(r,"defaultStandardCss",function(){return C.defaultStandardCss});var M=t("./src/defaultCss/cssbootstrap.ts");t.d(r,"defaultBootstrapCss",function(){return M.defaultBootstrapCss});var w=t("./src/defaultCss/cssbootstrapmaterial.ts");t.d(r,"defaultBootstrapMaterialCss",function(){return w.defaultBootstrapMaterialCss});var S=t("./src/defaultCss/defaultV2Css.ts");t.d(r,"defaultV2Css",function(){return S.defaultV2Css});var x=t("./src/defaultCss/cssmodern.ts");t.d(r,"modernCss",function(){return x.modernCss});var h=t("./src/svgbundle.ts");t.d(r,"SvgIconRegistry",function(){return h.SvgIconRegistry}),t.d(r,"SvgRegistry",function(){return h.SvgRegistry}),t.d(r,"SvgBundleViewModel",function(){return h.SvgBundleViewModel});var u=t("./src/rendererFactory.ts");t.d(r,"RendererFactory",function(){return u.RendererFactory});var g=t("./src/utils/responsivity-manager.ts");t.d(r,"ResponsivityManager",function(){return g.ResponsivityManager}),t.d(r,"VerticalResponsivityManager",function(){return g.VerticalResponsivityManager});var f=t("./src/utils/utils.ts");t.d(r,"unwrap",function(){return f.unwrap});var i=t("./src/actions/action.ts");t.d(r,"Action",function(){return i.Action}),t.d(r,"ActionDropdownViewModel",function(){return i.ActionDropdownViewModel});var p=t("./src/actions/adaptive-container.ts");t.d(r,"AdaptiveActionContainer",function(){return p.AdaptiveActionContainer});var P=t("./src/actions/container.ts");t.d(r,"defaultActionBarCss",function(){return P.defaultActionBarCss}),t.d(r,"ActionContainer",function(){return P.ActionContainer});var m=t("./src/utils/tooltip.ts");t.d(r,"TooltipManager",function(){return m.TooltipManager});var y=t("./src/utils/dragOrClickHelper.ts");t.d(r,"DragOrClickHelper",function(){return y.DragOrClickHelper})},"./src/entries/knockout-ui-model.ts":function(a,r,t){t.r(r);var d=t("./src/knockout/kosurvey.ts");t.d(r,"Survey",function(){return d.Survey});var C=t("./src/knockout/koSurveyWindow.ts");t.d(r,"SurveyWindow",function(){return C.SurveyWindow});var M=t("./src/knockout/kobase.ts");t.d(r,"ImplementorBase",function(){return M.ImplementorBase});var w=t("./src/knockout/kopage.ts");t.d(r,"QuestionRow",function(){return w.QuestionRow}),t.d(r,"Page",function(){return w.Page}),t.d(r,"Panel",function(){return w.Panel});var S=t("./src/knockout/koflowpanel.ts");t.d(r,"FlowPanel",function(){return S.FlowPanel});var x=t("./src/knockout/koquestion.ts");t.d(r,"QuestionImplementor",function(){return x.QuestionImplementor});var h=t("./src/knockout/koquestion_baseselect.ts");t.d(r,"QuestionSelectBaseImplementor",function(){return h.QuestionSelectBaseImplementor}),t.d(r,"QuestionCheckboxBaseImplementor",function(){return h.QuestionCheckboxBaseImplementor});var u=t("./src/knockout/koquestion_checkbox.ts");t.d(r,"QuestionCheckbox",function(){return u.QuestionCheckbox});var g=t("./src/knockout/koquestion_ranking.ts");t.d(r,"QuestionRanking",function(){return g.QuestionRanking});var f=t("./src/knockout/koquestion_comment.ts");t.d(r,"QuestionComment",function(){return f.QuestionComment});var i=t("./src/knockout/koquestion_dropdown.ts");t.d(r,"QuestionDropdown",function(){return i.QuestionDropdown});var p=t("./src/knockout/koquestion_file.ts");t.d(r,"QuestionFile",function(){return p.QuestionFile});var P=t("./src/knockout/koquestion_html.ts");t.d(r,"QuestionHtml",function(){return P.QuestionHtml});var m=t("./src/knockout/koquestion_matrix.ts");t.d(r,"QuestionMatrix",function(){return m.QuestionMatrix});var y=t("./src/knockout/koquestion_matrixdropdown.ts");t.d(r,"QuestionMatrixDropdown",function(){return y.QuestionMatrixDropdown});var R=t("./src/knockout/koquestion_matrixdynamic.ts");t.d(r,"QuestionMatrixDynamicImplementor",function(){return R.QuestionMatrixDynamicImplementor}),t.d(r,"QuestionMatrixDynamic",function(){return R.QuestionMatrixDynamic});var b=t("./src/knockout/koquestion_paneldynamic.ts");t.d(r,"QuestionPanelDynamic",function(){return b.QuestionPanelDynamic});var c=t("./src/knockout/koquestion_multipletext.ts");t.d(r,"MultipleTextItem",function(){return c.MultipleTextItem}),t.d(r,"QuestionMultipleText",function(){return c.QuestionMultipleText});var E=t("./src/knockout/koquestion_radiogroup.ts");t.d(r,"QuestionRadiogroup",function(){return E.QuestionRadiogroup});var I=t("./src/knockout/koquestion_rating.ts");t.d(r,"QuestionRating",function(){return I.QuestionRating}),t.d(r,"QuestionRatingImplementor",function(){return I.QuestionRatingImplementor});var A=t("./src/knockout/koquestion_text.ts");t.d(r,"QuestionText",function(){return A.QuestionText});var D=t("./src/knockout/koquestion_boolean.ts");t.d(r,"QuestionBoolean",function(){return D.QuestionBoolean});var O=t("./src/knockout/koquestion_empty.ts");t.d(r,"QuestionEmpty",function(){return O.QuestionEmpty});var l=t("./src/knockout/koquestion_expression.ts");t.d(r,"QuestionExpression",function(){return l.QuestionExpression});var o=t("./src/knockout/koquestion_imagepicker.ts");t.d(r,"QuestionImagePicker",function(){return o.QuestionImagePicker}),t.d(r,"SurveyWindowImplementor",function(){return C.SurveyWindowImplementor});var v=t("./src/knockout/templateText.ts");t.d(r,"SurveyTemplateText",function(){return v.SurveyTemplateText});var T=t("./src/knockout/koquestion_image.ts");t.d(r,"QuestionImage",function(){return T.QuestionImage});var L=t("./src/knockout/koquestion_signaturepad.ts");t.d(r,"QuestionSignaturePad",function(){return L.QuestionSignaturePad});var V=t("./src/knockout/koquestion_custom.ts");t.d(r,"QuestionCustom",function(){return V.QuestionCustom});var _=t("./src/knockout/koquestion_buttongroup.ts");t.d(r,"QuestionButtonGroup",function(){return _.QuestionButtonGroup});var B=t("./src/knockout/components/action-bar/action-bar.ts");t.d(r,"ActionBarItemViewModel",function(){return B.ActionBarItemViewModel}),t.d(r,"ActionBarItemDropdownViewModel",function(){return B.ActionBarItemDropdownViewModel}),t.d(r,"ActionBarSeparatorViewModel",function(){return B.ActionBarSeparatorViewModel}),t.d(r,"ActionContainerImplementor",function(){return B.ActionContainerImplementor});var k=t("./src/knockout/components/boolean-checkbox/boolean-checkbox.ts");t.d(r,"CheckboxViewModel",function(){return k.CheckboxViewModel});var U=t("./src/knockout/components/boolean-radio/boolean-radio.ts");t.d(r,"BooleanRadioItemViewModel",function(){return U.BooleanRadioItemViewModel}),t.d(r,"BooleanRadioViewModel",function(){return U.BooleanRadioViewModel});var K=t("./src/knockout/components/panel/panel.ts");t.d(r,"PanelViewModel",function(){return K.PanelViewModel});var q=t("./src/knockout/components/popup/popup.ts");t.d(r,"PopupViewModel",function(){return q.PopupViewModel}),t.d(r,"showModal",function(){return q.showModal});var Z=t("./src/knockout/components/progress/buttons.ts");t.d(r,"ProgressButtonsViewModel",function(){return Z.ProgressButtonsViewModel});var j=t("./src/knockout/components/progress/progress.ts");t.d(r,"ProgressViewModel",function(){return j.ProgressViewModel}),t("./src/knockout/components/template-renderer/template-renderer.ts");var G=t("./src/knockout/components/title/title-element.ts");t.d(r,"TitleElementViewModel",function(){return G.TitleElementViewModel});var X=t("./src/knockout/components/title/title-content.ts");t.d(r,"TitleContentViewModel",function(){return X.TitleContentViewModel});var ne=t("./src/knockout/components/title/title-actions.ts");t.d(r,"TitleActionViewModel",function(){return ne.TitleActionViewModel});var le=t("./src/knockout/components/string-editor/string-editor.ts");t.d(r,"StringEditorViewModel",function(){return le.StringEditorViewModel});var ie=t("./src/knockout/components/string-viewer/string-viewer.ts");t.d(r,"StringViewerViewModel",function(){return ie.StringViewerViewModel});var Y=t("./src/knockout/components/logo-image/logo-image.ts");t.d(r,"LogoImageViewModel",function(){return Y.LogoImageViewModel});var Q=t("./src/knockout/components/skeleton/skeleton.ts");t.d(r,"Skeleton",function(){return Q.Skeleton});var J=t("./src/knockout/components/rating-dropdown/rating-dropdown.ts");t.d(r,"RatingDropdownViewModel",function(){return J.RatingDropdownViewModel});var re=t("./src/knockout/components/dropdown/dropdown.ts");t.d(r,"DropdownViewModel",function(){return re.DropdownViewModel});var ae=t("./src/knockout/components/dropdown-select/dropdown-select.ts");t.d(r,"DropdownSelectViewModel",function(){return ae.DropdownSelectViewModel});var ce=t("./src/knockout/components/list/list.ts");t.d(r,"ListItemViewComponent",function(){return ce.ListItemViewComponent}),t.d(r,"ListViewComponent",function(){return ce.ListViewComponent});var ve=t("./src/knockout/components/svg-icon/svg-icon.ts");t.d(r,"SvgIconViewModel",function(){return ve.SvgIconViewModel});var $=t("./src/knockout/components/matrix-actions/remove-button/remove-button.ts");t.d(r,"SurveyQuestionMatrixDynamicRemoveButton",function(){return $.SurveyQuestionMatrixDynamicRemoveButton});var H=t("./src/knockout/components/matrix-actions/detail-button/detail-button.ts");t.d(r,"SurveyQuestionMatrixDetailButton",function(){return H.SurveyQuestionMatrixDetailButton});var oe=t("./src/knockout/components/matrix-actions/drag-drop-icon/drag-drop-icon.ts");t.d(r,"SurveyQuestionMatrixDynamicDragDropIcon",function(){return oe.SurveyQuestionMatrixDynamicDragDropIcon});var ue=t("./src/knockout/components/button-group/button-group-item.ts");t.d(r,"ButtonGroupItemViewModel",function(){return ue.ButtonGroupItemViewModel});var fe=t("./src/knockout/components/tooltip-error/tooltip-error.ts");t.d(r,"TooltipErrorViewModel",function(){return fe.TooltipErrorViewModel});var de=t("./src/knockout/components/survey-actions/survey-nav-button.ts");t.d(r,"SurveyNavigationButton",function(){return de.SurveyNavigationButton});var Ee=t("./src/knockout/components/paneldynamic-actions/paneldynamic-actions.ts");t.d(r,"SurveyQuestionPaneldynamicActioons",function(){return Ee.SurveyQuestionPaneldynamicActioons});var xe=t("knockout"),Te=t("./src/entries/core.ts");Object(d.registerTemplateEngine)(xe,Te.SurveyModel.platform)},"./src/entries/knockout.ts":function(a,r,t){t.r(r);var d=t("./src/entries/core.ts");t.d(r,"Version",function(){return d.Version}),t.d(r,"settings",function(){return d.settings}),t.d(r,"Helpers",function(){return d.Helpers}),t.d(r,"AnswerCountValidator",function(){return d.AnswerCountValidator}),t.d(r,"EmailValidator",function(){return d.EmailValidator}),t.d(r,"NumericValidator",function(){return d.NumericValidator}),t.d(r,"RegexValidator",function(){return d.RegexValidator}),t.d(r,"SurveyValidator",function(){return d.SurveyValidator}),t.d(r,"TextValidator",function(){return d.TextValidator}),t.d(r,"ValidatorResult",function(){return d.ValidatorResult}),t.d(r,"ExpressionValidator",function(){return d.ExpressionValidator}),t.d(r,"ValidatorRunner",function(){return d.ValidatorRunner}),t.d(r,"ItemValue",function(){return d.ItemValue}),t.d(r,"Base",function(){return d.Base}),t.d(r,"Event",function(){return d.Event}),t.d(r,"ArrayChanges",function(){return d.ArrayChanges}),t.d(r,"ComputedUpdater",function(){return d.ComputedUpdater}),t.d(r,"SurveyError",function(){return d.SurveyError}),t.d(r,"SurveyElementCore",function(){return d.SurveyElementCore}),t.d(r,"SurveyElement",function(){return d.SurveyElement}),t.d(r,"DragTypeOverMeEnum",function(){return d.DragTypeOverMeEnum}),t.d(r,"CalculatedValue",function(){return d.CalculatedValue}),t.d(r,"CustomError",function(){return d.CustomError}),t.d(r,"AnswerRequiredError",function(){return d.AnswerRequiredError}),t.d(r,"OneAnswerRequiredError",function(){return d.OneAnswerRequiredError}),t.d(r,"RequreNumericError",function(){return d.RequreNumericError}),t.d(r,"ExceedSizeError",function(){return d.ExceedSizeError}),t.d(r,"LocalizableString",function(){return d.LocalizableString}),t.d(r,"LocalizableStrings",function(){return d.LocalizableStrings}),t.d(r,"HtmlConditionItem",function(){return d.HtmlConditionItem}),t.d(r,"UrlConditionItem",function(){return d.UrlConditionItem}),t.d(r,"ChoicesRestful",function(){return d.ChoicesRestful}),t.d(r,"ChoicesRestfull",function(){return d.ChoicesRestfull}),t.d(r,"FunctionFactory",function(){return d.FunctionFactory}),t.d(r,"registerFunction",function(){return d.registerFunction}),t.d(r,"ConditionRunner",function(){return d.ConditionRunner}),t.d(r,"ExpressionRunner",function(){return d.ExpressionRunner}),t.d(r,"ExpressionExecutor",function(){return d.ExpressionExecutor}),t.d(r,"Operand",function(){return d.Operand}),t.d(r,"Const",function(){return d.Const}),t.d(r,"BinaryOperand",function(){return d.BinaryOperand}),t.d(r,"Variable",function(){return d.Variable}),t.d(r,"FunctionOperand",function(){return d.FunctionOperand}),t.d(r,"ArrayOperand",function(){return d.ArrayOperand}),t.d(r,"ConditionsParser",function(){return d.ConditionsParser}),t.d(r,"ProcessValue",function(){return d.ProcessValue}),t.d(r,"JsonError",function(){return d.JsonError}),t.d(r,"JsonIncorrectTypeError",function(){return d.JsonIncorrectTypeError}),t.d(r,"JsonMetadata",function(){return d.JsonMetadata}),t.d(r,"JsonMetadataClass",function(){return d.JsonMetadataClass}),t.d(r,"JsonMissingTypeError",function(){return d.JsonMissingTypeError}),t.d(r,"JsonMissingTypeErrorBase",function(){return d.JsonMissingTypeErrorBase}),t.d(r,"JsonObject",function(){return d.JsonObject}),t.d(r,"JsonObjectProperty",function(){return d.JsonObjectProperty}),t.d(r,"JsonRequiredPropertyError",function(){return d.JsonRequiredPropertyError}),t.d(r,"JsonUnknownPropertyError",function(){return d.JsonUnknownPropertyError}),t.d(r,"Serializer",function(){return d.Serializer}),t.d(r,"property",function(){return d.property}),t.d(r,"propertyArray",function(){return d.propertyArray}),t.d(r,"MatrixDropdownCell",function(){return d.MatrixDropdownCell}),t.d(r,"MatrixDropdownRowModelBase",function(){return d.MatrixDropdownRowModelBase}),t.d(r,"QuestionMatrixDropdownModelBase",function(){return d.QuestionMatrixDropdownModelBase}),t.d(r,"MatrixDropdownColumn",function(){return d.MatrixDropdownColumn}),t.d(r,"matrixDropdownColumnTypes",function(){return d.matrixDropdownColumnTypes}),t.d(r,"QuestionMatrixDropdownRenderedCell",function(){return d.QuestionMatrixDropdownRenderedCell}),t.d(r,"QuestionMatrixDropdownRenderedRow",function(){return d.QuestionMatrixDropdownRenderedRow}),t.d(r,"QuestionMatrixDropdownRenderedTable",function(){return d.QuestionMatrixDropdownRenderedTable}),t.d(r,"MatrixDropdownRowModel",function(){return d.MatrixDropdownRowModel}),t.d(r,"QuestionMatrixDropdownModel",function(){return d.QuestionMatrixDropdownModel}),t.d(r,"MatrixDynamicRowModel",function(){return d.MatrixDynamicRowModel}),t.d(r,"QuestionMatrixDynamicModel",function(){return d.QuestionMatrixDynamicModel}),t.d(r,"MatrixRowModel",function(){return d.MatrixRowModel}),t.d(r,"MatrixCells",function(){return d.MatrixCells}),t.d(r,"QuestionMatrixModel",function(){return d.QuestionMatrixModel}),t.d(r,"MultipleTextItemModel",function(){return d.MultipleTextItemModel}),t.d(r,"QuestionMultipleTextModel",function(){return d.QuestionMultipleTextModel}),t.d(r,"PanelModel",function(){return d.PanelModel}),t.d(r,"PanelModelBase",function(){return d.PanelModelBase}),t.d(r,"QuestionRowModel",function(){return d.QuestionRowModel}),t.d(r,"FlowPanelModel",function(){return d.FlowPanelModel}),t.d(r,"PageModel",function(){return d.PageModel}),t.d(r,"DefaultTitleModel",function(){return d.DefaultTitleModel}),t.d(r,"Question",function(){return d.Question}),t.d(r,"QuestionNonValue",function(){return d.QuestionNonValue}),t.d(r,"QuestionEmptyModel",function(){return d.QuestionEmptyModel}),t.d(r,"QuestionCheckboxBase",function(){return d.QuestionCheckboxBase}),t.d(r,"QuestionSelectBase",function(){return d.QuestionSelectBase}),t.d(r,"QuestionCheckboxModel",function(){return d.QuestionCheckboxModel}),t.d(r,"QuestionRankingModel",function(){return d.QuestionRankingModel}),t.d(r,"QuestionCommentModel",function(){return d.QuestionCommentModel}),t.d(r,"QuestionDropdownModel",function(){return d.QuestionDropdownModel}),t.d(r,"QuestionFactory",function(){return d.QuestionFactory}),t.d(r,"ElementFactory",function(){return d.ElementFactory}),t.d(r,"QuestionFileModel",function(){return d.QuestionFileModel}),t.d(r,"QuestionHtmlModel",function(){return d.QuestionHtmlModel}),t.d(r,"QuestionRadiogroupModel",function(){return d.QuestionRadiogroupModel}),t.d(r,"QuestionRatingModel",function(){return d.QuestionRatingModel}),t.d(r,"RenderedRatingItem",function(){return d.RenderedRatingItem}),t.d(r,"QuestionExpressionModel",function(){return d.QuestionExpressionModel}),t.d(r,"QuestionTextModel",function(){return d.QuestionTextModel}),t.d(r,"QuestionBooleanModel",function(){return d.QuestionBooleanModel}),t.d(r,"QuestionImagePickerModel",function(){return d.QuestionImagePickerModel}),t.d(r,"ImageItemValue",function(){return d.ImageItemValue}),t.d(r,"QuestionImageModel",function(){return d.QuestionImageModel}),t.d(r,"QuestionSignaturePadModel",function(){return d.QuestionSignaturePadModel}),t.d(r,"QuestionPanelDynamicModel",function(){return d.QuestionPanelDynamicModel}),t.d(r,"QuestionPanelDynamicItem",function(){return d.QuestionPanelDynamicItem}),t.d(r,"SurveyTimer",function(){return d.SurveyTimer}),t.d(r,"SurveyTimerModel",function(){return d.SurveyTimerModel}),t.d(r,"SurveyProgressModel",function(){return d.SurveyProgressModel}),t.d(r,"SurveyProgressButtonsModel",function(){return d.SurveyProgressButtonsModel}),t.d(r,"SurveyModel",function(){return d.SurveyModel}),t.d(r,"Model",function(){return d.Model}),t.d(r,"SurveyTrigger",function(){return d.SurveyTrigger}),t.d(r,"SurveyTriggerComplete",function(){return d.SurveyTriggerComplete}),t.d(r,"SurveyTriggerSetValue",function(){return d.SurveyTriggerSetValue}),t.d(r,"SurveyTriggerVisible",function(){return d.SurveyTriggerVisible}),t.d(r,"SurveyTriggerCopyValue",function(){return d.SurveyTriggerCopyValue}),t.d(r,"SurveyTriggerRunExpression",function(){return d.SurveyTriggerRunExpression}),t.d(r,"Trigger",function(){return d.Trigger}),t.d(r,"SurveyWindowModel",function(){return d.SurveyWindowModel}),t.d(r,"TextPreProcessor",function(){return d.TextPreProcessor}),t.d(r,"dxSurveyService",function(){return d.dxSurveyService}),t.d(r,"englishStrings",function(){return d.englishStrings}),t.d(r,"surveyLocalization",function(){return d.surveyLocalization}),t.d(r,"surveyStrings",function(){return d.surveyStrings}),t.d(r,"QuestionCustomWidget",function(){return d.QuestionCustomWidget}),t.d(r,"CustomWidgetCollection",function(){return d.CustomWidgetCollection}),t.d(r,"QuestionCustomModel",function(){return d.QuestionCustomModel}),t.d(r,"QuestionCompositeModel",function(){return d.QuestionCompositeModel}),t.d(r,"ComponentQuestionJSON",function(){return d.ComponentQuestionJSON}),t.d(r,"ComponentCollection",function(){return d.ComponentCollection}),t.d(r,"StylesManager",function(){return d.StylesManager}),t.d(r,"ListModel",function(){return d.ListModel}),t.d(r,"PopupModel",function(){return d.PopupModel}),t.d(r,"PopupBaseViewModel",function(){return d.PopupBaseViewModel}),t.d(r,"createPopupModalViewModel",function(){return d.createPopupModalViewModel}),t.d(r,"QuestionButtonGroupModel",function(){return d.QuestionButtonGroupModel}),t.d(r,"ButtonGroupItemModel",function(){return d.ButtonGroupItemModel}),t.d(r,"ButtonGroupItemValue",function(){return d.ButtonGroupItemValue}),t.d(r,"IsMobile",function(){return d.IsMobile}),t.d(r,"IsTouch",function(){return d.IsTouch}),t.d(r,"confirmAction",function(){return d.confirmAction}),t.d(r,"detectIEOrEdge",function(){return d.detectIEOrEdge}),t.d(r,"doKey2ClickUp",function(){return d.doKey2ClickUp}),t.d(r,"doKey2ClickDown",function(){return d.doKey2ClickDown}),t.d(r,"loadFileFromBase64",function(){return d.loadFileFromBase64}),t.d(r,"increaseHeightByContent",function(){return d.increaseHeightByContent}),t.d(r,"createSvg",function(){return d.createSvg}),t.d(r,"CssClassBuilder",function(){return d.CssClassBuilder}),t.d(r,"surveyCss",function(){return d.surveyCss}),t.d(r,"DragDropSurveyElements",function(){return d.DragDropSurveyElements}),t.d(r,"DragDropChoices",function(){return d.DragDropChoices}),t.d(r,"defaultStandardCss",function(){return d.defaultStandardCss}),t.d(r,"defaultBootstrapCss",function(){return d.defaultBootstrapCss}),t.d(r,"defaultBootstrapMaterialCss",function(){return d.defaultBootstrapMaterialCss}),t.d(r,"defaultV2Css",function(){return d.defaultV2Css}),t.d(r,"modernCss",function(){return d.modernCss}),t.d(r,"SvgIconRegistry",function(){return d.SvgIconRegistry}),t.d(r,"SvgRegistry",function(){return d.SvgRegistry}),t.d(r,"SvgBundleViewModel",function(){return d.SvgBundleViewModel}),t.d(r,"RendererFactory",function(){return d.RendererFactory}),t.d(r,"ResponsivityManager",function(){return d.ResponsivityManager}),t.d(r,"VerticalResponsivityManager",function(){return d.VerticalResponsivityManager}),t.d(r,"unwrap",function(){return d.unwrap}),t.d(r,"Action",function(){return d.Action}),t.d(r,"ActionDropdownViewModel",function(){return d.ActionDropdownViewModel}),t.d(r,"AdaptiveActionContainer",function(){return d.AdaptiveActionContainer}),t.d(r,"defaultActionBarCss",function(){return d.defaultActionBarCss}),t.d(r,"ActionContainer",function(){return d.ActionContainer}),t.d(r,"TooltipManager",function(){return d.TooltipManager}),t.d(r,"DragOrClickHelper",function(){return d.DragOrClickHelper}),t("./src/entries/chunks/localization.ts");var C=t("./src/entries/knockout-ui-model.ts");t.d(r,"Survey",function(){return C.Survey}),t.d(r,"SurveyWindow",function(){return C.SurveyWindow}),t.d(r,"ImplementorBase",function(){return C.ImplementorBase}),t.d(r,"QuestionRow",function(){return C.QuestionRow}),t.d(r,"Page",function(){return C.Page}),t.d(r,"Panel",function(){return C.Panel}),t.d(r,"FlowPanel",function(){return C.FlowPanel}),t.d(r,"QuestionImplementor",function(){return C.QuestionImplementor}),t.d(r,"QuestionSelectBaseImplementor",function(){return C.QuestionSelectBaseImplementor}),t.d(r,"QuestionCheckboxBaseImplementor",function(){return C.QuestionCheckboxBaseImplementor}),t.d(r,"QuestionCheckbox",function(){return C.QuestionCheckbox}),t.d(r,"QuestionRanking",function(){return C.QuestionRanking}),t.d(r,"QuestionComment",function(){return C.QuestionComment}),t.d(r,"QuestionDropdown",function(){return C.QuestionDropdown}),t.d(r,"QuestionFile",function(){return C.QuestionFile}),t.d(r,"QuestionHtml",function(){return C.QuestionHtml}),t.d(r,"QuestionMatrix",function(){return C.QuestionMatrix}),t.d(r,"QuestionMatrixDropdown",function(){return C.QuestionMatrixDropdown}),t.d(r,"QuestionMatrixDynamicImplementor",function(){return C.QuestionMatrixDynamicImplementor}),t.d(r,"QuestionMatrixDynamic",function(){return C.QuestionMatrixDynamic}),t.d(r,"QuestionPanelDynamic",function(){return C.QuestionPanelDynamic}),t.d(r,"MultipleTextItem",function(){return C.MultipleTextItem}),t.d(r,"QuestionMultipleText",function(){return C.QuestionMultipleText}),t.d(r,"QuestionRadiogroup",function(){return C.QuestionRadiogroup}),t.d(r,"QuestionRating",function(){return C.QuestionRating}),t.d(r,"QuestionRatingImplementor",function(){return C.QuestionRatingImplementor}),t.d(r,"QuestionText",function(){return C.QuestionText}),t.d(r,"QuestionBoolean",function(){return C.QuestionBoolean}),t.d(r,"QuestionEmpty",function(){return C.QuestionEmpty}),t.d(r,"QuestionExpression",function(){return C.QuestionExpression}),t.d(r,"QuestionImagePicker",function(){return C.QuestionImagePicker}),t.d(r,"SurveyWindowImplementor",function(){return C.SurveyWindowImplementor}),t.d(r,"SurveyTemplateText",function(){return C.SurveyTemplateText}),t.d(r,"QuestionImage",function(){return C.QuestionImage}),t.d(r,"QuestionSignaturePad",function(){return C.QuestionSignaturePad}),t.d(r,"QuestionCustom",function(){return C.QuestionCustom}),t.d(r,"QuestionButtonGroup",function(){return C.QuestionButtonGroup}),t.d(r,"ActionBarItemViewModel",function(){return C.ActionBarItemViewModel}),t.d(r,"ActionBarItemDropdownViewModel",function(){return C.ActionBarItemDropdownViewModel}),t.d(r,"ActionBarSeparatorViewModel",function(){return C.ActionBarSeparatorViewModel}),t.d(r,"ActionContainerImplementor",function(){return C.ActionContainerImplementor}),t.d(r,"CheckboxViewModel",function(){return C.CheckboxViewModel}),t.d(r,"BooleanRadioItemViewModel",function(){return C.BooleanRadioItemViewModel}),t.d(r,"BooleanRadioViewModel",function(){return C.BooleanRadioViewModel}),t.d(r,"PanelViewModel",function(){return C.PanelViewModel}),t.d(r,"PopupViewModel",function(){return C.PopupViewModel}),t.d(r,"showModal",function(){return C.showModal}),t.d(r,"ProgressButtonsViewModel",function(){return C.ProgressButtonsViewModel}),t.d(r,"ProgressViewModel",function(){return C.ProgressViewModel}),t.d(r,"TitleElementViewModel",function(){return C.TitleElementViewModel}),t.d(r,"TitleContentViewModel",function(){return C.TitleContentViewModel}),t.d(r,"TitleActionViewModel",function(){return C.TitleActionViewModel}),t.d(r,"StringEditorViewModel",function(){return C.StringEditorViewModel}),t.d(r,"StringViewerViewModel",function(){return C.StringViewerViewModel}),t.d(r,"LogoImageViewModel",function(){return C.LogoImageViewModel}),t.d(r,"Skeleton",function(){return C.Skeleton}),t.d(r,"RatingDropdownViewModel",function(){return C.RatingDropdownViewModel}),t.d(r,"DropdownViewModel",function(){return C.DropdownViewModel}),t.d(r,"DropdownSelectViewModel",function(){return C.DropdownSelectViewModel}),t.d(r,"ListItemViewComponent",function(){return C.ListItemViewComponent}),t.d(r,"ListViewComponent",function(){return C.ListViewComponent}),t.d(r,"SvgIconViewModel",function(){return C.SvgIconViewModel}),t.d(r,"SurveyQuestionMatrixDynamicRemoveButton",function(){return C.SurveyQuestionMatrixDynamicRemoveButton}),t.d(r,"SurveyQuestionMatrixDetailButton",function(){return C.SurveyQuestionMatrixDetailButton}),t.d(r,"SurveyQuestionMatrixDynamicDragDropIcon",function(){return C.SurveyQuestionMatrixDynamicDragDropIcon}),t.d(r,"ButtonGroupItemViewModel",function(){return C.ButtonGroupItemViewModel}),t.d(r,"TooltipErrorViewModel",function(){return C.TooltipErrorViewModel}),t.d(r,"SurveyNavigationButton",function(){return C.SurveyNavigationButton}),t.d(r,"SurveyQuestionPaneldynamicActioons",function(){return C.SurveyQuestionPaneldynamicActioons})},"./src/error.ts":function(a,r,t){t.r(r),t.d(r,"AnswerRequiredError",function(){return w}),t.d(r,"OneAnswerRequiredError",function(){return S}),t.d(r,"RequreNumericError",function(){return x}),t.d(r,"ExceedSizeError",function(){return h}),t.d(r,"WebRequestError",function(){return u}),t.d(r,"WebRequestEmptyError",function(){return g}),t.d(r,"OtherEmptyError",function(){return f}),t.d(r,"UploadingFileError",function(){return i}),t.d(r,"RequiredInAllRowsError",function(){return p}),t.d(r,"MinRowCountError",function(){return P}),t.d(r,"KeyDuplicationError",function(){return m}),t.d(r,"CustomError",function(){return y});var d=t("./src/surveyStrings.ts"),C=t("./src/survey-error.ts"),M=function(){var R=function(b,c){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,I){E.__proto__=I}||function(E,I){for(var A in I)Object.prototype.hasOwnProperty.call(I,A)&&(E[A]=I[A])},R(b,c)};return function(b,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");R(b,c);function E(){this.constructor=b}b.prototype=c===null?Object.create(c):(E.prototype=c.prototype,new E)}}(),w=function(R){M(b,R);function b(c,E){c===void 0&&(c=null),E===void 0&&(E=null);var I=R.call(this,c,E)||this;return I.text=c,I}return b.prototype.getErrorType=function(){return"required"},b.prototype.getDefaultText=function(){return d.surveyLocalization.getString("requiredError")},b}(C.SurveyError),S=function(R){M(b,R);function b(c,E){c===void 0&&(c=null),E===void 0&&(E=null);var I=R.call(this,c,E)||this;return I.text=c,I}return b.prototype.getErrorType=function(){return"requireoneanswer"},b.prototype.getDefaultText=function(){return d.surveyLocalization.getString("requiredErrorInPanel")},b}(C.SurveyError),x=function(R){M(b,R);function b(c,E){c===void 0&&(c=null),E===void 0&&(E=null);var I=R.call(this,c,E)||this;return I.text=c,I}return b.prototype.getErrorType=function(){return"requirenumeric"},b.prototype.getDefaultText=function(){return d.surveyLocalization.getString("numericError")},b}(C.SurveyError),h=function(R){M(b,R);function b(c,E){E===void 0&&(E=null);var I=R.call(this,null,E)||this;return I.maxSize=c,I.locText.text=I.getText(),I}return b.prototype.getErrorType=function(){return"exceedsize"},b.prototype.getDefaultText=function(){return d.surveyLocalization.getString("exceedMaxSize").format(this.getTextSize())},b.prototype.getTextSize=function(){var c=["Bytes","KB","MB","GB","TB"],E=[0,0,2,3,3];if(this.maxSize===0)return"0 Byte";var I=Math.floor(Math.log(this.maxSize)/Math.log(1024)),A=this.maxSize/Math.pow(1024,I);return A.toFixed(E[I])+" "+c[I]},b}(C.SurveyError),u=function(R){M(b,R);function b(c,E,I){I===void 0&&(I=null);var A=R.call(this,null,I)||this;return A.status=c,A.response=E,A}return b.prototype.getErrorType=function(){return"webrequest"},b.prototype.getDefaultText=function(){return d.surveyLocalization.getString("urlRequestError").format(this.status,this.response)},b}(C.SurveyError),g=function(R){M(b,R);function b(c,E){E===void 0&&(E=null);var I=R.call(this,c,E)||this;return I.text=c,I}return b.prototype.getErrorType=function(){return"webrequestempty"},b.prototype.getDefaultText=function(){return d.surveyLocalization.getString("urlGetChoicesError")},b}(C.SurveyError),f=function(R){M(b,R);function b(c,E){E===void 0&&(E=null);var I=R.call(this,c,E)||this;return I.text=c,I}return b.prototype.getErrorType=function(){return"otherempty"},b.prototype.getDefaultText=function(){return d.surveyLocalization.getString("otherRequiredError")},b}(C.SurveyError),i=function(R){M(b,R);function b(c,E){E===void 0&&(E=null);var I=R.call(this,c,E)||this;return I.text=c,I}return b.prototype.getErrorType=function(){return"uploadingfile"},b.prototype.getDefaultText=function(){return d.surveyLocalization.getString("uploadingFile")},b}(C.SurveyError),p=function(R){M(b,R);function b(c,E){E===void 0&&(E=null);var I=R.call(this,c,E)||this;return I.text=c,I}return b.prototype.getErrorType=function(){return"requiredinallrowserror"},b.prototype.getDefaultText=function(){return d.surveyLocalization.getString("requiredInAllRowsError")},b}(C.SurveyError),P=function(R){M(b,R);function b(c,E){E===void 0&&(E=null);var I=R.call(this,null,E)||this;return I.minRowCount=c,I}return b.prototype.getErrorType=function(){return"minrowcounterror"},b.prototype.getDefaultText=function(){return d.surveyLocalization.getString("minRowCountError").format(this.minRowCount)},b}(C.SurveyError),m=function(R){M(b,R);function b(c,E){E===void 0&&(E=null);var I=R.call(this,c,E)||this;return I.text=c,I}return b.prototype.getErrorType=function(){return"keyduplicationerror"},b.prototype.getDefaultText=function(){return d.surveyLocalization.getString("keyDuplicationError")},b}(C.SurveyError),y=function(R){M(b,R);function b(c,E){E===void 0&&(E=null);var I=R.call(this,c,E)||this;return I.text=c,I}return b.prototype.getErrorType=function(){return"custom"},b}(C.SurveyError)},"./src/expressionItems.ts":function(a,r,t){t.r(r),t.d(r,"ExpressionItem",function(){return S}),t.d(r,"HtmlConditionItem",function(){return x}),t.d(r,"UrlConditionItem",function(){return h});var d=t("./src/jsonobject.ts"),C=t("./src/base.ts"),M=t("./src/conditions.ts"),w=function(){var u=function(g,f){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,p){i.__proto__=p}||function(i,p){for(var P in p)Object.prototype.hasOwnProperty.call(p,P)&&(i[P]=p[P])},u(g,f)};return function(g,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");u(g,f);function i(){this.constructor=g}g.prototype=f===null?Object.create(f):(i.prototype=f.prototype,new i)}}(),S=function(u){w(g,u);function g(f){f===void 0&&(f=null);var i=u.call(this)||this;return i.createLocalizableString("html",i),i.expression=f,i}return g.prototype.getType=function(){return"expressionitem"},g.prototype.runCondition=function(f,i){return this.expression?new M.ConditionRunner(this.expression).run(f,i):!1},Object.defineProperty(g.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(f){this.setPropertyValue("expression",f)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),g.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},g.prototype.getMarkdownHtml=function(f,i){return this.locOwner?this.locOwner.getMarkdownHtml(f,i):null},g.prototype.getRenderer=function(f){return this.locOwner?this.locOwner.getRenderer(f):null},g.prototype.getRendererContext=function(f){return this.locOwner?this.locOwner.getRendererContext(f):f},g.prototype.getProcessedText=function(f){return this.locOwner?this.locOwner.getProcessedText(f):f},g.prototype.getSurvey=function(f){return this.locOwner},g}(C.Base),x=function(u){w(g,u);function g(f,i){f===void 0&&(f=null),i===void 0&&(i=null);var p=u.call(this,f)||this;return p.createLocalizableString("html",p),p.html=i,p}return g.prototype.getType=function(){return"htmlconditionitem"},Object.defineProperty(g.prototype,"html",{get:function(){return this.getLocalizableStringText("html")},set:function(f){this.setLocalizableStringText("html",f)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),g}(S),h=function(u){w(g,u);function g(f,i){f===void 0&&(f=null),i===void 0&&(i=null);var p=u.call(this,f)||this;return p.createLocalizableString("url",p),p.url=i,p}return g.prototype.getType=function(){return"urlconditionitem"},Object.defineProperty(g.prototype,"url",{get:function(){return this.getLocalizableStringText("url")},set:function(f){this.setLocalizableStringText("url",f)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"locUrl",{get:function(){return this.getLocalizableString("url")},enumerable:!1,configurable:!0}),g}(S);d.Serializer.addClass("expressionitem",["expression:condition"],function(){return new S},"base"),d.Serializer.addClass("htmlconditionitem",[{name:"html:html",serializationProperty:"locHtml"}],function(){return new x},"expressionitem"),d.Serializer.addClass("urlconditionitem",[{name:"url:string",serializationProperty:"locUrl"}],function(){return new h},"expressionitem")},"./src/expressions/expressionParser.ts":function(a,r,t){t.r(r),t.d(r,"SyntaxError",function(){return M}),t.d(r,"parse",function(){return S});var d=t("./src/expressions/expressions.ts"),C=function(){var x=function(h,u){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,f){g.__proto__=f}||function(g,f){for(var i in f)Object.prototype.hasOwnProperty.call(f,i)&&(g[i]=f[i])},x(h,u)};return function(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");x(h,u);function g(){this.constructor=h}h.prototype=u===null?Object.create(u):(g.prototype=u.prototype,new g)}}(),M=function(x){C(h,x);function h(u,g,f,i){var p=x.call(this)||this;return p.message=u,p.expected=g,p.found=f,p.location=i,p.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(p,h),p}return h.buildMessage=function(u,g){function f(R){return R.charCodeAt(0).toString(16).toUpperCase()}function i(R){return R.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(b){return"\\x0"+f(b)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(b){return"\\x"+f(b)})}function p(R){return R.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(b){return"\\x0"+f(b)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(b){return"\\x"+f(b)})}function P(R){switch(R.type){case"literal":return'"'+i(R.text)+'"';case"class":var b=R.parts.map(function(c){return Array.isArray(c)?p(c[0])+"-"+p(c[1]):p(c)});return"["+(R.inverted?"^":"")+b+"]";case"any":return"any character";case"end":return"end of input";case"other":return R.description}}function m(R){var b=R.map(P),c,E;if(b.sort(),b.length>0){for(c=1,E=1;c<b.length;c++)b[c-1]!==b[c]&&(b[E]=b[c],E++);b.length=E}switch(b.length){case 1:return b[0];case 2:return b[0]+" or "+b[1];default:return b.slice(0,-1).join(", ")+", or "+b[b.length-1]}}function y(R){return R?'"'+i(R)+'"':"end of input"}return"Expected "+m(u)+" but "+y(g)+" found."},h}(Error);function w(x,h){h=h!==void 0?h:{};var u={},g={Expression:Or},f=Or,i=function(F,W){return zu(F,W,!0)},p="||",P=He("||",!1),m="or",y=He("or",!0),R=function(){return"or"},b="&&",c=He("&&",!1),E="and",I=He("and",!0),A=function(){return"and"},D=function(F,W){return zu(F,W)},O="<=",l=He("<=",!1),o="lessorequal",v=He("lessorequal",!0),T=function(){return"lessorequal"},L=">=",V=He(">=",!1),_="greaterorequal",B=He("greaterorequal",!0),k=function(){return"greaterorequal"},U="=",K=He("=",!1),q="equal",Z=He("equal",!0),j=function(){return"equal"},G="!=",X=He("!=",!1),ne="notequal",le=He("notequal",!0),ie=function(){return"notequal"},Y="<",Q=He("<",!1),J="less",re=He("less",!0),ae=function(){return"less"},ce=">",ve=He(">",!1),$="greater",H=He("greater",!0),oe=function(){return"greater"},ue="+",fe=He("+",!1),de=function(){return"plus"},Ee="-",xe=He("-",!1),Te=function(){return"minus"},Me="*",Ve=He("*",!1),Pe=function(){return"mul"},Ke="/",$e=He("/",!1),qe=function(){return"div"},ke="%",Le=He("%",!1),Ue=function(){return"mod"},Ge="^",ct=He("^",!1),rt="power",dt=He("power",!0),se=function(){return"power"},Re="*=",we=He("*=",!1),Fe="contains",We=He("contains",!0),ft="contain",vt=He("contain",!0),Dt=function(){return"contains"},Zt="notcontains",yt=He("notcontains",!0),Nt="notcontain",cn=He("notcontain",!0),To=function(){return"notcontains"},Ys="anyof",Yr=He("anyof",!0),So=function(){return"anyof"},Zr="allof",Mo=He("allof",!0),Ro=function(){return"allof"},wo="(",Oo=He("(",!1),Io=")",ee=He(")",!1),he=function(F){return F},be=function(F,W){return new d.FunctionOperand(F,W)},Ce="!",ye=He("!",!1),_e="negate",je=He("negate",!0),Qe=function(F){return new d.UnaryOperand(F,"negate")},Xe=function(F,W){return new d.UnaryOperand(F,W)},Ze="empty",Je=He("empty",!0),Ye=function(){return"empty"},St="notempty",qt=He("notempty",!0),It=function(){return"notempty"},dn="undefined",Ct=He("undefined",!1),et="null",zi=He("null",!1),Et=function(){return null},Bn=function(F){return new d.Const(F)},Ao="{",Mr=He("{",!1),ji="}",_t=He("}",!1),Nn=function(F){return new d.Variable(F)},Rr=function(F){return F},Gt="''",Hi=He("''",!1),Do=function(){return""},Wi='""',Ch=He('""',!1),au="'",lu=He("'",!1),uu=function(F){return"'"+F+"'"},cu='"',du=He('"',!1),xh="[",Eh=He("[",!1),Ph="]",Th=He("]",!1),Sh=function(F){return F},fu=",",pu=He(",",!1),Mh=function(F,W){if(F==null)return new d.ArrayOperand([]);var pe=[F];if(Array.isArray(W))for(var te=pm(W),ge=3;ge<te.length;ge+=4)pe.push(te[ge]);return new d.ArrayOperand(pe)},Rh="true",wh=He("true",!0),Oh=function(){return!0},Ih="false",Ah=He("false",!0),Dh=function(){return!1},hu="0x",Lh=He("0x",!1),Vh=function(){return parseInt(_o(),16)},_h=/^[\-]/,Bh=wr(["-"],!1,!1),Nh=function(F,W){return F==null?W:-W},kh=".",Fh=He(".",!1),Uh=function(){return parseFloat(_o())},zh=function(){return parseInt(_o(),10)},jh="0",Hh=He("0",!1),Wh=function(){return 0},mu=function(F){return F.join("")},gu="\\'",qh=He("\\'",!1),Gh=function(){return"'"},vu='\\"',Qh=He('\\"',!1),$h=function(){return'"'},Kh=/^[^"']/,Xh=wr(['"',"'"],!0,!1),Zs=function(){return _o()},Jh=/^[^{}]/,Yh=wr(["{","}"],!0,!1),yu=/^[0-9]/,bu=wr([["0","9"]],!1,!1),Cu=/^[1-9]/,xu=wr([["1","9"]],!1,!1),Eu=/^[a-zA-Z]/,Pu=wr([["a","z"],["A","Z"]],!1,!1),Zh=tm("whitespace"),Tu=/^[ \t\n\r]/,Su=wr([" ","	",`
`,"\r"],!1,!1),z=0,ze=0,Lo=[{line:1,column:1}],wn=0,ea=[],Ae=0,Be={},Vo;if(h.startRule!==void 0){if(!(h.startRule in g))throw new Error(`Can't start parsing from rule "`+h.startRule+'".');f=g[h.startRule]}function _o(){return x.substring(ze,z)}function He(F,W){return{type:"literal",text:F,ignoreCase:W}}function wr(F,W,pe){return{type:"class",parts:F,inverted:W,ignoreCase:pe}}function em(){return{type:"end"}}function tm(F){return{type:"other",description:F}}function Mu(F){var W=Lo[F],pe;if(W)return W;for(pe=F-1;!Lo[pe];)pe--;for(W=Lo[pe],W={line:W.line,column:W.column};pe<F;)x.charCodeAt(pe)===10?(W.line++,W.column=1):W.column++,pe++;return Lo[F]=W,W}function Ru(F,W){var pe=Mu(F),te=Mu(W);return{start:{offset:F,line:pe.line,column:pe.column},end:{offset:W,line:te.line,column:te.column}}}function De(F){z<wn||(z>wn&&(wn=z,ea=[]),ea.push(F))}function nm(F,W,pe){return new M(M.buildMessage(F,W),F,W,pe)}function Or(){var F,W,pe,te,ge,Se,Ie,Ne,pt,mt=z*34+0,la=Be[mt];if(la)return z=la.nextPos,la.result;if(F=z,W=tt(),W!==u)if(pe=ta(),pe!==u){for(te=[],ge=z,Se=tt(),Se!==u?(Ie=wu(),Ie!==u?(Ne=tt(),Ne!==u?(pt=ta(),pt!==u?(Se=[Se,Ie,Ne,pt],ge=Se):(z=ge,ge=u)):(z=ge,ge=u)):(z=ge,ge=u)):(z=ge,ge=u);ge!==u;)te.push(ge),ge=z,Se=tt(),Se!==u?(Ie=wu(),Ie!==u?(Ne=tt(),Ne!==u?(pt=ta(),pt!==u?(Se=[Se,Ie,Ne,pt],ge=Se):(z=ge,ge=u)):(z=ge,ge=u)):(z=ge,ge=u)):(z=ge,ge=u);te!==u?(ge=tt(),ge!==u?(ze=F,W=i(pe,te),F=W):(z=F,F=u)):(z=F,F=u)}else z=F,F=u;else z=F,F=u;return Be[mt]={nextPos:z,result:F},F}function wu(){var F,W,pe=z*34+1,te=Be[pe];return te?(z=te.nextPos,te.result):(F=z,x.substr(z,2)===p?(W=p,z+=2):(W=u,Ae===0&&De(P)),W===u&&(x.substr(z,2).toLowerCase()===m?(W=x.substr(z,2),z+=2):(W=u,Ae===0&&De(y))),W!==u&&(ze=F,W=R()),F=W,Be[pe]={nextPos:z,result:F},F)}function ta(){var F,W,pe,te,ge,Se,Ie,Ne,pt=z*34+2,mt=Be[pt];if(mt)return z=mt.nextPos,mt.result;if(F=z,W=na(),W!==u){for(pe=[],te=z,ge=tt(),ge!==u?(Se=Ou(),Se!==u?(Ie=tt(),Ie!==u?(Ne=na(),Ne!==u?(ge=[ge,Se,Ie,Ne],te=ge):(z=te,te=u)):(z=te,te=u)):(z=te,te=u)):(z=te,te=u);te!==u;)pe.push(te),te=z,ge=tt(),ge!==u?(Se=Ou(),Se!==u?(Ie=tt(),Ie!==u?(Ne=na(),Ne!==u?(ge=[ge,Se,Ie,Ne],te=ge):(z=te,te=u)):(z=te,te=u)):(z=te,te=u)):(z=te,te=u);pe!==u?(ze=F,W=i(W,pe),F=W):(z=F,F=u)}else z=F,F=u;return Be[pt]={nextPos:z,result:F},F}function Ou(){var F,W,pe=z*34+3,te=Be[pe];return te?(z=te.nextPos,te.result):(F=z,x.substr(z,2)===b?(W=b,z+=2):(W=u,Ae===0&&De(c)),W===u&&(x.substr(z,3).toLowerCase()===E?(W=x.substr(z,3),z+=3):(W=u,Ae===0&&De(I))),W!==u&&(ze=F,W=A()),F=W,Be[pe]={nextPos:z,result:F},F)}function na(){var F,W,pe,te,ge,Se,Ie,Ne,pt=z*34+4,mt=Be[pt];if(mt)return z=mt.nextPos,mt.result;if(F=z,W=ra(),W!==u){for(pe=[],te=z,ge=tt(),ge!==u?(Se=Iu(),Se!==u?(Ie=tt(),Ie!==u?(Ne=ra(),Ne!==u?(ge=[ge,Se,Ie,Ne],te=ge):(z=te,te=u)):(z=te,te=u)):(z=te,te=u)):(z=te,te=u);te!==u;)pe.push(te),te=z,ge=tt(),ge!==u?(Se=Iu(),Se!==u?(Ie=tt(),Ie!==u?(Ne=ra(),Ne!==u?(ge=[ge,Se,Ie,Ne],te=ge):(z=te,te=u)):(z=te,te=u)):(z=te,te=u)):(z=te,te=u);pe!==u?(ze=F,W=D(W,pe),F=W):(z=F,F=u)}else z=F,F=u;return Be[pt]={nextPos:z,result:F},F}function Iu(){var F,W,pe=z*34+5,te=Be[pe];return te?(z=te.nextPos,te.result):(F=z,x.substr(z,2)===O?(W=O,z+=2):(W=u,Ae===0&&De(l)),W===u&&(x.substr(z,11).toLowerCase()===o?(W=x.substr(z,11),z+=11):(W=u,Ae===0&&De(v))),W!==u&&(ze=F,W=T()),F=W,F===u&&(F=z,x.substr(z,2)===L?(W=L,z+=2):(W=u,Ae===0&&De(V)),W===u&&(x.substr(z,14).toLowerCase()===_?(W=x.substr(z,14),z+=14):(W=u,Ae===0&&De(B))),W!==u&&(ze=F,W=k()),F=W,F===u&&(F=z,x.charCodeAt(z)===61?(W=U,z++):(W=u,Ae===0&&De(K)),W===u&&(x.substr(z,5).toLowerCase()===q?(W=x.substr(z,5),z+=5):(W=u,Ae===0&&De(Z))),W!==u&&(ze=F,W=j()),F=W,F===u&&(F=z,x.substr(z,2)===G?(W=G,z+=2):(W=u,Ae===0&&De(X)),W===u&&(x.substr(z,8).toLowerCase()===ne?(W=x.substr(z,8),z+=8):(W=u,Ae===0&&De(le))),W!==u&&(ze=F,W=ie()),F=W,F===u&&(F=z,x.charCodeAt(z)===60?(W=Y,z++):(W=u,Ae===0&&De(Q)),W===u&&(x.substr(z,4).toLowerCase()===J?(W=x.substr(z,4),z+=4):(W=u,Ae===0&&De(re))),W!==u&&(ze=F,W=ae()),F=W,F===u&&(F=z,x.charCodeAt(z)===62?(W=ce,z++):(W=u,Ae===0&&De(ve)),W===u&&(x.substr(z,7).toLowerCase()===$?(W=x.substr(z,7),z+=7):(W=u,Ae===0&&De(H))),W!==u&&(ze=F,W=oe()),F=W))))),Be[pe]={nextPos:z,result:F},F)}function ra(){var F,W,pe,te,ge,Se,Ie,Ne,pt=z*34+6,mt=Be[pt];if(mt)return z=mt.nextPos,mt.result;if(F=z,W=ia(),W!==u){for(pe=[],te=z,ge=tt(),ge!==u?(Se=Au(),Se!==u?(Ie=tt(),Ie!==u?(Ne=ia(),Ne!==u?(ge=[ge,Se,Ie,Ne],te=ge):(z=te,te=u)):(z=te,te=u)):(z=te,te=u)):(z=te,te=u);te!==u;)pe.push(te),te=z,ge=tt(),ge!==u?(Se=Au(),Se!==u?(Ie=tt(),Ie!==u?(Ne=ia(),Ne!==u?(ge=[ge,Se,Ie,Ne],te=ge):(z=te,te=u)):(z=te,te=u)):(z=te,te=u)):(z=te,te=u);pe!==u?(ze=F,W=i(W,pe),F=W):(z=F,F=u)}else z=F,F=u;return Be[pt]={nextPos:z,result:F},F}function Au(){var F,W,pe=z*34+7,te=Be[pe];return te?(z=te.nextPos,te.result):(F=z,x.charCodeAt(z)===43?(W=ue,z++):(W=u,Ae===0&&De(fe)),W!==u&&(ze=F,W=de()),F=W,F===u&&(F=z,x.charCodeAt(z)===45?(W=Ee,z++):(W=u,Ae===0&&De(xe)),W!==u&&(ze=F,W=Te()),F=W),Be[pe]={nextPos:z,result:F},F)}function ia(){var F,W,pe,te,ge,Se,Ie,Ne,pt=z*34+8,mt=Be[pt];if(mt)return z=mt.nextPos,mt.result;if(F=z,W=oa(),W!==u){for(pe=[],te=z,ge=tt(),ge!==u?(Se=Du(),Se!==u?(Ie=tt(),Ie!==u?(Ne=oa(),Ne!==u?(ge=[ge,Se,Ie,Ne],te=ge):(z=te,te=u)):(z=te,te=u)):(z=te,te=u)):(z=te,te=u);te!==u;)pe.push(te),te=z,ge=tt(),ge!==u?(Se=Du(),Se!==u?(Ie=tt(),Ie!==u?(Ne=oa(),Ne!==u?(ge=[ge,Se,Ie,Ne],te=ge):(z=te,te=u)):(z=te,te=u)):(z=te,te=u)):(z=te,te=u);pe!==u?(ze=F,W=i(W,pe),F=W):(z=F,F=u)}else z=F,F=u;return Be[pt]={nextPos:z,result:F},F}function Du(){var F,W,pe=z*34+9,te=Be[pe];return te?(z=te.nextPos,te.result):(F=z,x.charCodeAt(z)===42?(W=Me,z++):(W=u,Ae===0&&De(Ve)),W!==u&&(ze=F,W=Pe()),F=W,F===u&&(F=z,x.charCodeAt(z)===47?(W=Ke,z++):(W=u,Ae===0&&De($e)),W!==u&&(ze=F,W=qe()),F=W,F===u&&(F=z,x.charCodeAt(z)===37?(W=ke,z++):(W=u,Ae===0&&De(Le)),W!==u&&(ze=F,W=Ue()),F=W)),Be[pe]={nextPos:z,result:F},F)}function oa(){var F,W,pe,te,ge,Se,Ie,Ne,pt=z*34+10,mt=Be[pt];if(mt)return z=mt.nextPos,mt.result;if(F=z,W=sa(),W!==u){for(pe=[],te=z,ge=tt(),ge!==u?(Se=Lu(),Se!==u?(Ie=tt(),Ie!==u?(Ne=sa(),Ne!==u?(ge=[ge,Se,Ie,Ne],te=ge):(z=te,te=u)):(z=te,te=u)):(z=te,te=u)):(z=te,te=u);te!==u;)pe.push(te),te=z,ge=tt(),ge!==u?(Se=Lu(),Se!==u?(Ie=tt(),Ie!==u?(Ne=sa(),Ne!==u?(ge=[ge,Se,Ie,Ne],te=ge):(z=te,te=u)):(z=te,te=u)):(z=te,te=u)):(z=te,te=u);pe!==u?(ze=F,W=i(W,pe),F=W):(z=F,F=u)}else z=F,F=u;return Be[pt]={nextPos:z,result:F},F}function Lu(){var F,W,pe=z*34+11,te=Be[pe];return te?(z=te.nextPos,te.result):(F=z,x.charCodeAt(z)===94?(W=Ge,z++):(W=u,Ae===0&&De(ct)),W===u&&(x.substr(z,5).toLowerCase()===rt?(W=x.substr(z,5),z+=5):(W=u,Ae===0&&De(dt))),W!==u&&(ze=F,W=se()),F=W,Be[pe]={nextPos:z,result:F},F)}function sa(){var F,W,pe,te,ge,Se,Ie,Ne,pt=z*34+12,mt=Be[pt];if(mt)return z=mt.nextPos,mt.result;if(F=z,W=aa(),W!==u){for(pe=[],te=z,ge=tt(),ge!==u?(Se=Vu(),Se!==u?(Ie=tt(),Ie!==u?(Ne=aa(),Ne===u&&(Ne=null),Ne!==u?(ge=[ge,Se,Ie,Ne],te=ge):(z=te,te=u)):(z=te,te=u)):(z=te,te=u)):(z=te,te=u);te!==u;)pe.push(te),te=z,ge=tt(),ge!==u?(Se=Vu(),Se!==u?(Ie=tt(),Ie!==u?(Ne=aa(),Ne===u&&(Ne=null),Ne!==u?(ge=[ge,Se,Ie,Ne],te=ge):(z=te,te=u)):(z=te,te=u)):(z=te,te=u)):(z=te,te=u);pe!==u?(ze=F,W=D(W,pe),F=W):(z=F,F=u)}else z=F,F=u;return Be[pt]={nextPos:z,result:F},F}function Vu(){var F,W,pe=z*34+13,te=Be[pe];return te?(z=te.nextPos,te.result):(F=z,x.substr(z,2)===Re?(W=Re,z+=2):(W=u,Ae===0&&De(we)),W===u&&(x.substr(z,8).toLowerCase()===Fe?(W=x.substr(z,8),z+=8):(W=u,Ae===0&&De(We)),W===u&&(x.substr(z,7).toLowerCase()===ft?(W=x.substr(z,7),z+=7):(W=u,Ae===0&&De(vt)))),W!==u&&(ze=F,W=Dt()),F=W,F===u&&(F=z,x.substr(z,11).toLowerCase()===Zt?(W=x.substr(z,11),z+=11):(W=u,Ae===0&&De(yt)),W===u&&(x.substr(z,10).toLowerCase()===Nt?(W=x.substr(z,10),z+=10):(W=u,Ae===0&&De(cn))),W!==u&&(ze=F,W=To()),F=W,F===u&&(F=z,x.substr(z,5).toLowerCase()===Ys?(W=x.substr(z,5),z+=5):(W=u,Ae===0&&De(Yr)),W!==u&&(ze=F,W=So()),F=W,F===u&&(F=z,x.substr(z,5).toLowerCase()===Zr?(W=x.substr(z,5),z+=5):(W=u,Ae===0&&De(Mo)),W!==u&&(ze=F,W=Ro()),F=W))),Be[pe]={nextPos:z,result:F},F)}function aa(){var F,W,pe,te,ge,Se,Ie=z*34+14,Ne=Be[Ie];return Ne?(z=Ne.nextPos,Ne.result):(F=z,x.charCodeAt(z)===40?(W=wo,z++):(W=u,Ae===0&&De(Oo)),W!==u?(pe=tt(),pe!==u?(te=Or(),te!==u?(ge=tt(),ge!==u?(x.charCodeAt(z)===41?(Se=Io,z++):(Se=u,Ae===0&&De(ee)),Se===u&&(Se=null),Se!==u?(ze=F,W=he(te),F=W):(z=F,F=u)):(z=F,F=u)):(z=F,F=u)):(z=F,F=u)):(z=F,F=u),F===u&&(F=rm(),F===u&&(F=im(),F===u&&(F=_u(),F===u&&(F=am())))),Be[Ie]={nextPos:z,result:F},F)}function rm(){var F,W,pe,te,ge,Se=z*34+15,Ie=Be[Se];return Ie?(z=Ie.nextPos,Ie.result):(F=z,W=Uu(),W!==u?(x.charCodeAt(z)===40?(pe=wo,z++):(pe=u,Ae===0&&De(Oo)),pe!==u?(te=Bu(),te!==u?(x.charCodeAt(z)===41?(ge=Io,z++):(ge=u,Ae===0&&De(ee)),ge===u&&(ge=null),ge!==u?(ze=F,W=be(W,te),F=W):(z=F,F=u)):(z=F,F=u)):(z=F,F=u)):(z=F,F=u),Be[Se]={nextPos:z,result:F},F)}function im(){var F,W,pe,te,ge=z*34+16,Se=Be[ge];return Se?(z=Se.nextPos,Se.result):(F=z,x.charCodeAt(z)===33?(W=Ce,z++):(W=u,Ae===0&&De(ye)),W===u&&(x.substr(z,6).toLowerCase()===_e?(W=x.substr(z,6),z+=6):(W=u,Ae===0&&De(je))),W!==u?(pe=tt(),pe!==u?(te=Or(),te!==u?(ze=F,W=Qe(te),F=W):(z=F,F=u)):(z=F,F=u)):(z=F,F=u),F===u&&(F=z,W=_u(),W!==u?(pe=tt(),pe!==u?(te=om(),te!==u?(ze=F,W=Xe(W,te),F=W):(z=F,F=u)):(z=F,F=u)):(z=F,F=u)),Be[ge]={nextPos:z,result:F},F)}function om(){var F,W,pe=z*34+17,te=Be[pe];return te?(z=te.nextPos,te.result):(F=z,x.substr(z,5).toLowerCase()===Ze?(W=x.substr(z,5),z+=5):(W=u,Ae===0&&De(Je)),W!==u&&(ze=F,W=Ye()),F=W,F===u&&(F=z,x.substr(z,8).toLowerCase()===St?(W=x.substr(z,8),z+=8):(W=u,Ae===0&&De(qt)),W!==u&&(ze=F,W=It()),F=W),Be[pe]={nextPos:z,result:F},F)}function _u(){var F,W,pe,te,ge,Se=z*34+18,Ie=Be[Se];return Ie?(z=Ie.nextPos,Ie.result):(F=z,W=tt(),W!==u?(x.substr(z,9)===dn?(pe=dn,z+=9):(pe=u,Ae===0&&De(Ct)),pe===u&&(x.substr(z,4)===et?(pe=et,z+=4):(pe=u,Ae===0&&De(zi))),pe!==u?(ze=F,W=Et(),F=W):(z=F,F=u)):(z=F,F=u),F===u&&(F=z,W=tt(),W!==u?(pe=sm(),pe!==u?(ze=F,W=Bn(pe),F=W):(z=F,F=u)):(z=F,F=u),F===u&&(F=z,W=tt(),W!==u?(x.charCodeAt(z)===123?(pe=Ao,z++):(pe=u,Ae===0&&De(Mr)),pe!==u?(te=dm(),te!==u?(x.charCodeAt(z)===125?(ge=ji,z++):(ge=u,Ae===0&&De(_t)),ge!==u?(ze=F,W=Nn(te),F=W):(z=F,F=u)):(z=F,F=u)):(z=F,F=u)):(z=F,F=u))),Be[Se]={nextPos:z,result:F},F)}function sm(){var F,W,pe,te,ge=z*34+19,Se=Be[ge];return Se?(z=Se.nextPos,Se.result):(F=z,W=lm(),W!==u&&(ze=F,W=Rr(W)),F=W,F===u&&(F=z,W=um(),W!==u&&(ze=F,W=Rr(W)),F=W,F===u&&(F=z,W=Uu(),W!==u&&(ze=F,W=Rr(W)),F=W,F===u&&(F=z,x.substr(z,2)===Gt?(W=Gt,z+=2):(W=u,Ae===0&&De(Hi)),W!==u&&(ze=F,W=Do()),F=W,F===u&&(F=z,x.substr(z,2)===Wi?(W=Wi,z+=2):(W=u,Ae===0&&De(Ch)),W!==u&&(ze=F,W=Do()),F=W,F===u&&(F=z,x.charCodeAt(z)===39?(W=au,z++):(W=u,Ae===0&&De(lu)),W!==u?(pe=Nu(),pe!==u?(x.charCodeAt(z)===39?(te=au,z++):(te=u,Ae===0&&De(lu)),te!==u?(ze=F,W=uu(pe),F=W):(z=F,F=u)):(z=F,F=u)):(z=F,F=u),F===u&&(F=z,x.charCodeAt(z)===34?(W=cu,z++):(W=u,Ae===0&&De(du)),W!==u?(pe=Nu(),pe!==u?(x.charCodeAt(z)===34?(te=cu,z++):(te=u,Ae===0&&De(du)),te!==u?(ze=F,W=uu(pe),F=W):(z=F,F=u)):(z=F,F=u)):(z=F,F=u))))))),Be[ge]={nextPos:z,result:F},F)}function am(){var F,W,pe,te,ge=z*34+20,Se=Be[ge];return Se?(z=Se.nextPos,Se.result):(F=z,x.charCodeAt(z)===91?(W=xh,z++):(W=u,Ae===0&&De(Eh)),W!==u?(pe=Bu(),pe!==u?(x.charCodeAt(z)===93?(te=Ph,z++):(te=u,Ae===0&&De(Th)),te!==u?(ze=F,W=Sh(pe),F=W):(z=F,F=u)):(z=F,F=u)):(z=F,F=u),Be[ge]={nextPos:z,result:F},F)}function Bu(){var F,W,pe,te,ge,Se,Ie,Ne,pt=z*34+21,mt=Be[pt];if(mt)return z=mt.nextPos,mt.result;if(F=z,W=Or(),W===u&&(W=null),W!==u){for(pe=[],te=z,ge=tt(),ge!==u?(x.charCodeAt(z)===44?(Se=fu,z++):(Se=u,Ae===0&&De(pu)),Se!==u?(Ie=tt(),Ie!==u?(Ne=Or(),Ne!==u?(ge=[ge,Se,Ie,Ne],te=ge):(z=te,te=u)):(z=te,te=u)):(z=te,te=u)):(z=te,te=u);te!==u;)pe.push(te),te=z,ge=tt(),ge!==u?(x.charCodeAt(z)===44?(Se=fu,z++):(Se=u,Ae===0&&De(pu)),Se!==u?(Ie=tt(),Ie!==u?(Ne=Or(),Ne!==u?(ge=[ge,Se,Ie,Ne],te=ge):(z=te,te=u)):(z=te,te=u)):(z=te,te=u)):(z=te,te=u);pe!==u?(ze=F,W=Mh(W,pe),F=W):(z=F,F=u)}else z=F,F=u;return Be[pt]={nextPos:z,result:F},F}function lm(){var F,W,pe=z*34+22,te=Be[pe];return te?(z=te.nextPos,te.result):(F=z,x.substr(z,4).toLowerCase()===Rh?(W=x.substr(z,4),z+=4):(W=u,Ae===0&&De(wh)),W!==u&&(ze=F,W=Oh()),F=W,F===u&&(F=z,x.substr(z,5).toLowerCase()===Ih?(W=x.substr(z,5),z+=5):(W=u,Ae===0&&De(Ah)),W!==u&&(ze=F,W=Dh()),F=W),Be[pe]={nextPos:z,result:F},F)}function um(){var F,W,pe,te=z*34+23,ge=Be[te];return ge?(z=ge.nextPos,ge.result):(F=z,x.substr(z,2)===hu?(W=hu,z+=2):(W=u,Ae===0&&De(Lh)),W!==u?(pe=ei(),pe!==u?(ze=F,W=Vh(),F=W):(z=F,F=u)):(z=F,F=u),F===u&&(F=z,_h.test(x.charAt(z))?(W=x.charAt(z),z++):(W=u,Ae===0&&De(Bh)),W===u&&(W=null),W!==u?(pe=cm(),pe!==u?(ze=F,W=Nh(W,pe),F=W):(z=F,F=u)):(z=F,F=u)),Be[te]={nextPos:z,result:F},F)}function cm(){var F,W,pe,te,ge=z*34+24,Se=Be[ge];return Se?(z=Se.nextPos,Se.result):(F=z,W=ei(),W!==u?(x.charCodeAt(z)===46?(pe=kh,z++):(pe=u,Ae===0&&De(Fh)),pe!==u?(te=ei(),te!==u?(ze=F,W=Uh(),F=W):(z=F,F=u)):(z=F,F=u)):(z=F,F=u),F===u&&(F=z,W=fm(),W!==u?(pe=ei(),pe===u&&(pe=null),pe!==u?(ze=F,W=zh(),F=W):(z=F,F=u)):(z=F,F=u),F===u&&(F=z,x.charCodeAt(z)===48?(W=jh,z++):(W=u,Ae===0&&De(Hh)),W!==u&&(ze=F,W=Wh()),F=W)),Be[ge]={nextPos:z,result:F},F)}function dm(){var F,W,pe,te=z*34+25,ge=Be[te];if(ge)return z=ge.nextPos,ge.result;if(F=z,W=[],pe=Fu(),pe!==u)for(;pe!==u;)W.push(pe),pe=Fu();else W=u;return W!==u&&(ze=F,W=mu(W)),F=W,Be[te]={nextPos:z,result:F},F}function Nu(){var F,W,pe,te=z*34+26,ge=Be[te];if(ge)return z=ge.nextPos,ge.result;if(F=z,W=[],pe=ku(),pe!==u)for(;pe!==u;)W.push(pe),pe=ku();else W=u;return W!==u&&(ze=F,W=mu(W)),F=W,Be[te]={nextPos:z,result:F},F}function ku(){var F,W,pe=z*34+27,te=Be[pe];return te?(z=te.nextPos,te.result):(F=z,x.substr(z,2)===gu?(W=gu,z+=2):(W=u,Ae===0&&De(qh)),W!==u&&(ze=F,W=Gh()),F=W,F===u&&(F=z,x.substr(z,2)===vu?(W=vu,z+=2):(W=u,Ae===0&&De(Qh)),W!==u&&(ze=F,W=$h()),F=W,F===u&&(F=z,Kh.test(x.charAt(z))?(W=x.charAt(z),z++):(W=u,Ae===0&&De(Xh)),W!==u&&(ze=F,W=Zs()),F=W)),Be[pe]={nextPos:z,result:F},F)}function Fu(){var F,W,pe=z*34+28,te=Be[pe];return te?(z=te.nextPos,te.result):(F=z,Jh.test(x.charAt(z))?(W=x.charAt(z),z++):(W=u,Ae===0&&De(Yh)),W!==u&&(ze=F,W=Zs()),F=W,Be[pe]={nextPos:z,result:F},F)}function Uu(){var F,W,pe,te,ge,Se,Ie,Ne=z*34+29,pt=Be[Ne];if(pt)return z=pt.nextPos,pt.result;if(F=z,W=qi(),W!==u){if(pe=[],te=z,ge=ei(),ge!==u){for(Se=[],Ie=qi();Ie!==u;)Se.push(Ie),Ie=qi();Se!==u?(ge=[ge,Se],te=ge):(z=te,te=u)}else z=te,te=u;for(;te!==u;)if(pe.push(te),te=z,ge=ei(),ge!==u){for(Se=[],Ie=qi();Ie!==u;)Se.push(Ie),Ie=qi();Se!==u?(ge=[ge,Se],te=ge):(z=te,te=u)}else z=te,te=u;pe!==u?(ze=F,W=Zs(),F=W):(z=F,F=u)}else z=F,F=u;return Be[Ne]={nextPos:z,result:F},F}function ei(){var F,W,pe=z*34+30,te=Be[pe];if(te)return z=te.nextPos,te.result;if(F=[],yu.test(x.charAt(z))?(W=x.charAt(z),z++):(W=u,Ae===0&&De(bu)),W!==u)for(;W!==u;)F.push(W),yu.test(x.charAt(z))?(W=x.charAt(z),z++):(W=u,Ae===0&&De(bu));else F=u;return Be[pe]={nextPos:z,result:F},F}function fm(){var F,W,pe=z*34+31,te=Be[pe];if(te)return z=te.nextPos,te.result;if(F=[],Cu.test(x.charAt(z))?(W=x.charAt(z),z++):(W=u,Ae===0&&De(xu)),W!==u)for(;W!==u;)F.push(W),Cu.test(x.charAt(z))?(W=x.charAt(z),z++):(W=u,Ae===0&&De(xu));else F=u;return Be[pe]={nextPos:z,result:F},F}function qi(){var F,W,pe=z*34+32,te=Be[pe];if(te)return z=te.nextPos,te.result;if(F=[],Eu.test(x.charAt(z))?(W=x.charAt(z),z++):(W=u,Ae===0&&De(Pu)),W!==u)for(;W!==u;)F.push(W),Eu.test(x.charAt(z))?(W=x.charAt(z),z++):(W=u,Ae===0&&De(Pu));else F=u;return Be[pe]={nextPos:z,result:F},F}function tt(){var F,W,pe=z*34+33,te=Be[pe];if(te)return z=te.nextPos,te.result;for(Ae++,F=[],Tu.test(x.charAt(z))?(W=x.charAt(z),z++):(W=u,Ae===0&&De(Su));W!==u;)F.push(W),Tu.test(x.charAt(z))?(W=x.charAt(z),z++):(W=u,Ae===0&&De(Su));return Ae--,F===u&&(W=u,Ae===0&&De(Zh)),Be[pe]={nextPos:z,result:F},F}function zu(F,W,pe){return pe===void 0&&(pe=!1),W.reduce(function(te,ge){return new d.BinaryOperand(ge[1],te,ge[3],pe)},F)}function pm(F){return[].concat.apply([],F)}if(Vo=f(),Vo!==u&&z===x.length)return Vo;throw Vo!==u&&z<x.length&&De(em()),nm(ea,wn<x.length?x.charAt(wn):null,wn<x.length?Ru(wn,wn+1):Ru(wn,wn))}var S=w},"./src/expressions/expressions.ts":function(a,r,t){t.r(r),t.d(r,"Operand",function(){return S}),t.d(r,"BinaryOperand",function(){return x}),t.d(r,"UnaryOperand",function(){return h}),t.d(r,"ArrayOperand",function(){return u}),t.d(r,"Const",function(){return g}),t.d(r,"Variable",function(){return f}),t.d(r,"FunctionOperand",function(){return i}),t.d(r,"OperandMaker",function(){return p});var d=t("./src/helpers.ts"),C=t("./src/functionsfactory.ts"),M=t("./src/conditionProcessValue.ts"),w=function(){var P=function(m,y){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,b){R.__proto__=b}||function(R,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(R[c]=b[c])},P(m,y)};return function(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");P(m,y);function R(){this.constructor=m}m.prototype=y===null?Object.create(y):(R.prototype=y.prototype,new R)}}(),S=function(){function P(){}return P.prototype.toString=function(m){return""},P.prototype.hasFunction=function(){return!1},P.prototype.hasAsyncFunction=function(){return!1},P.prototype.addToAsyncList=function(m){},P.prototype.isEqual=function(m){return!!m&&m.getType()===this.getType()&&this.isContentEqual(m)},P.prototype.areOperatorsEquals=function(m,y){return!m&&!y||!!m&&m.isEqual(y)},P}(),x=function(P){w(m,P);function m(y,R,b,c){R===void 0&&(R=null),b===void 0&&(b=null),c===void 0&&(c=!1);var E=P.call(this)||this;return E.operatorName=y,E.left=R,E.right=b,E.isArithmeticValue=c,c?E.consumer=p.binaryFunctions.arithmeticOp(y):E.consumer=p.binaryFunctions[y],E.consumer==null&&p.throwInvalidOperatorError(y),E}return m.prototype.getType=function(){return"binary"},Object.defineProperty(m.prototype,"isArithmetic",{get:function(){return this.isArithmeticValue},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"isConjunction",{get:function(){return this.operatorName=="or"||this.operatorName=="and"},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"conjunction",{get:function(){return this.isConjunction?this.operatorName:""},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"operator",{get:function(){return this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"leftOperand",{get:function(){return this.left},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"rightOperand",{get:function(){return this.right},enumerable:!1,configurable:!0}),m.prototype.isContentEqual=function(y){var R=y;return R.operator===this.operator&&this.areOperatorsEquals(this.left,R.left)&&this.areOperatorsEquals(this.right,R.right)},m.prototype.evaluateParam=function(y,R){return y==null?null:y.evaluate(R)},m.prototype.evaluate=function(y){return this.consumer.call(this,this.evaluateParam(this.left,y),this.evaluateParam(this.right,y))},m.prototype.toString=function(y){if(y===void 0&&(y=void 0),y){var R=y(this);if(R)return R}return"("+p.safeToString(this.left,y)+" "+p.operatorToString(this.operatorName)+" "+p.safeToString(this.right,y)+")"},m.prototype.setVariables=function(y){this.left!=null&&this.left.setVariables(y),this.right!=null&&this.right.setVariables(y)},m.prototype.hasFunction=function(){return!!this.left&&this.left.hasFunction()||!!this.right&&this.right.hasFunction()},m.prototype.hasAsyncFunction=function(){return!!this.left&&this.left.hasAsyncFunction()||!!this.right&&this.right.hasAsyncFunction()},m.prototype.addToAsyncList=function(y){this.left&&this.left.addToAsyncList(y),this.right&&this.right.addToAsyncList(y)},m}(S),h=function(P){w(m,P);function m(y,R){var b=P.call(this)||this;return b.expressionValue=y,b.operatorName=R,b.consumer=p.unaryFunctions[R],b.consumer==null&&p.throwInvalidOperatorError(R),b}return Object.defineProperty(m.prototype,"operator",{get:function(){return this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"expression",{get:function(){return this.expressionValue},enumerable:!1,configurable:!0}),m.prototype.getType=function(){return"unary"},m.prototype.toString=function(y){if(y===void 0&&(y=void 0),y){var R=y(this);if(R)return R}return p.operatorToString(this.operatorName)+" "+this.expression.toString(y)},m.prototype.isContentEqual=function(y){var R=y;return R.operator==this.operator&&this.areOperatorsEquals(this.expression,R.expression)},m.prototype.evaluate=function(y){var R=this.expression.evaluate(y);return this.consumer.call(this,R)},m.prototype.setVariables=function(y){this.expression.setVariables(y)},m}(S),u=function(P){w(m,P);function m(y){var R=P.call(this)||this;return R.values=y,R}return m.prototype.getType=function(){return"array"},m.prototype.toString=function(y){if(y===void 0&&(y=void 0),y){var R=y(this);if(R)return R}return"["+this.values.map(function(b){return b.toString(y)}).join(", ")+"]"},m.prototype.evaluate=function(y){return this.values.map(function(R){return R.evaluate(y)})},m.prototype.setVariables=function(y){this.values.forEach(function(R){R.setVariables(y)})},m.prototype.hasFunction=function(){return this.values.some(function(y){return y.hasFunction()})},m.prototype.hasAsyncFunction=function(){return this.values.some(function(y){return y.hasAsyncFunction()})},m.prototype.addToAsyncList=function(y){this.values.forEach(function(R){return R.addToAsyncList(y)})},m.prototype.isContentEqual=function(y){var R=y;if(R.values.length!==this.values.length)return!1;for(var b=0;b<this.values.length;b++)if(!R.values[b].isEqual(this.values[b]))return!1;return!0},m}(S),g=function(P){w(m,P);function m(y){var R=P.call(this)||this;return R.value=y,R}return m.prototype.getType=function(){return"const"},m.prototype.toString=function(y){if(y===void 0&&(y=void 0),y){var R=y(this);if(R)return R}return this.value.toString()},Object.defineProperty(m.prototype,"correctValue",{get:function(){return this.getCorrectValue(this.value)},enumerable:!1,configurable:!0}),m.prototype.evaluate=function(){return this.getCorrectValue(this.value)},m.prototype.setVariables=function(y){},m.prototype.getCorrectValue=function(y){return!y||typeof y!="string"?y:this.isBooleanValue(y)?y.toLowerCase()==="true":y.length>1&&this.isQuote(y[0])&&this.isQuote(y[y.length-1])?y.substr(1,y.length-2):p.isNumeric(y)?y.indexOf("0x")==0?parseInt(y):y.length>1&&y[0]=="0"?y:parseFloat(y):y},m.prototype.isContentEqual=function(y){var R=y;return R.value==this.value},m.prototype.isQuote=function(y){return y=="'"||y=='"'},m.prototype.isBooleanValue=function(y){return y&&(y.toLowerCase()==="true"||y.toLowerCase()==="false")},m}(S),f=function(P){w(m,P);function m(y){var R=P.call(this,y)||this;return R.variableName=y,R.valueInfo={},R.useValueAsItIs=!1,R.variableName&&R.variableName.length>1&&R.variableName[0]===m.DisableConversionChar&&(R.variableName=R.variableName.substr(1),R.useValueAsItIs=!0),R}return m.prototype.getType=function(){return"variable"},m.prototype.toString=function(y){if(y===void 0&&(y=void 0),y){var R=y(this);if(R)return R}var b=this.useValueAsItIs?m.DisableConversionChar:"";return"{"+b+this.variableName+"}"},Object.defineProperty(m.prototype,"variable",{get:function(){return this.variableName},enumerable:!1,configurable:!0}),m.prototype.evaluate=function(y){return this.valueInfo.name=this.variableName,y.getValueInfo(this.valueInfo),this.valueInfo.hasValue?this.getCorrectValue(this.valueInfo.value):null},m.prototype.setVariables=function(y){y.push(this.variableName)},m.prototype.getCorrectValue=function(y){return this.useValueAsItIs?y:P.prototype.getCorrectValue.call(this,y)},m.prototype.isContentEqual=function(y){var R=y;return R.variable==this.variable},m.DisableConversionChar="#",m}(g),i=function(P){w(m,P);function m(y,R){var b=P.call(this)||this;return b.originalValue=y,b.parameters=R,b.isReadyValue=!1,Array.isArray(R)&&R.length===0&&(b.parameters=new u([])),b}return m.prototype.getType=function(){return"function"},m.prototype.evaluateAsync=function(y){var R=this;this.isReadyValue=!1;var b=new M.ProcessValue;b.values=d.Helpers.createCopy(y.values),b.properties=d.Helpers.createCopy(y.properties),b.properties.returnResult=function(c){R.asynResult=c,R.isReadyValue=!0,R.onAsyncReady()},this.evaluateCore(b)},m.prototype.evaluate=function(y){return this.isReady?this.asynResult:this.evaluateCore(y)},m.prototype.evaluateCore=function(y){return C.FunctionFactory.Instance.run(this.originalValue,this.parameters.evaluate(y),y.properties)},m.prototype.toString=function(y){if(y===void 0&&(y=void 0),y){var R=y(this);if(R)return R}return this.originalValue+"("+this.parameters.toString(y)+")"},m.prototype.setVariables=function(y){this.parameters.setVariables(y)},Object.defineProperty(m.prototype,"isReady",{get:function(){return this.isReadyValue},enumerable:!1,configurable:!0}),m.prototype.hasFunction=function(){return!0},m.prototype.hasAsyncFunction=function(){return C.FunctionFactory.Instance.isAsyncFunction(this.originalValue)},m.prototype.addToAsyncList=function(y){this.hasAsyncFunction()&&y.push(this)},m.prototype.isContentEqual=function(y){var R=y;return R.originalValue==this.originalValue&&this.areOperatorsEquals(R.parameters,this.parameters)},m}(S),p=function(){function P(){}return P.throwInvalidOperatorError=function(m){throw new Error("Invalid operator: '"+m+"'")},P.safeToString=function(m,y){return m==null?"":m.toString(y)},P.toOperandString=function(m){return m&&!P.isNumeric(m)&&!P.isBooleanValue(m)&&(m="'"+m+"'"),m},P.isSpaceString=function(m){return!!m&&!m.replace(" ","")},P.isNumeric=function(m){return m&&(m.indexOf("-")>-1||m.indexOf("+")>1||m.indexOf("*")>-1||m.indexOf("^")>-1||m.indexOf("/")>-1||m.indexOf("%")>-1)||P.isSpaceString(m)?!1:d.Helpers.isNumber(m)},P.isBooleanValue=function(m){return!!m&&(m.toLowerCase()==="true"||m.toLowerCase()==="false")},P.countDecimals=function(m){if(d.Helpers.isNumber(m)&&Math.floor(m)!==m){var y=m.toString().split(".");return y.length>1&&y[1].length||0}return 0},P.plusMinus=function(m,y,R){var b=P.countDecimals(m),c=P.countDecimals(y);if(b>0||c>0){var E=Math.max(b,c);R=parseFloat(R.toFixed(E))}return R},P.isTwoValueEquals=function(m,y){return m==="undefined"&&(m=void 0),y==="undefined"&&(y=void 0),d.Helpers.isTwoValueEquals(m,y,!0)},P.operatorToString=function(m){var y=P.signs[m];return y??m},P.unaryFunctions={empty:function(m){return d.Helpers.isValueEmpty(m)},notempty:function(m){return!P.unaryFunctions.empty(m)},negate:function(m){return!m}},P.binaryFunctions={arithmeticOp:function(m){return function(y,R){d.Helpers.isValueEmpty(y)&&!P.isSpaceString(y)&&(y=typeof R=="string"?"":0),d.Helpers.isValueEmpty(R)&&!P.isSpaceString(R)&&(R=typeof y=="string"?"":0);var b=P.binaryFunctions[m];return b==null?null:b.call(this,y,R)}},and:function(m,y){return m&&y},or:function(m,y){return m||y},plus:function(m,y){return!d.Helpers.isNumber(m)||!d.Helpers.isNumber(y)?m+y:d.Helpers.correctAfterPlusMinis(m,y,m+y)},minus:function(m,y){return d.Helpers.correctAfterPlusMinis(m,y,m-y)},mul:function(m,y){return d.Helpers.correctAfterMultiple(m,y,m*y)},div:function(m,y){return y?m/y:null},mod:function(m,y){return y?m%y:null},power:function(m,y){return Math.pow(m,y)},greater:function(m,y){return m==null||y==null?!1:m>y},less:function(m,y){return m==null||y==null?!1:m<y},greaterorequal:function(m,y){return P.binaryFunctions.equal(m,y)?!0:P.binaryFunctions.greater(m,y)},lessorequal:function(m,y){return P.binaryFunctions.equal(m,y)?!0:P.binaryFunctions.less(m,y)},equal:function(m,y){return P.isTwoValueEquals(m,y)},notequal:function(m,y){return!P.binaryFunctions.equal(m,y)},contains:function(m,y){return P.binaryFunctions.containsCore(m,y,!0)},notcontains:function(m,y){return!m&&!d.Helpers.isValueEmpty(y)?!0:P.binaryFunctions.containsCore(m,y,!1)},anyof:function(m,y){if(d.Helpers.isValueEmpty(m)&&d.Helpers.isValueEmpty(y))return!0;if(d.Helpers.isValueEmpty(m)||!Array.isArray(m)&&m.length===0)return!1;if(d.Helpers.isValueEmpty(y))return!0;if(!Array.isArray(m))return P.binaryFunctions.contains(y,m);if(!Array.isArray(y))return P.binaryFunctions.contains(m,y);for(var R=0;R<y.length;R++)if(P.binaryFunctions.contains(m,y[R]))return!0;return!1},allof:function(m,y){if(!m&&!d.Helpers.isValueEmpty(y))return!1;if(!Array.isArray(y))return P.binaryFunctions.contains(m,y);for(var R=0;R<y.length;R++)if(!P.binaryFunctions.contains(m,y[R]))return!1;return!0},containsCore:function(m,y,R){if(!m&&m!==0&&m!==!1)return!1;if(m.length||(m=m.toString(),(typeof y=="string"||y instanceof String)&&(m=m.toUpperCase(),y=y.toUpperCase())),typeof m=="string"||m instanceof String){if(!y)return!1;y=y.toString();var b=m.indexOf(y)>-1;return R?b:!b}for(var c=Array.isArray(y)?y:[y],E=0;E<c.length;E++){var I=0;for(y=c[E];I<m.length&&!P.isTwoValueEquals(m[I],y);I++);if(I==m.length)return!R}return R}},P.signs={less:"<",lessorequal:"<=",greater:">",greaterorequal:">=",equal:"==",notequal:"!=",plus:"+",minus:"-",mul:"*",div:"/",and:"and",or:"or",power:"^",mod:"%",negate:"!"},P}()},"./src/flowpanel.ts":function(a,r,t){t.r(r),t.d(r,"FlowPanelModel",function(){return w});var d=t("./src/jsonobject.ts"),C=t("./src/panel.ts"),M=function(){var S=function(x,h){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var f in g)Object.prototype.hasOwnProperty.call(g,f)&&(u[f]=g[f])},S(x,h)};return function(x,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");S(x,h);function u(){this.constructor=x}x.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}(),w=function(S){M(x,S);function x(h){h===void 0&&(h="");var u=S.call(this,h)||this;u.createLocalizableString("content",u,!0);var g=u;return u.registerFunctionOnPropertyValueChanged("content",function(){g.onContentChanged()}),u}return x.prototype.getType=function(){return"flowpanel"},x.prototype.getChildrenLayoutType=function(){return"flow"},x.prototype.onSurveyLoad=function(){S.prototype.onSurveyLoad.call(this),this.onContentChanged()},Object.defineProperty(x.prototype,"content",{get:function(){return this.getLocalizableStringText("content")},set:function(h){this.setLocalizableStringText("content",h)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"locContent",{get:function(){return this.getLocalizableString("content")},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"html",{get:function(){return this.getPropertyValue("html","")},set:function(h){this.setPropertyValue("html",h)},enumerable:!1,configurable:!0}),x.prototype.onContentChanged=function(){var h="";this.onCustomHtmlProducing?h=this.onCustomHtmlProducing():h=this.produceHtml(),this.html=h,this.contentChangedCallback&&this.contentChangedCallback()},x.prototype.produceHtml=function(){for(var h=[],u=/{(.*?(element:)[^$].*?)}/g,g=this.content,f=0,i=null;(i=u.exec(g))!==null;){i.index>f&&(h.push(g.substr(f,i.index-f)),f=i.index);var p=this.getQuestionFromText(i[0]);p?h.push(this.getHtmlForQuestion(p)):h.push(g.substr(f,i.index+i[0].length-f)),f=i.index+i[0].length}return f<g.length&&h.push(g.substr(f,g.length-f)),h.join("").replace(new RegExp("<br>","g"),"<br/>")},x.prototype.getQuestionFromText=function(h){return h=h.substr(1,h.length-2),h=h.replace(x.contentElementNamePrefix,"").trim(),this.getQuestionByName(h)},x.prototype.getHtmlForQuestion=function(h){return this.onGetHtmlForQuestion?this.onGetHtmlForQuestion(h):""},x.prototype.getQuestionHtmlId=function(h){return this.name+"_"+h.id},x.prototype.onAddElement=function(h,u){S.prototype.onAddElement.call(this,h,u),this.addElementToContent(h),h.renderWidth=""},x.prototype.onRemoveElement=function(h){var u=this.getElementContentText(h);this.content=this.content.replace(u,""),S.prototype.onRemoveElement.call(this,h)},x.prototype.dragDropMoveElement=function(h,u,g){},x.prototype.addElementToContent=function(h){if(!this.isLoadingFromJson){var u=this.getElementContentText(h);this.insertTextAtCursor(u)||(this.content=this.content+u)}},x.prototype.insertTextAtCursor=function(h,u){if(u===void 0&&(u=null),!this.isDesignMode||typeof document>"u"||!window.getSelection)return!1;var g=window.getSelection();if(g.getRangeAt&&g.rangeCount){var f=g.getRangeAt(0);f.deleteContents(),f.insertNode(document.createTextNode(h));var i=this;if(i.getContent){var p=i.getContent(u);this.content=p}return!0}return!1},x.prototype.getElementContentText=function(h){return"{"+x.contentElementNamePrefix+h.name+"}"},x.contentElementNamePrefix="element:",x}(C.PanelModel);d.Serializer.addClass("flowpanel",[{name:"content:html",serializationProperty:"locContent"}],function(){return new w},"panel")},"./src/functionsfactory.ts":function(a,r,t){t.r(r),t.d(r,"FunctionFactory",function(){return C}),t.d(r,"registerFunction",function(){return M});var d=t("./src/helpers.ts"),C=function(){function B(){this.functionHash={},this.isAsyncHash={}}return B.prototype.register=function(k,U,K){K===void 0&&(K=!1),this.functionHash[k]=U,K&&(this.isAsyncHash[k]=!0)},B.prototype.unregister=function(k){delete this.functionHash[k],delete this.isAsyncHash[k]},B.prototype.hasFunction=function(k){return!!this.functionHash[k]},B.prototype.isAsyncFunction=function(k){return!!this.isAsyncHash[k]},B.prototype.clear=function(){this.functionHash={}},B.prototype.getAll=function(){var k=[];for(var U in this.functionHash)k.push(U);return k.sort()},B.prototype.run=function(k,U,K){K===void 0&&(K=null);var q=this.functionHash[k];if(!q)return null;var Z={func:q};if(K)for(var j in K)Z[j]=K[j];return Z.func(U)},B.Instance=new B,B}(),M=C.Instance.register;function w(B,k){if(B!=null)if(Array.isArray(B))for(var U=0;U<B.length;U++)w(B[U],k);else d.Helpers.isNumber(B)&&(B=parseFloat(B)),k.push(B)}function S(B){var k=[];w(B,k);for(var U=0,K=0;K<k.length;K++)U=d.Helpers.correctAfterPlusMinis(U,k[K],U+k[K]);return U}C.Instance.register("sum",S);function x(B,k){var U=[];w(B,U);for(var K=void 0,q=0;q<U.length;q++)K===void 0&&(K=U[q]),k?K>U[q]&&(K=U[q]):K<U[q]&&(K=U[q]);return K}function h(B){return x(B,!0)}C.Instance.register("min",h);function u(B){return x(B,!1)}C.Instance.register("max",u);function g(B){var k=[];return w(B,k),k.length}C.Instance.register("count",g);function f(B){var k=[];w(B,k);var U=S(B);return k.length>0?U/k.length:0}C.Instance.register("avg",f);function i(B){if(B.length!=2)return null;var k=B[0];if(!k||!Array.isArray(k)&&!Array.isArray(Object.keys(k)))return null;var U=B[1];return typeof U!="string"&&!(U instanceof String)?null:{data:k,name:U}}function p(B){return typeof B=="string"?d.Helpers.isNumber(B)?parseFloat(B):void 0:B}function P(B,k,U,K,q){if(!B||d.Helpers.isValueEmpty(B[k]))return U;var Z=q?p(B[k]):1;return K(U,Z)}function m(B,k,U){U===void 0&&(U=!0);var K=i(B);if(K){var q=void 0;if(Array.isArray(K.data))for(var Z=0;Z<K.data.length;Z++)q=P(K.data[Z],K.name,q,k,U);else for(var j in K.data)q=P(K.data[j],K.name,q,k,U);return q}}function y(B){var k=m(B,function(U,K){return U==null&&(U=0),K==null||K==null?U:d.Helpers.correctAfterPlusMinis(U,K,U+K)});return k!==void 0?k:0}C.Instance.register("sumInArray",y);function R(B){return m(B,function(k,U){return k==null?U:U==null||U==null||k<U?k:U})}C.Instance.register("minInArray",R);function b(B){return m(B,function(k,U){return k==null?U:U==null||U==null||k>U?k:U})}C.Instance.register("maxInArray",b);function c(B){var k=m(B,function(U,K){return U==null&&(U=0),K==null||K==null?U:U+1},!1);return k!==void 0?k:0}C.Instance.register("countInArray",c);function E(B){var k=c(B);return k==0?0:y(B)/k}C.Instance.register("avgInArray",E);function I(B){return!B&&B.length!==3?"":B[0]?B[1]:B[2]}C.Instance.register("iif",I);function A(B){return!B&&B.length<1||!B[0]?null:new Date(B[0])}C.Instance.register("getDate",A);function D(B){if(!B&&B.length<1||!B[0])return null;var k=new Date(B[0]),U=new Date,K=U.getFullYear()-k.getFullYear(),q=U.getMonth()-k.getMonth();return(q<0||q===0&&U.getDate()<k.getDate())&&(K-=K>0?1:0),K}C.Instance.register("age",D);function O(B){if(!B)return!1;for(var k=B.questions,U=0;U<k.length;U++)if(k[U].hasErrors(!1))return!1;return!0}function l(B){if(!B&&B.length<1||!B[0]||!this.survey)return!1;var k=B[0],U=this.survey.getPageByName(k);if(U||(U=this.survey.getPanelByName(k)),!U){var K=this.survey.getQuestionByName(k);if(!K||!Array.isArray(K.panels))return!1;if(B.length>1)B[1]<K.panels.length&&(U=K.panels[B[1]]);else{for(var q=0;q<K.panels.length;q++)if(!O(K.panels[q]))return!1;return!0}}return O(U)}C.Instance.register("isContainerReady",l);function o(){return this.survey&&this.survey.isDisplayMode}C.Instance.register("isDisplayMode",o);function v(){return new Date}C.Instance.register("currentDate",v);function T(B){var k=new Date;return k.setUTCHours(0,0,0,0),Array.isArray(B)&&B.length==1&&k.setDate(k.getDate()+B[0]),k}C.Instance.register("today",T);function L(B){if(!(B.length!==1||!B[0]))return new Date(B[0]).getFullYear()}C.Instance.register("getYear",L);function V(){return new Date().getFullYear()}C.Instance.register("currentYear",V);function _(B){if(!Array.isArray(B)||B.length!==2||!B[0]||!B[1])return 0;var k=new Date(B[0]),U=new Date(B[1]),K=Math.abs(U-k);return Math.ceil(K/(1e3*60*60*24))}C.Instance.register("diffDays",_)},"./src/helpers.ts":function(a,r,t){t.r(r),t.d(r,"Helpers",function(){return C});var d=t("./src/settings.ts"),C=function(){function M(){}return M.isValueEmpty=function(w){if(Array.isArray(w)&&w.length===0)return!0;if(w&&typeof w=="object"&&w.constructor===Object){for(var S in w)if(!M.isValueEmpty(w[S]))return!1;return!0}return!w&&w!==0&&w!==!1},M.isArrayContainsEqual=function(w,S){if(!Array.isArray(w)||!Array.isArray(S)||w.length!==S.length)return!1;for(var x=0;x<w.length;x++){for(var h=0;h<S.length&&!M.isTwoValueEquals(w[x],S[h]);h++);if(h===S.length)return!1}return!0},M.isArraysEqual=function(w,S,x,h,u){if(x===void 0&&(x=!1),!Array.isArray(w)||!Array.isArray(S)||w.length!==S.length)return!1;if(x){for(var g=[],f=[],i=0;i<w.length;i++)g.push(w[i]),f.push(S[i]);g.sort(),f.sort(),w=g,S=f}for(var i=0;i<w.length;i++)if(!M.isTwoValueEquals(w[i],S[i],x,h,u))return!1;return!0},M.isTwoValueEquals=function(w,S,x,h,u){if(x===void 0&&(x=!1),w===S||Array.isArray(w)&&w.length===0&&typeof S>"u"||Array.isArray(S)&&S.length===0&&typeof w>"u"||w==null&&S===""||S==null&&w==="")return!0;if(u===void 0&&(u=d.settings.comparator.trimStrings),h===void 0&&(h=d.settings.comparator.caseSensitive),typeof w=="string"&&typeof S=="string")return u&&(w=w.trim(),S=S.trim()),h||(w=w.toLowerCase(),S=S.toLowerCase()),w===S;if(w instanceof Date&&S instanceof Date)return w.getTime()==S.getTime();if(M.isConvertibleToNumber(w)&&M.isConvertibleToNumber(S)&&parseInt(w)===parseInt(S)&&parseFloat(w)===parseFloat(S))return!0;if(!M.isValueEmpty(w)&&M.isValueEmpty(S)||M.isValueEmpty(w)&&!M.isValueEmpty(S))return!1;if((w===!0||w===!1)&&typeof S=="string")return w.toString()===S.toLocaleLowerCase();if((S===!0||S===!1)&&typeof w=="string")return S.toString()===w.toLocaleLowerCase();if(!(w instanceof Object)&&!(S instanceof Object))return w==S;if(!(w instanceof Object)||!(S instanceof Object))return!1;if(w.equals)return w.equals(S);if(w.toJSON&&S.toJSON&&w.getType&&S.getType)return w.isDiposed||S.isDiposed||w.getType()!==S.getType()||w.name&&w.name!==S.name?!1:this.isTwoValueEquals(w.toJSON(),S.toJSON(),x,h,u);if(Array.isArray(w)&&Array.isArray(S))return M.isArraysEqual(w,S,x,h,u);if(w.equalsTo&&S.equalsTo)return w.equalsTo(S);for(var g in w)if(w.hasOwnProperty(g)){if(!S.hasOwnProperty(g))return!1;if(w[g]!==S[g]&&(typeof w[g]!="object"||!this.isTwoValueEquals(w[g],S[g])))return!1}for(g in S)if(S.hasOwnProperty(g)&&!w.hasOwnProperty(g))return!1;return!0},M.randomizeArray=function(w){for(var S=w.length-1;S>0;S--){var x=Math.floor(Math.random()*(S+1)),h=w[S];w[S]=w[x],w[x]=h}return w},M.getUnbindValue=function(w){return w&&w instanceof Object?JSON.parse(JSON.stringify(w)):w},M.createCopy=function(w){var S={};if(!w)return S;for(var x in w)S[x]=w[x];return S},M.isConvertibleToNumber=function(w){return w!=null&&!Array.isArray(w)&&!isNaN(w)},M.isNumber=function(w){return typeof w=="string"&&w&&w.indexOf("0x")==0&&w.length>32?!1:!isNaN(parseFloat(w))&&isFinite(w)},M.getMaxLength=function(w,S){return w<0&&(w=S),w>0?w:null},M.getNumberByIndex=function(w,S){if(w<0)return"";var x=1,h="",u=".",g=!0,f="A",i="";if(S){i=S;for(var p=i.length-1,P=!1,m=0;m<i.length;m++)if(M.isCharDigit(i[m])){P=!0;break}for(var y=function(){return P&&!M.isCharDigit(i[p])||M.isCharNotLetterAndDigit(i[p])};p>=0&&y();)p--;var R="";for(p<i.length-1&&(R=i.substr(p+1),i=i.substr(0,p+1)),p=i.length-1;p>=0&&!(y()||(p--,!P)););f=i.substr(p+1),h=i.substr(0,p+1),parseInt(f)?x=parseInt(f):f.length==1&&(g=!1),(R||h)&&(u=R)}return g?h+(w+x).toString()+u:h+String.fromCharCode(f.charCodeAt(0)+w)+u},M.isCharNotLetterAndDigit=function(w){return w.toUpperCase()==w.toLowerCase()&&!M.isCharDigit(w)},M.isCharDigit=function(w){return w>="0"&&w<="9"},M.countDecimals=function(w){if(M.isNumber(w)&&Math.floor(w)!==w){var S=w.toString().split(".");return S.length>1&&S[1].length||0}return 0},M.correctAfterPlusMinis=function(w,S,x){var h=M.countDecimals(w),u=M.countDecimals(S);if(h>0||u>0){var g=Math.max(h,u);x=parseFloat(x.toFixed(g))}return x},M.correctAfterMultiple=function(w,S,x){var h=M.countDecimals(w)+M.countDecimals(S);return h>0&&(x=parseFloat(x.toFixed(h))),x},M}();String.prototype.format||(String.prototype.format=function(){var M=arguments;return this.replace(/{(\d+)}/g,function(w,S){return typeof M[S]<"u"?M[S]:w})})},"./src/images sync \\.svg$":function(a,r,t){var d={"./ArrowDown_34x34.svg":"./src/images/ArrowDown_34x34.svg","./ArrowLeft.svg":"./src/images/ArrowLeft.svg","./ArrowRight.svg":"./src/images/ArrowRight.svg","./Arrow_downGREY_10x10.svg":"./src/images/Arrow_downGREY_10x10.svg","./ChooseFile.svg":"./src/images/ChooseFile.svg","./Clear.svg":"./src/images/Clear.svg","./DefaultFile.svg":"./src/images/DefaultFile.svg","./Delete.svg":"./src/images/Delete.svg","./Down_34x34.svg":"./src/images/Down_34x34.svg","./Left.svg":"./src/images/Left.svg","./ModernCheck.svg":"./src/images/ModernCheck.svg","./ModernRadio.svg":"./src/images/ModernRadio.svg","./More.svg":"./src/images/More.svg","./ProgressButton.svg":"./src/images/ProgressButton.svg","./ProgressButtonV2.svg":"./src/images/ProgressButtonV2.svg","./RemoveFile.svg":"./src/images/RemoveFile.svg","./Right.svg":"./src/images/Right.svg","./V2Check.svg":"./src/images/V2Check.svg","./V2DragElement_16x16.svg":"./src/images/V2DragElement_16x16.svg","./collapseDetail.svg":"./src/images/collapseDetail.svg","./expandDetail.svg":"./src/images/expandDetail.svg","./no-image.svg":"./src/images/no-image.svg","./search.svg":"./src/images/search.svg"};function C(w){var S=M(w);return t(S)}function M(w){if(!t.o(d,w)){var S=new Error("Cannot find module '"+w+"'");throw S.code="MODULE_NOT_FOUND",S}return d[w]}C.keys=function(){return Object.keys(d)},C.resolve=M,a.exports=C,C.id="./src/images sync \\.svg$"},"./src/images/ArrowDown_34x34.svg":function(a,r){a.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 34 34" xml:space="preserve"><polygon class="st0" points="12,16 14,14 17,17 20,14 22,16 17,21 "></polygon></svg>'},"./src/images/ArrowLeft.svg":function(a,r){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 8.99999H4.39998L8.69998 13.3L7.29998 14.7L0.599976 7.99999L7.29998 1.29999L8.69998 2.69999L4.39998 6.99999H15V8.99999Z"></path></svg>'},"./src/images/ArrowRight.svg":function(a,r){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M1 6.99999H11.6L7.3 2.69999L8.7 1.29999L15.4 7.99999L8.7 14.7L7.3 13.3L11.6 8.99999H1V6.99999Z"></path></svg>'},"./src/images/Arrow_downGREY_10x10.svg":function(a,r){a.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 10 10" xml:space="preserve"><polygon class="st0" points="2,2 0,4 5,9 10,4 8,2 5,5 "></polygon></svg>'},"./src/images/ChooseFile.svg":function(a,r){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 9V7C22 5.9 21.1 5 20 5H12L10 3H4C2.9 3 2 3.9 2 5V9V10V21H22L24 9H22ZM4 5H9.2L10.6 6.4L11.2 7H12H20V9H4V5ZM20.3 19H4V11H21.6L20.3 19Z"></path></svg>'},"./src/images/Clear.svg":function(a,r){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.6 8.6L16.4 2.4C16 2 15.5 1.8 15 1.8C14.5 1.8 14 2 13.6 2.4L1.4 14.6C0.600003 15.4 0.600003 16.6 1.4 17.4L6 22H12L22.6 11.4C23.3 10.6 23.3 9.3 22.6 8.6ZM11.1 20H6.8L2.8 16L6.2 12.6L12.4 18.8L11.1 20ZM13.8 17.4L7.6 11.2L15 3.8L21.2 10L13.8 17.4ZM16 20H23V22H14L16 20Z"></path></svg>'},"./src/images/DefaultFile.svg":function(a,r){a.exports='<svg viewBox="0 0 56 68" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_9011_41219)"><path d="M54.83 10.83L45.17 1.17C44.7982 0.798664 44.357 0.504208 43.8714 0.303455C43.3858 0.102703 42.8654 -0.000411943 42.34 1.2368e-06H6C4.4087 1.2368e-06 2.88257 0.632142 1.75735 1.75736C0.632136 2.88258 0 4.4087 0 6V62C0 63.5913 0.632136 65.1174 1.75735 66.2426C2.88257 67.3679 4.4087 68 6 68H50C51.5913 68 53.1174 67.3679 54.2426 66.2426C55.3679 65.1174 56 63.5913 56 62V13.66C56.0004 13.1346 55.8973 12.6142 55.6965 12.1286C55.4958 11.643 55.2013 11.2018 54.83 10.83ZM44 2.83L53.17 12H48C46.9391 12 45.9217 11.5786 45.1716 10.8284C44.4214 10.0783 44 9.06087 44 8V2.83ZM54 62C54 63.0609 53.5786 64.0783 52.8284 64.8284C52.0783 65.5786 51.0609 66 50 66H6C4.93913 66 3.92172 65.5786 3.17157 64.8284C2.42142 64.0783 2 63.0609 2 62V6C2 4.93914 2.42142 3.92172 3.17157 3.17157C3.92172 2.42143 4.93913 2 6 2H42V8C42 9.5913 42.6321 11.1174 43.7574 12.2426C44.8826 13.3679 46.4087 14 48 14H54V62ZM14 24H42V26H14V24ZM14 30H42V32H14V30ZM14 36H42V38H14V36ZM14 42H42V44H14V42Z" fill="#909090"></path></g><defs><clipPath id="clip0_9011_41219"><rect width="56" height="68" fill="white"></rect></clipPath></defs></svg>'},"./src/images/Delete.svg":function(a,r){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 4H20H16V2C16 0.9 15.1 0 14 0H10C8.9 0 8 0.9 8 2V4H4H2V6H4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V6H22V4ZM10 2H14V4H10V2ZM18 20H6V6H8H16H18V20ZM14 8H16V18H14V8ZM11 8H13V18H11V8ZM8 8H10V18H8V8Z"></path></svg>'},"./src/images/Down_34x34.svg":function(a,r){a.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 34 34" xml:space="preserve"><g><path class="st0" d="M33,34H0V0h33c0.6,0,1,0.4,1,1v32C34,33.6,33.6,34,33,34z"></path><polygon class="st1" points="12,16 14,14 17,17 20,14 22,16 17,21 "></polygon></g></svg>'},"./src/images/Left.svg":function(a,r){a.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" xml:space="preserve"><polygon points="11,12 9,14 3,8 9,2 11,4 7,8 "></polygon></svg>'},"./src/images/ModernCheck.svg":function(a,r){a.exports='<svg viewBox="0 0 24 24"><path d="M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"></path></svg>'},"./src/images/ModernRadio.svg":function(a,r){a.exports='<svg viewBox="-12 -12 24 24"><circle r="6" cx="0" cy="0"></circle></svg>'},"./src/images/More.svg":function(a,r){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6 12C6 13.1 5.1 14 4 14C2.9 14 2 13.1 2 12C2 10.9 2.9 10 4 10C5.1 10 6 10.9 6 12ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10ZM20 10C18.9 10 18 10.9 18 12C18 13.1 18.9 14 20 14C21.1 14 22 13.1 22 12C22 10.9 21.1 10 20 10Z"></path></svg>'},"./src/images/ProgressButton.svg":function(a,r){a.exports='<svg viewBox="0 0 10 10"><polygon points="2,2 0,4 5,9 10,4 8,2 5,5 "></polygon></svg>'},"./src/images/ProgressButtonV2.svg":function(a,r){a.exports='<svg viewBox="0 0 16 16"><path d="M15 8.99999H4.39998L8.69998 13.3L7.29998 14.7L0.599976 7.99999L7.29998 1.29999L8.69998 2.69999L4.39998 6.99999H15V8.99999Z"></path></svg>'},"./src/images/RemoveFile.svg":function(a,r){a.exports='<svg viewBox="0 0 16 16"><path d="M8,2C4.7,2,2,4.7,2,8s2.7,6,6,6s6-2.7,6-6S11.3,2,8,2z M11,10l-1,1L8,9l-2,2l-1-1l2-2L5,6l1-1l2,2l2-2l1,1L9,8 L11,10z"></path></svg>'},"./src/images/Right.svg":function(a,r){a.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" xml:space="preserve"><polygon points="5,4 7,2 13,8 7,14 5,12 9,8 "></polygon></svg>'},"./src/images/V2Check.svg":function(a,r){a.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.00001 15.8L2.60001 10.4L4.00001 9L8.00001 13L16 5L17.4 6.4L8.00001 15.8Z"></path></svg>'},"./src/images/V2DragElement_16x16.svg":function(a,r){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M2 4C2 3.73478 2.10536 3.48043 2.29289 3.29289C2.48043 3.10536 2.73478 3 3 3H13C13.2652 3 13.5196 3.10536 13.7071 3.29289C13.8946 3.48043 14 3.73478 14 4C14 4.26522 13.8946 4.51957 13.7071 4.70711C13.5196 4.89464 13.2652 5 13 5H3C2.73478 5 2.48043 4.89464 2.29289 4.70711C2.10536 4.51957 2 4.26522 2 4ZM13 7H3C2.73478 7 2.48043 7.10536 2.29289 7.29289C2.10536 7.48043 2 7.73478 2 8C2 8.26522 2.10536 8.51957 2.29289 8.70711C2.48043 8.89464 2.73478 9 3 9H13C13.2652 9 13.5196 8.89464 13.7071 8.70711C13.8946 8.51957 14 8.26522 14 8C14 7.73478 13.8946 7.48043 13.7071 7.29289C13.5196 7.10536 13.2652 7 13 7ZM13 11H3C2.73478 11 2.48043 11.1054 2.29289 11.2929C2.10536 11.4804 2 11.7348 2 12C2 12.2652 2.10536 12.5196 2.29289 12.7071C2.48043 12.8946 2.73478 13 3 13H13C13.2652 13 13.5196 12.8946 13.7071 12.7071C13.8946 12.5196 14 12.2652 14 12C14 11.7348 13.8946 11.4804 13.7071 11.2929C13.5196 11.1054 13.2652 11 13 11Z"></path></svg>'},"./src/images/collapseDetail.svg":function(a,r){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H3V9H13V7Z"></path></svg>'},"./src/images/expandDetail.svg":function(a,r){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H9V3H7V7H3V9H7V13H9V9H13V7Z"></path></svg>'},"./src/images/no-image.svg":function(a,r){a.exports='<svg viewBox="0 0 48 48"><g opacity="0.5"><path d="M14 17.01C14 16.4167 14.1759 15.8366 14.5056 15.3433C14.8352 14.8499 15.3038 14.4654 15.8519 14.2384C16.4001 14.0113 17.0033 13.9519 17.5853 14.0676C18.1672 14.1834 18.7018 14.4691 19.1213 14.8887C19.5409 15.3082 19.8266 15.8428 19.9424 16.4247C20.0581 17.0067 19.9987 17.6099 19.7716 18.1581C19.5446 18.7062 19.1601 19.1748 18.6667 19.5044C18.1734 19.8341 17.5933 20.01 17 20.01C16.2044 20.01 15.4413 19.6939 14.8787 19.1313C14.3161 18.5687 14 17.8056 14 17.01ZM27.09 24.14L20 36.01H36L27.09 24.14ZM36.72 8.14L35.57 10.01H36C36.5304 10.01 37.0391 10.2207 37.4142 10.5958C37.7893 10.9709 38 11.4796 38 12.01V36.01C38 36.5404 37.7893 37.0491 37.4142 37.4242C37.0391 37.7993 36.5304 38.01 36 38.01H18.77L17.57 40.01H36C37.0609 40.01 38.0783 39.5886 38.8284 38.8384C39.5786 38.0883 40 37.0709 40 36.01V12.01C39.9966 11.0765 39.6668 10.1737 39.0678 9.45778C38.4688 8.74188 37.6382 8.25802 36.72 8.09V8.14ZM36.86 4.5L12.86 44.5L11.14 43.5L13.23 40.01H12C10.9391 40.01 9.92172 39.5886 9.17157 38.8384C8.42143 38.0883 8 37.0709 8 36.01V12.01C8 10.9491 8.42143 9.93172 9.17157 9.18157C9.92172 8.43143 10.9391 8.01 12 8.01H32.43L35.14 3.5L36.86 4.5ZM14.43 38.01L15.63 36.01H12L19 27.01L20.56 27.8L31.23 10.01H12C11.4696 10.01 10.9609 10.2207 10.5858 10.5958C10.2107 10.9709 10 11.4796 10 12.01V36.01C10 36.5404 10.2107 37.0491 10.5858 37.4242C10.9609 37.7993 11.4696 38.01 12 38.01H14.43Z"></path></g></svg>'},"./src/images/search.svg":function(a,r){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14 2C9.6 2 6 5.6 6 10C6 11.8 6.6 13.5 7.7 14.9L2.3 20.3C1.9 20.7 1.9 21.3 2.3 21.7C2.5 21.9 2.7 22 3 22C3.3 22 3.5 21.9 3.7 21.7L9.1 16.3C10.5 17.4 12.2 18 14 18C18.4 18 22 14.4 22 10C22 5.6 18.4 2 14 2ZM14 16C10.7 16 8 13.3 8 10C8 6.7 10.7 4 14 4C17.3 4 20 6.7 20 10C20 13.3 17.3 16 14 16Z"></path></svg>'},"./src/itemvalue.ts":function(a,r,t){t.r(r),t.d(r,"ItemValue",function(){return g});var d=t("./src/localizablestring.ts"),C=t("./src/jsonobject.ts"),M=t("./src/helpers.ts"),w=t("./src/conditions.ts"),S=t("./src/base.ts"),x=t("./src/settings.ts"),h=function(){var f=function(i,p){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,m){P.__proto__=m}||function(P,m){for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&(P[y]=m[y])},f(i,p)};return function(i,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");f(i,p);function P(){this.constructor=i}i.prototype=p===null?Object.create(p):(P.prototype=p.prototype,new P)}}(),u=function(f,i,p){if(p||arguments.length===2)for(var P=0,m=i.length,y;P<m;P++)(y||!(P in i))&&(y||(y=Array.prototype.slice.call(i,0,P)),y[P]=i[P]);return f.concat(y||Array.prototype.slice.call(i))},g=function(f){h(i,f);function i(p,P,m){P===void 0&&(P=null),m===void 0&&(m="itemvalue");var y=f.call(this)||this;return y.typeName=m,y.ownerPropertyName="",y.isVisibleValue=!0,y.locTextValue=new d.LocalizableString(y,!0,"text"),y.locTextValue.onStrChanged=function(R,b){b==y.value&&(b=void 0),y.propertyValueChanged("text",R,b)},y.locTextValue.onGetTextCallback=function(R){return R||(M.Helpers.isValueEmpty(y.value)?null:y.value.toString())},P&&(y.locText.text=P),p&&typeof p=="object"?y.setData(p):y.value=p,y.getType()!="itemvalue"&&C.CustomPropertiesCollection.createProperties(y),y.onCreating(),y}return i.prototype.getMarkdownHtml=function(p,P){return this.locOwner?this.locOwner.getMarkdownHtml(p,P):null},i.prototype.getRenderer=function(p){return this.locOwner?this.locOwner.getRenderer(p):null},i.prototype.getRendererContext=function(p){return this.locOwner?this.locOwner.getRendererContext(p):p},i.prototype.getProcessedText=function(p){return this.locOwner?this.locOwner.getProcessedText(p):p},Object.defineProperty(i,"Separator",{get:function(){return x.settings.itemValueSeparator},set:function(p){x.settings.itemValueSeparator=p},enumerable:!1,configurable:!0}),i.createArray=function(p){var P=[];return i.setupArray(P,p),P},i.setupArray=function(p,P){p.push=function(m){var y=Array.prototype.push.call(this,m);return m.locOwner=P,y},p.unshift=function(m){var y=Array.prototype.unshift.call(this,m);return m.locOwner=P,y},p.splice=function(m,y){for(var R,b=[],c=2;c<arguments.length;c++)b[c-2]=arguments[c];var E=(R=Array.prototype.splice).call.apply(R,u([this,m,y],b,!1));b||(b=[]);for(var I=0;I<b.length;I++)b[I].locOwner=P;return E}},i.setData=function(p,P,m){p.length=0;for(var y=0;y<P.length;y++){var R=P[y],b=R&&typeof R.getType=="function"?R.getType():m??"itemvalue",c=C.Serializer.createClass(b);c.setData(R),R.originalItem&&(c.originalItem=R.originalItem),p.push(c)}},i.getData=function(p){for(var P=[],m=0;m<p.length;m++)P.push(p[m].getData());return P},i.getItemByValue=function(p,P){if(!Array.isArray(p))return null;for(var m=M.Helpers.isValueEmpty(P),y=0;y<p.length;y++)if(m&&M.Helpers.isValueEmpty(p[y].value)||M.Helpers.isTwoValueEquals(p[y].value,P,!1,!0,!1))return p[y];return null},i.getTextOrHtmlByValue=function(p,P){var m=i.getItemByValue(p,P);return m!==null?m.locText.textOrHtml:""},i.locStrsChanged=function(p){for(var P=0;P<p.length;P++)p[P].locStrsChanged()},i.runConditionsForItems=function(p,P,m,y,R,b,c){return b===void 0&&(b=!0),i.runConditionsForItemsCore(p,P,m,y,R,!0,b,c)},i.runEnabledConditionsForItems=function(p,P,m,y,R){return i.runConditionsForItemsCore(p,null,P,m,y,!1,!0,R)},i.runConditionsForItemsCore=function(p,P,m,y,R,b,c,E){c===void 0&&(c=!0),y||(y={});for(var I=y.item,A=y.choice,D=!1,O=0;O<p.length;O++){var l=p[O];y.item=l.value,y.choice=l.value;var o=c&&l.getConditionRunner?l.getConditionRunner(b):!1;o||(o=m);var v=!0;o&&(v=o.run(y,R)),E&&(v=E(l,v)),P&&v&&P.push(l);var T=b?l.isVisible:l.isEnabled;v!=T&&(D=!0,b?l.setIsVisible&&l.setIsVisible(v):l.setIsEnabled&&l.setIsEnabled(v))}return I?y.item=I:delete y.item,A?y.choice=A:delete y.choice,D},i.prototype.onCreating=function(){},i.prototype.getType=function(){return this.typeName?this.typeName:"itemvalue"},i.prototype.getSurvey=function(p){return this.locOwner&&this.locOwner.getSurvey?this.locOwner.getSurvey():null},i.prototype.getLocale=function(){return this.locOwner&&this.locOwner.getLocale?this.locOwner.getLocale():""},Object.defineProperty(i.prototype,"locText",{get:function(){return this.locTextValue},enumerable:!1,configurable:!0}),i.prototype.setLocText=function(p){this.locTextValue=p},Object.defineProperty(i.prototype,"locOwner",{get:function(){return this._locOwner},set:function(p){this._locOwner=p},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this.getPropertyValue("value")},set:function(p){var P=void 0;if(!M.Helpers.isValueEmpty(p)){var m=p.toString(),y=m.indexOf(x.settings.itemValueSeparator);y>-1&&(p=m.slice(0,y),P=m.slice(y+1))}this.setPropertyValue("value",p),P&&(this.text=P)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasText",{get:function(){return!!this.locText.pureText},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"pureText",{get:function(){return this.locText.pureText},set:function(p){this.text=p},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this.locText.calculatedText},set:function(p){this.locText.text=p},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"calculatedText",{get:function(){return this.locText.calculatedText},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shortcutText",{get:function(){return this.text},enumerable:!1,configurable:!0}),i.prototype.canSerializeValue=function(){var p=this.value;return p==null?!1:!Array.isArray(p)&&typeof p!="object"},i.prototype.getData=function(){var p=this.toJSON();if(p.value&&p.value.pos&&delete p.value.pos,M.Helpers.isValueEmpty(p.value))return p;var P=this.canSerializeValue(),m=!P||!x.settings.itemValueAlwaysSerializeAsObject&&!x.settings.itemValueAlwaysSerializeText;return m&&Object.keys(p).length==1?this.value:(x.settings.itemValueAlwaysSerializeText&&p.text===void 0&&P&&(p.text=this.value.toString()),p)},i.prototype.toJSON=function(){var p={},P=C.Serializer.getProperties(this.getType());(!P||P.length==0)&&(P=C.Serializer.getProperties("itemvalue"));for(var m=new C.JsonObject,y=0;y<P.length;y++){var R=P[y];R.name==="text"&&!this.locText.hasNonDefaultText()&&M.Helpers.isTwoValueEquals(this.value,this.text,!1,!0,!1)||m.valueToJson(this,p,R)}return p},i.prototype.setData=function(p){if(!M.Helpers.isValueEmpty(p)){if(typeof p.value<"u"){var P=void 0;typeof p.toJSON=="function"?P=p.toJSON():P=p,new C.JsonObject().toObject(P,this)}else this.value=p;this.locText.strChanged()}},Object.defineProperty(i.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(p){this.setPropertyValue("visibleIf",p)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(p){this.setPropertyValue("enableIf",p)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isVisible",{get:function(){return this.isVisibleValue},enumerable:!1,configurable:!0}),i.prototype.setIsVisible=function(p){this.isVisibleValue=p},Object.defineProperty(i.prototype,"isEnabled",{get:function(){return this.getPropertyValue("isEnabled",!0)},enumerable:!1,configurable:!0}),i.prototype.setIsEnabled=function(p){this.setPropertyValue("isEnabled",p)},i.prototype.addUsedLocales=function(p){this.AddLocStringToUsedLocales(this.locTextValue,p)},i.prototype.locStrsChanged=function(){f.prototype.locStrsChanged.call(this),this.locText.strChanged()},i.prototype.onPropertyValueChanged=function(p,P,m){p==="value"&&!this.hasText&&this.locText.onChanged();var y="itemValuePropertyChanged";!this.locOwner||!this.locOwner[y]||this.locOwner[y](this,p,P,m)},i.prototype.getConditionRunner=function(p){return p?this.getVisibleConditionRunner():this.getEnableConditionRunner()},i.prototype.getVisibleConditionRunner=function(){return this.visibleIf?(this.visibleConditionRunner||(this.visibleConditionRunner=new w.ConditionRunner(this.visibleIf)),this.visibleConditionRunner.expression=this.visibleIf,this.visibleConditionRunner):null},i.prototype.getEnableConditionRunner=function(){return this.enableIf?(this.enableConditionRunner||(this.enableConditionRunner=new w.ConditionRunner(this.enableIf)),this.enableConditionRunner.expression=this.enableIf,this.enableConditionRunner):null},i}(S.Base);S.Base.createItemValue=function(f,i){var p=null;return i?p=C.JsonObject.metaData.createClass(i,{}):typeof f.getType=="function"?p=new g(null,void 0,f.getType()):p=new g(null),p.setData(f),p},S.Base.itemValueLocStrChanged=function(f){g.locStrsChanged(f)},C.JsonObjectProperty.getItemValuesDefaultValue=function(f,i){var p=new Array;return g.setData(p,Array.isArray(f)?f:[],i),p},C.Serializer.addClass("itemvalue",["!value",{name:"text",serializationProperty:"locText"},{name:"visibleIf:condition",showMode:"form"},{name:"enableIf:condition",showMode:"form",visibleIf:function(f){return!f||f.ownerPropertyName!=="rateValues"}}],function(f){return new g(f)})},"./src/jsonobject.ts":function(a,r,t){t.r(r),t.d(r,"property",function(){return u}),t.d(r,"propertyArray",function(){return f}),t.d(r,"JsonObjectProperty",function(){return i}),t.d(r,"CustomPropertiesCollection",function(){return p}),t.d(r,"JsonMetadataClass",function(){return P}),t.d(r,"JsonMetadata",function(){return m}),t.d(r,"JsonError",function(){return y}),t.d(r,"JsonUnknownPropertyError",function(){return R}),t.d(r,"JsonMissingTypeErrorBase",function(){return b}),t.d(r,"JsonMissingTypeError",function(){return c}),t.d(r,"JsonIncorrectTypeError",function(){return E}),t.d(r,"JsonRequiredPropertyError",function(){return I}),t.d(r,"JsonObject",function(){return A}),t.d(r,"Serializer",function(){return D});var d=t("./src/surveyStrings.ts"),C=t("./src/base.ts"),M=t("./src/helpers.ts"),w=function(){var O=function(l,o){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,T){v.__proto__=T}||function(v,T){for(var L in T)Object.prototype.hasOwnProperty.call(T,L)&&(v[L]=T[L])},O(l,o)};return function(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");O(l,o);function v(){this.constructor=l}l.prototype=o===null?Object.create(o):(v.prototype=o.prototype,new v)}}(),S=function(O,l,o){if(o||arguments.length===2)for(var v=0,T=l.length,L;v<T;v++)(L||!(v in l))&&(L||(L=Array.prototype.slice.call(l,0,v)),L[v]=l[v]);return O.concat(L||Array.prototype.slice.call(l))};function x(O,l,o){var v=O.getLocalizableString(o);v||(v=O.createLocalizableString(o,O,!0),typeof l.localizable=="object"&&typeof l.localizable.onGetTextCallback=="function"&&(v.onGetTextCallback=l.localizable.onGetTextCallback))}function h(O,l,o){x(O,l,o);var v=O.getLocalizableStringText(o);return v||(typeof l.localizable=="object"&&l.localizable.defaultStr?d.surveyLocalization.getString(l.localizable.defaultStr):"")}function u(O){return function(l,o){var v=function(T,L){if(L&&typeof L=="object"&&L.type===C.ComputedUpdater.ComputedUpdaterType){C.Base.startCollectDependencies(function(){return T[o]=L.updater()},T,o);var V=L.updater(),_=C.Base.finishCollectDependencies();return L.setDependencies(_),V}return L};!O||!O.localizable?Object.defineProperty(l,o,{get:function(){var T=this.getPropertyValue(o);if(T!==void 0)return T;if(O){if(typeof O.getDefaultValue=="function")return O.getDefaultValue(this);if(O.defaultValue!==void 0)return O.defaultValue}},set:function(T){var L=v(this,T);this.setPropertyValue(o,L),O&&O.onSet&&O.onSet(L,this)}}):(Object.defineProperty(l,o,{get:function(){return h(this,O,o)},set:function(T){x(this,O,o);var L=v(this,T);this.setLocalizableStringText(o,L),O&&O.onSet&&O.onSet(L,this)}}),Object.defineProperty(l,typeof O.localizable=="object"&&O.localizable.name?O.localizable.name:"loc"+o.charAt(0).toUpperCase()+o.slice(1),{get:function(){return x(this,O,o),this.getLocalizableString(o)}}))}}function g(O,l,o){O.ensureArray(o,function(v,T){var L=l?l.onPush:null;L&&L(v,T,O)},function(v,T){var L=l?l.onRemove:null;L&&L(v,T,O)})}function f(O){return function(l,o){Object.defineProperty(l,o,{get:function(){return g(this,O,o),this.getPropertyValue(o)},set:function(v){g(this,O,o);var T=this.getPropertyValue(o);v!==T&&(T?T.splice.apply(T,S([0,T.length],v||[],!1)):this.setPropertyValue(o,v),O&&O.onSet&&O.onSet(v,this))}})}}var i=function(){function O(l,o,v){v===void 0&&(v=!1),this.name=o,this.isRequiredValue=!1,this.isUniqueValue=!1,this.isSerializable=!0,this.isLightSerializable=!0,this.isCustom=!1,this.isDynamicChoices=!1,this.isBindable=!1,this.category="",this.categoryIndex=-1,this.visibleIndex=-1,this.maxLength=-1,this.isArray=!1,this.classInfoValue=l,this.isRequiredValue=v,this.idValue=O.Index++}return Object.defineProperty(O.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"classInfo",{get:function(){return this.classInfoValue},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"type",{get:function(){return this.typeValue?this.typeValue:"string"},set:function(l){l==="itemvalues"&&(l="itemvalue[]"),l==="textitems"&&(l="textitem[]"),this.typeValue=l,this.typeValue.indexOf("[]")===this.typeValue.length-2&&(this.isArray=!0,this.className=this.typeValue.substr(0,this.typeValue.length-2))},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isRequired",{get:function(){return this.isRequiredValue},set:function(l){this.isRequiredValue=l},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isUnique",{get:function(){return this.isUniqueValue},set:function(l){this.isUniqueValue=l},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"hasToUseGetValue",{get:function(){return this.onGetValue||this.serializationProperty},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"defaultValue",{get:function(){var l=this.defaultValueValue;return O.getItemValuesDefaultValue&&A.metaData.isDescendantOf(this.className,"itemvalue")&&(l=O.getItemValuesDefaultValue(this.defaultValueValue||[],this.className)),l},set:function(l){this.defaultValueValue=l},enumerable:!1,configurable:!0}),O.prototype.isDefaultValue=function(l){return M.Helpers.isValueEmpty(this.defaultValue)?l===!1&&(this.type=="boolean"||this.type=="switch")||l===""||M.Helpers.isValueEmpty(l):M.Helpers.isTwoValueEquals(l,this.defaultValue,!1,!0,!1)},O.prototype.getValue=function(l){return this.onGetValue?this.onGetValue(l):this.serializationProperty&&l[this.serializationProperty]?l[this.serializationProperty].getJson():l[this.name]},O.prototype.getPropertyValue=function(l){return this.isLocalizable?l[this.serializationProperty]?l[this.serializationProperty].text:null:this.getValue(l)},Object.defineProperty(O.prototype,"hasToUseSetValue",{get:function(){return this.onSetValue||this.serializationProperty},enumerable:!1,configurable:!0}),O.prototype.setValue=function(l,o,v){this.onSetValue?this.onSetValue(l,o,v):this.serializationProperty&&l[this.serializationProperty]?l[this.serializationProperty].setJson(o):(o&&typeof o=="string"&&(this.type=="number"&&(o=parseInt(o)),(this.type=="boolean"||this.type=="switch")&&(o=o.toLowerCase()==="true")),l[this.name]=o)},O.prototype.getObjType=function(l){return this.classNamePart?l.replace(this.classNamePart,""):l},O.prototype.getClassName=function(l){return l&&(l=l.toLowerCase()),this.classNamePart&&l.indexOf(this.classNamePart)<0?l+this.classNamePart:l},Object.defineProperty(O.prototype,"choices",{get:function(){return this.getChoices(null)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"hasChoices",{get:function(){return!!this.choicesValue||!!this.choicesfunc},enumerable:!1,configurable:!0}),O.prototype.getChoices=function(l,o){return o===void 0&&(o=null),this.choicesValue!=null?this.choicesValue:this.choicesfunc!=null?this.choicesfunc(l,o):null},O.prototype.setChoices=function(l,o){o===void 0&&(o=null),this.choicesValue=l,this.choicesfunc=o},O.prototype.getBaseValue=function(){return this.baseValue?typeof this.baseValue=="function"?this.baseValue():this.baseValue:""},O.prototype.setBaseValue=function(l){this.baseValue=l},Object.defineProperty(O.prototype,"readOnly",{get:function(){return this.readOnlyValue!=null?this.readOnlyValue:!1},set:function(l){this.readOnlyValue=l},enumerable:!1,configurable:!0}),O.prototype.isVisible=function(l,o){o===void 0&&(o=null);var v=!this.layout||this.layout==l;return!this.visible||!v?!1:this.visibleIf&&o?this.visibleIf(o):!0},Object.defineProperty(O.prototype,"visible",{get:function(){return this.visibleValue!=null?this.visibleValue:!0},set:function(l){this.visibleValue=l},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isLocalizable",{get:function(){return this.isLocalizableValue!=null?this.isLocalizableValue:!1},set:function(l){this.isLocalizableValue=l},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"dataList",{get:function(){return Array.isArray(this.dataListValue)?this.dataListValue:[]},set:function(l){this.dataListValue=l},enumerable:!1,configurable:!0}),O.prototype.mergeWith=function(l){for(var o=O.mergableValues,v=0;v<o.length;v++)this.mergeValue(l,o[v])},O.prototype.addDependedProperty=function(l){this.dependedProperties||(this.dependedProperties=[]),this.dependedProperties.indexOf(l)<0&&this.dependedProperties.push(l)},O.prototype.getDependedProperties=function(){return this.dependedProperties?this.dependedProperties:[]},O.prototype.schemaType=function(){return this.className||this.baseClassName?"array":this.type=="boolean"||this.type=="number"?this.type:"string"},O.prototype.mergeValue=function(l,o){this[o]==null&&l[o]!=null&&(this[o]=l[o])},O.Index=1,O.mergableValues=["typeValue","choicesValue","baseValue","readOnlyValue","visibleValue","isSerializable","isLightSerializable","isCustom","isBindable","isUnique","isDynamicChoices","isLocalizableValue","className","alternativeName","layout","classNamePart","baseClassName","defaultValue","serializationProperty","onGetValue","onSetValue","displayName","category","categoryIndex","visibleIndex","nextToProperty","showMode","dependedProperties","visibleIf","onExecuteExpression","onPropertyEditorUpdate","maxLength","maxValue","minValue","dataListValue"],O}(),p=function(){function O(){}return O.addProperty=function(l,o){l=l.toLowerCase();var v=O.properties;v[l]||(v[l]=[]),v[l].push(o)},O.removeProperty=function(l,o){l=l.toLowerCase();var v=O.properties;if(v[l]){for(var T=v[l],L=0;L<T.length;L++)if(T[L].name==o){v[l].splice(L,1);break}}},O.addClass=function(l,o){l=l.toLowerCase(),o&&(o=o.toLowerCase()),O.parentClasses[l]=o},O.getProperties=function(l){l=l.toLowerCase();for(var o=[],v=O.properties;l;){var T=v[l];if(T)for(var L=0;L<T.length;L++)o.push(T[L]);l=O.parentClasses[l]}return o},O.createProperties=function(l){!l||!l.getType||O.createPropertiesCore(l,l.getType())},O.createPropertiesCore=function(l,o){var v=O.properties;v[o]&&O.createPropertiesInObj(l,v[o]);var T=O.parentClasses[o];T&&O.createPropertiesCore(l,T)},O.createPropertiesInObj=function(l,o){for(var v=0;v<o.length;v++)O.createPropertyInObj(l,o[v])},O.createPropertyInObj=function(l,o){if(!(l[o.name]||l.hasOwnProperty(o.name))){if(o.isLocalizable&&o.serializationProperty&&!l[o.serializationProperty]&&l.createCustomLocalizableObj){l.createCustomLocalizableObj(o.name);var v={get:function(){return l.getLocalizableString(o.name)}};Object.defineProperty(l,o.serializationProperty,v);var T={get:function(){return l.getLocalizableStringText(o.name,o.defaultValue)},set:function(_){l.setLocalizableStringText(o.name,_)}};Object.defineProperty(l,o.name,T)}else{var L=o.defaultValue,V=!1;if(typeof l.createNewArray=="function"&&(A.metaData.isDescendantOf(o.className,"itemvalue")&&(l.createNewArray(o.name,function(_){_.locOwner=l,_.ownerPropertyName=o.name}),V=!0),o.type==="multiplevalues"&&(l.createNewArray(o.name),V=!0),V&&(Array.isArray(L)&&l.setPropertyValue(o.name,L),L=null)),l.getPropertyValue&&l.setPropertyValue){var T={get:function(){return o.onGetValue?o.onGetValue(l):l.getPropertyValue(o.name,L)},set:function(B){o.onSetValue?o.onSetValue(l,B,null):l.setPropertyValue(o.name,B)}};Object.defineProperty(l,o.name,T)}}(o.type==="condition"||o.type==="expression")&&o.onExecuteExpression&&l.addExpressionProperty(o.name,o.onExecuteExpression)}},O.properties={},O.parentClasses={},O}(),P=function(){function O(l,o,v,T){v===void 0&&(v=null),T===void 0&&(T=null),this.name=l,this.creator=v,this.parentName=T,this.properties=null,l=l.toLowerCase(),this.parentName&&(this.parentName=this.parentName.toLowerCase(),p.addClass(l,this.parentName)),this.properties=new Array;for(var L=0;L<o.length;L++){var V=this.createProperty(o[L]);V&&this.properties.push(V)}}return O.prototype.find=function(l){for(var o=0;o<this.properties.length;o++)if(this.properties[o].name==l)return this.properties[o];return null},O.prototype.createProperty=function(l){var o=typeof l=="string"?l:l.name;if(o){var v=null,T=o.indexOf(O.typeSymbol);T>-1&&(v=o.substring(T+1),o=o.substring(0,T));var L=this.getIsPropertyNameRequired(o)||!!l.isRequired;o=this.getPropertyName(o);var V=new i(this,o,L);if(v&&(V.type=v),typeof l=="object"){if(l.type&&(V.type=l.type),M.Helpers.isValueEmpty(l.default)||(V.defaultValue=l.default),M.Helpers.isValueEmpty(l.isSerializable)||(V.isSerializable=l.isSerializable),M.Helpers.isValueEmpty(l.isLightSerializable)||(V.isLightSerializable=l.isLightSerializable),M.Helpers.isValueEmpty(l.maxLength)||(V.maxLength=l.maxLength),M.Helpers.isValueEmpty(l.displayName)||(V.displayName=l.displayName),M.Helpers.isValueEmpty(l.category)||(V.category=l.category),M.Helpers.isValueEmpty(l.categoryIndex)||(V.categoryIndex=l.categoryIndex),M.Helpers.isValueEmpty(l.nextToProperty)||(V.nextToProperty=l.nextToProperty),M.Helpers.isValueEmpty(l.visibleIndex)||(V.visibleIndex=l.visibleIndex),M.Helpers.isValueEmpty(l.showMode)||(V.showMode=l.showMode),M.Helpers.isValueEmpty(l.maxValue)||(V.maxValue=l.maxValue),M.Helpers.isValueEmpty(l.minValue)||(V.minValue=l.minValue),M.Helpers.isValueEmpty(l.dataList)||(V.dataList=l.dataList),M.Helpers.isValueEmpty(l.isDynamicChoices)||(V.isDynamicChoices=l.isDynamicChoices),M.Helpers.isValueEmpty(l.isBindable)||(V.isBindable=l.isBindable),M.Helpers.isValueEmpty(l.isUnique)||(V.isUnique=l.isUnique),(l.visible===!0||l.visible===!1)&&(V.visible=l.visible),l.visibleIf&&(V.visibleIf=l.visibleIf),l.onExecuteExpression&&(V.onExecuteExpression=l.onExecuteExpression),l.onPropertyEditorUpdate&&(V.onPropertyEditorUpdate=l.onPropertyEditorUpdate),l.readOnly===!0&&(V.readOnly=!0),l.choices){var _=typeof l.choices=="function"?l.choices:null,B=typeof l.choices!="function"?l.choices:null;V.setChoices(B,_)}l.baseValue&&V.setBaseValue(l.baseValue),l.onGetValue&&(V.onGetValue=l.onGetValue),l.onSetValue&&(V.onSetValue=l.onSetValue),l.isLocalizable&&(l.serializationProperty="loc"+V.name),l.serializationProperty&&(V.serializationProperty=l.serializationProperty,V.serializationProperty&&V.serializationProperty.indexOf("loc")==0&&(V.isLocalizable=!0)),l.isLocalizable&&(V.isLocalizable=l.isLocalizable),l.className&&(V.className=l.className),l.baseClassName&&(V.baseClassName=l.baseClassName),l.classNamePart&&(V.classNamePart=l.classNamePart),l.alternativeName&&(V.alternativeName=l.alternativeName),l.layout&&(V.layout=l.layout),l.dependsOn&&this.addDependsOnProperties(V,l.dependsOn)}return V}},O.prototype.addDependsOnProperties=function(l,o){if(Array.isArray(o))for(var v=0;v<o.length;v++)this.addDependsOnProperty(l,o[v]);else this.addDependsOnProperty(l,o)},O.prototype.addDependsOnProperty=function(l,o){var v=this.find(o);v||(v=D.findProperty(this.parentName,o)),v&&v.addDependedProperty(l.name)},O.prototype.getIsPropertyNameRequired=function(l){return l.length>0&&l[0]==O.requiredSymbol},O.prototype.getPropertyName=function(l){return this.getIsPropertyNameRequired(l)&&(l=l.slice(1)),l},O.requiredSymbol="!",O.typeSymbol=":",O}(),m=function(){function O(){this.classes={},this.alternativeNames={},this.childrenClasses={},this.classProperties={},this.classHashProperties={}}return O.prototype.getObjPropertyValue=function(l,o){if(this.isObjWrapper(l)){var v=l.getOriginalObj(),T=D.findProperty(v.getType(),o);if(T)return this.getObjPropertyValueCore(v,T)}var T=D.findProperty(l.getType(),o);return T?this.getObjPropertyValueCore(l,T):l[o]},O.prototype.setObjPropertyValue=function(l,o,v){l[o]!==v&&(l[o]&&l[o].setJson?l[o].setJson(v):l[o]=v)},O.prototype.getObjPropertyValueCore=function(l,o){if(!o.isSerializable)return l[o.name];if(o.isLocalizable){if(o.isArray)return l[o.name];if(o.serializationProperty)return l[o.serializationProperty].text}return l.getPropertyValue(o.name)},O.prototype.isObjWrapper=function(l){return!!l.getOriginalObj&&!!l.getOriginalObj()},O.prototype.addClass=function(l,o,v,T){v===void 0&&(v=null),T===void 0&&(T=null),l=l.toLowerCase();var L=new P(l,o,v,T);if(this.classes[l]=L,T){T=T.toLowerCase();var V=this.childrenClasses[T];V||(this.childrenClasses[T]=[]),this.childrenClasses[T].push(L)}return L},O.prototype.removeClass=function(l){var o=this.findClass(l);if(o&&(delete this.classes[o.name],o.parentName)){var v=this.childrenClasses[o.parentName].indexOf(o);v>-1&&this.childrenClasses[o.parentName].splice(v,1)}},O.prototype.overrideClassCreatore=function(l,o){this.overrideClassCreator(l,o)},O.prototype.overrideClassCreator=function(l,o){l=l.toLowerCase();var v=this.findClass(l);v&&(v.creator=o)},O.prototype.getProperties=function(l){var o=this.findClass(l);if(!o)return[];var v=this.classProperties[o.name];return v||(this.fillPropertiesForClass(o.name),this.classProperties[o.name])},O.prototype.getHashProperties=function(l){var o=this.findClass(l);if(!o)return{};var v=this.classHashProperties[o.name];return v||(this.fillPropertiesForClass(o.name),this.classHashProperties[o.name])},O.prototype.fillPropertiesForClass=function(l){var o=new Array,v={};this.fillProperties(l,o,v),this.classProperties[l]=o,this.classHashProperties[l]=v},O.prototype.getPropertiesByObj=function(l){if(!l||!l.getType)return[];for(var o={},v=this.getProperties(l.getType()),T=0;T<v.length;T++)o[v[T].name]=v[T];var L=l.getDynamicType?this.getProperties(l.getDynamicType()):null;if(L&&L.length>0)for(var T=0;T<L.length;T++){var V=L[T];o[V.name]||(o[V.name]=V)}return Object.keys(o).map(function(_){return o[_]})},O.prototype.getDynamicPropertiesByObj=function(l,o){if(o===void 0&&(o=null),!l||!l.getType||!l.getDynamicType&&!o)return[];var v=o||l.getDynamicType();if(!v)return[];var T=this.getProperties(v);if(!T||T.length==0)return[];for(var L={},V=this.getProperties(l.getType()),_=0;_<V.length;_++)L[V[_].name]=V[_];for(var B=[],_=0;_<T.length;_++){var k=T[_];L[k.name]||B.push(k)}return B},O.prototype.hasOriginalProperty=function(l,o){return!!this.getOriginalProperty(l,o)},O.prototype.getOriginalProperty=function(l,o){var v=this.findProperty(l.getType(),o);return v||(this.isObjWrapper(l)?this.findProperty(l.getOriginalObj().getType(),o):null)},O.prototype.getProperty=function(l,o){var v=this.findProperty(l,o);if(!v)return v;var T=this.findClass(l);if(v.classInfo===T)return v;var L=new i(T,o,v.isRequired);return L.mergeWith(v),L.isArray=v.isArray,T.properties.push(L),this.emptyClassPropertiesHash(T),L},O.prototype.findProperty=function(l,o){var v=this.getHashProperties(l),T=v[o];return T||null},O.prototype.findProperties=function(l,o){for(var v=[],T=this.getHashProperties(l),L=0;L<o.length;L++){var V=T[o[L]];V&&v.push(V)}return v},O.prototype.getAllPropertiesByName=function(l){for(var o=new Array,v=this.getAllClasses(),T=0;T<v.length;T++)for(var L=this.findClass(v[T]),V=0;V<L.properties.length;V++)if(L.properties[V].name==l){o.push(L.properties[V]);break}return o},O.prototype.getAllClasses=function(){var l=new Array;for(var o in this.classes)l.push(o);return l},O.prototype.createClass=function(l,o){o===void 0&&(o=void 0),l=l.toLowerCase();var v=this.findClass(l);if(!v)return null;if(v.creator)return v.creator(o);for(var T=v.parentName;T;){if(v=this.findClass(T),!v)return null;if(T=v.parentName,v.creator)return this.createCustomType(l,v.creator,o)}return null},O.prototype.createCustomType=function(l,o,v){v===void 0&&(v=void 0),l=l.toLowerCase();var T=o(v),L=l,V=T.getTemplate?T.getTemplate():T.getType();return T.getType=function(){return L},T.getTemplate=function(){return V},p.createProperties(T),T},O.prototype.getChildrenClasses=function(l,o){o===void 0&&(o=!1),l=l.toLowerCase();var v=[];return this.fillChildrenClasses(l,o,v),v},O.prototype.getRequiredProperties=function(l){for(var o=this.getProperties(l),v=[],T=0;T<o.length;T++)o[T].isRequired&&v.push(o[T].name);return v},O.prototype.addProperties=function(l,o){l=l.toLowerCase();for(var v=this.findClass(l),T=0;T<o.length;T++)this.addCustomPropertyCore(v,o[T])},O.prototype.addProperty=function(l,o){return this.addCustomPropertyCore(this.findClass(l),o)},O.prototype.addCustomPropertyCore=function(l,o){if(!l)return null;var v=l.createProperty(o);return v&&(v.isCustom=!0,this.addPropertyToClass(l,v),this.emptyClassPropertiesHash(l),p.addProperty(l.name,v)),v},O.prototype.removeProperty=function(l,o){var v=this.findClass(l);if(!v)return!1;var T=v.find(o);T&&(this.removePropertyFromClass(v,T),this.emptyClassPropertiesHash(v),p.removeProperty(v.name,o))},O.prototype.addPropertyToClass=function(l,o){l.find(o.name)==null&&l.properties.push(o)},O.prototype.removePropertyFromClass=function(l,o){var v=l.properties.indexOf(o);v<0||l.properties.splice(v,1)},O.prototype.emptyClassPropertiesHash=function(l){this.classProperties[l.name]=null,this.classHashProperties[l.name]=null;for(var o=this.getChildrenClasses(l.name),v=0;v<o.length;v++)this.classProperties[o[v].name]=null,this.classHashProperties[o[v].name]=null},O.prototype.fillChildrenClasses=function(l,o,v){var T=this.childrenClasses[l];if(T)for(var L=0;L<T.length;L++)(!o||T[L].creator)&&v.push(T[L]),this.fillChildrenClasses(T[L].name,o,v)},O.prototype.findClass=function(l){l=l.toLowerCase();var o=this.classes[l];if(!o){var v=this.alternativeNames[l];if(v&&v!=l)return this.findClass(v)}return o},O.prototype.isDescendantOf=function(l,o){if(!l||!o)return!1;l=l.toLowerCase(),o=o.toLowerCase();var v=this.findClass(l);if(!v)return!1;var T=v;do{if(T.name===o)return!0;T=this.classes[T.parentName]}while(T);return!1},O.prototype.addAlterNativeClassName=function(l,o){this.alternativeNames[o.toLowerCase()]=l.toLowerCase()},O.prototype.generateSchema=function(l){l===void 0&&(l=void 0),l||(l="survey");var o=this.findClass(l);if(!o)return null;var v={$schema:"http://json-schema.org/draft-07/schema#",title:"SurveyJS Library json schema",type:"object",properties:{},definitions:{}};return this.generateSchemaProperties(o,v.properties,v.definitions),v},O.prototype.generateSchemaProperties=function(l,o,v){if(l)for(var T=0;T<l.properties.length;T++){var L=l.properties[T];o[L.name]=this.generateSchemaProperty(L,v)}},O.prototype.generateSchemaProperty=function(l,o){var v={type:l.schemaType()};if(l.hasChoices&&(v.enum=l.getChoices(null)),l.className&&(v.items={$ref:"#"+l.className},this.generateChemaClass(l.className,o)),l.baseClassName){var T=this.getChildrenClasses(l.baseClassName,!0);l.baseClassName=="question"&&T.push(this.findClass("panel")),v.items=[];for(var L=0;L<T.length;L++){var V=T[L].name;v.items.push({$ref:"#"+V}),this.generateChemaClass(V,o)}}return v},O.prototype.generateChemaClass=function(l,o){if(!o[l]){var v=this.findClass(l);if(v){var T=!!v.parentName&&v.parentName!="base";T&&this.generateChemaClass(v.parentName,o);var L={type:"object",$id:"#"+l};o[l]=L;var V={};this.generateSchemaProperties(v,V,o),T?L.allOff=[{$ref:"#"+v.parentName},{properties:V}]:L.properties=V}}},O.prototype.fillProperties=function(l,o,v){var T=this.findClass(l);if(T){T.parentName&&this.fillProperties(T.parentName,o,v);for(var L=0;L<T.properties.length;L++){var V=T.properties[L];this.addPropertyCore(V,o,v),v[V.name]=V}}},O.prototype.addPropertyCore=function(l,o,v){if(!v[l.name]){o.push(l);return}for(var T=-1,L=0;L<o.length;L++)if(o[L].name==l.name){T=L;break}l.mergeWith(o[T]),o[T]=l},O}(),y=function(){function O(l,o){this.type=l,this.message=o,this.description="",this.at=-1}return O.prototype.getFullDescription=function(){return this.message+(this.description?`
`+this.description:"")},O}(),R=function(O){w(l,O);function l(o,v){var T=O.call(this,"unknownproperty","The property '"+o+"' in class '"+v+"' is unknown.")||this;T.propertyName=o,T.className=v;var L=A.metaData.getProperties(v);if(L){T.description="The list of available properties are: ";for(var V=0;V<L.length;V++)V>0&&(T.description+=", "),T.description+=L[V].name;T.description+="."}return T}return l}(y),b=function(O){w(l,O);function l(o,v,T){var L=O.call(this,v,T)||this;L.baseClassName=o,L.type=v,L.message=T,L.description="The following types are available: ";for(var V=A.metaData.getChildrenClasses(o,!0),_=0;_<V.length;_++)_>0&&(L.description+=", "),L.description+="'"+V[_].name+"'";return L.description+=".",L}return l}(y),c=function(O){w(l,O);function l(o,v){var T=O.call(this,v,"missingtypeproperty","The property type is missing in the object. Please take a look at property: '"+o+"'.")||this;return T.propertyName=o,T.baseClassName=v,T}return l}(b),E=function(O){w(l,O);function l(o,v){var T=O.call(this,v,"incorrecttypeproperty","The property type is incorrect in the object. Please take a look at property: '"+o+"'.")||this;return T.propertyName=o,T.baseClassName=v,T}return l}(b),I=function(O){w(l,O);function l(o,v){var T=O.call(this,"requiredproperty","The property '"+o+"' is required in class '"+v+"'.")||this;return T.propertyName=o,T.className=v,T}return l}(y),A=function(){function O(){this.errors=new Array,this.lightSerializing=!1}return Object.defineProperty(O,"metaData",{get:function(){return O.metaDataValue},enumerable:!1,configurable:!0}),O.prototype.toJsonObject=function(l,o){return o===void 0&&(o=!1),this.toJsonObjectCore(l,null,o)},O.prototype.toObject=function(l,o){this.toObjectCore(l,o);var v=this.getRequiredError(o,l);v&&this.addNewError(v,l)},O.prototype.toObjectCore=function(l,o){if(l){var v=null,T=void 0,L=!0;if(o.getType&&(T=o.getType(),v=O.metaData.getProperties(T),L=!!T&&!O.metaData.isDescendantOf(T,"itemvalue")),!!v){o.startLoadingFromJson&&o.startLoadingFromJson(),v=this.addDynamicProperties(o,l,v);for(var V in l)if(V!==O.typePropertyName){if(V===O.positionPropertyName){o[V]=l[V];continue}var _=this.findProperty(v,V);if(!_){L&&this.addNewError(new R(V.toString(),T),l);continue}this.valueToObj(l[V],o,_)}o.endLoadingFromJson&&o.endLoadingFromJson()}}},O.prototype.toJsonObjectCore=function(l,o,v){if(v===void 0&&(v=!1),!l||!l.getType)return l;if(typeof l.getData=="function")return l.getData();var T={};return o!=null&&!o.className&&(T[O.typePropertyName]=o.getObjType(l.getType())),this.propertiesToJson(l,O.metaData.getProperties(l.getType()),T,v),this.propertiesToJson(l,this.getDynamicProperties(l),T,v),T},O.prototype.getDynamicProperties=function(l){return D.getDynamicPropertiesByObj(l)},O.prototype.addDynamicProperties=function(l,o,v){if(!l.getDynamicPropertyName)return v;var T=l.getDynamicPropertyName();if(!T)return v;o[T]&&(l[T]=o[T]);for(var L=this.getDynamicProperties(l),V=[],_=0;_<v.length;_++)V.push(v[_]);for(var _=0;_<L.length;_++)V.push(L[_]);return V},O.prototype.propertiesToJson=function(l,o,v,T){T===void 0&&(T=!1);for(var L=0;L<o.length;L++)this.valueToJson(l,v,o[L],T)},O.prototype.valueToJson=function(l,o,v,T){if(T===void 0&&(T=!1),!(v.isSerializable===!1||v.isLightSerializable===!1&&this.lightSerializing)){var L=v.getValue(l);if(!(!T&&v.isDefaultValue(L))){if(this.isValueArray(L)){for(var V=[],_=0;_<L.length;_++)V.push(this.toJsonObjectCore(L[_],v,T));L=V.length>0?V:null}else L=this.toJsonObjectCore(L,v,T);var B=typeof l.getPropertyValue=="function"&&l.getPropertyValue(v.name,null)!==null;(T&&B||!v.isDefaultValue(L))&&(o[v.name]=L)}}},O.prototype.valueToObj=function(l,o,v){if(l!=null){if(this.removePos(v,l),v!=null&&v.hasToUseSetValue){v.setValue(o,l,this);return}if(this.isValueArray(l)){this.valueToArray(l,o,v.name,v);return}var T=this.createNewObj(l,v);T.newObj&&(this.toObjectCore(l,T.newObj),l=T.newObj),T.error||(v!=null?v.setValue(o,l,this):o[v.name]=l)}},O.prototype.removePos=function(l,o){!l||!l.type||l.type.indexOf("value")<0||this.removePosFromObj(o)},O.prototype.removePosFromObj=function(l){if(l){if(Array.isArray(l))for(var o=0;o<l.length;o++)this.removePosFromObj(l[o]);l[O.positionPropertyName]&&delete l[O.positionPropertyName]}},O.prototype.isValueArray=function(l){return l&&Array.isArray(l)},O.prototype.createNewObj=function(l,o){var v={newObj:null,error:null},T=l[O.typePropertyName];return!T&&o!=null&&o.className&&(T=o.className),T=o.getClassName(T),v.newObj=T?O.metaData.createClass(T,l):null,v.error=this.checkNewObjectOnErrors(v.newObj,l,o,T),v},O.prototype.checkNewObjectOnErrors=function(l,o,v,T){var L=null;return l?L=this.getRequiredError(l,o):v.baseClassName&&(T?L=new E(v.name,v.baseClassName):L=new c(v.name,v.baseClassName)),L&&this.addNewError(L,o),L},O.prototype.getRequiredError=function(l,o){if(!l.getType||typeof l.getData=="function")return null;var v=l.getType(),T=O.metaData.getRequiredProperties(v);if(!T)return null;for(var L=0;L<T.length;L++)if(!o[T[L]])return new I(T[L],v);return null},O.prototype.addNewError=function(l,o){o&&o[O.positionPropertyName]&&(l.at=o[O.positionPropertyName].start),this.errors.push(l)},O.prototype.valueToArray=function(l,o,v,T){o[v]&&l.length>0&&o[v].splice(0,o[v].length);var L=o[v]?o[v]:[];this.addValuesIntoArray(l,L,T),o[v]||(o[v]=L)},O.prototype.addValuesIntoArray=function(l,o,v){for(var T=0;T<l.length;T++){var L=this.createNewObj(l[T],v);L.newObj?(l[T].name&&(L.newObj.name=l[T].name),o.push(L.newObj),this.toObjectCore(l[T],L.newObj)):L.error||o.push(l[T])}},O.prototype.findProperty=function(l,o){if(!l)return null;for(var v=0;v<l.length;v++){var T=l[v];if(T.name==o||T.alternativeName==o)return T}return null},O.typePropertyName="type",O.positionPropertyName="pos",O.metaDataValue=new m,O}(),D=A.metaData},"./src/knockout/components/action-bar/action-bar-item-dropdown.html":function(a,r){a.exports=`<!-- ko with: $data.item -->
<button class="sv-action-bar-item-dropdown" type="button"
  data-bind="click: action, key2click: { processEsc: false }, css: getActionBarItemCss(), attr: { disabled: $data.enabled !== undefined && !ko.unwrap($data.enabled), title: $data.tooltip || $data.title }">
  <!-- ko if: $data.iconName -->
  <sv-svg-icon data-bind="css: $data.cssClasses.itemIcon" params="iconName: iconName, size: iconSize"></sv-svg-icon>
  <!-- /ko -->
  <!-- ko if: $data.hasTitle -->
  <span data-bind="text: title, css: getActionBarItemTitleCss()"></span>
  <!-- /ko -->
  <sv-popup params="model: popupModel"></sv-popup>
</button>
<!-- /ko -->`},"./src/knockout/components/action-bar/action-bar-item-dropdown.ts":function(a,r,t){t.r(r),t.d(r,"ActionBarItemDropdownViewModel",function(){return w});var d=t("knockout"),C=t("./src/entries/core.ts"),M=t("./src/knockout/components/action-bar/action-bar-item-dropdown.html"),w;d.components.register("sv-action-bar-item-dropdown",{viewModel:{createViewModel:function(S){return new C.ActionDropdownViewModel(S.item)}},template:M})},"./src/knockout/components/action-bar/action-bar-item.html":function(a,r){a.exports=`<!-- ko with: $data.item -->
<button
  type="button"
  data-bind="click: action, key2click: { processEsc: false }, disable: $data.disabled, css: getActionBarItemCss(), attr: { title: $data.tooltip || $data.title }"
>
  <!-- ko if: $data.iconName -->
  <!-- ko component: { name: 'sv-svg-icon', params: { css: $data.cssClasses.itemIcon, iconName: iconName, size: iconSize } } --><!-- /ko -->
  <!-- /ko -->
  <!-- ko if: $data.hasTitle -->
  <span
    data-bind="text: title, css: getActionBarItemTitleCss()"
  ></span>
  <!-- /ko -->
</button>
<!-- /ko -->`},"./src/knockout/components/action-bar/action-bar-item.ts":function(a,r,t){t.r(r),t.d(r,"ActionBarItemViewModel",function(){return M});var d=t("knockout"),C=t("./src/knockout/components/action-bar/action-bar-item.html"),M;d.components.register("sv-action-bar-item",{viewModel:{createViewModel:function(w){return w}},template:C})},"./src/knockout/components/action-bar/action-bar-separator.html":function(a,r){a.exports='<div class="sv-action-bar-separator" data-bind="css: $data.css"></div>'},"./src/knockout/components/action-bar/action-bar-separator.ts":function(a,r,t){t.r(r),t.d(r,"ActionBarSeparatorViewModel",function(){return M});var d=t("knockout"),C=t("./src/knockout/components/action-bar/action-bar-separator.html"),M;d.components.register("sv-action-bar-separator",{viewModel:{createViewModel:function(w,S){var x=w.item;return x?{css:x.innerCss}:{}}},template:C})},"./src/knockout/components/action-bar/action-bar.html":function(a,r){a.exports=`<!-- ko if: model.hasActions -->
<div
  data-bind="css: model.getRootCss(), click: handleClick ? function() { return true; } : undefined, clickBubble: handleClick ? false : undefined"
>
  <!-- ko foreach: model.renderedActions -->
  <!-- ko component: { name: 'sv-action', params: { item: $data } } -->
  <!-- /ko -->
  <!--/ko-->
</div>
<!--/ko-->
`},"./src/knockout/components/action-bar/action-bar.ts":function(a,r,t){t.r(r),t.d(r,"ActionContainerImplementor",function(){return u});var d=t("knockout"),C=t("./src/knockout/kobase.ts");t("./src/knockout/components/action-bar/action.ts");var M=t("./src/knockout/components/action-bar/action-bar-item.ts");t.d(r,"ActionBarItemViewModel",function(){return M.ActionBarItemViewModel});var w=t("./src/knockout/components/action-bar/action-bar-item-dropdown.ts");t.d(r,"ActionBarItemDropdownViewModel",function(){return w.ActionBarItemDropdownViewModel});var S=t("./src/knockout/components/action-bar/action-bar-separator.ts");t.d(r,"ActionBarSeparatorViewModel",function(){return S.ActionBarSeparatorViewModel});var x=function(){var g=function(f,i){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,P){p.__proto__=P}||function(p,P){for(var m in P)Object.prototype.hasOwnProperty.call(P,m)&&(p[m]=P[m])},g(f,i)};return function(f,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");g(f,i);function p(){this.constructor=f}f.prototype=i===null?Object.create(i):(p.prototype=i.prototype,new p)}}(),h=t("./src/knockout/components/action-bar/action-bar.html"),u=function(g){x(f,g);function f(i,p){p===void 0&&(p=!0);var P=g.call(this,i)||this;return P.model=i,P.handleClick=p,P.itemsSubscription=d.computed(function(){(i.renderedActions||i.items||i.actions).forEach(function(m){m.stateItem?new C.ImplementorBase(m.stateItem):new C.ImplementorBase(m)})}),P}return f.prototype.dispose=function(){g.prototype.dispose.call(this),this.itemsSubscription.dispose(),this.model.resetResponsivityManager()},f}(C.ImplementorBase);d.components.register("sv-action-bar",{viewModel:{createViewModel:function(g,f){var i=g.handleClick!==void 0?g.handleClick:!0,p=g.model,P=f.element.nextElementSibling;return g.model.initResponsivityManager(P),new u(p,i)}},template:h})},"./src/knockout/components/action-bar/action.html":function(a,r){a.exports=`<!-- ko with: $data.item -->\r
<div data-bind="class: $data.getActionRootCss(), attr: { id: $data.id }">\r
    <!-- ko ifnot: $data.isEmpty -->\r
    <div class="sv-action__content">\r
        <!-- ko if: $data.needSeparator -->\r
        <sv-action-bar-separator></sv-action-bar-separator>\r
        <!-- /ko -->\r
        <!-- ko ifnot: $data.template-->\r
        <!-- ko component: { name: $data.component || 'sv-action-bar-item', params: { item: $data } } -->\r
        <!-- /ko -->\r
        <!-- /ko -->\r
        <!-- ko if: $data.template  -->\r
        <!-- ko template: { name: $data.template, data: $data.data || $data } -->\r
        <!-- /ko -->\r
        <!-- /ko -->\r
    </div>\r
    <!-- /ko -->\r
</div>\r
<!-- /ko -->`},"./src/knockout/components/action-bar/action.ts":function(a,r,t){t.r(r);var d=t("knockout"),C=t("./src/knockout/kobase.ts"),M=t("./src/knockout/components/action-bar/action.html");d.components.register("sv-action",{viewModel:{createViewModel:function(w){var S=w.item;return new C.ImplementorBase(S),w}},template:M})},"./src/knockout/components/boolean-checkbox/boolean-checkbox.html":function(a,r){a.exports=`<div data-bind="css: question.koCss().root">
  <label data-bind="css: question.getItemCss()">
    <input
      type="checkbox"
      data-bind="value: question.checkedValue, css: question.koCss().control, attr: {name: question.name, id: question.inputId, 'aria-required': question.ariaRequired, 'aria-label': question.ariaLabel, 'aria-invalid': question.ariaInvalid, 'aria-describedby': question.ariaDescribedBy}, checked: question.checkedValue, surveyProp: {indeterminate: question.isIndeterminate}, enable: !question.isInputReadOnly"
    />
    <span data-bind="css: question.koCss().materialDecorator">
      <!-- ko if: question.svgIcon -->
      <svg data-bind="css:question.koCss().itemDecorator">
        <use data-bind="attr:{'xlink:href':question.svgIcon}" xlink:href=''></use>
      </svg>
      <!-- /ko -->
      <!-- ko ifnot: question.svgIcon -->
      <svg viewBox="0 0 24 24" data-bind="css:question.koCss().itemDecorator">
        <rect
          data-bind="css:question.koCss().uncheckedPath"
          x="5"
          y="10"
          width="14"
          height="4"
        />
        <polygon
          data-bind="css:question.koCss().checkedPath"
          points="19,10 14,10 14,5 10,5 10,10 5,10 5,14 10,14 10,19 14,19 14,14 19,14 "
        />
        <path
          data-bind="css:question.koCss().indeterminatePath"
          d="M22,0H2C0.9,0,0,0.9,0,2v20c0,1.1,0.9,2,2,2h20c1.1,0,2-0.9,2-2V2C24,0.9,23.1,0,22,0z M21,18L6,3h15V18z M3,6l15,15H3V6z"
        />
      </svg>
      <!-- /ko -->
      <span class="check"></span>
    </span>
    <span
      data-bind="if: question.titleLocation === 'hidden', css: question.koCss().label"
    >
      <!-- ko template: { name: 'survey-string', data: question.locDisplayLabel } -->
      <!-- /ko -->
    </span>
  </label>
</div>
`},"./src/knockout/components/boolean-checkbox/boolean-checkbox.ts":function(a,r,t){t.r(r),t.d(r,"CheckboxViewModel",function(){return w});var d=t("knockout"),C=t("./src/entries/core.ts"),M=t("./src/knockout/components/boolean-checkbox/boolean-checkbox.html"),w;d.components.register("sv-boolean-checkbox",{viewModel:{createViewModel:function(S,x){return{question:S.question}}},template:M}),C.RendererFactory.Instance.registerRenderer("boolean","checkbox","sv-boolean-checkbox")},"./src/knockout/components/boolean-radio/boolean-radio-item.html":function(a,r){a.exports=`  <div role="presentation" data-bind="class: question.getRadioItemClass(question.koCss(), $data.value)">
    <label data-bind="css: question.koCss().radioLabel">
      <input
        type="radio"
        data-bind="event: { change: handleChange }, attr: { name: question.name, 'aria-describedby': question.ariaDescribedBy, value: $data.value?'true':'false', checked:  $data.value === question.value }, enable: !question.isInputReadOnly, css: question.koCss().itemControl"
      />
      <!-- ko if: question.koCss().materialRadioDecorator -->
      <span data-bind="css: question.koCss().materialRadioDecorator">
        <!-- ko if: question.itemSvgIcon -->
        <svg data-bind="css:question.koCss().itemRadioDecorator">
          <use data-bind="attr:{'xlink:href':question.itemSvgIcon}" xlink:href=''></use>
        </svg>
        <!-- /ko -->
      </span>
      <!-- /ko -->
      <span data-bind="css: question.koCss().radioControlLabel">
        <!-- ko template: { name: 'survey-string', data: $data.locText } -->
        <!-- /ko -->
      </span>
    </label>
  </div>

`},"./src/knockout/components/boolean-radio/boolean-radio-item.ts":function(a,r,t){t.r(r),t.d(r,"BooleanRadioItemViewModel",function(){return M});var d=t("knockout"),C=t("./src/knockout/components/boolean-radio/boolean-radio-item.html"),M;d.components.register("sv-boolean-radio-item",{viewModel:{createViewModel:function(w){return w.handleChange=function(){w.question.value=w.value},w}},template:C})},"./src/knockout/components/boolean-radio/boolean-radio.html":function(a,r){a.exports=`<div data-bind="css: question.koCss().rootRadio">
  <fieldset role="presentation" data-bind="css: question.koCss().radioFieldset">
    <!-- ko component: { name: 'sv-boolean-radio-item', params: { value: false, locText: question.locLabelFalse, question: question } } --><!-- /ko -->
    <!-- ko component: { name: 'sv-boolean-radio-item', params: { value: true, locText: question.locLabelTrue, question: question } } --><!-- /ko -->  
  </fieldset>
</div>
`},"./src/knockout/components/boolean-radio/boolean-radio.ts":function(a,r,t){t.r(r),t.d(r,"BooleanRadioViewModel",function(){return S});var d=t("knockout"),C=t("./src/entries/core.ts"),M=t("./src/knockout/components/boolean-radio/boolean-radio-item.ts");t.d(r,"BooleanRadioItemViewModel",function(){return M.BooleanRadioItemViewModel});var w=t("./src/knockout/components/boolean-radio/boolean-radio.html"),S;d.components.register("sv-boolean-radio",{viewModel:{createViewModel:function(x,h){return{question:x.question}}},template:w}),C.RendererFactory.Instance.registerRenderer("boolean","radio","sv-boolean-radio")},"./src/knockout/components/button-group/button-group-item.html":function(a,r){a.exports=`<label data-bind="css: model.css.label, attr: { title: model.caption.koRenderedHtml }">\r
  <input type="radio"\r
    data-bind="attr: { name: model.name, id: model.id, 'aria-required': model.isRequired, 'aria-label': model.caption.koRenderedHtml, role: 'radio', 'aria-invalid': model.hasErrors, 'aria-describedby': model.describeBy}, checkedValue: model.value, checked: model.question.renderedValue, disable: model.readOnly, css: model.css.control" />\r
  <div data-bind="css: model.css.decorator">\r
    <!-- ko if: !!model.iconName-->\r
    <sv-svg-icon data-bind="css: model.css.icon" params="iconName: model.iconName, size: model.iconSize"></sv-svg-icon>\r
    <!-- /ko -->\r
    <!-- ko if: model.showCaption -->\r
    <span data-bind="css: model.css.caption, attr: { title: model.caption.koRenderedHtml }">\r
      <!-- ko template: { name: 'survey-string', data: model.caption } -->\r
      <!-- /ko -->\r
    </span>\r
    <!-- /ko -->\r
  </div>\r
</label>`},"./src/knockout/components/button-group/button-group-item.ts":function(a,r,t){t.r(r),t.d(r,"ButtonGroupItemViewModel",function(){return w});var d=t("knockout"),C=t("./src/entries/core.ts"),M=t("./src/knockout/components/button-group/button-group-item.html"),w=function(){function S(x){this.model=x}return S}();d.components.register("sv-button-group-item",{viewModel:{createViewModel:function(S){var x=new C.ButtonGroupItemModel(S.question,S.item,S.index()),h=new w(x);return h}},template:M})},"./src/knockout/components/dropdown-select/dropdown-select.html":function(a,r){a.exports=`<div data-bind="css: question.renderCssRoot">
  <div data-bind="css: question.koCss().selectWrapper">
    <!-- ko ifnot: question.isReadOnly -->
    <div tabindex="0" data-bind="text: question.readOnlyText, css: question.getControlClass(), disabled: question.isInputReadOnly,
    click: click, key2click: { processEsc: false },
    attr: { 
      id: question.inputId, 
      required: question.isRequired, 
      'aria-required': question.ariaRequired, 
      'aria-label': question.ariaLabel, 
      'aria-invalid': question.ariaInvalid, 
      'aria-describedby': question.ariaDescribedBy 
    },">
    </div>
    <!-- ko component: { name: "sv-popup", params: { model: popupModel }} -->
    <!-- /ko -->
    <!-- /ko -->
    <!-- ko if: question.isReadOnly -->
    <div disabled
      data-bind="text: question.readOnlyText, css: question.getControlClass(), attr: { id: question.inputId }, ">
    </div>
    <!-- /ko -->
  </div>
  <!-- ko if: question.isOtherSelected -->
  <div class="form-group"
    data-bind="template: { name: 'survey-comment', data: {'question': question, 'visible': question.isOtherSelected } }, style: {display: question.isFlowLayout ? 'inline': ''}">
  </div>
  <!-- /ko -->
</div>`},"./src/knockout/components/dropdown-select/dropdown-select.ts":function(a,r,t){t.r(r),t.d(r,"DropdownSelectViewModel",function(){return S});var d=t("knockout"),C=t("./src/utils/popup.ts"),M=t("./src/entries/core.ts"),w=t("./src/knockout/components/dropdown-select/dropdown-select.html"),S;d.components.register("sv-dropdown-select",{viewModel:{createViewModel:function(x,h){var u=function(g,f){C.PopupUtils.updatePopupWidthBeforeShow(x.question.popupModel,f)};return{question:x.question,popupModel:x.question.popupModel,click:u}}},template:w}),M.RendererFactory.Instance.registerRenderer("dropdown","select","sv-dropdown-select")},"./src/knockout/components/dropdown/dropdown.html":function(a,r){a.exports=`<div data-bind="css: question.koCss().selectWrapper">
  <!-- ko ifnot: question.isReadOnly -->
  <select
  data-bind="options: question.visibleChoices, optionsValue: 'value', optionsText: 'koText', optionsCaption: question.showOptionsCaption ? question.locOptionsCaption.koRenderedHtml : undefined, optionsAfterRender: question.koDisableOption, attr: {id: question.inputId, autoComplete: question.autoComplete, required: question.isRequired, 'aria-required': question.ariaRequired, 'aria-label': question.ariaLabel, 'aria-invalid': question.ariaInvalid, 'aria-describedby': question.ariaDescribedBy}, disable: question.isInputReadOnly, value: question.renderedValue, valueAllowUnset: true, css: question.getControlClass()">
  </select>
<!-- /ko -->
  <!-- ko if: question.isReadOnly -->
  <div disabled data-bind="attr: {id: question.inputId}, text: question.readOnlyText, css: question.getControlClass()"></div>
  <!-- /ko -->
</div>
`},"./src/knockout/components/dropdown/dropdown.ts":function(a,r,t){t.r(r),t.d(r,"DropdownViewModel",function(){return M});var d=t("knockout"),C=t("./src/knockout/components/dropdown/dropdown.html"),M;d.components.register("sv-dropdown",{viewModel:{createViewModel:function(w,S){return{question:w.question}}},template:C})},"./src/knockout/components/list/list-item.html":function(a,r){a.exports=`<li\r
  data-bind="style: { paddingLeft: $data.model.getItemIndent($data.item) }, css: $data.model.getItemClass($data.item), click: itemClick, key2click, visible: $data.model.isItemVisible($data.item), event: { pointerdown: function (model, event) { $data.model.onPointerDown(event, $data.item); } }">\r
  <!-- ko ifnot: $data.item.component -->\r
  <!-- ko if: $data.item.iconName -->\r
  <sv-svg-icon class="sv-list__item-icon" params="iconName: $data.item.iconName, size: 24"></sv-svg-icon>\r
  <!-- /ko -->\r
  <span data-bind="text: $data.item.title"></span>\r
  <!-- /ko -->\r
  <!-- ko if: $data.item.component -->\r
  <!-- ko component: { name: $data.item.component, params: { item: $data.item } } -->\r
  <!-- /ko -->\r
  <!-- /ko -->\r
</li>`},"./src/knockout/components/list/list-item.ts":function(a,r,t){t.r(r),t.d(r,"ListItemViewComponent",function(){return w});var d=t("knockout"),C=t("./src/knockout/kobase.ts"),M=t("./src/knockout/components/list/list-item.html"),w;d.components.register("sv-list-item",{viewModel:{createViewModel:function(S,x){return new C.ImplementorBase(S.item),{item:S.item,model:S.model,itemClick:function(h){return h.model.selectItem(h.item)}}}},template:M})},"./src/knockout/components/list/list.html":function(a,r){a.exports=`<div class="sv-list__container">
  <!-- ko if: $data.model.needFilter -->
  <div class="sv-list__filter">
    <div class="sv-list__filter-icon">
      <sv-svg-icon params="iconName: 'icon-search', size: 24"></sv-svg-icon>
    </div>
    <input type="text" class="sv-list__input"
      data-bind="textInput: model.filteredText, attr: { placeholder: model.filteredTextPlaceholder }"></input>
  </div>
  <!-- /ko -->
  <ul class="sv-list"
    data-bind="event: { mousedown: function (data, e) { e.preventDefault(); }, keydown: function(data, e) { $data.model.onKeyDown(event); return true; } }">
    <!--ko foreach: model.renderedActions -->
    <!-- ko component: { name: 'sv-list-item', params: { item: $data, model: $parent.model } } -->
    <!-- /ko -->
    <!-- /ko -->
  </ul>
</div>`},"./src/knockout/components/list/list.ts":function(a,r,t){t.r(r),t.d(r,"ListViewComponent",function(){return S});var d=t("knockout"),C=t("./src/knockout/components/action-bar/action-bar.ts"),M=t("./src/knockout/components/list/list-item.ts");t.d(r,"ListItemViewComponent",function(){return M.ListItemViewComponent});var w=t("./src/knockout/components/list/list.html"),S;d.components.register("sv-list",{viewModel:{createViewModel:function(x,h){var u=x.model,g=new C.ActionContainerImplementor(u);return{model:u,dispose:function(){g.dispose()}}}},template:w})},"./src/knockout/components/logo-image/logo-image.html":function(a,r){a.exports=`<!-- ko with: survey -->
<div data-bind="css: logoClassNames">
  <img data-bind="css: css.logoImage, attr: { src: locLogo.koRenderedHtml, width: logoWidth ? logoWidth : undefined, height: logoHeight ? logoHeight : undefined, alt: locTitle.renderedHtml }, style: { objectFit: logoFit }">
</div>
<!-- /ko -->`},"./src/knockout/components/logo-image/logo-image.ts":function(a,r,t){t.r(r),t.d(r,"LogoImageViewModel",function(){return M});var d=t("knockout"),C=t("./src/knockout/components/logo-image/logo-image.html"),M;d.components.register("sv-logo-image",{viewModel:{createViewModel:function(w){return{survey:w}}},template:C})},"./src/knockout/components/matrix-actions/detail-button/detail-button.html":function(a,r){a.exports=`<button
type="button"
data-bind="css:question.getDetailPanelButtonCss(row), click:row.showHideDetailPanelClick, attr:{ 'aria-expanded': question.getIsDetailPanelShowing($data.row) ? 'true': 'false', 'aria-controls': question.getIsDetailPanelShowing($data.row) ? row.detailPanelId: false}"
>
<span
  data-bind="css: question.getDetailPanelIconCss(row), component: { name: 'sv-svg-icon', params: {iconName: question.getDetailPanelIconId(row)} }"
>
</span>
</button>
<!-- ko if: question.detailPanelMode === "popup" && question.getKoPopupIsVisible(row) -->
<sv-popup
params="contentComponentName: 'sv-panel', contentComponentData: { question: row.detailPanel, onItemSelect: function(){} }, isVisible: question.getKoPopupIsVisible(row), isModal: true, onHide: function() { row.hideDetailPanel() }, verticalPosition: 'top', horizontalPosition: 'right'"
></sv-popup>
<!-- /ko -->`},"./src/knockout/components/matrix-actions/detail-button/detail-button.ts":function(a,r,t){t.r(r),t.d(r,"SurveyQuestionMatrixDetailButton",function(){return M});var d=t("knockout"),C=t("./src/knockout/components/matrix-actions/detail-button/detail-button.html"),M;d.components.register("sv-matrix-detail-button",{viewModel:{createViewModel:function(w,S){return w.item.data}},template:C})},"./src/knockout/components/matrix-actions/drag-drop-icon/drag-drop-icon.html":function(a,r){a.exports=`<!-- ko if: question.iconDragElement -->
<svg data-bind="css: question.koCss().dragElementDecorator">
  <use data-bind="attr: { 'xlink:href': question.iconDragElement }" xlink:href=''></use>
</svg>
<!-- /ko -->
<!-- ko ifnot: question.iconDragElement -->
<span data-bind="css: question.koCss().iconDrag"></span>
<!-- /ko -->`},"./src/knockout/components/matrix-actions/drag-drop-icon/drag-drop-icon.ts":function(a,r,t){t.r(r),t.d(r,"SurveyQuestionMatrixDynamicDragDropIcon",function(){return M});var d=t("knockout"),C=t("./src/knockout/components/matrix-actions/drag-drop-icon/drag-drop-icon.html"),M;d.components.register("sv-matrix-drag-drop-icon",{viewModel:{createViewModel:function(w,S){return w.item.data}},template:C})},"./src/knockout/components/matrix-actions/remove-button/remove-button.html":function(a,r){a.exports=`<button
  type="button"
  data-bind="click: question.koRemoveRowClick, disable: question.isInputReadOnly, css: question.getRemoveRowButtonCss()"
>
  <!-- ko template: { name: 'survey-string', data: question.locRemoveRowText } --><!-- /ko -->
  <span data-bind="css: question.koCss().iconRemove"></span>
</button>
`},"./src/knockout/components/matrix-actions/remove-button/remove-button.ts":function(a,r,t){t.r(r),t.d(r,"SurveyQuestionMatrixDynamicRemoveButton",function(){return M});var d=t("knockout"),C=t("./src/knockout/components/matrix-actions/remove-button/remove-button.html"),M;d.components.register("sv-matrix-remove-button",{viewModel:{createViewModel:function(w){return w.item.data}},template:C})},"./src/knockout/components/panel/panel.ts":function(a,r,t){t.r(r),t.d(r,"PanelViewModel",function(){return M});var d=t("knockout"),C=t("./node_modules/html-loader/index.js?interpolate!./node_modules/val-loader/index.js!./src/knockout/components/panel/panel.html"),M=function(){function w(S,x){this.question=S,this.targetElement=x}return w}();d.components.register("sv-panel",{viewModel:{createViewModel:function(w,S){var x=new M(w.question,S.element.parentElement);return x}},template:C})},"./src/knockout/components/paneldynamic-actions/paneldynamic-actions.ts":function(a,r,t){t.r(r),t.d(r,"SurveyQuestionPaneldynamicActioons",function(){return x});var d=t("knockout"),C=t("./src/knockout/components/paneldynamic-actions/paneldynamic-add-btn.html"),M=t("./src/knockout/components/paneldynamic-actions/paneldynamic-next-btn.html"),w=t("./src/knockout/components/paneldynamic-actions/paneldynamic-prev-btn.html"),S=t("./src/knockout/components/paneldynamic-actions/paneldynamic-progress-text.html"),x;function h(){return{createViewModel:function(u,g){return!!u.item&&u.item.data||u}}}d.components.register("sv-paneldynamic-add-btn",{viewModel:h(),template:C}),d.components.register("sv-paneldynamic-next-btn",{viewModel:h(),template:M}),d.components.register("sv-paneldynamic-prev-btn",{viewModel:h(),template:w}),d.components.register("sv-paneldynamic-progress-text",{viewModel:h(),template:S})},"./src/knockout/components/paneldynamic-actions/paneldynamic-add-btn.html":function(a,r){a.exports=`<!-- ko if: question.koCanAddPanel -->
<button type="button" data-bind="click: question.koAddPanelClick, css: question.koAddButtonCss, visible: question.koCanAddPanel">
  <span data-bind="css: question.koCss().buttonAddText, text: question.panelAddText"></span>
</button>
<!-- /ko -->`},"./src/knockout/components/paneldynamic-actions/paneldynamic-next-btn.html":function(a,r){a.exports=`<div data-bind="attr: { title: question.panelNextText }, click: question.koNextPanelClick, css: question.koNextButtonCss">
    <!-- ko component: { name: 'sv-svg-icon', params: { iconName: question.koCss().progressBtnIcon, size: 'auto' } } --><!-- /ko -->
</div>`},"./src/knockout/components/paneldynamic-actions/paneldynamic-prev-btn.html":function(a,r){a.exports=`<div data-bind="attr: { title: question.panelPrevText }, click: question.koPrevPanelClick, css: question.koPrevButtonCss">
    <!-- ko component: { name: 'sv-svg-icon', params: { iconName: question.koCss().progressBtnIcon, size: 'auto' } } --><!-- /ko -->
</div>`},"./src/knockout/components/paneldynamic-actions/paneldynamic-progress-text.html":function(a,r){a.exports='<div data-bind="text: question.koProgressText, css: question.koCss().progressText"></div>'},"./src/knockout/components/popup/popup.ts":function(a,r,t){t.r(r),t.d(r,"PopupViewModel",function(){return S}),t.d(r,"showModal",function(){return x});var d=t("knockout"),C=t("./src/entries/core.ts"),M=t("./src/knockout/kobase.ts"),w=t("./node_modules/html-loader/index.js?interpolate!./node_modules/val-loader/index.js!./src/knockout/components/popup/popup.html"),S=function(){function h(u){this.popupViewModel=u,u.initializePopupContainer(),new M.ImplementorBase(u.model),new M.ImplementorBase(u),u.container.innerHTML=w,u.model.onVisibilityChanged=function(g){g&&(d.tasks.runEarly(),u.updateOnShowing())},d.applyBindings(u,u.container)}return h.prototype.dispose=function(){d.cleanNode(this.popupViewModel.container),this.popupViewModel.dispose()},h}();function x(h,u,g,f,i,p,P){P===void 0&&(P="popup");var m=Object(C.createPopupModalViewModel)(h,u,g,f,function(){y.dispose()},void 0,i,p,P),y=new S(m);m.model.isVisible=!0}C.settings.showModal=x,d.components.register("sv-popup",{viewModel:{createViewModel:function(h,u){var g=new C.PopupBaseViewModel(d.unwrap(h.model),u.element.parentElement);return new S(g)}},template:"<div></div>"})},"./src/knockout/components/progress/buttons.ts":function(a,r,t){t.r(r),t.d(r,"ProgressButtonsViewModel",function(){return w});var d=t("knockout"),C=t("./src/entries/core.ts"),M=t("./node_modules/html-loader/index.js?interpolate!./node_modules/val-loader/index.js!./src/knockout/components/progress/buttons.html"),w=function(){function S(x,h){var u=this;this.survey=x,this.scrollButtonCssKo=void 0,this.hasScroller=d.observable(!1),this.updateScroller=void 0,this.progressButtonsModel=new C.SurveyProgressButtonsModel(x),this.updateScroller=setInterval(function(){var g=h.querySelector("."+x.css.progressButtonsListContainer);g&&u.hasScroller(g.scrollWidth>g.offsetWidth)},100)}return S.prototype.isListElementClickable=function(x){return this.progressButtonsModel.isListElementClickable(x())},S.prototype.getListElementCss=function(x){return this.progressButtonsModel.getListElementCss(x())},S.prototype.clickListElement=function(x){this.progressButtonsModel.clickListElement(x())},S.prototype.getScrollButtonCss=function(x){var h=this;return this.scrollButtonCssKo=d.computed(function(){return h.progressButtonsModel.getScrollButtonCss(h.hasScroller(),x)},this),this.scrollButtonCssKo},S.prototype.clickScrollButton=function(x,h){x.scrollLeft+=(h?-1:1)*70},S.prototype.dispose=function(){typeof this.updateScroller<"u"&&(clearInterval(this.updateScroller),this.updateScroller=void 0),typeof this.scrollButtonCssKo<"u"&&(this.scrollButtonCssKo.dispose(),this.scrollButtonCssKo=void 0)},S}();d.components.register("sv-progress-buttons",{viewModel:{createViewModel:function(S,x){return new w(S.model,x.element.nextElementSibling)}},template:M})},"./src/knockout/components/progress/progress.ts":function(a,r,t){t.r(r),t.d(r,"ProgressViewModel",function(){return w});var d=t("knockout"),C=t("./src/entries/core.ts"),M=t("./node_modules/html-loader/index.js?interpolate!./node_modules/val-loader/index.js!./src/knockout/components/progress/progress.html"),w=function(){function x(h){this.model=h}return x.prototype.getProgressTextInBarCss=function(h){return C.SurveyProgressModel.getProgressTextInBarCss(h)},x.prototype.getProgressTextUnderBarCss=function(h){return C.SurveyProgressModel.getProgressTextUnderBarCss(h)},x}();d.components.register("sv-progress-progress",{viewModel:{createViewModel:function(x){return new w(x.model)}},template:M});var S="<!-- ko component: { name: 'sv-progress-progress', params: $data } --><!-- /ko -->";d.components.register("sv-progress-pages",{viewModel:{createViewModel:function(x){return new w(x.model)}},template:S}),d.components.register("sv-progress-questions",{viewModel:{createViewModel:function(x){return new w(x.model)}},template:S}),d.components.register("sv-progress-correctQuestions",{viewModel:{createViewModel:function(x){return new w(x.model)}},template:S}),d.components.register("sv-progress-requiredQuestions",{viewModel:{createViewModel:function(x){return new w(x.model)}},template:S})},"./src/knockout/components/rating-dropdown/rating-dropdown.html":function(a,r){a.exports=`<div data-bind="css: question.cssClasses.rootDropdown">
  <!-- ko component: { name: 'sv-dropdown', params: { question: question } } -->
  <!-- /ko -->
</div>
`},"./src/knockout/components/rating-dropdown/rating-dropdown.ts":function(a,r,t){t.r(r),t.d(r,"RatingDropdownViewModel",function(){return w});var d=t("knockout"),C=t("./src/entries/core.ts"),M=t("./src/knockout/components/rating-dropdown/rating-dropdown.html"),w;d.components.register("sv-rating-dropdown",{viewModel:{createViewModel:function(S,x){return{question:S.question}}},template:M}),C.RendererFactory.Instance.registerRenderer("rating","dropdown","sv-rating-dropdown")},"./src/knockout/components/skeleton/skeleton.html":function(a,r){a.exports=`<div class="sv-skeleton-element">
</div>`},"./src/knockout/components/skeleton/skeleton.ts":function(a,r,t){t.r(r),t.d(r,"Skeleton",function(){return M});var d=t("knockout"),C=t("./src/knockout/components/skeleton/skeleton.html"),M;d.components.register("sv-skeleton",{viewModel:{createViewModel:function(w,S){return{question:w.question}}},template:C})},"./src/knockout/components/string-editor/string-editor.html":function(a,r){a.exports=`<!-- <input class="sv-string-editor" data-bind="value: editValue" /> -->

<!-- ko ifnot: koHasHtml -->
<span class="sv-string-editor" style="position: static;" data-bind="text: editValue, event: { blur: onInput, click: onClick, clickBubble: false }" contenteditable="true"></span>
<!-- /ko -->
<!-- ko if: koHasHtml -->
<span class="sv-string-editor" style="position: static;" data-bind="html: editValue, event: { blur: onInput, click: onClick, clickBubble: false }" contenteditable="true"></span>
<!-- /ko -->`},"./src/knockout/components/string-editor/string-editor.ts":function(a,r,t){t.r(r),t.d(r,"StringEditorViewModel",function(){return w});var d=t("knockout"),C=t("./src/entries/core.ts"),M=t("./src/knockout/components/string-editor/string-editor.html"),w=function(){function u(g){this.locString=g}return Object.defineProperty(u.prototype,"koHasHtml",{get:function(){return this.locString.koHasHtml()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"editValue",{get:function(){return this.locString.koRenderedHtml()},set:function(g){this.locString.searchElement=void 0,this.locString.text=g},enumerable:!1,configurable:!0}),u.prototype.onInput=function(g,f){g.editValue=f.target.innerText},u.prototype.onClick=function(g,f){f.stopPropagation()},u.prototype.dispose=function(){this.locString.onSearchChanged=void 0},u}();function S(u){for(;u&&u.nodeName!=="SPAN";){var g=u.parentElement.getElementsByClassName("sv-string-editor");u=g.length>0?g[0]:void 0}return u&&u.childNodes.length>0?u:null}function x(u,g){for(;u.childNodes.length>1;)u.removeChild(u.childNodes[1]);u.childNodes[0].textContent=g.renderedHtml}function h(u,g){g.onSearchChanged=function(){if(g.searchElement==null&&(g.searchElement=S(u)),g.searchElement!=null){var f=g.searchElement;if(g.highlightDiv||(g.highlightDiv=document.createElement("span"),g.highlightDiv.style.backgroundColor="lightgray"),g.searchIndex!=null){x(f,g);var i=document.createRange();i.setStart(f.childNodes[0],g.searchIndex),i.setEnd(f.childNodes[0],g.searchIndex+g.searchText.length),i.surroundContents(g.highlightDiv)}else x(f,g),g.searchElement=void 0}}}d.components.register(C.LocalizableString.editableRenderer,{viewModel:{createViewModel:function(u,g){var f=u.locString;return h(g.element,f),new w(f)}},template:M})},"./src/knockout/components/string-viewer/string-viewer.html":function(a,r){a.exports=`<!-- ko ifnot: locString.koHasHtml -->
<span class="sv-string-viewer" data-bind="text: locString.koRenderedHtml"></span>
<!-- /ko -->
<!-- ko if: locString.koHasHtml -->
<span class="sv-string-viewer" data-bind="html: locString.koRenderedHtml"></span>
<!-- /ko -->`},"./src/knockout/components/string-viewer/string-viewer.ts":function(a,r,t){t.r(r),t.d(r,"StringViewerViewModel",function(){return M});var d=t("knockout"),C=t("./src/knockout/components/string-viewer/string-viewer.html"),M;d.components.register("sv-string-viewer",{viewModel:{createViewModel:function(w,S){return{locString:w.locString}}},template:C})},"./src/knockout/components/survey-actions/survey-nav-button.html":function(a,r){a.exports=`<!-- ko with: $data.item  -->
  <input type="button" data-bind="event: { mousedown: $data.data && $data.data.mouseDown }, value: $data.title, click: $data.action, visible: $data.visible, css: $data.innerCss" />
<!-- /ko -->`},"./src/knockout/components/survey-actions/survey-nav-button.ts":function(a,r,t){t.r(r),t.d(r,"SurveyNavigationButton",function(){return M});var d=t("knockout"),C=t("./src/knockout/components/survey-actions/survey-nav-button.html"),M;d.components.register("sv-nav-btn",{viewModel:{createViewModel:function(w,S){return w}},template:C})},"./src/knockout/components/svg-icon/svg-icon.html":function(a,r){a.exports=`<!-- ko if: hasIcon -->
<svg class="sv-svg-icon" data-bind="css: css, title: title" role="img"><use></use></svg>
<!-- /ko -->
`},"./src/knockout/components/svg-icon/svg-icon.ts":function(a,r,t){t.r(r),t.d(r,"SvgIconViewModel",function(){return w});var d=t("knockout"),C=t("./src/entries/core.ts"),M=t("./src/knockout/components/svg-icon/svg-icon.html"),w;d.components.register("sv-svg-icon",{viewModel:{createViewModel:function(S,x){return d.computed(function(){var h=d.unwrap(S.iconName),u=x.element.querySelector&&x.element.querySelector("svg")||x.element.nextElementSibling;h&&Object(C.createSvg)(d.unwrap(S.size),d.unwrap(S.width),d.unwrap(S.height),h,u)}),{hasIcon:S.iconName,css:S.css,title:S.title}}},template:M})},"./src/knockout/components/template-renderer/template-renderer.html":function(a,r){a.exports=`<!-- ko if: templateData.name -->
  <!-- ko template: { name: templateData.name, data: templateData.data, afterRender: templateData.afterRender } -->
  <!-- /ko -->
<!-- /ko -->
<!-- ko ifnot: templateData.name -->
  <!-- ko template: { nodes: templateData.nodes || $componentTemplateNodes, data: templateData.data, afterRender: templateData.afterRender } -->
  <!-- /ko -->
<!-- /ko -->
`},"./src/knockout/components/template-renderer/template-renderer.ts":function(a,r,t){t.r(r);var d=t("knockout"),C=t("./src/entries/core.ts"),M=t("./src/knockout/components/template-renderer/template-renderer.html");d.components.register(C.SurveyModel.TemplateRendererComponentName,{viewModel:{createViewModel:function(w){return w}},template:M})},"./src/knockout/components/title/title-actions.html":function(a,r){a.exports=`<!-- ko ifnot: element.hasTitleActions -->
  <!-- ko component: { name: 'survey-element-title-content', params: {element: element } } --><!-- /ko -->
<!-- /ko -->
<!-- ko if: element.hasTitleActions -->
<div class="sv-title-actions">
  <span class="sv-title-actions__title">
    <!-- ko component: { name: 'survey-element-title-content', params: {element: element } } --><!-- /ko -->
  </span>
  <!-- ko component: { name: 'sv-action-bar', params: { model: toolbar } } -->
  <!-- /ko -->
</div>
<!-- /ko -->`},"./src/knockout/components/title/title-actions.ts":function(a,r,t){t.r(r),t.d(r,"TitleActionViewModel",function(){return w});var d=t("knockout"),C=t("./src/entries/core.ts"),M=t("./src/knockout/components/title/title-actions.html"),w;d.components.register("sv-title-actions",{viewModel:{createViewModel:function(S,x){var h=S.element;return{element:h,toolbar:h.getTitleToolbar()}}},template:M}),C.RendererFactory.Instance.registerRenderer("element","title-actions","sv-title-actions")},"./src/knockout/components/title/title-content.html":function(a,r){a.exports=`<!-- ko ifnot: element.isTitleOwner -->
  <!-- ko template: { name: 'survey-string', data: element.locTitle } --><!-- /ko -->
<!-- /ko -->
<!-- ko if: element.isTitleOwner -->
  <!-- ko if: element.isRequireTextOnStart -->
  <span
    data-bind="css: element.koCss().requiredText || (element.koCss().panel && element.koCss().panel.requiredText), text: element.requiredText, attr: { 'aria-hidden': true }"
  ></span>
  <!-- /ko -->
  <!-- ko if: element.no -->
  <span
    style="position: static;"
    data-bind="css: element.koCss().number, text: element.no, attr: { 'aria-hidden': true }"
  ></span>
  <span>&nbsp</span>
  <!-- /ko -->
  <!-- ko if: element.isRequireTextBeforeTitle -->
  <span
    data-bind="css: element.koCss().requiredText || (element.koCss().panel && element.koCss().panel.requiredText), text: element.requiredText, attr: { 'aria-hidden': true }"
  ></span>
  <span>&nbsp</span>
  <!-- /ko -->
  <!-- ko template: { name: 'survey-string', data: element.locTitle } --><!-- /ko -->
  <!-- ko if: element.isRequireTextAfterTitle -->
  <span>&nbsp</span>
  <span
    data-bind="css: element.koCss().requiredText || (element.koCss().panel && element.koCss().panel.requiredText), text: element.requiredText, attr: { 'aria-hidden': true }"
  ></span>
  <!-- /ko -->
<!-- /ko -->`},"./src/knockout/components/title/title-content.ts":function(a,r,t){t.r(r),t.d(r,"TitleContentViewModel",function(){return M});var d=t("knockout"),C=t("./src/knockout/components/title/title-content.html"),M;d.components.register("survey-element-title-content",{viewModel:{createViewModel:function(w,S){var x=w.element;return{element:x}}},template:C})},"./src/knockout/components/title/title-element.ts":function(a,r,t){t.r(r),t.d(r,"TitleElementViewModel",function(){return C});var d=t("knockout"),C;d.components.register("survey-element-title",{viewModel:{createViewModel:function(M,w){var S=M.element,x=w.element,h=document.createElement(S.titleTagName),u=S.getType()==="radiogroup"?"":"'aria-label': element.locTitle.renderedHtml,",g="css: element.cssTitle, attr: { ".concat(u," id: element.ariaTitleId, tabindex: element.titleTabIndex, 'aria-expanded': element.titleAriaExpanded }");S.hasTitleEvents&&(g+=", key2click"),h.setAttribute("data-bind",g),h.innerHTML="<!-- ko component: { name: 'sv-title-actions', params: {element: element } } --><!-- /ko -->";var f=x.nextSibling;return x.parentNode.insertBefore(document.createComment(" ko if: element.hasTitle "),f),x.parentNode.insertBefore(h,f),x.parentNode.insertBefore(document.createComment(" /ko "),f),x.parentNode.removeChild(f),{element:S}}},template:"<span></span>"})},"./src/knockout/components/tooltip-error/tooltip-error.ts":function(a,r,t){t.r(r),t.d(r,"TooltipErrorViewModel",function(){return w});var d=t("knockout"),C=t("./src/entries/core.ts"),M=t("./node_modules/html-loader/index.js?interpolate!./node_modules/val-loader/index.js!./src/knockout/components/tooltip-error/tooltip-error.html"),w=function(){function S(x){var h=this;this.question=x,this.afterRender=function(u){var g=u.filter(function(f){return f instanceof HTMLElement})[0];h.tooltipManager=new C.TooltipManager(g),d.utils.domNodeDisposal.addDisposeCallback(u[1],function(){h.tooltipManager.dispose()})}}return S}();d.components.register("sv-tooltip-error",{viewModel:{createViewModel:function(S,x){return new w(S.question)}},template:M})},"./src/knockout/koSurveyWindow.ts":function(a,r,t){t.r(r),t.d(r,"SurveyWindowImplementor",function(){return x}),t.d(r,"SurveyWindow",function(){return h});var d=t("knockout"),C=t("./src/entries/core.ts"),M=t("./src/knockout/kobase.ts"),w=function(){var u=function(g,f){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,p){i.__proto__=p}||function(i,p){for(var P in p)Object.prototype.hasOwnProperty.call(p,P)&&(i[P]=p[P])},u(g,f)};return function(g,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");u(g,f);function i(){this.constructor=g}g.prototype=f===null?Object.create(f):(i.prototype=f.prototype,new i)}}(),S=t("./node_modules/html-loader/index.js?interpolate!./node_modules/val-loader/index.js!./src/knockout/templates/window/window.html"),x=function(u){w(g,u);function g(f){var i=u.call(this,f)||this;return i.window=f,i.window.showingChangedCallback=function(){i.doShowingChanged()},i.window.doExpand=function(){i.window.changeExpandCollapse()},i}return g.prototype.doShowingChanged=function(){var f=this.window.windowElement;this.window.isShowing?(f.innerHTML=this.template,d.cleanNode(f),d.applyBindings(this.window,f),document.body.appendChild(f),this.window.survey.render(C.SurveyWindowModel.surveyElementName)):(document.body.removeChild(f),f.innerHTML="")},Object.defineProperty(g.prototype,"template",{get:function(){return this.window.templateValue?this.window.templateValue:S},enumerable:!1,configurable:!0}),g}(M.ImplementorBase);C.SurveyWindowModel.prototype.onCreating=function(){this.implementor=new x(this)};var h=function(u){w(g,u);function g(f,i){return i===void 0&&(i=null),u.call(this,f,i)||this}return g}(C.SurveyWindowModel)},"./src/knockout/kobase.ts":function(a,r,t){t.r(r),t.d(r,"ImplementorBase",function(){return C});var d=t("knockout"),C=function(){function M(w){this.element=w,this.implementedMark="__surveyImplementedKo",!w[this.implementedMark]&&(w.iteratePropertiesHash(function(S,x){M.doIterateProperties(w,S,x)}),w.createArrayCoreHandler=function(S,x){var h=d.observableArray();return h().onArrayChanged=function(){w.isLoadingFromJson||w.isDisposed||h.notifySubscribers()},S[x]=h,h()},w.getPropertyValueCoreHandler=function(S,x){return S[x]===void 0&&(S[x]=d.observable()),typeof S[x]=="function"?S[x]():S[x]},w.setPropertyValueCoreHandler=function(S,x,h){S[x]!==void 0?S[x](h):S[x]=d.observable(h)},w[this.implementedMark]=!0)}return M.doIterateProperties=function(w,S,x){var h=S[x];h!=="function"&&(Array.isArray(h)?(S[x]=d.observableArray(h),h.onArrayChanged=function(){w.isLoadingFromJson||w.isDisposed||S[x].notifySubscribers()}):S[x]=d.observable(h))},M.prototype.dispose=function(){this.element.iteratePropertiesHash(function(w,S){w[S]=d.unwrap(w[S]),Array.isArray(w[S])&&(w[S].onArrayChanged=void 0)}),this.element.createArrayCoreHandler=void 0,this.element.getPropertyValueCoreHandler=void 0,this.element.setPropertyValueCoreHandler=void 0,delete this.element[this.implementedMark]},M}()},"./src/knockout/koflowpanel.ts":function(a,r,t){t.r(r),t.d(r,"FlowPanel",function(){return S});var d=t("knockout"),C=t("./src/entries/core.ts"),M=t("./src/knockout/kobase.ts"),w=function(){var x=function(h,u){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,f){g.__proto__=f}||function(g,f){for(var i in f)Object.prototype.hasOwnProperty.call(f,i)&&(g[i]=f[i])},x(h,u)};return function(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");x(h,u);function g(){this.constructor=h}h.prototype=u===null?Object.create(u):(g.prototype=u.prototype,new g)}}(),S=function(x){w(h,x);function h(u){u===void 0&&(u="");var g=x.call(this,u)||this;g.koElementType=d.observable("survey-flowpanel"),new M.ImplementorBase(g),g.onCreating();var f=g;return g.koElementAfterRender=function(i,p){return f.elementAfterRender(i,p)},g}return h.prototype.onCreating=function(){},h.prototype.getHtmlForQuestion=function(u){return'<span question="true" contenteditable="false" id="flowpanel_'+u.name+'"><!-- ko template: { name: "survey-flowpanel-question", data: "'+u.name+'"} --><!-- /ko --></span>'},h.prototype.elementAfterRender=function(u,g){if(this.survey){var f=C.SurveyElement.GetFirstNonTextElement(u);f&&this.survey.afterRenderQuestion(g,f)}},h}(C.FlowPanelModel);C.Serializer.overrideClassCreator("flowpanel",function(){return new S}),d.components.register("f-panel",{viewModel:{createViewModel:function(x,h){var u=this,g=d.unwrap(x.question);u.element=h.element,u.element.innerHTML=g.html,u.isOnFocus=!1,u.wasChanged=!1,u.isContentUpdating=!1,g.contentChangedCallback=function(){u.isContentUpdating||(d.cleanNode(u.element),u.element.innerHTML=g.html,d.applyBindings({question:g},u.element),d.tasks&&d.tasks.runEarly())},u.element.onfocus=function(){u.isOnFocus=!0},u.element.onblur=function(){u.wasChanged&&u.updateContent(),u.isOnFocus=!1,u.wasChanged=!1},u.element.ondragend=function(P){var m=/{(.*?(element:)[^$].*?)}/g,y=u.element.innerHTML,R=m.exec(y);if(R!==null){var b=g.getQuestionFromText(R[0]);b&&(g.content=u.getContent(b.name))}},u.updateContent=function(){u.isContentUpdating=!0,g.content=u.getContent(),u.isContentUpdating=!1},g.getContent=u.getContent=function(P){var m=document.createElement("DIV");m.innerHTML=u.element.innerHTML;for(var y=m.querySelectorAll('span[question="true"]'),R=0;R<y.length;R++){var b=y[R].id.replace("flowpanel_",""),c="";if(b!==P){var E=g.getQuestionByName(b);c=E?g.getElementContentText(E):""}y[R].outerHTML=c}return m.innerHTML};var f={characterData:!0,attributes:!0,childList:!0,subtree:!0},i=function(P,m){u.isOnFocus&&(u.wasChanged=!0)},p=new MutationObserver(i);return p.observe(u.element,f),{question:g}}},template:"<div></div>"})},"./src/knockout/kopage.ts":function(a,r,t){t.r(r),t.d(r,"QuestionRow",function(){return S}),t.d(r,"PanelImplementorBase",function(){return x}),t.d(r,"Panel",function(){return h}),t.d(r,"Page",function(){return u});var d=t("knockout"),C=t("./src/entries/core.ts"),M=t("./src/knockout/kobase.ts"),w=function(){var g=function(f,i){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,P){p.__proto__=P}||function(p,P){for(var m in P)Object.prototype.hasOwnProperty.call(P,m)&&(p[m]=P[m])},g(f,i)};return function(f,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");g(f,i);function p(){this.constructor=f}f.prototype=i===null?Object.create(i):(p.prototype=i.prototype,new p)}}(),S=function(g){w(f,g);function f(i){var p=g.call(this,i)||this;p.panel=i,new M.ImplementorBase(p);var P=p;return p.koElementAfterRender=function(m,y){return P.elementAfterRender(m,y)},p}return f.prototype.getElementType=function(i){return i.isPanel?"survey-panel":"survey-question"},f.prototype.koAfterRender=function(i,p){for(var P=0;P<i.length;P++){var m=i[P],y=m.nodeName;y=="#text"&&(m.data="")}},f.prototype.elementAfterRender=function(i,p){var P=this;!this.panel||!this.panel.survey||setTimeout(function(){d.tasks&&d.tasks.runEarly();var m=C.SurveyElement.GetFirstNonTextElement(i);if(m){var y=p;y.isPanel?P.panel.survey.afterRenderPanel(p,m):y.afterRender(m)}},0)},f.prototype.rowAfterRender=function(i,p){if(!p.isNeedRender){var P=i[0].parentElement,m=setTimeout(function(){return p.startLazyRendering(P)},1);d.utils.domNodeDisposal.addDisposeCallback(P,function(){clearTimeout(m),p.stopLazyRendering(),p.isNeedRender=!p.isLazyRendering()})}},f.prototype.dispose=function(){g.prototype.dispose.call(this),this.koElementAfterRender=void 0},f}(C.QuestionRowModel),x=function(g){w(f,g);function f(i){var p=g.call(this,i)||this;return p.panel=i,p}return f}(M.ImplementorBase),h=function(g){w(f,g);function f(i){i===void 0&&(i="");var p=g.call(this,i)||this;p.onCreating();var P=p;return p.koElementType=d.observable("survey-panel"),p.koCss=d.pureComputed(function(){return P.cssClasses}),p.koErrorClass=d.pureComputed(function(){return P.cssError}),p}return f.prototype.onBaseCreating=function(){g.prototype.onBaseCreating.call(this),this._implementor=new x(this)},f.prototype.createRow=function(){return new S(this)},f.prototype.onCreating=function(){},f.prototype.onNumChanged=function(i){this.locTitle.onChanged()},f.prototype.dispose=function(){this.koCss.dispose(),this.koErrorClass.dispose(),this._implementor.dispose(),this._implementor=void 0,g.prototype.dispose.call(this)},f}(C.PanelModel),u=function(g){w(f,g);function f(i){i===void 0&&(i="");var p=g.call(this,i)||this;return p.onCreating(),p}return f.prototype.onBaseCreating=function(){g.prototype.onBaseCreating.call(this),this._implementor=new M.ImplementorBase(this)},f.prototype.createRow=function(){return new S(this)},f.prototype.onCreating=function(){},f.prototype.onNumChanged=function(i){this.locTitle.onChanged()},f.prototype.dispose=function(){g.prototype.dispose.call(this),this._implementor.dispose(),this._implementor=void 0},f}(C.PageModel);C.Serializer.overrideClassCreator("panel",function(){return new h}),C.Serializer.overrideClassCreator("page",function(){return new u}),C.ElementFactory.Instance.registerElement("panel",function(g){return new h(g)})},"./src/knockout/koquestion.ts":function(a,r,t){t.r(r),t.d(r,"QuestionImplementor",function(){return S});var d=t("knockout"),C=t("./src/entries/core.ts"),M=t("./src/knockout/kobase.ts"),w=function(){var x=function(h,u){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,f){g.__proto__=f}||function(g,f){for(var i in f)Object.prototype.hasOwnProperty.call(f,i)&&(g[i]=f[i])},x(h,u)};return function(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");x(h,u);function g(){this.constructor=h}h.prototype=u===null?Object.create(u):(g.prototype=u.prototype,new g)}}(),S=function(x){w(h,x);function h(u){var g=x.call(this,u)||this;g.question=u,g._koValue=d.observableArray(),g.disposedObjects=[],g.callBackFunctions=[];var f=!1;return g._koValue.subscribe(function(i){f||(g.question.value=i)}),Object.defineProperty(g.question,"koValue",{get:function(){if(!C.Helpers.isTwoValueEquals(g._koValue(),g.getKoValue(),!1,!0,!1))try{f=!0,g._koValue(g.getKoValue())}finally{f=!1}return g._koValue},enumerable:!0,configurable:!0}),u.surveyLoadCallback=function(){g.onSurveyLoad()},g.setObservaleObj("koTemplateName",d.pureComputed(function(){return g.getTemplateName()})),g.setObservaleObj("koElementType",d.observable("survey-question")),g.setObservaleObj("koCss",d.pureComputed(function(){return g.question.cssClasses})),g.setObservaleObj("koRootCss",d.pureComputed(function(){return g.question.getRootCss()})),g.setObservaleObj("koErrorClass",d.pureComputed(function(){return g.question.cssError})),g.koDummy=d.observable(0),g.setCallbackFunc("koQuestionAfterRender",function(i,p){g.koQuestionAfterRender(i,p)}),g}return h.prototype.setObservaleObj=function(u,g,f){return f===void 0&&(f=!0),this.disposedObjects.push(u),f&&(this.question[u]=g),g},h.prototype.setCallbackFunc=function(u,g){this.callBackFunctions.push(u),this.question[u]=g},h.prototype.getKoValue=function(){return this.question.value},h.prototype.onSurveyLoad=function(){},h.prototype.getQuestionTemplate=function(){return this.question.getTemplate()},h.prototype.getTemplateName=function(){return this.question.customWidget&&!this.question.customWidget.widgetJson.isDefaultRender?"survey-widget-"+this.question.customWidget.name:"survey-question-"+this.getQuestionTemplate()},h.prototype.getNo=function(){return this.question.visibleIndex>-1?this.question.visibleIndex+1+". ":""},h.prototype.updateKoDummy=function(){this.question.isDisposed||(this.koDummy(this.koDummy()+1),this.question.locTitle.onChanged())},h.prototype.koQuestionAfterRender=function(u,g){var f=this;setTimeout(function(){d.tasks&&d.tasks.runEarly();var i=C.SurveyElement.GetFirstNonTextElement(u,!0);i&&(f.question.afterRenderQuestionElement(i),f.question.customWidget&&f.question.customWidget.afterRender(f.question,i),d.utils.domNodeDisposal.addDisposeCallback(i,function(){if(f.question.beforeDestroyQuestionElement(i),f.question.customWidget)try{f.question.customWidget.willUnmount(f.question,i)}catch{console.warn("Custom widget will unmount failed")}}))},0)},h.prototype.dispose=function(){x.prototype.dispose.call(this);for(var u=0;u<this.disposedObjects.length;u++){var g=this.disposedObjects[u],f=this[g]||this.question[g];f&&(this[g]&&(this[g]=void 0),this.question[g]&&(this.question[g]=void 0),f.dispose&&f.dispose())}this.disposedObjects=[];for(var i=0;i<this.callBackFunctions.length;i++)this.question[this.callBackFunctions[i]]=void 0;this.callBackFunctions=[],this.question.unRegisterFunctionOnPropertyValueChanged("visibleIndex")},h}(M.ImplementorBase)},"./src/knockout/koquestion_baseselect.ts":function(a,r,t){t.r(r),t.d(r,"QuestionSelectBaseImplementor",function(){return M}),t.d(r,"QuestionCheckboxBaseImplementor",function(){return w});var d=t("./src/knockout/koquestion.ts"),C=function(){var S=function(x,h){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var f in g)Object.prototype.hasOwnProperty.call(g,f)&&(u[f]=g[f])},S(x,h)};return function(x,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");S(x,h);function u(){this.constructor=x}x.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}(),M=function(S){C(x,S);function x(h){var u=S.call(this,h)||this;return u.onCreated(),u}return x.prototype.onCreated=function(){},Object.defineProperty(x.prototype,"isOtherSelected",{get:function(){return this.question.isOtherSelected},enumerable:!1,configurable:!0}),x}(d.QuestionImplementor),w=function(S){C(x,S);function x(h){var u=S.call(this,h)||this;return u.setCallbackFunc("koAfterRender",u.koAfterRender),u}return x.prototype.koAfterRender=function(h,u){var g=h[0];g.nodeName=="#text"&&(g.data=""),g=h[h.length-1],g.nodeName=="#text"&&(g.data="")},x}(M)},"./src/knockout/koquestion_boolean.ts":function(a,r,t){t.r(r),t.d(r,"QuestionBoolean",function(){return S});var d=t("./src/entries/core.ts"),C=t("./src/knockout/koquestion.ts"),M=t("./src/utils/utils.ts"),w=function(){var x=function(h,u){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,f){g.__proto__=f}||function(g,f){for(var i in f)Object.prototype.hasOwnProperty.call(f,i)&&(g[i]=f[i])},x(h,u)};return function(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");x(h,u);function g(){this.constructor=h}h.prototype=u===null?Object.create(u):(g.prototype=u.prototype,new g)}}(),S=function(x){w(h,x);function h(u){return x.call(this,u)||this}return h.prototype.onBaseCreating=function(){x.prototype.onBaseCreating.call(this),this._implementor=new C.QuestionImplementor(this)},h.prototype.onSwitchClick=function(u,g){return x.prototype.onSwitchClickModel.call(this,Object(M.getOriginalEvent)(g))},h.prototype.onTrueLabelClick=function(u,g){return this.onLabelClick(g,!0)},h.prototype.onFalseLabelClick=function(u,g){return this.onLabelClick(g,!1)},h.prototype.onKeyDown=function(u,g){return this.onKeyDownCore(g)},h.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,x.prototype.dispose.call(this)},h}(d.QuestionBooleanModel);d.Serializer.overrideClassCreator("boolean",function(){return new S("")}),d.QuestionFactory.Instance.registerQuestion("boolean",function(x){return new S(x)})},"./src/knockout/koquestion_buttongroup.ts":function(a,r,t){t.r(r),t.d(r,"QuestionButtonGroup",function(){return w});var d=t("./src/entries/core.ts"),C=t("./src/knockout/koquestion_baseselect.ts"),M=function(){var S=function(x,h){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var f in g)Object.prototype.hasOwnProperty.call(g,f)&&(u[f]=g[f])},S(x,h)};return function(x,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");S(x,h);function u(){this.constructor=x}x.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}(),w=function(S){M(x,S);function x(h){return S.call(this,h)||this}return x.prototype.onBaseCreating=function(){S.prototype.onBaseCreating.call(this),this._implementor=new C.QuestionCheckboxBaseImplementor(this)},x.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,S.prototype.dispose.call(this)},x}(d.QuestionButtonGroupModel)},"./src/knockout/koquestion_checkbox.ts":function(a,r,t){t.r(r),t.d(r,"QuestionCheckboxImplementor",function(){return S}),t.d(r,"QuestionCheckbox",function(){return x});var d=t("knockout"),C=t("./src/knockout/koquestion_baseselect.ts"),M=t("./src/entries/core.ts"),w=function(){var h=function(u,g){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,i){f.__proto__=i}||function(f,i){for(var p in i)Object.prototype.hasOwnProperty.call(i,p)&&(f[p]=i[p])},h(u,g)};return function(u,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");h(u,g);function f(){this.constructor=u}u.prototype=g===null?Object.create(g):(f.prototype=g.prototype,new f)}}(),S=function(h){w(u,h);function u(g){return h.call(this,g)||this}return u.prototype.getKoValue=function(){return this.question.renderedValue},u}(C.QuestionCheckboxBaseImplementor),x=function(h){w(u,h);function u(g){var f=h.call(this,g)||this;return f.isAllSelectedUpdating=!1,f.koAllSelected=d.observable(f.isAllSelected),f.koAllSelected.subscribe(function(i){f.isAllSelectedUpdating||(i?f.selectAll():f.clearValue())}),f}return u.prototype.onBaseCreating=function(){h.prototype.onBaseCreating.call(this),this._implementor=new S(this)},u.prototype.onSurveyValueChanged=function(g){h.prototype.onSurveyValueChanged.call(this,g),this.updateAllSelected()},u.prototype.onVisibleChoicesChanged=function(){h.prototype.onVisibleChoicesChanged.call(this),this.updateAllSelected()},u.prototype.updateAllSelected=function(){this.isAllSelectedUpdating=!0,this.koAllSelected(this.isAllSelected),this.isAllSelectedUpdating=!1},u.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,this.koAllSelected=void 0,h.prototype.dispose.call(this)},u}(M.QuestionCheckboxModel);M.Serializer.overrideClassCreator("checkbox",function(){return new x("")}),M.QuestionFactory.Instance.registerQuestion("checkbox",function(h){var u=new x(h);return u.choices=M.QuestionFactory.DefaultChoices,u})},"./src/knockout/koquestion_comment.ts":function(a,r,t){t.r(r),t.d(r,"QuestionComment",function(){return w});var d=t("./src/entries/core.ts"),C=t("./src/knockout/koquestion.ts"),M=function(){var S=function(x,h){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var f in g)Object.prototype.hasOwnProperty.call(g,f)&&(u[f]=g[f])},S(x,h)};return function(x,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");S(x,h);function u(){this.constructor=x}x.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}(),w=function(S){M(x,S);function x(h){return S.call(this,h)||this}return x.prototype.onBaseCreating=function(){S.prototype.onBaseCreating.call(this),this._implementor=new C.QuestionImplementor(this)},x.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,S.prototype.dispose.call(this)},x}(d.QuestionCommentModel);d.Serializer.overrideClassCreator("comment",function(){return new w("")}),d.QuestionFactory.Instance.registerQuestion("comment",function(S){return new w(S)})},"./src/knockout/koquestion_custom.ts":function(a,r,t){t.r(r),t.d(r,"QuestionCustom",function(){return w}),t.d(r,"QuestionComposite",function(){return S});var d=t("./src/entries/core.ts"),C=t("./src/knockout/koquestion.ts"),M=function(){var x=function(h,u){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,f){g.__proto__=f}||function(g,f){for(var i in f)Object.prototype.hasOwnProperty.call(f,i)&&(g[i]=f[i])},x(h,u)};return function(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");x(h,u);function g(){this.constructor=h}h.prototype=u===null?Object.create(u):(g.prototype=u.prototype,new g)}}(),w=function(x){M(h,x);function h(u,g){return x.call(this,u,g)||this}return h.prototype.onBaseCreating=function(){x.prototype.onBaseCreating.call(this),this._implementor=new C.QuestionImplementor(this)},h.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,x.prototype.dispose.call(this)},h}(d.QuestionCustomModel),S=function(x){M(h,x);function h(u,g){return x.call(this,u,g)||this}return h.prototype.onBaseCreating=function(){x.prototype.onBaseCreating.call(this),this._implementor=new C.QuestionImplementor(this)},h.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,x.prototype.dispose.call(this)},h}(d.QuestionCompositeModel);d.ComponentCollection.Instance.onCreateCustom=function(x,h){return new w(x,h)},d.ComponentCollection.Instance.onCreateComposite=function(x,h){return new S(x,h)}},"./src/knockout/koquestion_dropdown.ts":function(a,r,t){t.r(r),t.d(r,"QuestionDropdown",function(){return x});var d=t("knockout"),C=t("./src/entries/core.ts"),M=t("./src/knockout/koquestion_baseselect.ts"),w=function(){var h=function(u,g){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,i){f.__proto__=i}||function(f,i){for(var p in i)Object.prototype.hasOwnProperty.call(i,p)&&(f[p]=i[p])},h(u,g)};return function(u,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");h(u,g);function f(){this.constructor=u}u.prototype=g===null?Object.create(g):(f.prototype=g.prototype,new f)}}(),S=function(h){w(u,h);function u(g){return h.call(this,g)||this}return u}(M.QuestionSelectBaseImplementor),x=function(h){w(u,h);function u(g){var f=h.call(this,g)||this;return f.koDisableOption=function(i,p){p&&d.applyBindingsToNode(i,{disable:d.computed(function(){return!p.isEnabled})},p)},f}return u.prototype.onBaseCreating=function(){h.prototype.onBaseCreating.call(this),this._implementor=new S(this)},u.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,h.prototype.dispose.call(this)},u}(C.QuestionDropdownModel);C.Serializer.overrideClassCreator("dropdown",function(){return new x("")}),C.QuestionFactory.Instance.registerQuestion("dropdown",function(h){var u=new x(h);return u.choices=C.QuestionFactory.DefaultChoices,u})},"./src/knockout/koquestion_empty.ts":function(a,r,t){t.r(r),t.d(r,"QuestionEmpty",function(){return w});var d=t("./src/entries/core.ts"),C=t("./src/knockout/koquestion.ts"),M=function(){var S=function(x,h){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var f in g)Object.prototype.hasOwnProperty.call(g,f)&&(u[f]=g[f])},S(x,h)};return function(x,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");S(x,h);function u(){this.constructor=x}x.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}(),w=function(S){M(x,S);function x(h){return S.call(this,h)||this}return x.prototype.onBaseCreating=function(){S.prototype.onBaseCreating.call(this),this._implementor=new C.QuestionImplementor(this)},x.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,S.prototype.dispose.call(this)},x}(d.QuestionEmptyModel);d.Serializer.overrideClassCreator("empty",function(){return new w("")})},"./src/knockout/koquestion_expression.ts":function(a,r,t){t.r(r),t.d(r,"QuestionExpression",function(){return w});var d=t("./src/entries/core.ts"),C=t("./src/knockout/koquestion.ts"),M=function(){var S=function(x,h){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var f in g)Object.prototype.hasOwnProperty.call(g,f)&&(u[f]=g[f])},S(x,h)};return function(x,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");S(x,h);function u(){this.constructor=x}x.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}(),w=function(S){M(x,S);function x(h){return S.call(this,h)||this}return x.prototype.onBaseCreating=function(){S.prototype.onBaseCreating.call(this),this._implementor=new C.QuestionImplementor(this)},x.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,S.prototype.dispose.call(this)},x}(d.QuestionExpressionModel);d.Serializer.overrideClassCreator("expression",function(){return new w("")}),d.QuestionFactory.Instance.registerQuestion("expression",function(S){return new w(S)})},"./src/knockout/koquestion_file.ts":function(a,r,t){t.r(r),t.d(r,"QuestionFile",function(){return h});var d=t("knockout"),C=t("./src/entries/core.ts"),M=t("./src/knockout/koquestion.ts"),w=t("./src/utils/utils.ts"),S=function(){var u=function(g,f){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,p){i.__proto__=p}||function(i,p){for(var P in p)Object.prototype.hasOwnProperty.call(p,P)&&(i[P]=p[P])},u(g,f)};return function(g,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");u(g,f);function i(){this.constructor=g}g.prototype=f===null?Object.create(f):(i.prototype=f.prototype,new i)}}(),x=function(u){S(g,u);function g(f){var i=u.call(this,f)||this;return i.setObservaleObj("koState",d.observable("empty")),i.setObservaleObj("koHasValue",d.computed(function(){return i.question.koState()==="loaded"})),i.setObservaleObj("koData",d.computed(function(){return i.question.koHasValue()?i.question.previewValue:[]})),i.setObservaleObj("koInputTitle",d.observable()),i.setObservaleObj("koChooseFileCss",d.pureComputed(function(){return i.question.getChooseFileCss()})),i.setCallbackFunc("ondrop",function(p,P){i.question.onDrop(Object(w.getOriginalEvent)(P))}),i.setCallbackFunc("ondragover",function(p,P){i.question.onDragOver(Object(w.getOriginalEvent)(P))}),i.setCallbackFunc("ondragleave",function(p,P){i.question.onDragLeave(Object(w.getOriginalEvent)(P))}),i.setCallbackFunc("dochange",function(p,P){i.question.doChange(Object(w.getOriginalEvent)(P))}),i.setCallbackFunc("doclean",function(p,P){i.question.doClean(Object(w.getOriginalEvent)(P))}),i.setCallbackFunc("doremovefile",function(p,P){i.question.doRemoveFile(p)}),i.setCallbackFunc("dodownload",function(p,P){return i.question.doDownloadFile(Object(w.getOriginalEvent)(P),p),!0}),i}return g}(M.QuestionImplementor),h=function(u){S(g,u);function g(f){var i=u.call(this,f)||this,p=function(P){i.koState(P),i.koInputTitle(i.inputTitle)};return i.onStateChanged.add(function(P,m){p(m.state)}),i}return g.prototype.onBaseCreating=function(){u.prototype.onBaseCreating.call(this),this._implementor=new x(this)},g.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,u.prototype.dispose.call(this)},g}(C.QuestionFileModel);C.Serializer.overrideClassCreator("file",function(){return new h("")}),C.QuestionFactory.Instance.registerQuestion("file",function(u){return new h(u)})},"./src/knockout/koquestion_html.ts":function(a,r,t){t.r(r),t.d(r,"QuestionHtml",function(){return w});var d=t("./src/entries/core.ts"),C=t("./src/knockout/koquestion.ts"),M=function(){var S=function(x,h){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var f in g)Object.prototype.hasOwnProperty.call(g,f)&&(u[f]=g[f])},S(x,h)};return function(x,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");S(x,h);function u(){this.constructor=x}x.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}(),w=function(S){M(x,S);function x(h){return S.call(this,h)||this}return x.prototype.onBaseCreating=function(){S.prototype.onBaseCreating.call(this),this._implementor=new C.QuestionImplementor(this)},x.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,S.prototype.dispose.call(this)},x}(d.QuestionHtmlModel);d.Serializer.overrideClassCreator("html",function(){return new w("")}),d.QuestionFactory.Instance.registerQuestion("html",function(S){return new w(S)})},"./src/knockout/koquestion_image.ts":function(a,r,t){t.r(r),t.d(r,"QuestionImage",function(){return w});var d=t("./src/entries/core.ts"),C=t("./src/knockout/koquestion.ts"),M=function(){var S=function(x,h){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var f in g)Object.prototype.hasOwnProperty.call(g,f)&&(u[f]=g[f])},S(x,h)};return function(x,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");S(x,h);function u(){this.constructor=x}x.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}(),w=function(S){M(x,S);function x(h){return S.call(this,h)||this}return x.prototype.onBaseCreating=function(){S.prototype.onBaseCreating.call(this),this._implementor=new C.QuestionImplementor(this)},x.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,S.prototype.dispose.call(this)},x}(d.QuestionImageModel);d.Serializer.overrideClassCreator("image",function(){return new w("")}),d.QuestionFactory.Instance.registerQuestion("image",function(S){return new w(S)})},"./src/knockout/koquestion_imagepicker.ts":function(a,r,t){t.r(r),t.d(r,"QuestionImagePicker",function(){return S});var d=t("./src/entries/core.ts"),C=t("./src/knockout/koquestion_baseselect.ts"),M=function(){var x=function(h,u){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,f){g.__proto__=f}||function(g,f){for(var i in f)Object.prototype.hasOwnProperty.call(f,i)&&(g[i]=f[i])},x(h,u)};return function(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");x(h,u);function g(){this.constructor=h}h.prototype=u===null?Object.create(u):(g.prototype=u.prototype,new g)}}(),w=function(x){M(h,x);function h(u){return x.call(this,u)||this}return h.prototype.getKoValue=function(){return this.question.renderedValue},h}(C.QuestionCheckboxBaseImplementor),S=function(x){M(h,x);function h(u){return x.call(this,u)||this}return h.prototype.onBaseCreating=function(){x.prototype.onBaseCreating.call(this),this._implementor=new w(this)},h.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,x.prototype.dispose.call(this)},h}(d.QuestionImagePickerModel);d.Serializer.overrideClassCreator("imagepicker",function(){return new S("")}),d.QuestionFactory.Instance.registerQuestion("imagepicker",function(x){var h=new S(x);return h})},"./src/knockout/koquestion_matrix.ts":function(a,r,t){t.r(r),t.d(r,"QuestionMatrix",function(){return x});var d=t("knockout"),C=t("./src/entries/core.ts"),M=t("./src/knockout/koquestion.ts"),w=t("./src/knockout/kobase.ts"),S=function(){var h=function(u,g){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,i){f.__proto__=i}||function(f,i){for(var p in i)Object.prototype.hasOwnProperty.call(i,p)&&(f[p]=i[p])},h(u,g)};return function(u,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");h(u,g);function f(){this.constructor=u}u.prototype=g===null?Object.create(g):(f.prototype=g.prototype,new f)}}(),x=function(h){S(u,h);function u(g){var f=h.call(this,g)||this;return f.koVisibleRows=d.observableArray(),f.koVisibleColumns=d.observableArray(),f.koVisibleRows(f.visibleRows),f.koVisibleColumns(f.visibleColumns),f}return u.prototype.onBaseCreating=function(){h.prototype.onBaseCreating.call(this),this._implementor=new M.QuestionImplementor(this)},u.prototype.onColumnsChanged=function(){h.prototype.onColumnsChanged.call(this),this.koVisibleColumns(this.visibleColumns)},u.prototype.onRowsChanged=function(){h.prototype.onRowsChanged.call(this),this.koVisibleRows(this.visibleRows)},u.prototype.onSurveyLoad=function(){h.prototype.onSurveyLoad.call(this),this.onRowsChanged()},u.prototype.onMatrixRowCreated=function(g){new w.ImplementorBase(g)},u.prototype.getVisibleRows=function(){var g=h.prototype.getVisibleRows.call(this);return this.koVisibleRows(g),g},u.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,this.koVisibleRows=void 0,this.koVisibleColumns=void 0,h.prototype.dispose.call(this)},u}(C.QuestionMatrixModel);C.Serializer.overrideClassCreator("matrix",function(){return new x("")}),C.QuestionFactory.Instance.registerQuestion("matrix",function(h){var u=new x(h);return u.rows=C.QuestionFactory.DefaultRows,u.columns=C.QuestionFactory.DefaultColums,u})},"./src/knockout/koquestion_matrixdropdown.ts":function(a,r,t){t.r(r),t.d(r,"QuestionMatrixBaseImplementor",function(){return x}),t.d(r,"QuestionMatrixDropdown",function(){return h});var d=t("knockout"),C=t("./src/entries/core.ts"),M=t("./src/knockout/koquestion.ts"),w=t("./src/knockout/kobase.ts"),S=function(){var u=function(g,f){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,p){i.__proto__=p}||function(i,p){for(var P in p)Object.prototype.hasOwnProperty.call(p,P)&&(i[P]=p[P])},u(g,f)};return function(g,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");u(g,f);function i(){this.constructor=g}g.prototype=f===null?Object.create(f):(i.prototype=f.prototype,new i)}}(),x=function(u){S(g,u);function g(f){var i=u.call(this,f)||this;return i.koRecalc=d.observable(0),i.question.onRenderedTableCreatedCallback=function(p){i._tableImplementor&&i._tableImplementor.dispose(),i._tableImplementor=new w.ImplementorBase(p)},i.question.onRenderedTableResetCallback=function(){i.question.isDisposed||i.koRecalc(i.koRecalc()+1)},i.setObservaleObj("koTable",d.pureComputed(function(){return i.koRecalc(),i.question.renderedTable})),i.setCallbackFunc("koCellAfterRender",function(p,P){return i.cellAfterRender(p,P)}),i.setCallbackFunc("koCellQuestionAfterRender",function(p,P){return i.cellQuestionAfterRender(p,P)}),i.setCallbackFunc("koAddRowClick",function(){i.addRow()}),i.setCallbackFunc("koRemoveRowClick",function(p){i.removeRow(p.row)}),i.setCallbackFunc("koPanelAfterRender",function(p,P){i.panelAfterRender(p,P)}),i}return g.prototype.getQuestionTemplate=function(){return"matrixdynamic"},g.prototype.cellAfterRender=function(f,i){var p=this;this.question.survey&&setTimeout(function(){d.tasks&&d.tasks.runEarly();var P=C.SurveyElement.GetFirstNonTextElement(f);if(P){var m=i,y={cell:m.cell,cellQuestion:m.question,htmlElement:P,row:m.row,column:m.cell?m.cell.column:null};p.question.survey.matrixAfterCellRender(p.question,y)}},0)},g.prototype.cellQuestionAfterRender=function(f,i){this.question.survey&&setTimeout(function(){d.tasks&&d.tasks.runEarly();var p=C.SurveyElement.GetFirstNonTextElement(f);if(p){var P=i;P.question.customWidget&&(P.question.customWidget.afterRender(P.question,p),d.utils.domNodeDisposal.addDisposeCallback(p,function(){P.question.customWidget.willUnmount(P.question,p)})),P.question.afterRenderQuestionElement(p)}},0)},g.prototype.isAddRowTop=function(){return!1},g.prototype.isAddRowBottom=function(){return!1},g.prototype.addRow=function(){},g.prototype.removeRow=function(f){},g.prototype.panelAfterRender=function(f,i){if(!(!this.question||!this.question.survey)){var p=C.SurveyElement.GetFirstNonTextElement(f);this.question.survey.afterRenderPanel(i,p)}},g.prototype.dispose=function(){this._tableImplementor&&this._tableImplementor.dispose(),this.question.onRenderedTableCreatedCallback=void 0,this.question.onRenderedTableResetCallback=void 0,u.prototype.dispose.call(this)},g}(M.QuestionImplementor),h=function(u){S(g,u);function g(f){return u.call(this,f)||this}return g.prototype.onBaseCreating=function(){u.prototype.onBaseCreating.call(this),this._implementor=new x(this)},g.prototype.dispose=function(){u.prototype.dispose.call(this),this._implementor.dispose(),this._implementor=void 0},g}(C.QuestionMatrixDropdownModel);C.Serializer.overrideClassCreator("matrixdropdown",function(){return new h("")}),C.QuestionFactory.Instance.registerQuestion("matrixdropdown",function(u){var g=new h(u);return g.choices=[1,2,3,4,5],g.rows=C.QuestionFactory.DefaultRows,C.QuestionMatrixDropdownModelBase.addDefaultColumns(g),g})},"./src/knockout/koquestion_matrixdynamic.ts":function(a,r,t){t.r(r),t.d(r,"QuestionMatrixDynamicImplementor",function(){return x}),t.d(r,"QuestionMatrixDynamic",function(){return h});var d=t("knockout"),C=t("./src/entries/core.ts"),M=t("./src/knockout/koquestion_matrixdropdown.ts"),w=t("./src/knockout/kobase.ts"),S=function(){var u=function(g,f){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,p){i.__proto__=p}||function(i,p){for(var P in p)Object.prototype.hasOwnProperty.call(p,P)&&(i[P]=p[P])},u(g,f)};return function(g,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");u(g,f);function i(){this.constructor=g}g.prototype=f===null?Object.create(f):(i.prototype=f.prototype,new i)}}(),x=function(u){S(g,u);function g(f){var i=u.call(this,f)||this;return i.question.getKoPopupIsVisible=i.getKoPopupIsVisible,i}return g.prototype.addRow=function(){this.question.addRowUI()},g.prototype.removeRow=function(f){this.question.removeRowUI(f)},g.prototype.getKoPopupIsVisible=function(f){return d.observable(f.isDetailPanelShowing)},g.prototype.dispose=function(){u.prototype.dispose.call(this),this.question.getKoPopupIsVisible=void 0},g}(M.QuestionMatrixBaseImplementor),h=function(u){S(g,u);function g(f){return u.call(this,f)||this}return g.prototype.onBaseCreating=function(){u.prototype.onBaseCreating.call(this),this._implementor=new x(this)},g.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,u.prototype.dispose.call(this)},g}(C.QuestionMatrixDynamicModel);C.Serializer.overrideClassCreator("matrixdynamic",function(){return new h("")}),C.QuestionMatrixDropdownRenderedRow.prototype.onCreating=function(){new w.ImplementorBase(this)},C.QuestionFactory.Instance.registerQuestion("matrixdynamic",function(u){var g=new h(u);return g.choices=[1,2,3,4,5],g.rowCount=2,C.QuestionMatrixDropdownModelBase.addDefaultColumns(g),g})},"./src/knockout/koquestion_multipletext.ts":function(a,r,t){t.r(r),t.d(r,"MultipleTextItem",function(){return x}),t.d(r,"QuestionMultipleTextImplementor",function(){return h}),t.d(r,"QuestionMultipleText",function(){return u});var d=t("knockout"),C=t("./src/entries/core.ts"),M=t("./src/knockout/koquestion.ts"),w=t("./src/knockout/koquestion_text.ts"),S=function(){var g=function(f,i){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,P){p.__proto__=P}||function(p,P){for(var m in P)Object.prototype.hasOwnProperty.call(P,m)&&(p[m]=P[m])},g(f,i)};return function(f,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");g(f,i);function p(){this.constructor=f}f.prototype=i===null?Object.create(i):(p.prototype=i.prototype,new p)}}(),x=function(g){S(f,g);function f(i,p){return i===void 0&&(i=null),p===void 0&&(p=null),g.call(this,i,p)||this}return f.prototype.createEditor=function(i){return new w.QuestionText(i)},f}(C.MultipleTextItemModel),h=function(g){S(f,g);function f(i){var p=g.call(this,i)||this;return p.koRecalc=d.observable(0),p.setObservaleObj("koItemCss",d.pureComputed(function(){return p.koRecalc(),p.question.getItemCss()})),p.setObservaleObj("koItemTitleCss",d.pureComputed(function(){return p.koRecalc(),p.question.getItemTitleCss()})),p}return f}(M.QuestionImplementor),u=function(g){S(f,g);function f(i){var p=g.call(this,i)||this;return p.koRows=d.observableArray(p.getRows()),p.colCountChangedCallback=function(){p.onColCountChanged()},p.onColCountChanged(),p}return f.prototype.onBaseCreating=function(){g.prototype.onBaseCreating.call(this),this._implementor=new h(this)},f.prototype.onColCountChanged=function(){this.koRows(this.getRows())},f.prototype.createTextItem=function(i,p){return new x(i,p)},f.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,this.koRows=void 0,g.prototype.dispose.call(this)},f}(C.QuestionMultipleTextModel);C.Serializer.overrideClassCreator("multipletextitem",function(){return new x("")}),C.Serializer.overrideClassCreator("multipletext",function(){return new u("")}),C.QuestionFactory.Instance.registerQuestion("multipletext",function(g){var f=new u(g);return C.QuestionMultipleTextModel.addDefaultItems(f),f})},"./src/knockout/koquestion_paneldynamic.ts":function(a,r,t){t.r(r),t.d(r,"QuestionPanelDynamicImplementor",function(){return S}),t.d(r,"QuestionPanelDynamic",function(){return x});var d=t("knockout"),C=t("./src/entries/core.ts"),M=t("./src/knockout/koquestion.ts"),w=function(){var h=function(u,g){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,i){f.__proto__=i}||function(f,i){for(var p in i)Object.prototype.hasOwnProperty.call(i,p)&&(f[p]=i[p])},h(u,g)};return function(u,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");h(u,g);function f(){this.constructor=u}u.prototype=g===null?Object.create(g):(f.prototype=g.prototype,new f)}}(),S=function(h){w(u,h);function u(g){var f=h.call(this,g)||this;f.koRecalc=d.observable(0),f.setCallbackFunc("koAddPanelClick",function(){f.addPanel()}),f.setCallbackFunc("koRemovePanelClick",function(p){f.removePanel(p)}),f.setCallbackFunc("koPrevPanelClick",function(){f.question.goToPrevPanel()}),f.setCallbackFunc("koNextPanelClick",function(){f.question.goToNextPanel()}),f.setObservaleObj("koCanAddPanel",d.pureComputed(function(){return f.koRecalc(),f.question.canAddPanel})),f.setObservaleObj("koCanRemovePanel",d.pureComputed(function(){return f.koRecalc(),f.question.canRemovePanel})),f.setObservaleObj("koIsPrevButton",d.pureComputed(function(){return f.koRecalc(),f.question.isPrevButtonShowing})),f.setObservaleObj("koIsNextButton",d.pureComputed(function(){return f.koRecalc(),f.question.isNextButtonShowing})),f.setObservaleObj("koIsRange",d.pureComputed(function(){return f.koRecalc(),f.question.isRangeShowing})),f.setObservaleObj("koPanel",d.pureComputed(function(){return f.koRecalc(),f.question.currentPanel})),f.setObservaleObj("koIsList",d.pureComputed(function(){return f.koRecalc(),f.question.isRenderModeList})),f.setObservaleObj("koIsProgressTop",d.pureComputed(function(){return f.koRecalc(),f.question.isProgressTopShowing})),f.setObservaleObj("koIsProgressBottom",d.pureComputed(function(){return f.koRecalc(),f.question.isProgressBottomShowing}));var i=d.observable(f.question.currentIndex);return i.subscribe(function(p){f.question.currentIndex=p}),f.setObservaleObj("koRangeValue",i),f.setObservaleObj("koRangeMax",d.pureComputed(function(){return f.koRecalc(),f.question.panelCount-1})),f.setObservaleObj("koAddButtonCss",d.pureComputed(function(){return f.koRecalc(),f.question.getAddButtonCss()})),f.setObservaleObj("koPrevButtonCss",d.pureComputed(function(){return f.koRecalc(),f.question.getPrevButtonCss()})),f.setObservaleObj("koNextButtonCss",d.pureComputed(function(){return f.koRecalc(),f.question.getNextButtonCss()})),f.setObservaleObj("koProgressText",d.pureComputed(function(){return f.koRecalc(),f.question.progressText})),f.setObservaleObj("koProgress",d.pureComputed(function(){return f.koRecalc(),f.question.progress})),f.setCallbackFunc("koPanelAfterRender",function(p,P){f.panelAfterRender(p,P)}),f.question.panelCountChangedCallback=function(){f.onPanelCountChanged()},f.question.renderModeChangedCallback=function(){f.onRenderModeChanged()},f.question.currentIndexChangedCallback=function(){f.onCurrentIndexChanged()},f}return u.prototype.onPanelCountChanged=function(){this.onCurrentIndexChanged()},u.prototype.onRenderModeChanged=function(){this.onCurrentIndexChanged()},u.prototype.onCurrentIndexChanged=function(){this.question.isDisposed||(this.koRecalc(this.koRecalc()+1),this.question.koRangeValue(this.question.currentIndex))},u.prototype.addPanel=function(){this.question.addPanelUI()},u.prototype.removePanel=function(g){this.question.isRenderModeList||(g=this.question.currentPanel),this.question.removePanelUI(g)},u.prototype.panelAfterRender=function(g,f){if(!(!this.question||!this.question.survey)){var i=C.SurveyElement.GetFirstNonTextElement(g);this.question.survey.afterRenderPanel(f,i)}},u.prototype.dispose=function(){this.question.panelCountChangedCallback=void 0,this.question.renderModeChangedCallback=void 0,this.question.currentIndexChangedCallback=void 0,h.prototype.dispose.call(this)},u}(M.QuestionImplementor),x=function(h){w(u,h);function u(g){return h.call(this,g)||this}return u.prototype.onBaseCreating=function(){h.prototype.onBaseCreating.call(this),this._implementor=new S(this)},u.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,h.prototype.dispose.call(this)},u}(C.QuestionPanelDynamicModel);C.Serializer.overrideClassCreator("paneldynamic",function(){return new x("")}),C.QuestionFactory.Instance.registerQuestion("paneldynamic",function(h){return new x(h)})},"./src/knockout/koquestion_radiogroup.ts":function(a,r,t){t.r(r),t.d(r,"QuestionRadiogroup",function(){return w});var d=t("./src/entries/core.ts"),C=t("./src/knockout/koquestion_baseselect.ts"),M=function(){var S=function(x,h){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var f in g)Object.prototype.hasOwnProperty.call(g,f)&&(u[f]=g[f])},S(x,h)};return function(x,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");S(x,h);function u(){this.constructor=x}x.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}(),w=function(S){M(x,S);function x(h){return S.call(this,h)||this}return x.prototype.onBaseCreating=function(){S.prototype.onBaseCreating.call(this),this._implementor=new C.QuestionCheckboxBaseImplementor(this)},x.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,S.prototype.dispose.call(this)},x}(d.QuestionRadiogroupModel);d.Serializer.overrideClassCreator("radiogroup",function(){return new w("")}),d.QuestionFactory.Instance.registerQuestion("radiogroup",function(S){var x=new w(S);return x.choices=d.QuestionFactory.DefaultChoices,x})},"./src/knockout/koquestion_ranking.ts":function(a,r,t){t.r(r),t.d(r,"QuestionRanking",function(){return w});var d=t("./src/entries/core.ts"),C=t("./src/knockout/koquestion.ts"),M=function(){var S=function(x,h){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var f in g)Object.prototype.hasOwnProperty.call(g,f)&&(u[f]=g[f])},S(x,h)};return function(x,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");S(x,h);function u(){this.constructor=x}x.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}(),w=function(S){M(x,S);function x(){var h=S!==null&&S.apply(this,arguments)||this;return h.koHandleKeydown=function(u,g){return h.handleKeydown(g,u),!0},h.koHandlePointerDown=function(u,g){return g.preventDefault(),h.handlePointerDown(g,u,g.currentTarget),!0},h}return x.prototype.onBaseCreating=function(){S.prototype.onBaseCreating.call(this),this._implementor=new C.QuestionImplementor(this)},x.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,S.prototype.dispose.call(this)},x}(d.QuestionRankingModel);d.Serializer.overrideClassCreator("ranking",function(){return new w("")}),d.QuestionFactory.Instance.registerQuestion("ranking",function(S){var x=new w(S);return x.choices=d.QuestionFactory.DefaultChoices,x})},"./src/knockout/koquestion_rating.ts":function(a,r,t){t.r(r),t.d(r,"QuestionRatingImplementor",function(){return w}),t.d(r,"QuestionRating",function(){return S});var d=t("./src/knockout/koquestion.ts"),C=t("./src/entries/core.ts"),M=function(){var x=function(h,u){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,f){g.__proto__=f}||function(g,f){for(var i in f)Object.prototype.hasOwnProperty.call(f,i)&&(g[i]=f[i])},x(h,u)};return function(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");x(h,u);function g(){this.constructor=h}h.prototype=u===null?Object.create(u):(g.prototype=u.prototype,new g)}}(),w=function(x){M(h,x);function h(u){var g=x.call(this,u)||this;return g.onCreated(),g}return h.prototype.onCreated=function(){},h.prototype.dispose=function(){this.question.rateValuesChangedCallback=void 0,x.prototype.dispose.call(this)},h}(d.QuestionImplementor),S=function(x){M(h,x);function h(u){return x.call(this,u)||this}return h.prototype.onBaseCreating=function(){x.prototype.onBaseCreating.call(this),this._implementor=new w(this)},h.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,x.prototype.dispose.call(this)},h}(C.QuestionRatingModel);C.Serializer.overrideClassCreator("rating",function(){return new S("")}),C.QuestionFactory.Instance.registerQuestion("rating",function(x){return new S(x)})},"./src/knockout/koquestion_signaturepad.ts":function(a,r,t){t.r(r),t.d(r,"QuestionSignaturePad",function(){return w});var d=t("./src/entries/core.ts"),C=t("./src/knockout/koquestion.ts"),M=function(){var S=function(x,h){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var f in g)Object.prototype.hasOwnProperty.call(g,f)&&(u[f]=g[f])},S(x,h)};return function(x,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");S(x,h);function u(){this.constructor=x}x.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}(),w=function(S){M(x,S);function x(h){return S.call(this,h)||this}return x.prototype.onBaseCreating=function(){S.prototype.onBaseCreating.call(this),this._implementor=new C.QuestionImplementor(this)},x.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,S.prototype.dispose.call(this)},x}(d.QuestionSignaturePadModel);d.Serializer.overrideClassCreator("signaturepad",function(){return new w("")}),d.QuestionFactory.Instance.registerQuestion("signaturepad",function(S){return new w(S)})},"./src/knockout/koquestion_text.ts":function(a,r,t){t.r(r),t.d(r,"QuestionText",function(){return w});var d=t("./src/entries/core.ts"),C=t("./src/knockout/koquestion.ts"),M=function(){var S=function(x,h){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var f in g)Object.prototype.hasOwnProperty.call(g,f)&&(u[f]=g[f])},S(x,h)};return function(x,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");S(x,h);function u(){this.constructor=x}x.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}(),w=function(S){M(x,S);function x(h){return S.call(this,h)||this}return x.prototype.onBaseCreating=function(){S.prototype.onBaseCreating.call(this),this._implementor=new C.QuestionImplementor(this)},x.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,S.prototype.dispose.call(this)},x}(d.QuestionTextModel);d.Serializer.overrideClassCreator("text",function(){return new w("")}),d.QuestionFactory.Instance.registerQuestion("text",function(S){return new w(S)})},"./src/knockout/kosurvey.ts":function(a,r,t){t.r(r),t.d(r,"SurveyImplementor",function(){return h}),t.d(r,"Survey",function(){return u}),t.d(r,"registerTemplateEngine",function(){return g});var d=t("knockout"),C=t("./src/entries/core.ts"),M=t("./src/knockout/templateText.ts"),w=t("./src/knockout/kobase.ts"),S=t("./src/utils/utils.ts"),x=function(){var f=function(i,p){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,m){P.__proto__=m}||function(P,m){for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&(P[y]=m[y])},f(i,p)};return function(i,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");f(i,p);function P(){this.constructor=i}i.prototype=p===null?Object.create(p):(P.prototype=p.prototype,new P)}}();C.CustomWidgetCollection.Instance.onCustomWidgetAdded.add(function(f){f.widgetJson.isDefaultRender||(f.htmlTemplate||(f.htmlTemplate="<div>'htmlTemplate' attribute is missed.</div>"),new M.SurveyTemplateText().replaceText(f.htmlTemplate,"widget",f.name))});var h=function(f){x(i,f);function i(p){var P=f.call(this,p)||this;return P.survey=p,P.survey.valueHashGetDataCallback=function(m,y){return m[y]===void 0&&(m[y]=d.observable()),d.unwrap(m[y])},P.survey.valueHashSetDataCallback=function(m,y,R){d.isWriteableObservable(m[y])?m[y](R):m[y]=d.observable(R)},P.survey.valueHashDeleteDataCallback=function(m,y){d.isWriteableObservable(m[y])?m[y](void 0):delete m[y]},P.survey.koTitleTemplate=d.observable("survey-header"),P.survey.koAfterRenderPage=function(m,y){var R=C.SurveyElement.GetFirstNonTextElement(m);R&&setTimeout(function(){d.tasks&&d.tasks.runEarly(),P.survey.afterRenderPage(R)},0)},P.survey.koAfterRenderHeader=function(m,y){var R=C.SurveyElement.GetFirstNonTextElement(m);R&&P.survey.afterRenderHeader(R)},P.survey.disposeCallback=function(){P.dispose()},new w.ImplementorBase(P.survey.timerModel),P}return i.prototype.render=function(p){if(p===void 0&&(p=null),typeof d>"u")throw new Error("knockoutjs library is not loaded.");var P=this.survey.activePage;P&&P.updateCustomWidgets(),this.survey.updateElementCss(!1),p&&typeof p=="string"&&(p=document.getElementById(p)),p&&(this.renderedElement=p),this.survey.startTimerFromUI(),this.applyBinding()},i.prototype.applyBinding=function(){this.renderedElement&&(d.cleanNode(this.renderedElement),d.renderTemplate("survey-content",this.survey,{},this.renderedElement))},i.prototype.koEventAfterRender=function(p,P){P.needRenderIcons&&C.SvgRegistry.renderIcons(),P.afterRenderSurvey(p)},i.prototype.dispose=function(){f.prototype.dispose.call(this),this.renderedElement&&(d.cleanNode(this.renderedElement),this.renderedElement.innerHTML=""),this.survey.koAfterRenderPage=void 0,this.survey.koAfterRenderHeader=void 0,this.survey.iteratePropertiesHash(function(p,P){delete p[P]})},i}(w.ImplementorBase);C.SurveyModel.prototype.onCreating=function(){this.implementor=new h(this)},C.SurveyModel.prototype.render=function(f){f===void 0&&(f=null),this.implementor.render(f)},C.SurveyModel.prototype.getHtmlTemplate=function(){return M.koTemplate};var u=function(f){x(i,f);function i(p,P){return p===void 0&&(p=null),P===void 0&&(P=null),f.call(this,p,P)||this}return i}(C.SurveyModel);C.LocalizableString.prototype.onCreating=function(){this.koHasHtml=d.observable(this.hasHtml),this.koRenderedHtml=d.observable(this.renderedHtml)},C.ItemValue.prototype.onCreating=function(){var f=this;new w.ImplementorBase(this),this.koText=d.pureComputed(function(){return f.locText.koRenderedHtml()})},C.LocalizableString.prototype.onChanged=function(){var f=this.hasHtml;this.koHasHtml(f),this.koRenderedHtml(f?this.getHtmlValue():this.calculatedText)},d.components.register("survey",{viewModel:{createViewModel:function(f,i){var p=d.unwrap(f.survey);return setTimeout(function(){var P=document.createElement("div");i.element.appendChild(P),p.render(P)},1),f.survey}},template:M.koTemplate}),d.bindingHandlers.surveyProp={update:function(f,i,p){var P=d.utils.unwrapObservable(i())||{};for(var m in P)if(typeof m=="string"){var y=d.utils.unwrapObservable(P[m]);f[m]=y}}},C.SurveyModel.platform="knockout";var g=function(f,i){f.surveyTemplateEngine=function(){},f.surveyTemplateEngine.prototype=new f.nativeTemplateEngine,f.surveyTemplateEngine.prototype.makeTemplateSource=function(P,m){if(typeof P=="string"){m=m||document;var y=m.getElementById("survey-content-"+i);y||(y=document.createElement("div"),y.id="survey-content-"+C.SurveyModel.platform,y.style.display="none",y.innerHTML=M.koTemplate,document.body.appendChild(y));for(var R,b=0;b<y.children.length;b++)if(y.children[b].id===P){R=y.children[b];break}return R||(R=m.getElementById(P)),R?new f.templateSources.domElement(R):new f.nativeTemplateEngine().makeTemplateSource(P,m)}else{if(P.nodeType===1||P.nodeType===8)return new f.templateSources.anonymousTemplate(P);throw new Error("Unknown template type: "+P)}};var p=new f.surveyTemplateEngine;f.setTemplateEngine(p)};d.bindingHandlers.key2click={init:function(f,i,p,P){var m=i()||{processEsc:!0};if(P.disableTabStop){f.tabIndex=-1;return}f.tabIndex=0,f.onkeyup=function(y){return y.preventDefault(),y.stopPropagation(),Object(S.doKey2ClickUp)(y,m),!1},f.onkeydown=function(y){return Object(S.doKey2ClickDown)(y,m)},f.onblur=function(y){return Object(S.doKey2ClickBlur)(y)}}}},"./src/knockout/templateText.ts":function(a,r,t){t.r(r),t.d(r,"koTemplate",function(){return d}),t.d(r,"SurveyTemplateText",function(){return C});var d=t("./node_modules/html-loader/index.js?interpolate!./node_modules/val-loader/index.js!./src/knockout/templates/entry.html"),C=function(){function M(){}return M.prototype.addText=function(w,S,x){S=this.getId(S,x),this.text=this.text+'<script type="text/html" '+S+">"+w+"<\/script>"},M.prototype.replaceText=function(w,S,x){x===void 0&&(x=null);var h=this.getId(S,x),u=this.text.indexOf(h);if(u<0){this.addText(w,S,x);return}if(u=this.text.indexOf(">",u),!(u<0)){var g=u+1,f="<\/script>";u=this.text.indexOf(f,g),!(u<0)&&(this.text=this.text.substr(0,g)+w+this.text.substr(u))}},M.prototype.getId=function(w,S){var x='id="survey-'+w;return S&&(x+="-"+S),x+'"'},Object.defineProperty(M.prototype,"text",{get:function(){return d},set:function(w){d=w},enumerable:!1,configurable:!0}),M}()},"./src/knockout/templates/comment.html":function(a,r){a.exports=`<script type="text/html" id="survey-comment">
  <!--ko if: !question.isReadOnlyRenderDiv() -->
<textarea data-bind="attr: { maxLength: question.getOthersMaxLength(), 'aria-required': question.ariaRequired, 'aria-label': question.ariaLabel, placeholder: question.commentOrOtherPlaceHolder }, 
        event: { input: function(s, e) { $data.question.onCommentInput(s, e); } }, 
        value: $data.question.comment, 
        visible: $data.visible,
        disable: $data.question.isInputReadOnly,
        style: { resize: question.resizeStyle },
        css: $data.question.koCss().other"></textarea>
<!--/ko-->

<!--ko if: question.isReadOnlyRenderDiv() -->
<div data-bind="text: question.comment"></div>
<!--/ko-->
<\/script>`},"./src/knockout/templates/flowpanel.html":function(a,r){a.exports=`<script type="text/html" id="survey-flowpanel">
  <div data-bind="style: { flexBasis: renderWidth, flexGrow: 1, flexShrink: 1, width: renderWidth, minWidth: $data.minWidth, maxWidth: $data.maxWidth }, attr: { id: id }, css: cssClasses.panel.container">
      <h4 data-bind="visible: (processedTitle.length > 0), css: question.cssTitle">
          <!-- ko template: { name: 'survey-string', data: locTitle } -->
          <!-- /ko -->
      </h4>
      <div data-bind="css: cssClasses.panel.description">
          <!-- ko template: { name: 'survey-string', data: locDescription } -->
          <!-- /ko -->
      </div>
      <div data-bind="style: { paddingLeft: innerPaddingLeft }"></div>
      <f-panel params="question: question" data-bind="attr: { contenteditable : question.isDesignMode, placeHolder: question.placeHolder }"></f-panel>
  </div>
<\/script>
<script type="text/html" id="survey-flowpanel-question">
  <!-- ko with: $parent.question.getQuestionByName($data) -->
    <!-- ko template: { name: koElementType(), data: $data, as: 'question', afterRender: parent.koElementAfterRender } --><!-- /ko -->
  <!-- /ko -->
<\/script>
`},"./src/knockout/templates/header.html":function(a,r){a.exports=`<script type="text/html" id="survey-header">
  <!-- ko if: renderedHasHeader -->
<div data-bind="css: css.header">
  <!-- ko if: isLogoBefore -->
  <!-- ko component: { name: getElementWrapperComponentName($data, 'logo-image'), params: getElementWrapperComponentData($data, 'logo-image') } -->
  <!-- /ko -->
  <!-- /ko -->

  <!-- ko if: renderedHasTitle -->
  <div data-bind="css: css.headerText, style: { maxWidth: titleMaxWidth }">
    <!-- ko component: { name: 'survey-element-title', params: {element: $data } } -->
    <!-- /ko -->
    <!-- ko if: renderedHasDescription -->
    <h5 data-bind="css: css.description">
      <!-- ko template: { name: 'survey-string', data: locDescription } -->
      <!-- /ko -->
    </h5>
    <!-- /ko -->
  </div>
  <!-- /ko -->

  <!-- ko if: isLogoAfter -->
  <!-- ko component: { name: getElementWrapperComponentName($data, 'logo-image'), params: getElementWrapperComponentData($data, 'logo-image') } -->
  <!-- /ko -->
  <!-- /ko -->
  <div data-bind="css: css.headerClose"></div>
</div>
<!-- /ko -->
<\/script>`},"./src/knockout/templates/index.html":function(a,r){a.exports=`<script type="text/html" id="survey-content">
    <!-- ko template: { name: "survey-content-template", afterRender: $data.implementor.koEventAfterRender } -->
    <!-- /ko -->
<\/script>

<script type="text/html" id="survey-content-template">
  <div data-bind="css: rootCss">
      <form onsubmit="return false;">
          <div class="sv_custom_header" data-bind="visible: !hasLogo"></div>
          <div data-bind="css: containerCss">
              <!-- ko template: { name: koTitleTemplate, afterRender: koAfterRenderHeader } -->
              <!-- /ko -->
              <!-- ko if: isShowingPage -->
              <div data-bind="css: bodyCss">
                  <!-- ko if: isTimerPanelShowingOnTop && !isShowStartingPage -->
                  <!-- ko template: { name: 'survey-timerpanel' } -->
                  <!-- /ko -->
                  <!-- /ko -->
                  <!-- ko if: isShowProgressBarOnTop && !isShowStartingPage -->
                  <!-- ko component: { name: 'sv-progress-' + progressBarType, params: { model: $data } } -->
                  <!-- /ko -->
                  <!-- /ko -->
                  <!-- ko if: isNavigationButtonsShowingOnTop -->
                    <!-- ko component: { name: 'sv-action-bar', params: { model: navigationBar } } --><!-- /ko -->
                  <!-- /ko -->
                  <!-- ko if: activePage -->
                    <div data-bind="attr: { id: activePage.id }, template: { name: 'survey-page', data: activePage, afterRender: koAfterRenderPage }"></div>
                    <!-- ko if: activePage.rows.length == 0 && $data.emptyPageTemplate -->
                    <!-- ko template: { name: emptyPageTemplate, data: $data.emptyPageTemplateData || $data } -->
                    <!-- /ko -->
                    <!-- /ko -->
                  <!-- /ko -->
                  <!-- ko if: isShowProgressBarOnBottom && !isShowStartingPage -->
                  <!-- ko component: { name: 'sv-progress-' + progressBarType, params: { model: $data } } -->
                  <!-- /ko -->
                  <!-- /ko -->
                  <!-- ko if: isTimerPanelShowingOnBottom && !isShowStartingPage -->
                  <!-- ko template: { name: 'survey-timerpanel' } -->
                  <!-- /ko -->
                  <!-- /ko -->
                  <!-- ko if: isNavigationButtonsShowingOnBottom -->
                    <!-- ko component: { name: 'sv-action-bar', params: { model: navigationBar } } --><!-- /ko -->
                  <!-- /ko -->
              </div>
              <!-- /ko -->
              <!-- ko if: state == "completed" && showCompletedPage -->
              <div data-bind="html: processedCompletedHtml, css: completedCss"></div>
              <div data-bind="visible: completedState != '', css: css.saveData.root">
                  <div data-bind="css: completedStateCss">
                      <span data-bind="text:completedStateText"></span>
                      <input type="button" data-bind="visible: completedState == 'error', value: getLocString('saveAgainButton'), click: doComplete, css: css.saveData.saveAgainButton"/>
                  </div>
              </div>
              <!-- /ko -->
              <!-- ko if: state == "completedbefore" -->
              <div data-bind="html: processedCompletedBeforeHtml, css: css.body"></div>
              <!-- /ko -->
              <!-- ko if: state == "loading" -->
              <div data-bind="html: processedLoadingHtml, css: css.body"></div>
              <!-- /ko -->
              <!-- ko if: state == "empty" -->
              <div data-bind="text:emptySurveyText, css: css.bodyEmpty"></div>
              <!-- /ko -->
          </div>
      </form>
  </div>
<\/script>`},"./src/knockout/templates/page.html":function(a,r){a.exports=`<script type="text/html" id="survey-page">
  <div data-bind="css: cssClasses.page.root">
    <!-- ko component: { name: 'survey-element-title', params: {element: $data } } --><!-- /ko -->
    <!-- ko if: _showDescription-->
    <div
      data-bind="visible: data.showPageTitles, css: cssClasses.page.description"
    >
      <!-- ko template: { name: 'survey-string', data: locDescription } -->
      <!-- /ko -->
    </div>
    <!-- /ko -->
    <!-- ko template: { name: 'survey-rows', data: $data} -->
    <!-- /ko -->
  </div>
<\/script>
`},"./src/knockout/templates/panel.html":function(a,r){a.exports=`<script type="text/html" id="survey-panel">
  <!-- ko if: $data.isVisible -->
  <div
    data-bind="attr: { id: id }, css: $data.getContainerCss(), event: {focusin: focusIn}"
  >
    <!-- ko if: hasDescription || hasTitle  -->
        <!--ko template: { name: 'survey-question-title', data: $data  } --><!-- /ko -->
    <!-- /ko -->
    <!-- ko template: { name: 'survey-question-errors', data: $data } -->
    <!-- /ko -->
    <!-- ko if: state != "collapsed" -->
    <div
      data-bind="style: { paddingLeft: innerPaddingLeft }, css: cssClasses.panel.content, attr: {id:contentId}"
    >
      <!-- ko template: { name: 'survey-rows', data: $data} -->
      <!-- /ko -->
      <!-- ko component: { name: 'sv-action-bar', params: { model: getFooterToolbar() } } -->
      <!-- /ko -->
    </div>
    <!-- /ko -->
  </div>
  <!-- /ko -->
<\/script>
`},"./src/knockout/templates/question-boolean.html":function(a,r){a.exports=`<script type="text/html" id="survey-question-boolean">
  <div data-bind="css: question.koCss().root, event: { keydown: question.onKeyDown}">
    <label data-bind="css: question.getItemCss()">
      <input
        type="checkbox"
        data-bind="value: question.checkedValue, css: question.koCss().control, attr: {name: question.name, id: question.inputId, 'aria-required': question.ariaRequired, 'aria-label': question.ariaLabel, 'aria-invalid': question.ariaInvalid, 'aria-describedby': question.ariaDescribedBy}, checked: question.checkedValue, surveyProp: {indeterminate: question.isIndeterminate}, enable: !question.isInputReadOnly"
      />
      <span
        data-bind="css: question.getLabelCss(false), click: onFalseLabelClick"
        ><!-- ko template: { name: 'survey-string', data: locLabelFalse } --><!-- /ko --></span
      >
      <div data-bind="css: question.koCss().switch, click: onSwitchClick">
        <span data-bind="css: question.koCss().slider">
            <!-- ko if: question.koCss().sliderText && question.isDeterminated -->
            <span data-bind="css: question.koCss().sliderText">
              <!-- ko template: { name: 'survey-string', data: question.getCheckedLabel() } --><!-- /ko -->
            </span>
            <!-- /ko -->
        </span>
      </div>
      <span
        data-bind="css: question.getLabelCss(true), click: onTrueLabelClick"
        ><!-- ko template: { name: 'survey-string', data: locLabelTrue } --><!-- /ko --></span
      >
    </label>
  </div>
<\/script>`},"./src/knockout/templates/question-buttongroup.html":function(a,r){a.exports=`<script type="text/html" id="survey-question-buttongroup">
  <div role="group" data-bind="css: question.koCss().root">
      <!-- ko foreach: question.visibleChoices -->
        <!-- ko component: { name: 'sv-button-group-item', params: { question: question, item: $data, index: $index } } -->
        <!-- /ko -->
      <!-- /ko -->
    </div>
<\/script>
`},"./src/knockout/templates/question-checkbox.html":function(a,r){a.exports=`<script type="text/html" id="survey-question-checkbox">
  <fieldset data-bind="css: question.getSelectBaseRootCss()" role="presentation">
      <legend role="presentation" class="sv-hidden"></legend>
      <!-- ko ifnot: question.hasColumns  -->
        <!-- ko foreach: { data: question.visibleChoices, as: 'item', afterRender: question.koAfterRender }  -->
          <!-- ko component: { name: question.getItemValueWrapperComponentName(item), params: { componentData:  question.getItemValueWrapperComponentData(item), templateData: { name: 'survey-checkbox-item', data: item } } } -->
          <!-- /ko -->
        <!-- /ko -->
      <!-- /ko -->
      <!-- ko if: question.hasColumns  -->
        <!-- ko if: question.hasHeadItems  -->
          <!-- ko foreach: { data: question.headItems, as: 'item', afterRender: question.koAfterRender }  -->
            <!-- ko component: { name: question.getItemValueWrapperComponentName(item), params: { componentData:  question.getItemValueWrapperComponentData(item), templateData: { name: 'survey-checkbox-item', data: item } } } -->
            <!-- /ko -->
          <!-- /ko -->
        <!-- /ko -->
        <div data-bind="css: question.koCss().rootMultiColumn">
        <!-- ko foreach: question.columns -->
            <div data-bind="css: question.getColumnClass()" role="presentation">
            <!-- ko foreach: { data: $data, as: 'item', afterRender: question.koAfterRender }  -->
              <!-- ko component: { name: question.getItemValueWrapperComponentName(item), params: { componentData:  question.getItemValueWrapperComponentData(item), templateData: { name: 'survey-checkbox-item', data: item } } } -->
              <!-- /ko -->
            <!-- /ko -->
            </div>
        <!-- /ko -->
        </div>
        <!-- ko if: question.hasFootItems  -->
          <!-- ko foreach: { data: question.footItems, as: 'item', afterRender: question.koAfterRender }  -->
            <!-- ko component: { name: question.getItemValueWrapperComponentName(item), params: { componentData:  question.getItemValueWrapperComponentData(item), templateData: { name: 'survey-checkbox-item', data: item } } } -->
            <!-- /ko -->
          <!-- /ko -->
        <!-- /ko -->
      <!-- /ko -->
      <!-- ko if: question.hasOther && question.isOtherSelected -->
      <div class="form-group" data-bind="template: { name: 'survey-comment', data: {'question': question, 'visible': question.isOtherSelected } }"></div>
      <!-- /ko -->
    </fieldset>
<\/script>
<script type="text/html" id="survey-checkbox-item">
  <div role="presentation" data-bind="css: question.getItemClass(item)">
      <label data-bind="css: question.getLabelClass(item), attr: { 'aria-label': question.getAriaItemLabel(item) }">
          <!-- ko if: item == question.selectAllItem -->
          <input type="checkbox" value="" data-bind="attr: {name: question.name, id: question.getItemId(item), 'aria-describedby': question.ariaDescribedBy }, checked: question.koAllSelected, enable: question.getItemEnabled(item), css: question.koCss().itemControl"/>
          <!-- /ko -->
          <!-- ko if: item != question.selectAllItem -->
          <input type="checkbox" data-bind="attr: {name: question.name, id: question.getItemId(item), 'aria-describedby': question.ariaDescribedBy }, checkedValue: item.value, checked: question.koValue, enable: question.getItemEnabled(item), css: question.koCss().itemControl"/>
          <!-- /ko -->
              <!-- ko if: question.koCss().materialDecorator -->
              <span data-bind="css: question.koCss().materialDecorator">
                <!-- ko if: question.itemSvgIcon -->
                <svg data-bind="css:question.koCss().itemDecorator">
                  <use data-bind="attr:{'xlink:href':question.itemSvgIcon}" xlink:href=''></use>
                </svg>
                <!-- /ko -->
              </span>
              <!-- /ko -->
              <span data-bind="visible: !item.hideCaption, css: question.koCss().controlLabel">
              <!-- ko template: { name: 'survey-string', data: item.locText } -->
              <!-- /ko -->
          </span>
      </label>
  </div>
<\/script>
`},"./src/knockout/templates/question-comment.html":function(a,r){a.exports=`<script type="text/html" id="survey-question-comment">
  <!--ko if: !question.isReadOnlyRenderDiv() -->
<textarea data-bind="attr: {'readonly': question.renderedInputReadOnly, 'disabled': question.renderedInputDisabled, maxLength: question.getMaxLength(), cols: question.cols, rows: question.rows, id: question.inputId, placeholder: question.renderedPlaceHolder, 'aria-required': question.ariaRequired, 'aria-label': question.ariaLabel, 'aria-invalid': question.ariaInvalid, 'aria-describedby': question.ariaDescribedBy}, 
  event: { input: function(s, e) { question.onInput(e); }, keydown: function(s, e) { question.onKeyDown(e); return true; } }, 
  value: question.value, 
  style: { resize: question.resizeStyle },
  css: question.className"></textarea>
<!--/ko-->

<!--ko if: question.isReadOnlyRenderDiv() -->
<div data-bind="text: question.value"></div>
<!--/ko-->
<\/script>`},"./src/knockout/templates/question-composite.html":function(a,r){a.exports=`<script type="text/html" id="survey-question-composite">
  <!-- ko template: { name: 'survey-panel', data: question.contentPanel, as: 'question', afterRender: question.contentPanel.koPanelAfterRender } -->
  <!-- /ko -->
<\/script>
`},"./src/knockout/templates/question-custom.html":function(a,r){a.exports=`<script type="text/html" id="survey-question-custom">
  <!-- ko template: { name: question.contentQuestion.koTemplateName(), data: question.contentQuestion, as: 'question', afterRender: question.contentQuestion.koQuestionAfterRender } -->
  <!-- /ko -->
<\/script>
`},"./src/knockout/templates/question-dropdown.html":function(a,r){a.exports=`<script type="text/html" id="survey-question-dropdown">
  <div data-bind="css: question.renderCssRoot">
    <!-- ko component: { name: 'sv-dropdown', params: { question: question } } -->
    <!-- /ko -->
  <!-- ko if: question.isOtherSelected -->
  <div class="form-group"
    data-bind="template: { name: 'survey-comment', data: {'question': question, 'visible': question.isOtherSelected } }, style: {display: question.isFlowLayout ? 'inline': ''}">
  </div>
  <!-- /ko -->
  </div>
<\/script>
`},"./src/knockout/templates/question-empty.html":function(a,r){a.exports=`<script type="text/html" id="survey-question-empty">
    <div></div>
<\/script>
`},"./src/knockout/templates/question-errors.html":function(a,r){a.exports=`<script type="text/html" id="survey-question-errors">
        <!-- ko if: hasVisibleErrors -->
            <div role="alert" aria-live="polite" data-bind="visible: hasVisibleErrors, foreach: { data: errors, as: 'error' }, css: koErrorClass(), attr: { id: question.id + '_errors' }">
            <!-- ko if: error.visible -->
            <div>   
                <span aria-hidden="true" data-bind="css: question.koCss().error.icon"></span>
                <span data-bind="css: question.koCss().error.item">
                    <!-- ko template: { name: 'survey-string', data: error.locText } --><!-- /ko -->
                </span>
            </div>
            <!-- /ko -->
        </div>
        <!-- /ko -->
<\/script>`},"./src/knockout/templates/question-expression.html":function(a,r){a.exports=`<script type="text/html" id="survey-question-expression">
  <div data-bind="text:question.formatedValue, css: question.koCss().root"></div>
<\/script>
`},"./src/knockout/templates/question-file.html":function(a,r){a.exports=`<script type="text/html" id="survey-question-file">
  <div data-bind="css: question.fileRootCss">
      <!-- ko ifnot: question.isInputReadOnly -->
      <input type="file" data-bind="css: question.cssClasses.fileInput, attr: { id: question.inputId, 'aria-required': question.ariaRequired, 'aria-label': question.ariaLabel, 'aria-invalid': question.ariaInvalid, 'aria-describedby': question.ariaDescribedBy, multiple: question.allowMultiple ? 'multiple' : undefined, title: koInputTitle, accept: question.acceptedTypes }, event: { change: question.dochange }">
      <!-- /ko -->
      <!-- ko if: question.isReadOnly -->
      <input type="file" disabled data-bind="css: question.getReadOnlyFileCss(), attr: { placeholder: question.title, multiple: question.allowMultiple ? 'multiple' : undefined }" style="color: transparent;"/>
      <!-- /ko -->
      <div data-bind="css: question.getFileDecoratorCss(), event: { dragover: question.ondragover, drop: question.ondrop, dragleave: question.ondragleave }">
        <span data-bind="css: question.koCss().dragAreaPlaceholder, text: question.dragAreaPlaceholder"></span>
        <div data-bind="css: question.koCss().wrapper">
          <label role="button" data-bind="css: question.koChooseFileCss, attr: { for: question.inputId, 'aria-label': question.chooseButtonCaption }">
            <span data-bind="text: question.chooseButtonCaption"></span>
            <!-- ko if: question.cssClasses.chooseFileIconId -->
                <!-- ko component: { name: 'sv-svg-icon', params: { title: question.removeFileCaption, iconName: question.cssClasses.chooseFileIconId, size: 'auto' } } --><!-- /ko -->
            <!-- /ko -->
          </label>
          <!-- ko if: !question.koHasValue() -->
          <span data-bind="css: question.koCss().noFileChosen, text: question.noFileChosenCaption"></span>
          <!-- /ko -->
        </div>
      </div>
      <!-- ko template: { name: 'survey-question-file-clean-button', data: {question: question, removeButtonCss: question.cssClasses.removeButton} } --><!-- /ko -->
      <!-- ko if: question.showPreview -->
      <!-- ko if: question.koHasValue -->
      <div data-bind="css: question.cssClasses.fileList, foreach: question.koData, visible: question.koHasValue">
          <span data-bind="visible: question.isPreviewVisible($index()), css: question.cssClasses.preview">
            <!-- ko template: { name: 'survey-question-file-sign', data: {question: question, item: $data, fileSignCss: question.cssClasses.fileSign} } --><!-- /ko -->
            <div data-bind="css: question.cssClasses.imageWrapper">
              <!-- ko if: question.canPreviewImage($data) -->
              <img data-bind="attr: { src: $data.content, height: question.imageHeight, width: question.imageWidth }" alt="File preview">
              <!-- /ko -->
              <!-- ko if: !question.canPreviewImage($data) && question.cssClasses.defaultImageIconId -->
              <!-- ko component: { name: 'sv-svg-icon', params: { css: question.cssClasses.defaultImage, iconName: question.cssClasses.defaultImageIconId, size: 'auto' } } --><!-- /ko -->
              <!-- /ko -->
              <!-- ko if: $data.name -->
              <!-- ko ifnot: question.isReadOnly -->
              <div data-bind="click: question.doremovefile, css: question.cssClasses.removeFileButton">
                  <span data-bind="css: question.cssClasses.removeFile, text: question.removeFileCaption"></span>
                  <!-- ko if: question.cssClasses.removeFileSvgIconId -->
                    <!-- ko component: { name: 'sv-svg-icon', params: { css: question.cssClasses.removeFileSvg, title: question.removeFileCaption, iconName: question.cssClasses.removeFileSvgIconId, size: 'auto' } } --><!-- /ko -->
                  <!-- /ko -->
              </div>
              <!-- /ko -->
              <!-- /ko -->
            </div>
            <!-- ko template: { name: 'survey-question-file-sign', data: {question: question, item: $data, fileSignCss: question.cssClasses.fileSignBottom} } --><!-- /ko -->
          </span>
      </div>
      <!-- /ko -->
      <!-- /ko -->
      <!-- ko template: { name: 'survey-question-file-clean-button', data: {question: question, removeButtonCss: question.cssClasses.removeButtonBottom} } --><!-- /ko -->
      <!-- ko if: question.mobileFileNavigatorVisible -->
      <!-- ko component: { name: 'sv-action-bar', params: { model: question.mobileFileNavigator } } -->
      <!-- /ko -->
      <!-- /ko -->
  </div>
<\/script>
<script type="text/html" id="survey-question-file-clean-button">
  <!-- ko if: question.koHasValue() && !question.isReadOnly && $data.removeButtonCss-->
  <button type="button" data-bind="css: removeButtonCss, disabled: question.isInputReadOnly, click: question.doclean">
      <span data-bind="text: question.cleanButtonCaption"></span>
      <!-- ko if: question.cssClasses.removeButtonIconId -->
        <!-- ko component: { name: 'sv-svg-icon', params: { iconName: question.cssClasses.removeButtonIconId, size: 'auto' } } --><!-- /ko -->

      <!-- /ko -->
  </button>
  <!-- /ko -->
<\/script>
<script type="text/html" id="survey-question-file-sign">
  <!-- ko if: item.name && fileSignCss -->
  <div data-bind="css: fileSignCss">
    <a data-bind="style: { width: question.imageWidth + 'px' }, click: question.dodownload, text: item.name, attr: { href: item.content, title: item.name, download: item.name }"></a>
  </div>
  <!-- /ko -->
<\/script>
`},"./src/knockout/templates/question-html.html":function(a,r){a.exports=`<script type="text/html" id="survey-question-html">
  <div data-bind="html: question.locHtml.koRenderedHtml, css: question.koCss().root"></div>
<\/script>
`},"./src/knockout/templates/question-image.html":function(a,r){a.exports=`<script type="text/html" id="survey-question-image">
  <div data-bind="css: question.koCss().root">
    <!-- ko if: question.renderedMode === "image" -->
    <img data-bind="css: question.getImageCss(), attr: { src: $data.locImageLink.koRenderedHtml(), width: question.renderedWidth, height: question.renderedHeight, alt: question.text || question.title }, style: { objectFit: question.imageFit }"/>
    <!-- /ko -->
    <!-- ko if: question.renderedMode === "video" -->
    <video controls data-bind="css: question.getImageCss(), attr: { src: $data.locImageLink.koRenderedHtml(), width: question.renderedWidth, height: question.renderedHeight }, style: { objectFit: question.imageFit }"></video>
    <!-- /ko -->
    <!-- ko if: question.renderedMode === "youtube" -->
    <iframe data-bind="css: question.getImageCss(), attr: { src: $data.locImageLink.koRenderedHtml(), width: question.renderedWidth, height: question.renderedHeight }, style: { objectFit: question.imageFit }"></iframe>
    <!-- /ko -->
  </div>
<\/script>
`},"./src/knockout/templates/question-imagepicker.html":function(a,r){a.exports=`<script type="text/html" id="survey-question-imagepicker">
    <fieldset data-bind="css: question.getSelectBaseRootCss()">
        <legend data-bind="attr: { 'aria-label': question.locTitle.renderedHtml }" role="radio"></legend>
        <!-- ko ifnot: question.hasColumns -->
        <!-- ko foreach: { data: question.visibleChoices, as: 'item', afterRender: question.koAfterRender}  -->
        <!-- ko component: { name: question.getItemValueWrapperComponentName(item), params: { componentData:  question.getItemValueWrapperComponentData(item), templateData: { name: 'survey-imagepicker-item', data: item } } } -->
        <!-- /ko -->
        <!-- /ko -->
        <!-- /ko -->
        <!-- ko if: question.hasColumns -->
        <!-- ko foreach: question.columns -->
        <div data-bind="css: question.getColumnClass()" role="presentation">
            <!-- ko foreach: { data: $data, as: 'item', afterRender: question.koAfterRender }  -->
            <!-- ko component: { name: question.getItemValueWrapperComponentName(item), params: { componentData:  question.getItemValueWrapperComponentData(item), templateData: { name: 'survey-imagepicker-item', data: item } } } -->
            <!-- /ko -->
            <!-- /ko -->
        </div>
        <!-- /ko -->
        <!-- /ko -->
    </fieldset>
<\/script>
<script type="text/html" id="survey-imagepicker-item">
    <div data-bind="css: question.getItemClass(item)">
        <label data-bind="css: question.koCss().label">
            <input data-bind="attr: {type: question.inputType, name: question.questionName, value: item.value, id: question.getItemId(item), 'aria-required': question.ariaRequired, 'aria-label': question.ariaLabel, 'aria-invalid': question.ariaInvalid, 'aria-describedby': question.ariaDescribedBy}, checked: question.koValue, enable: question.getItemEnabled(item), css: question.koCss().itemControl"
            />
            <div data-bind="css: question.koCss().itemDecorator">
                <div data-bind="css: question.koCss().imageContainer">

                  <!-- ko if: $data.locImageLink.koRenderedHtml() && question.contentMode === "image" -->
                  <img data-bind="css: question.koCss().image, attr: { src: $data.locImageLink.koRenderedHtml, width: question.renderedImageWidth, height: question.renderedImageHeight, alt: item.locText.koRenderedHtml }, style: { objectFit: question.imageFit }, event: { load: question.onContentLoaded }"/>
                  <!-- /ko -->
                  <!-- ko if: $data.locImageLink.koRenderedHtml() && question.contentMode === "video" -->
                  <video controls data-bind="css: question.koCss().image, attr: { src: $data.locImageLink.koRenderedHtml, width: question.renderedImageWidth, height: question.renderedImageHeight }, style: { objectFit: question.imageFit }, event: { loadedmetadata: question.onContentLoaded }"></video>
                  <!-- /ko -->
                  <!-- ko ifnot: $data.locImageLink.koRenderedHtml() -->
                  <div data-bind="css: question.koCss().itemNoImage, style: { width: question.renderedImageWidth, height: question.renderedImageHeight, objectFit: question.imageFit}">
                    <!-- ko if: question.koCss().itemNoImageSvgIconId -->
                    <svg data-bind="css:question.koCss().itemNoImageSvgIcon">
                      <use data-bind="attr:{'xlink:href':question.koCss().itemNoImageSvgIconId}" xlink:href=''></use>
                    </svg>
                    <!-- /ko -->
                  </div>
                  <!-- /ko -->
                  
                </div>
                <!-- ko if: question.showLabel -->
                <span data-bind="css: question.koCss().itemText">
                  <!-- ko template: { name: 'survey-string', data: item.locText } -->
                  <!-- /ko -->
                </span>
                <!-- /ko -->
            </div>
        </label>
    </div>
<\/script>`},"./src/knockout/templates/question-matrix.html":function(a,r){a.exports=`<script type="text/html" id="survey-question-matrix">
  <div data-bind="css: question.koCss().tableWrapper">
    <fieldset>
      <legend
        data-bind="attr: { 'aria-label': question.locTitle.renderedHtml }"
      ></legend>
      <table data-bind="css: question.koCss().root">
        <!-- ko if: question.showHeader -->
        <thead>
          <tr>
            <td data-bind="visible: question.hasRows"></td>
            <!-- ko foreach: question.koVisibleColumns -->
            <th data-bind="css: question.koCss().headerCell">
              <!-- ko component: { name: question.getColumnHeaderWrapperComponentName($data), params: { componentData:  question.getColumnHeaderWrapperComponentData($data), templateData: { data: $data } } } -->
                <!-- ko template: { name: 'survey-string', data: $data.locText } --><!-- /ko -->
              <!-- /ko -->
            </th>
            <!-- /ko -->
          </tr>
        </thead>
        <!-- /ko -->
        <tbody>
          <!-- ko foreach: { data: question.koVisibleRows, as: 'row' } -->
          <tr data-bind="css: row.rowClasses">
            <td
              data-bind="visible: question.hasRows, css: question.koCss().cell"
            >
              <!-- ko component: { name: question.getRowHeaderWrapperComponentName($data), params: { componentData:  question.getRowHeaderWrapperComponentData($data), templateData: { data: $data } } } -->
                <!-- ko template: { name: 'survey-string', data: row.locText } -->
                <!-- /ko -->
              <!-- /ko -->
            </td>
            <!-- ko foreach: question.koVisibleColumns -->
            <!-- ko if: question.hasCellText -->
            <td
              data-bind="css: question.getItemClass(row, $data), click: function() { if (!question.isInputReadOnly) { row.cellClick($data); } }"
            >
              <!-- ko template: { name: 'survey-string', data: question.getCellDisplayLocText(row.name, $data) } -->
              <!-- /ko -->
            </td>
            <!-- /ko -->
            <!-- ko if: !question.hasCellText -->
            <td
              data-bind="attr: { 'data-responsive-title': $data.locText.renderedHtml }, css: question.koCss().cell"
            >
              <label data-bind="css: question.getItemClass(row, $data)">
                <input
                  type="radio"
                  data-bind="css: question.koCss().itemValue, attr: { name: row.fullName, 'aria-required': question.ariaRequired, 'aria-label': $data.locText.renderedHtml, 'aria-invalid': question.ariaInvalid, 'aria-describedby': question.ariaDescribedBy, id: question.inputId + '_' + row.name + '_' + $index() }, checkedValue: $data.value, checked: row.value, enable: !question.isInputReadOnly"
                />
                <span data-bind="css: question.koCss().materialDecorator">
                    <!-- ko if: question.itemSvgIcon -->
                      <svg data-bind="css:question.koCss().itemDecorator">
                        <use data-bind="attr:{'xlink:href':question.itemSvgIcon}" xlink:href=''></use>
                      </svg>  
                    <!-- /ko -->
                </span>
                <span data-bind="visible: question.isMobile, css: question.koCss().cellResponsiveTitle">
                  <!-- ko template: { name: 'survey-string', data: $data.locText } --><!-- /ko -->
                </span>
              </label>
            </td>
            <!-- /ko -->
            <!-- /ko -->
          </tr>
          <!-- /ko -->
        </tbody>
      </table>
    </fieldset>
  </div>
<\/script>
<script type="text/html" id="survey-text">
  <span data-bind="text:$data.renderedHtml"></span>
<\/script>`},"./src/knockout/templates/question-matrixdynamic.html":function(a,r){a.exports=`<script type="text/html" id="survey-question-matrixdynamic">
    <div>
    <!-- ko if: question.koTable().showAddRowOnTop -->
    <div
      data-bind="css: question.koCss().footer"
    >
      <button
        type="button"
        data-bind="click: question.isDesignMode ? undefined : question.koAddRowClick, css: question.getAddRowButtonCss(), disable: question.isInputReadOnly"
      >
        <!-- ko template: { name: 'survey-string', data: question.locAddRowText } --><!-- /ko -->
        <span data-bind="css: question.koCss().iconAdd"></span>
      </button>
    </div>
    <!-- /ko -->
    <div
      data-bind="visible: question.koTable().showTable, style: { overflowX: question.showHorizontalScroll ? 'scroll': '' }"
    >
      <table data-bind="css: question.koCss().root">
        <!-- ko if: question.koTable().showHeader -->
        <thead>
          <tr>
            <!-- ko foreach: question.koTable().headerRow.cells -->
            <th
              data-bind="style: { minWidth: $data.minWidth, width: $data.width }, css: $data.className"
            >
              <!-- ko if: $data.hasTitle -->
              <!-- ko component: { name: question.getColumnHeaderWrapperComponentName($data), params: { componentData:  question.getColumnHeaderWrapperComponentData($data), templateData: { data: $data } } } -->
                <!-- ko template: { name: 'survey-string', data: $data.locTitle } --><!-- /ko -->
                <!-- ko if: $data.requiredText -->
                <span data-bind="text: $data.requiredText"></span>
                <!-- /ko -->
              <!-- /ko -->
              <!-- /ko -->
            </th>
            <!-- /ko -->
          </tr>
        </thead>
        <!-- /ko -->
        <tbody>
          <!-- ko foreach: question.koTable().rows -->
          <!-- ko ifnot: $parent.detailPanelMode === "popup" && $data.isDetailRow -->
          <tr data-bind="css: $data.className, attr: attributes, event: { pointerdown: function (model, event) { question.onPointerDown(event, row); return true;} }">
            <!-- ko foreach: $data.cells -->
            <!-- ko if: $data.isDragHandlerCell -->
            <td data-bind="css:$data.className, attr: {colspan: $data.colSpans}">
              <!-- ko component: { name: 'sv-matrix-drag-drop-icon', params: { item: { data: { row: row, question: question } } }} -->
              <!-- /ko -->
            </td>
            <!-- /ko -->
            <!-- ko if: $data.isActionsCell -->
            <td data-bind="css: $data.className, attr: { colspan: $data.colSpans }">
              <!-- ko component: { name: 'sv-action-bar', params: { model: $data.item.getData(), handleClick: false } } -->
              <!-- /ko -->
            </td>
            <!-- /ko -->
            <!-- ko if: $data.isEmpty -->
            <td data-bind="attr: { colspan: $data.colSpans }"></td>
            <!-- /ko -->
            <!-- ko if: $data.hasPanel -->
            <td data-bind="css: $data.className, attr: { colspan: $data.colSpans }">
              <!-- ko component: { name: $data.panel.survey.getElementWrapperComponentName($data.panel), 
                params: { componentData:  $data.panel.survey.getElementWrapperComponentData($data.panel), 
                templateData: { name: $data.panel.koElementType, data: $data.panel, afterRender: question.koElementAfterRender } } } 
              -->
              <!-- /ko -->
            </td>
            <!-- /ko -->
            <!-- ko if: $data.hasQuestion -->
            <!-- ko template: { name: 'survey-matrixcell', afterRender: function(els) { $data.matrix.koCellAfterRender(els, $data); } } --><!-- /ko -->
            <!-- /ko -->
            <!-- ko if: $data.hasTitle -->
            <td
              data-bind="css: $data.className, style: { minWidth: $data.minWidth, width: $data.width }"
            >
              <!-- ko component: { name: question.getRowHeaderWrapperComponentName($data), params: { componentData:  question.getRowHeaderWrapperComponentData($data), templateData: { data: $data } } } -->
              <!-- ko template: { name: 'survey-string', data: $data.locTitle } --><!-- /ko -->
              <!-- ko if: $data.requiredText -->
              <span data-bind="text: $data.requiredText"></span>
              <!-- /ko -->
              <!-- /ko -->
            </td>
            <!-- /ko -->
            <!-- /ko -->
          </tr>

          <!-- /ko -->
          <!-- /ko -->
        </tbody>
        <!-- ko if:question.koTable().hasFooter -->
        <tfoot>
          <tr>
            <!-- ko foreach: question.koTable().footerRow.cells -->
              <!-- ko if: $data.hasQuestion -->
                <!-- ko template: { name: 'survey-matrixcell', afterRender: function(els) { $data.matrix.koCellAfterRender(els, $data); } } --><!-- /ko -->
              <!-- /ko -->
              <!-- ko if: $data.hasTitle -->
              <td>
                <!-- ko template: { name: 'survey-string', data: $data.locTitle } --><!-- /ko -->
              </td>
              <!-- /ko -->
            <!-- /ko -->
          </tr>
        </tfoot>
        <!-- /ko -->
      </table>
    </div>
    <!-- ko ifnot: question.koTable().showTable -->
    <div data-bind="css: question.koCss().emptyRowsSection">
      <div data-bind="css: question.koCss().emptyRowsText">
        <!-- ko template: { name: 'survey-string', data: question.locEmptyRowsText } --><!-- /ko -->
      </div>
      <button
        type="button"
        data-bind="click:question.koAddRowClick, css: question.getAddRowButtonCss(true), disable: question.isInputReadOnly"
      >
        <!-- ko template: { name: 'survey-string', data: question.locAddRowText } --><!-- /ko -->
        <span data-bind="css: question.koCss().iconAdd"></span>
      </button>
    </div>
    <!-- /ko -->
    <!-- ko if: question.koTable().showAddRowOnBottom -->
    <div
      data-bind="css: question.koCss().footer"
    >
      <button
        type="button"
        data-bind="click: question.koAddRowClick, css: question.getAddRowButtonCss(), disable: question.isInputReadOnly"
      >
        <!-- ko template: { name: 'survey-string', data: question.locAddRowText } --><!-- /ko -->
        <span data-bind="css: question.koCss().iconAdd"></span>
      </button>
    </div>
    <!-- /ko -->
  </div>
<\/script>
<script type="text/html" id="survey-matrixcell">
  <td
    data-bind="css: $data.className, style: { minWidth: $data.minWidth, width: $data.width }, attr: { 'data-responsive-title': headers, title: $data.getTitle() }"
  >
    <div data-bind="visible: question.isVisible, css: $parentContext.question.cssClasses.cellQuestionWrapper">
      <!-- ko if: $data.showErrorOnTop && !$data.question.isErrorsModeTooltip-->
      <!-- ko template: { name: 'survey-question-errors', data: question, as: 'question' } -->
      <!-- /ko -->
      <!-- /ko -->
      <!-- ko if: $data.isChoice -->
      <!-- ko if: $data.isCheckbox -->
        <!-- ko template: {name: 'survey-checkbox-item', templateOptions: {hideCaption: true} }  --><!-- /ko -->
      <!-- /ko -->
      <!-- ko ifnot: $data.isCheckbox -->
        <!-- ko template: {name: 'survey-radiogroup-item', templateOptions: {hideCaption: true} }  --><!-- /ko -->
      <!-- /ko -->
      <!-- /ko -->
      <!-- ko ifnot: $data.isChoice -->
      <!-- ko if: question.isDefaultRendering() -->
        <!-- ko let: { question: $data.matrix.getCellTemplateData($data) } -->
        <!-- ko component: { name: $data.matrix.getCellWrapperComponentName($data), params: { componentData:  $data.matrix.getCellWrapperComponentData($data), templateData: { name: question.koTemplateName(), data: question, afterRender: function(el) { $data.matrix.koCellQuestionAfterRender(el, $data); } } } } -->
        <!-- /ko -->
        <!-- /ko -->
      <!-- /ko -->
      <!-- ko ifnot: question.isDefaultRendering() -->
        <!-- ko component: { name: question.getComponentName(), params: { question: question } } -->
        <!-- /ko -->
      <!-- /ko -->
      <!-- /ko -->
      <!-- ko if: $data.showErrorOnBottom && !$data.question.isErrorsModeTooltip-->
      <!-- ko template: { name: 'survey-question-errors', data: question, as: 'question' } -->
      <!-- /ko -->
      <!-- /ko -->
      <!-- ko if: $data.hasQuestion && $data.question.isErrorsModeTooltip-->
        <!-- ko component: { name: 'sv-tooltip-error', params: { question: question } } -->
        <!-- /ko -->
      <!-- /ko -->
    </div>
  </td>
<\/script>
`},"./src/knockout/templates/question-multipletext.html":function(a,r){a.exports=`<script type="text/html" id="survey-question-multipletext">
  <table data-bind="css: question.koCss().root">
    <tbody data-bind="foreach: { data:  question.koRows, as: 'row' }">
      <tr data-bind="foreach: { data: row, as: 'item' }, css: question.koCss().row">
        <td data-bind="css: question.cssClasses.cell">  
          <label data-bind="css: question.getItemLabelCss(item)">
              <span data-bind="css: question.koItemTitleCss">
                <!-- ko component: { name: 'survey-element-title-content', params: {element: item.editor} } --><!-- /ko -->
              </span>
              <div data-bind="css: question.koItemCss">
                <!-- ko if: item.editor.errorLocation === 'top'  && !question.isErrorsModeTooltip -->
                  <!-- ko template: { name: 'survey-question-errors', data: item.editor } -->
                  <!-- /ko -->
                <!-- /ko -->
                <!-- ko template: { name: item.editor.koTemplateName(), data: item.editor, as: 'question', afterRender: item.editor.koQuestionAfterRender } -->
                <!-- /ko -->
                <!-- ko if: item.editor.errorLocation === 'bottom' && !question.isErrorsModeTooltip -->
                  <!-- ko template: { name: 'survey-question-errors', data: item.editor } -->
                  <!-- /ko -->
                <!-- /ko -->
              </div>
                <!-- ko if: question.isErrorsModeTooltip -->
                  <!-- ko component: { name: "sv-tooltip-error", params: { question: item.editor } } -->
                  <!-- /ko -->
                <!-- /ko -->
            </label>
          </td>
        </tr>
    </tbody>
  </table>
<\/script>
`},"./src/knockout/templates/question-paneldynamic-navigator.html":function(a,r){a.exports=`<script type="text/html" id="survey-question-paneldynamic-navigator">
  <div style="clear: both;">
        <div data-bind="css: question.koCss().progressContainer">
          <!-- ko component: { name: 'sv-paneldynamic-prev-btn', params: { question: question }} --><!-- /ko -->
          <!-- ko if: question.koIsRange -->
            <!-- ko template: { name: 'survey-question-paneldynamic-progress', data: question, as: 'question'} --><!-- /ko -->
          <!-- /ko -->
          <!-- ko component: { name: 'sv-paneldynamic-next-btn', params: { question: question }} --><!-- /ko -->
        </div>
          <!-- ko component: { name: 'sv-paneldynamic-add-btn', params: { question: question }} --><!-- /ko -->
        <div data-bind="text: question.koProgressText, css: question.koCss().progressText"></div>
      </div>
<\/script>
<script type="text/html" id="survey-question-paneldynamic-progress">
  <div data-bind="css: question.koCss().progress">
    <div
      data-bind="css: question.koCss().progressBar, style: { width: question.koProgress }"
      role="progressbar"
    ></div>
  </div>
<\/script>`},"./src/knockout/templates/question-paneldynamic.html":function(a,r){a.exports=`<script type="text/html" id="survey-question-paneldynamic">
  <div data-bind="css: question.koCss().root">
    <!-- ko if: question.getShowNoEntriesPlaceholder() -->
      <div data-bind="css: question.koCss().noEntriesPlaceholder">
        <span>
          <!-- ko template: { name: 'survey-string', data: locNoEntriesText } --><!-- /ko -->
        </span>
          <!-- ko component: { name: 'sv-paneldynamic-add-btn', params: { question: question }} -->
          <!-- /ko -->
        </div>
    <!-- /ko -->
    <!-- ko if: question.koIsList() -->
      <!-- ko foreach: { data: question.panels } -->
        <div data-bind="css: question.getPanelWrapperCss()">
          <!-- ko let: { question: $data } -->
            <!-- ko component: { name: survey.getElementWrapperComponentName(question), params: { componentData:  survey.getElementWrapperComponentData(question), templateData: { name: question.koElementType, data: question, afterRender: $parent.koPanelAfterRender } } } -->
            <!-- /ko -->
          <!-- /ko -->
          <!-- ko template: { name: 'survey-question-paneldynamic-remove-btn', data: { question: question, panel: $data} } -->
          <!-- /ko -->
        </div>
        <!-- ko if: $index() < question.panelCount - 1 -->
        <hr data-bind="css: question.koCss().separator"/>
        <!-- /ko -->
      <!-- /ko -->
      <!-- ko if: question.showLegacyNavigation -->
        <!-- ko component: { name: 'sv-paneldynamic-add-btn', params: { question: question }} --><!-- /ko -->
      <!-- /ko -->
    <!-- /ko -->
    <!-- ko ifnot: question.koIsList()  -->
      <!-- ko if: question.koIsProgressTop-->
        <!-- ko if: !question.showLegacyNavigation && question.koIsRange -->
          <!-- ko template: { name: 'survey-question-paneldynamic-progress', data: question, as: 'question'} -->
          <!-- /ko -->
        <!-- /ko -->
        <!-- ko if: question.showLegacyNavigation -->
        <div data-bind="css: question.koCss().progressTop">
          <!-- ko template: { name: 'survey-question-paneldynamic-navigator', data: question, as: 'question'} -->
          <!-- /ko -->
        </div>
        <!-- /ko -->
      <!-- /ko -->
      <!-- ko if: question.koPanel() -->
      <div data-bind="css: question.getPanelWrapperCss()">
        <!-- ko let: { question: question.koPanel() } -->
          <!-- ko component: { name: question.survey.getElementWrapperComponentName(question), params: { componentData:  question.survey.getElementWrapperComponentData(question), templateData: { name: question.koElementType, data: question, afterRender: $parent.koPanelAfterRender } } } -->
          <!-- /ko -->
        <!-- /ko -->
        <!-- ko template: { name: 'survey-question-paneldynamic-remove-btn', data: { question: question, panel: question.koPanel() }, as: 'question'} -->
        <!-- /ko -->
      </div>
      <!-- /ko -->
      <!-- ko if: question.showLegacyNavigation && question.koIsProgressBottom--> 
      <div data-bind="css: question.koCss().progressBottom">
        <!-- ko template: { name: 'survey-question-paneldynamic-navigator', data: question, as: 'question'} -->
        <!-- /ko -->
      </div>
      <!-- /ko -->
    <!-- /ko -->
    <!-- ko if: !question.showLegacyNavigation && !!question.panelCount != 0 -->
    <div data-bind="css: question.koCss().footer">
      <hr data-bind="css: question.koCss().separator"/>
      <!-- ko if: question.koIsRange() && question.koIsProgressBottom -->
         <!-- ko template: { name: 'survey-question-paneldynamic-progress', data: question, as: 'question'} -->
         <!-- /ko -->
      <!-- /ko -->
      <div data-bind="css: question.koCss().footerButtonsContainer">
        <!-- ko component: { name: "sv-action-bar", params: { model: question.footerToolbar } } -->
        <!-- /ko -->
      </div>
    </div>
    <!-- /ko -->
  </div>
<\/script>

<script type="text/html" id="survey-question-paneldynamic-remove-btn">
  <button type="button"
    data-bind="visible: question.koCanRemovePanel() && panel.state != 'collapsed', click: function() { question.koRemovePanelClick(panel); }, css: question.getPanelRemoveButtonCss()">
    <span data-bind="css: question.koCss().buttonRemoveText, text: question.panelRemoveText"></span>
    <span data-bind="css: question.koCss().iconRemove"></span>
  </button>
<\/script>`},"./src/knockout/templates/question-radiogroup.html":function(a,r){a.exports=`<script type="text/html" id="survey-question-radiogroup">

  <fieldset data-bind="css: question.getSelectBaseRootCss()" role="presentation">
    <!-- ko ifnot: question.hasColumns -->
    <!-- ko foreach: { data: question.visibleChoices, as: 'item', afterRender: question.koAfterRender } -->
      <!-- ko component: { name: question.getItemValueWrapperComponentName(item), params: { componentData:  question.getItemValueWrapperComponentData(item), templateData: { name: 'survey-radiogroup-item', data: item } } } -->
      <!-- /ko -->
    <!-- /ko -->
    <!-- /ko -->
    <!-- ko if: question.hasColumns -->
      <div data-bind="css: question.koCss().rootMultiColumn">

        <!-- ko foreach: question.columns -->
        <div data-bind="css: question.getColumnClass()" role="presentation">
          <!-- ko foreach: { data: $data, as: 'item', afterRender: question.koAfterRender } -->
            <!-- ko component: { name: question.getItemValueWrapperComponentName(item), params: { componentData:  question.getItemValueWrapperComponentData(item), templateData: { name: 'survey-radiogroup-item', data: item } } } -->
            <!-- /ko -->
          <!-- /ko -->
        </div>
        <!-- /ko -->
      </div>
      <!-- ko if: question.hasFootItems  -->
        <!-- ko foreach: { data: question.footItems, as: 'item', afterRender: question.koAfterRender }  -->
          <!-- ko component: { name: question.getItemValueWrapperComponentName(item), params: { componentData:  question.getItemValueWrapperComponentData(item), templateData: { name: 'survey-radiogroup-item', data: item } } } -->
          <!-- /ko -->
        <!-- /ko -->
      <!-- /ko -->

    <!-- /ko -->
    <!-- ko if: question.hasOther && question.isOtherSelected -->
      <div class="form-group" data-bind="template: { name: 'survey-comment', data: {'question': question, 'visible': question.isOtherSelected } }"></div>
    <!-- /ko -->
    <!-- ko if: question.canShowClearButton -->
    <div>
      <input
        type="button"
        data-bind="click:question.clearValue, css: question.koCss().clearButton, value: question.clearButtonCaption"
      />
    </div>
    <!-- /ko -->
  </fieldset>
<\/script>
<script type="text/html" id="survey-radiogroup-item">
  <div role="presentation" data-bind="css: question.getItemClass(item)">
    <label data-bind="css: question.getLabelClass(item), attr: { 'aria-label': question.getAriaItemLabel(item) }">
      <input
        type="radio"
        data-bind="attr: { name: question.questionName, id: question.getItemId(item), 'aria-describedby': question.ariaDescribedBy }, checkedValue: item.value, checked: question.renderedValue, enable: question.getItemEnabled(item), css: question.koCss().itemControl"
      />
      <!-- ko if: question.koCss().materialDecorator -->
      <span data-bind="css: question.koCss().materialDecorator">
        <!-- ko if: question.itemSvgIcon -->
        <svg data-bind="css:question.koCss().itemDecorator">
          <use data-bind="attr:{'xlink:href':question.itemSvgIcon}" xlink:href=''></use>
        </svg>
        <!-- /ko -->
      </span>
      <!-- /ko -->
      <span
        data-bind="visible: !item.hideCaption, css: question.getControlLabelClass(item)"
      >
        <!-- ko template: { name: 'survey-string', data: item.locText } -->
        <!-- /ko -->
      </span>
    </label>
  </div>
<\/script>
`},"./src/knockout/templates/question-ranking.html":function(a,r){a.exports=`<script type="text/html" id="survey-question-ranking">
  <div data-bind="css: question.rootClass">
    <!-- ko foreach: { data: question.rankingChoices, as: 'item', afterRender: question.koAfterRender } -->
      <!-- ko component: { name: question.getItemValueWrapperComponentName(item), params: { componentData:  question.getItemValueWrapperComponentData(item), templateData: { name: 'survey-ranking-item', data: item } } } -->
      <!-- /ko -->
    <!-- /ko -->
  </div>
<\/script>

<script type="text/html" id="survey-ranking-item">
  <div
    tabindex="0"
    data-bind="event: { keydown: question.koHandleKeydown, pointerdown: question.koHandlePointerDown}, css: question.getItemClass($data), attr: {'data-sv-drop-target-ranking-item': $index() }"
  >
    <div tabindex="-1" style="outline: none;">
      <div data-bind="css: question.cssClasses.itemGhostNode"></div>
      <div data-bind="css: question.cssClasses.itemContent">
        <div data-bind="css: question.cssClasses.itemIconContainer">
          <svg
            width="10"
            height="16"
            viewBox="0 0 10 16"
            data-bind="css: question.getIconHoverCss()"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M6 2C6 0.9 6.9 0 8 0C9.1 0 10 0.9 10 2C10 3.1 9.1 4 8 4C6.9 4 6 3.1 6 2ZM2 0C0.9 0 0 0.9 0 2C0 3.1 0.9 4 2 4C3.1 4 4 3.1 4 2C4 0.9 3.1 0 2 0ZM8 6C6.9 6 6 6.9 6 8C6 9.1 6.9 10 8 10C9.1 10 10 9.1 10 8C10 6.9 9.1 6 8 6ZM2 6C0.9 6 0 6.9 0 8C0 9.1 0.9 10 2 10C3.1 10 4 9.1 4 8C4 6.9 3.1 6 2 6ZM8 12C6.9 12 6 12.9 6 14C6 15.1 6.9 16 8 16C9.1 16 10 15.1 10 14C10 12.9 9.1 12 8 12ZM2 12C0.9 12 0 12.9 0 14C0 15.1 0.9 16 2 16C3.1 16 4 15.1 4 14C4 12.9 3.1 12 2 12Z"
            />
          </svg>
          <svg
            width="10"
            height="24"
            viewBox="0 0 10 24"
            data-bind="css: question.getIconFocusCss()"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path d="M10 5L5 0L0 5H4V9H6V5H10Z" />
            <path d="M6 19V15H4V19H0L5 24L10 19H6Z" />
          </svg>
        </div>
        <div
          data-bind="css: question.cssClasses.itemIndex, text: question.getNumberByIndex($index())"
        ></div>
        <div data-bind="css: question.cssClasses.controlLabel">
          <!-- ko template: { name: 'survey-string', data: $data.locText } -->
          <!-- /ko -->
        </div>
      </div>
    </div>
  </div>
<\/script>
`},"./src/knockout/templates/question-rating.html":function(a,r){a.exports=`<script type="text/html" id="survey-question-rating">
    <div data-bind="css: question.ratingRootCss">
        <fieldset role="radiogroup">
            <legend role="presentation" class="sv-hidden"></legend>
            <!-- ko if: question.hasMinLabel-->
            <span data-bind="css: question.koCss().minText">
              <!-- ko template: { name: 'survey-string', data: question.locMinRateDescription } -->
              <!-- /ko -->
              </span>
            <!-- /ko -->
            <!-- ko foreach: question.renderedRateItems -->
            <label data-bind="css: question.getItemClass($data.itemValue)">
                <input
                type="radio"
                class="sv-visuallyhidden"
                data-bind="attr: { name: question.name, id: question.inputId + '_' + $index(), value: $data.value, 'aria-required': question.ariaRequired, 'aria-label': question.ariaLabel, 'aria-invalid': question.ariaInvalid, 'aria-describedby': question.ariaDescribedBy }, checkedValue: $data.value, enable: !question.isInputReadOnly, event: { click: function(data, event) { question.setValueFromClick(event.target.value); return true; } }"
                />
                <span data-bind="css: question.koCss().itemText">
                <!-- ko template: { name: 'survey-string', data: $data.locText } -->
                <!-- /ko -->
                </span>
            </label>
            <!-- /ko -->
            <!-- ko if: question.hasMaxLabel-->
            <span data-bind="css: question.koCss().maxText">
              <!-- ko template: { name: 'survey-string', data: question.locMaxRateDescription } -->
              <!-- /ko -->
              </span>
            <!-- /ko -->

        </fieldset>
    </div>
  </fieldset>
<\/script>
`},"./src/knockout/templates/question-signaturepad.html":function(a,r){a.exports=`<script type="text/html" id="survey-question-signaturepad">
    <div data-bind="css: question.koCss().root, style: { height: height, width: width }">
        <div 
            data-bind="text: placeHolderText, css: question.koCss().placeholder, visible: $data.needShowPlaceholder()">
        </div>
        <div>
            <canvas tabindex='0'></canvas>
        </div>
        <!-- ko if: question.canShowClearButton -->
        <div data-bind="css: question.koCss().controls">
            <button type='button'
                data-bind="click: question.clearValue, css: question.koCss().clearButton, attr: { title: question.clearButtonCaption }">
                    <!-- ko ifnot: question.koCss().clearButtonIconId -->
                        <span></span>
                    <!-- /ko -->
                    <!-- ko if: question.koCss().clearButtonIconId -->
                        <sv-svg-icon params="iconName: question.koCss().clearButtonIconId, size: 'auto'"></sv-svg-icon>
                    <!-- /ko -->
            </button>
        </div>
        <!-- /ko -->
    </div>
<\/script>`},"./src/knockout/templates/question-text.html":function(a,r){a.exports=`<script type="text/html" id="survey-question-text">
  <!--ko if: !question.dataListId && !question.isInputTextUpdate && !question.isReadOnlyRenderDiv()-->
  <input
    data-bind="disable: question.isInputReadOnly, style: question.inputStyle, attr: {type: question.inputType, size: question.renderedInputSize, id: question.inputId, placeholder: question.renderedPlaceHolder, maxLength: question.getMaxLength(), min: question.renderedMin, max: question.renderedMax, step: question.renderedStep, 'aria-required': question.ariaRequired, 'aria-label': question.ariaLabel, 'aria-invalid': question.ariaInvalid, 'aria-describedby': question.ariaDescribedBy, autoComplete: question.autoComplete, list:question.dataListId}, value: question.value, css: question.getControlClass()"
  />
  <!--/ko-->
  <!--ko if: !question.dataListId && question.isInputTextUpdate && !question.isReadOnlyRenderDiv()-->
  <input
    data-bind="disable: question.isInputReadOnly, style: question.inputStyle, attr: {type: question.inputType, size: question.renderedInputSize, id: question.inputId, placeholder: question.renderedPlaceHolder, maxLength: question.getMaxLength(), min: question.renderedMin, max: question.renderedMax, step: question.renderedStep, 'aria-required': question.ariaRequired, 'aria-label': question.ariaLabel, 'aria-invalid': question.ariaInvalid, 'aria-describedby': question.ariaDescribedBy, autoComplete: question.autoComplete, list:question.dataListId}, textInput: question.value, css: question.getControlClass()"
  />
  <!--/ko-->
  <!--ko if: question.dataListId && !question.isReadOnlyRenderDiv()-->
  <div>
    <!--ko if: !question.isInputTextUpdate-->
    <input
    data-bind="disable: question.isInputReadOnly, style: question.inputStyle, attr: {type: question.inputType, size: question.renderedInputSize, id: question.inputId, placeholder: question.renderedPlaceHolder, maxLength: question.getMaxLength(), min: question.renderedMin, max: question.renderedMax, step: question.renderedStep, 'aria-required': question.ariaRequired, 'aria-label': question.ariaLabel, 'aria-invalid': question.ariaInvalid, 'aria-describedby': question.ariaDescribedBy, autoComplete: question.autoComplete, list:question.dataListId}, value: question.value, css: question.getControlClass()"
    />
    <!--/ko-->
    <!--ko if: question.isInputTextUpdate-->
    <input
      data-bind="disable: question.isInputReadOnly, style: question.inputStyle, attr: {type: question.inputType, size: question.renderedInputSize, id: question.inputId, placeholder: question.renderedPlaceHolder, maxLength: question.getMaxLength(), min: question.renderedMin, max: question.renderedMax, step: question.renderedStep, 'aria-required': question.ariaRequired, 'aria-label': question.ariaLabel, 'aria-invalid': question.ariaInvalid, 'aria-describedby': question.ariaDescribedBy, autoComplete: question.autoComplete, list:question.dataListId}, textInput: question.value, css: question.getControlClass()"
    />
    <!--/ko-->
    <datalist data-bind="attr: {id: question.dataListId}">
    <!-- ko foreach: question.dataList -->
      <option data-bind="value:$data"></option>
    <!--/ko-->
    </datalist>
  </div>
  <!--/ko-->
  <!--ko if: question.isReadOnlyRenderDiv() -->
  <div data-bind="text: question.value"></div>
  <!--/ko-->
<\/script>
`},"./src/knockout/templates/question.html":function(a,r){a.exports=`<script type="text/html" id="survey-question">
<div data-bind="css: question.koRootCss(), style: { paddingLeft: question.paddingLeft, paddingRight: question.paddingRight }, attr: { id: question.id, 'data-name': question.name, role: question.ariaRole, 'aria-required': question.ariaRequired, 'aria-invalid': question.ariaInvalid, 'aria-labelledby': question.hasTitle ? question.ariaTitleId : null}">
  <!-- ko if: question.isErrorsModeTooltip && !question.hasParent -->
    <!-- ko template: { name: 'survey-question-errors', data: question } -->
    <!-- /ko -->
  <!-- /ko -->
  <!-- ko if: question.hasTitleOnLeftTop -->
    <!--ko template: { name: 'survey-question-title', data: question  } -->
    <!-- /ko -->
  <!-- /ko -->
  <!-- ko component: { name: question.survey.getQuestionContentWrapperComponentName(question), params: { componentData:  question.survey.getElementWrapperComponentData(question), templateData: { name: 'survey-question-content', data: question } } } -->
  <!-- /ko -->
  <\/script>`},"./src/knockout/templates/questioncontent.html":function(a,r){a.exports=`<script type="text/html" id="survey-question-content">
<div data-bind="visible: !question.isCollapsed, css: question.cssContent" role="presentation">
    <!-- ko if: question.errorLocation === 'top' && !question.isErrorsModeTooltip -->
      <!-- ko template: { name: 'survey-question-errors', data: question } -->
      <!-- /ko -->
    <!-- /ko -->
    <!-- ko if: question.isDefaultRendering() -->
      <!-- ko template: { name: question.koTemplateName(), data: question, afterRender: question.koQuestionAfterRender } -->
      <!-- /ko -->
    <!-- /ko -->
    <!-- ko ifnot: question.isDefaultRendering() -->
      <!-- ko component: { name: getComponentName(), params: { question: question } } -->
      <!-- /ko -->
    <!-- /ko -->
    <!-- ko if: question.hasComment -->
    <div data-bind="css: question.koCss().formGroup">
      <!-- ko template: { name: 'survey-string', data: question.locCommentText } -->
      <!-- /ko -->
      <div data-bind="template: { name: 'survey-comment', data: {'question': question, 'visible': true } }"></div>
    </div>
    <!-- /ko -->
    <!-- ko if: question.errorLocation === 'bottom' && !question.isErrorsModeTooltip -->
      <!-- ko template: { name: 'survey-question-errors', data: question } -->
      <!-- /ko -->
    <!-- /ko -->
    <!-- ko if: question.isErrorsModeTooltip && question.hasParent -->
      <!-- ko component: { name: 'sv-tooltip-error', params: {question: question} } -->
      <!-- /ko -->
    <!-- /ko -->
    <!-- ko if: question.hasDescriptionUnderInput -->
    <div data-bind="css: koCss().descriptionUnderInput">
      <!-- ko template: { name: 'survey-string', data: locDescription } -->
      <!-- /ko -->
    </div>
    <!-- /ko -->
    <!-- ko if: question.hasTitleOnBottom -->
      <!--ko template: { name: 'survey-question-title', data: question  } -->
      <!-- /ko -->
    <!-- /ko -->
  </div>
<\/script>`},"./src/knockout/templates/questiontitle.html":function(a,r){a.exports=`<script type="text/html" id="survey-question-title">
  <div data-bind="css: question.cssHeader, click: question.clickTitleFunction">
    <!-- ko component: { name: 'survey-element-title', params: { element: $data } } --><!-- /ko -->
    <!-- ko v-if: $data.hasDescriptionUnderTitle -->
    <div
      data-bind="visible: question.hasDescriptionUnderTitle, css: $data.cssDescription"
    >
      <!-- ko template: { name: 'survey-string', data: $data.locDescription } --><!-- /ko -->
    </div>
    <!-- /ko -->
  </div>
<\/script>`},"./src/knockout/templates/row.html":function(a,r){a.exports=`<script type="text/html" id="survey-row">
  <div data-bind="css: row.getRowCss()">
    <!-- ko template: { name: "survey-row-content", afterRender: row.rowAfterRender } -->
    <!-- /ko -->
  </div>
<\/script>
<script type="text/html" id="survey-row-content">
<!-- ko foreach: { data: row.visibleElements, as: 'question', afterRender: row.koAfterRender } -->
  <div data-bind="css: question.koCss().questionWrapper, style: $data.rootStyle, event: {focusin: question.focusIn }">
  <!-- ko if: row.isNeedRender -->
    <!-- ko component: { name: row.panel.survey.getElementWrapperComponentName(question), params: { componentData:  row.panel.survey.getElementWrapperComponentData(question), templateData: { name: question.koElementType, data: question, afterRender: $parent.koElementAfterRender } } } -->
    <!-- /ko -->
  <!-- /ko -->
  <!-- ko if: !row.isNeedRender && question.skeletonComponentName -->
    <!-- ko component: { name: question.skeletonComponentName, params: { data: question } } -->
    <!-- /ko -->
  <!-- /ko -->
  </div>
<!-- /ko -->
<\/script>`},"./src/knockout/templates/rows.html":function(a,r){a.exports=`<script type="text/html" id="survey-rows">
  <!-- ko foreach: { data: rows, as: 'row'} -->
    <!-- ko if: row.visible -->
      <!-- ko component: { name: $parent.survey.getRowWrapperComponentName(row), params: { componentData:  $parent.survey.getRowWrapperComponentData(row), templateData: { name: 'survey-row', data: row } } } -->
      <!-- /ko -->
    <!-- /ko -->
  <!-- /ko -->
<\/script>`},"./src/knockout/templates/string.html":function(a,r){a.exports=`<script type="text/html" id="survey-string">
    <!-- ko component: { name: renderAs, params: { locString: renderAsData } } -->
    <!-- /ko -->
<\/script>
`},"./src/knockout/templates/timerpanel.html":function(a,r){a.exports=`<script type="text/html" id="survey-timerpanel">
    <div data-bind="css: css.timerRoot, text:timerModel.text"></div>
<\/script>
`},"./src/list.ts":function(a,r,t){t.r(r),t.d(r,"ListModel",function(){return h});var d=t("./src/jsonobject.ts"),C=t("./src/actions/container.ts"),M=t("./src/utils/cssClassBuilder.ts"),w=t("./src/surveyStrings.ts"),S=function(){var u=function(g,f){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,p){i.__proto__=p}||function(i,p){for(var P in p)Object.prototype.hasOwnProperty.call(p,P)&&(i[P]=p[P])},u(g,f)};return function(g,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");u(g,f);function i(){this.constructor=g}g.prototype=f===null?Object.create(f):(i.prototype=f.prototype,new i)}}(),x=function(u,g,f,i){var p=arguments.length,P=p<3?g:i===null?i=Object.getOwnPropertyDescriptor(g,f):i,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(u,g,f,i);else for(var y=u.length-1;y>=0;y--)(m=u[y])&&(P=(p<3?m(P):p>3?m(g,f,P):m(g,f))||P);return p>3&&P&&Object.defineProperty(g,f,P),P},h=function(u){S(g,u);function g(f,i,p,P,m){var y=u.call(this)||this;return y.onItemSelect=i,y.allowSelection=p,y.onFilteredTextChangedCallback=m,y.selectItem=function(R){y.isExpanded=!1,y.allowSelection&&(y.selectedItem=R),y.onItemSelect&&y.onItemSelect(R)},y.isItemDisabled=function(R){return R.enabled!==void 0&&!R.enabled},y.isItemSelected=function(R){return!!y.allowSelection&&!!y.selectedItem&&y.selectedItem.id==R.id},y.getItemClass=function(R){return new M.CssClassBuilder().append("sv-list__item").append("sv-list__item--disabled",y.isItemDisabled(R)).append("sv-list__item--selected",y.isItemSelected(R)).toString()},y.getItemIndent=function(R){var b=R.level||0;return(b+1)*g.INDENT+"px"},y.setItems(f),y.selectedItem=P,y}return g.prototype.hasText=function(f,i){if(!i)return!0;var p=(f.title||"").toLocaleLowerCase();return p.indexOf(i.toLocaleLowerCase())>-1},g.prototype.isItemVisible=function(f){return f.visible&&(!this.shouldProcessFilter||this.hasText(f,this.filteredText))},Object.defineProperty(g.prototype,"shouldProcessFilter",{get:function(){return this.needFilter&&!this.onFilteredTextChangedCallback},enumerable:!1,configurable:!0}),g.prototype.onFilteredTextChanged=function(f){this.needFilter&&this.onFilteredTextChangedCallback&&this.onFilteredTextChangedCallback(f)},g.prototype.onSet=function(){this.needFilter=!this.denySearch&&(this.actions||[]).length>g.MINELEMENTCOUNT,u.prototype.onSet.call(this)},Object.defineProperty(g.prototype,"filteredTextPlaceholder",{get:function(){return w.surveyLocalization.getString("filteredTextPlaceholder")},enumerable:!1,configurable:!0}),g.prototype.onKeyDown=function(f){var i=f.target;f.key==="ArrowDown"||f.keyCode===40?(i.nextElementSibling?i.nextElementSibling.focus():i.parentElement.firstElementChild&&i.parentElement.firstElementChild.focus(),f.preventDefault()):(f.key==="ArrowUp"||f.keyCode===38)&&(i.previousElementSibling?i.previousElementSibling.focus():i.parentElement.lastElementChild&&i.parentElement.lastElementChild.focus(),f.preventDefault())},g.prototype.onPointerDown=function(f,i){},g.prototype.refresh=function(){this.filteredText=""},g.INDENT=16,g.MINELEMENTCOUNT=10,x([Object(d.property)({defaultValue:!1,onSet:function(f,i){i.onSet()}})],g.prototype,"denySearch",void 0),x([Object(d.property)({defaultValue:!1})],g.prototype,"needFilter",void 0),x([Object(d.property)({defaultValue:!1})],g.prototype,"isExpanded",void 0),x([Object(d.property)()],g.prototype,"selectedItem",void 0),x([Object(d.property)({onSet:function(f,i){i.onFilteredTextChanged(i.filteredText)}})],g.prototype,"filteredText",void 0),g}(C.ActionContainer)},"./src/localizablestring.ts":function(a,r,t){t.r(r),t.d(r,"LocalizableString",function(){return w}),t.d(r,"LocalizableStrings",function(){return S});var d=t("./src/helpers.ts"),C=t("./src/surveyStrings.ts"),M=t("./src/settings.ts"),w=function(){function x(h,u,g){u===void 0&&(u=!1),this.owner=h,this.useMarkdown=u,this.name=g,this.values={},this.htmlValues={},this.onCreating()}return Object.defineProperty(x,"defaultLocale",{get:function(){return M.settings.defaultLocaleName},set:function(h){M.settings.defaultLocaleName=h},enumerable:!1,configurable:!0}),x.prototype.getIsMultiple=function(){return!1},Object.defineProperty(x.prototype,"locale",{get:function(){return this.owner&&this.owner.getLocale?this.owner.getLocale():""},enumerable:!1,configurable:!0}),x.prototype.strChanged=function(){this.searchableText=void 0,this.renderedText!==void 0&&(this.calculatedTextValue=this.calcText(),this.renderedText!==this.calculatedTextValue&&(this.renderedText=void 0,this.calculatedTextValue=void 0),this.onChanged())},Object.defineProperty(x.prototype,"text",{get:function(){return this.pureText},set:function(h){this.setLocaleText(this.locale,h)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"calculatedText",{get:function(){return this.renderedText=this.calculatedTextValue!==void 0?this.calculatedTextValue:this.calcText(),this.calculatedTextValue=void 0,this.renderedText},enumerable:!1,configurable:!0}),x.prototype.calcText=function(){var h=this.pureText;return h&&this.owner&&this.owner.getProcessedText&&h.indexOf("{")>-1&&(h=this.owner.getProcessedText(h)),this.onGetTextCallback&&(h=this.onGetTextCallback(h)),h},Object.defineProperty(x.prototype,"pureText",{get:function(){var h=this.locale;h||(h=M.settings.defaultLocaleName);var u=this.getValue(h);return!u&&h==M.settings.defaultLocaleName&&(u=this.getValue(C.surveyLocalization.defaultLocale)),!u&&h!==M.settings.defaultLocaleName&&(u=this.getValue(M.settings.defaultLocaleName)),!u&&this.localizationName&&(u=this.getLocalizationStr(),this.onGetLocalizationTextCallback&&(u=this.onGetLocalizationTextCallback(u))),u||(u=""),u},enumerable:!1,configurable:!0}),x.prototype.getLocalizationStr=function(){return this.localizationName?C.surveyLocalization.getString(this.localizationName):""},Object.defineProperty(x.prototype,"hasHtml",{get:function(){return this.hasHtmlValue()},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"html",{get:function(){return this.hasHtml?this.getHtmlValue():""},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"isEmpty",{get:function(){return this.getValuesKeys().length==0},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"textOrHtml",{get:function(){return this.hasHtml?this.getHtmlValue():this.calculatedText},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"renderedHtml",{get:function(){return this.textOrHtml},enumerable:!1,configurable:!0}),x.prototype.getLocaleText=function(h){h||(h=M.settings.defaultLocaleName);var u=this.getValue(h);return u||""},x.prototype.getLocaleTextWithDefault=function(h){var u=this.getLocaleText(h);return!u&&this.onGetDefaultTextCallback?this.onGetDefaultTextCallback():u},x.prototype.setLocaleText=function(h,u){if(u!=this.getLocaleTextWithDefault(h)&&!(u&&h&&h!=M.settings.defaultLocaleName&&!this.getValue(h)&&u==this.getLocaleText(M.settings.defaultLocaleName))){var g=this.locale;h||(h=M.settings.defaultLocaleName),g||(g=M.settings.defaultLocaleName);var f=this.onStrChanged&&h===g?this.pureText:void 0;delete this.htmlValues[h],u?typeof u=="string"&&(h!=M.settings.defaultLocaleName&&u==this.getLocaleText(M.settings.defaultLocaleName)?this.setLocaleText(h,null):(this.setValue(h,u),h==M.settings.defaultLocaleName&&this.deleteValuesEqualsToDefault(u))):this.getValue(h)&&this.deleteValue(h),this.strChanged(),this.onStrChanged&&f!==u&&this.onStrChanged(f,u)}},x.prototype.hasNonDefaultText=function(){var h=this.getValuesKeys();return h.length==0?!1:h.length>1||h[0]!=M.settings.defaultLocaleName},x.prototype.getLocales=function(){var h=this.getValuesKeys();return h.length==0?[]:h},x.prototype.getJson=function(){if(this.sharedData)return this.sharedData.getJson();var h=this.getValuesKeys();return h.length==0?null:h.length==1&&h[0]==M.settings.defaultLocaleName&&!M.settings.serializeLocalizableStringAsObject?this.values[h[0]]:this.values},x.prototype.setJson=function(h){if(this.sharedData){this.sharedData.setJson(h);return}if(this.values={},this.htmlValues={},!!h){if(typeof h=="string")this.setLocaleText(null,h);else for(var u in h)this.setLocaleText(u,h[u]);this.strChanged()}},Object.defineProperty(x.prototype,"renderAs",{get:function(){return!this.owner||typeof this.owner.getRenderer!="function"?x.defaultRenderer:this.owner.getRenderer(this.name)||x.defaultRenderer},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"renderAsData",{get:function(){return!this.owner||typeof this.owner.getRendererContext!="function"?this:this.owner.getRendererContext(this)||this},enumerable:!1,configurable:!0}),x.prototype.equals=function(h){return this.sharedData?this.sharedData.equals(h):!h||!h.values?!1:d.Helpers.isTwoValueEquals(this.values,h.values,!1,!0,!1)},x.prototype.setFindText=function(h){if(this.searchText!=h){if(this.searchText=h,!this.searchableText){var u=this.textOrHtml;this.searchableText=u?u.toLowerCase():""}var g=this.searchableText,f=g&&h?g.indexOf(h):void 0;return f<0&&(f=void 0),(f!=null||this.searchIndex!=f)&&(this.searchIndex=f,this.onSearchChanged&&this.onSearchChanged()),this.searchIndex!=null}},x.prototype.onChanged=function(){},x.prototype.onCreating=function(){},x.prototype.hasHtmlValue=function(){if(!this.owner||!this.useMarkdown)return!1;var h=this.calculatedText;if(!h||this.localizationName&&h===this.getLocalizationStr())return!1;var u=this.locale;return u||(u=M.settings.defaultLocaleName),this.htmlValues[u]=this.owner.getMarkdownHtml(h,this.name),!!this.htmlValues[u]},x.prototype.getHtmlValue=function(){var h=this.locale;return h||(h=M.settings.defaultLocaleName),this.htmlValues[h]},x.prototype.deleteValuesEqualsToDefault=function(h){for(var u=this.getValuesKeys(),g=0;g<u.length;g++)u[g]!=M.settings.defaultLocaleName&&this.getValue(u[g])==h&&this.deleteValue(u[g])},x.prototype.getValue=function(h){return this.sharedData?this.sharedData.getValue(h):this.values[h]},x.prototype.setValue=function(h,u){this.sharedData?this.sharedData.setValue(h,u):this.values[h]=u},x.prototype.deleteValue=function(h){this.sharedData?this.sharedData.deleteValue(h):delete this.values[h]},x.prototype.getValuesKeys=function(){return this.sharedData?this.sharedData.getValuesKeys():Object.keys(this.values)},x.SerializeAsObject=!1,x.defaultRenderer="sv-string-viewer",x.editableRenderer="sv-string-editor",x}(),S=function(){function x(h){this.owner=h,this.values={}}return x.prototype.getIsMultiple=function(){return!0},Object.defineProperty(x.prototype,"locale",{get:function(){return this.owner&&this.owner.getLocale?this.owner.getLocale():""},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"value",{get:function(){return this.getValue("")},set:function(h){this.setValue("",h)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"text",{get:function(){return Array.isArray(this.value)?this.value.join(`
`):""},set:function(h){this.value=h?h.split(`
`):[]},enumerable:!1,configurable:!0}),x.prototype.getLocaleText=function(h){var u=this.getValueCore(h,!h||h===this.locale);return!u||!Array.isArray(u)||u.length==0?"":u.join(`
`)},x.prototype.setLocaleText=function(h,u){var g=u?u.split(`
`):null;this.setValue(h,g)},x.prototype.getValue=function(h){return this.getValueCore(h)},x.prototype.getValueCore=function(h,u){if(u===void 0&&(u=!0),h=this.getLocale(h),this.values[h])return this.values[h];if(u){var g=M.settings.defaultLocaleName;if(h!==g&&this.values[g])return this.values[g]}return[]},x.prototype.setValue=function(h,u){h=this.getLocale(h);var g=d.Helpers.createCopy(this.values);!u||u.length==0?delete this.values[h]:this.values[h]=u,this.onValueChanged&&this.onValueChanged(g,this.values)},x.prototype.hasValue=function(h){return h===void 0&&(h=""),!this.isEmpty&&this.getValue(h).length>0},Object.defineProperty(x.prototype,"isEmpty",{get:function(){return this.getValuesKeys().length==0},enumerable:!1,configurable:!0}),x.prototype.getLocale=function(h){return h||(h=this.locale,h||M.settings.defaultLocaleName)},x.prototype.getLocales=function(){var h=this.getValuesKeys();return h.length==0?[]:h},x.prototype.getJson=function(){var h=this.getValuesKeys();return h.length==0?null:h.length==1&&h[0]==M.settings.defaultLocaleName&&!M.settings.serializeLocalizableStringAsObject?this.values[h[0]]:d.Helpers.createCopy(this.values)},x.prototype.setJson=function(h){if(this.values={},!!h)if(Array.isArray(h))this.setValue(null,h);else for(var u in h)this.setValue(u,h[u])},x.prototype.getValuesKeys=function(){return Object.keys(this.values)},x}()},"./src/localization/arabic.ts":function(a,r,t){t.r(r),t.d(r,"arabicSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"",pageNextText:"",completeText:" ",previewText:"",editText:"",startSurveyText:"",otherItemText:" ",noneItemText:" ",selectAllItemText:" ",progressText:"{1}  {0} ",panelDynamicProgressText:" {0}  {1}",questionsProgressText:"    {0} / {1}",emptySurvey:"       ",completingSurvey:"   !",completingSurveyBefore:"       .",loadingSurvey:"...  ",optionsCaption:"...",value:"",requiredError:".   ",requiredErrorInPanel:"      .",requiredInAllRowsError:"      ",numericError:"    .",textMinLength:"      {0} ",textMaxLength:"    {0} ",textMinMaxLength:"    {0}   {1} ",minRowCountError:"      {0} ",minSelectError:"      {0} ",maxSelectError:"      {0} ",numericMinMax:"'{0}'        {1}     {2}",numericMin:"'{0}'        {1}",numericMax:"'{0}'        {1}",invalidEmail:"    ",invalidExpression:"   : {0} ''.",urlRequestError:"   '{0}'. {1}",urlGetChoicesError:"     ''   ",exceedMaxSize:"     {0}",otherRequiredError:"   ",uploadingFile:"   .      ",loadingFile:" ...",chooseFile:" ...",noFileChosen:"   ",confirmDelete:"   ",keyDuplicationError:"     .",addColumn:" ",addRow:" ",removeRow:" ",addPanel:" ",removePanel:"",choices_Item:"",matrix_column:"",matrix_row:"",savingData:"     ...",savingDataError:"      .",savingDataSuccess:"   !",saveAgainButton:" ",timerMin:"",timerSec:"",timerSpentAll:"  {0}     {1} .",timerSpentPage:"  {0}   .",timerSpentSurvey:"  {0} .",timerLimitAll:"  {0}  {1}     {2}   {3}.",timerLimitPage:"  {0}  {1}   .",timerLimitSurvey:"  {0}   {1}.",cleanCaption:"",clearCaption:"",chooseFileCaption:" ",removeFileCaption:"   ",booleanCheckedLabel:"",booleanUncheckedLabel:"",confirmRemoveFile:"       : {0}",confirmRemoveAllFiles:"       ",questionTitlePatternText:" "};d.surveyLocalization.locales.ar=C,d.surveyLocalization.localeNames.ar=""},"./src/localization/basque.ts":function(a,r,t){t.r(r),t.d(r,"basqueSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Aurrekoa",pageNextText:"Hurrengoa",completeText:"Bukatu",previewText:"Aurrebista",editText:"Editatu",startSurveyText:"Hasi",otherItemText:"Beste bat (zehaztu)",noneItemText:"Bat ere ez",selectAllItemText:"Guztia hautatu",progressText:"{1}-(e)tik {0} orrialde",panelDynamicProgressText:"{0} errigistro {1}-(e)tik",questionsProgressText:"Erantzundako galderak {0}/{1}",emptySurvey:"Ez dago orrialde bistaragarririk edo ez dago galderarik.",completingSurvey:"Eskerrik asko galdetegia erantzuteagatik!",completingSurveyBefore:"Gure datuek diote dagoeneko galdetegia erantzun duzula.",loadingSurvey:"Galdetegia kargatzen...",optionsCaption:"Hautatu...",value:"balioa",requiredError:"Mesedez, galdera erantzun.",requiredErrorInPanel:"Mesedez, gutxienez galdera bat erantzun.",requiredInAllRowsError:"Mesedez, errenkadako galdera guztiak erantzun.",numericError:"Estimazioa zenbakizkoa izan behar du.",minError:"Balioa ez da {0} baino txikiagoa izan behar",maxError:"Balioa ez da {0} baino handiagoa izan behar",textMinLength:"Mesedez, gutxienez {0} karaktere erabili behar dira.",textMaxLength:"Mesedez, gehienez {0} karaktere erabili behar dira.",textMinMaxLength:"Mesedez, gehienez {0} eta gutxienez {1} karaktere erabili behar dira.",minRowCountError:"Mesedez, gutxienez {0} errenkada bete.",minSelectError:"Mesedez, gutxienez {0} aukera hautatu.",maxSelectError:"Mesedez, {0} aukera baino gehiago ez hautatu.",numericMinMax:"El '{0}' debe de ser igual o ms de {1} y igual o menos de {2}",numericMin:"'{0}' {1} baino handiagoa edo berdin izan behar da",numericMax:"'{0}' {1} baino txikiago edo berdin izan behar da",invalidEmail:"Mesedez, baliozko emaila idatz ezazu.",invalidExpression:"{0} adierazpenak 'egiazkoa' itzuli beharko luke.",urlRequestError:"Eskaerak '{0}' errorea itzuli du. {1}",urlGetChoicesError:"La solicitud regres vaco de data o la propiedad 'trayectoria' no es correcta",exceedMaxSize:"Fitxategiaren tamaina ez da {0} baino handiagoa izan behar.",otherRequiredError:"Mesedez, beste estimazioa gehitu.",uploadingFile:"Zure fitxategia igotzen ari da. Mesedez, segundo batzuk itxaron eta saiatu berriro.",loadingFile:"Kargatzen...",chooseFile:"Fitxategia(k) hautatu...",noFileChosen:"Ez da inolako fitxategirik hautatu",confirmDelete:"Erregistroa borratu nahi al duzu?",keyDuplicationError:"Balio hau bakarra izan behar du.",addColumn:"Zutabe bat gehitu",addRow:"Errenkada bat gehitu",removeRow:"Errenkada bat kendu",emptyRowsText:"Ez dago errenkadarik.",addPanel:"Berria gehitu",removePanel:"Kendu",choices_Item:"artikulua",matrix_column:"Zutabea",matrix_row:"Errenkada",multipletext_itemname:"testua",savingData:"Erantzunak zerbitzarian gordetzen ari dira...",savingDataError:"Erroreren bat gertatu eta erantzunak ez dira zerbitzarian gorde ahal izan.",savingDataSuccess:"Erantzunak egoki gorde dira!",saveAgainButton:"Berriro saiatu.",timerMin:"min",timerSec:"seg",timerSpentAll:"{0} erabili duzu orrialde honetan eta orotara {1}.",timerSpentPage:"Zuk {0} erabili duzu.",timerSpentSurvey:"Orotara gastatu duzu.",timerLimitAll:"{0} gastatu duzu {1}-(e)tik orrialde honetan eta orotara {2} {3}-(e)tik.",timerLimitPage:"{0} gastatu duzu orrialde honetan {1}-(e)tik.",timerLimitSurvey:"Zuk orotara {0} gastatu duzu {1}-(e)tik.",cleanCaption:"Garbitu",clearCaption:"Hustu",signaturePlaceHolder:"Sinatu hemen",chooseFileCaption:"Fitxategia hautatu",removeFileCaption:"Fitxategi hau ezabatu",booleanCheckedLabel:"Bai",booleanUncheckedLabel:"Ez",confirmRemoveFile:"Ziur zaude hurrengo fitxategia ezabatu nahi duzula: {0}?",confirmRemoveAllFiles:"Ziur al zaude fitxategi guztiak ezabatu nahi dituzula?",questionTitlePatternText:"Galderaren izenburua",modalCancelButtonText:"Ezeztatu",modalApplyButtonText:"Ezarri"};d.surveyLocalization.locales.eu=C,d.surveyLocalization.localeNames.eu="Euskara"},"./src/localization/bulgarian.ts":function(a,r,t){t.r(r),t.d(r,"bulgarianStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"",pageNextText:"",completeText:"",previewText:"",editText:"",startSurveyText:"",otherItemText:" ()",noneItemText:" ",selectAllItemText:"",progressText:". {0},  . {1}",panelDynamicProgressText:" {0}  {1}",questionsProgressText:"  {0} / {1} ",emptySurvey:"      .",completingSurvey:"     !",completingSurveyBefore:",      .",loadingSurvey:"  ...",optionsCaption:"...",value:"value",requiredError:",    .",requiredErrorInPanel:",      .",requiredInAllRowsError:",      .",numericError:"    .",textMinLength:",   {0} .",textMaxLength:",     {0} .",textMinMaxLength:",    {0}  -  {1} .",minRowCountError:",   {0} .",minSelectError:",   {0} .",maxSelectError:",     {0} .",numericMinMax:" '{0}'      -  {1}    -  {2}",numericMin:" '{0}'      -  {1}",numericMax:" '{0}'      -  {1}",invalidEmail:",      .",invalidExpression:": {0}     'true' ().",urlRequestError:"    '{0}'. {1}",urlGetChoicesError:"      'path' (     )   ",exceedMaxSize:"       {0}.",otherRequiredError:",   .",uploadingFile:"     . ,       .",loadingFile:"...",chooseFile:" ()...",noFileChosen:"  ",confirmDelete:"    ?",keyDuplicationError:"    .",addColumn:"  ",addRow:"  ",removeRow:"  ",addPanel:"  ",removePanel:"  ",choices_Item:"",matrix_column:"",matrix_row:"",savingData:"    ...",savingDataError:"        .",savingDataSuccess:"   !",saveAgainButton:" ",timerMin:"",timerSec:"",timerSpentAll:"  {0}      {1}.",timerSpentPage:"  {0}   .",timerSpentSurvey:"   {0}.",timerLimitAll:"  {0}  {1}      {2}  {3}.",timerLimitPage:"  {0}  {1}   .",timerLimitSurvey:"   {0}  {1}.",cleanCaption:"",clearCaption:" ",chooseFileCaption:" ",removeFileCaption:"  ",booleanCheckedLabel:"",booleanUncheckedLabel:"",confirmRemoveFile:"      : {0}?",confirmRemoveAllFiles:"      ?",questionTitlePatternText:"  "};d.surveyLocalization.locales.bg=C,d.surveyLocalization.localeNames.bg=""},"./src/localization/catalan.ts":function(a,r,t){t.r(r),t.d(r,"catalanSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Anterior",pageNextText:"Segent",completeText:"Complet",otherItemText:"Un altre (descrigui)",progressText:"Pgina {0} de {1}",emptySurvey:"No hi ha cap pgina visible o pregunta a l'enquesta.",completingSurvey:"Grcies per completar l'enquesta!",loadingSurvey:"L'enquesta s'est carregant ...",optionsCaption:"Selecciona ...",requiredError:"Si us plau contesti la pregunta.",requiredInAllRowsError:"Si us plau contesti les preguntes de cada filera.",numericError:"L'estimaci ha de ser numrica.",textMinLength:"Si us plau entre almenys {0} smbols.",textMaxLength:"Si us plau entre menys de {0} smbols.",textMinMaxLength:"Si us plau entre ms de {0} i menys de {1} smbols.",minRowCountError:"Si us plau ompli almenys {0} fileres.",minSelectError:"Si us plau seleccioni almenys {0} variants.",maxSelectError:"Si us plau seleccioni no ms de {0} variants.",numericMinMax:"El '{0}' deu ser igual o ms de {1} i igual o menys de {2}",numericMin:"El '{0}' ha de ser igual o ms de {1}",numericMax:"El '{0}' ha de ser igual o menys de {1}",invalidEmail:"Si us plau afegiu un correu electrnic vlid.",urlRequestError:"La sollicitud va tornar error '{0}'. {1}",urlGetChoicesError:"La sollicitud va tornar buida de dates o la propietat 'trajectria' no s correcta",exceedMaxSize:"La mida de l'arxiu no pot excedir {0}.",otherRequiredError:"Si us plau afegiu l'altra estimaci.",uploadingFile:"El seu arxiu s'est pujant. Si us plau esperi uns segons i intenteu-ho de nou.",addRow:"Afegiu una filera",removeRow:"Eliminar una filera",choices_firstItem:"primer article",choices_secondItem:"segon article",choices_thirdItem:"tercer article",matrix_column:"Columna",matrix_row:"Filera"};d.surveyLocalization.locales.ca=C,d.surveyLocalization.localeNames.ca="catal"},"./src/localization/croatian.ts":function(a,r,t){t.r(r),t.d(r,"croatianStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Prethodni",pageNextText:"Sljedei",completeText:"Kompletan",previewText:"Pregled",editText:"Ureivanje",startSurveyText:"Poetak",otherItemText:"Ostali (opis)",noneItemText:"Nitko",selectAllItemText:"Select All",progressText:"Stranica {0} od {1}",panelDynamicProgressText:"Zapisa {0} od {1}",questionsProgressText:"Odgovorio na {0}/{1} pitanja",emptySurvey:"U anketi nema vidljive stranice ili pitanja.",completingSurvey:"Hvala vam to ste zavrili anketu!",completingSurveyBefore:"Nai zapisi pokazuju da ste ve zavrili ovu anketu.",loadingSurvey:"Anketa o uitavanje...",optionsCaption:"Odaberite...",value:"vrijednost",requiredError:"Molim vas odgovorite na pitanje.",requiredErrorInPanel:"Molim vas odgovorite na barem jedno pitanje.",requiredInAllRowsError:"Odgovorite na pitanja u svim redovima.",numericError:"Vrijednost bi trebala biti brojana.",textMinLength:"Unesite najmanje {0} znak(ova).",textMaxLength:"Unesite manje od {0} znak(ova).",textMinMaxLength:"Unesite vie od {0} i manje od {1} znakova.",minRowCountError:"Molimo ispunite najmanje {0} redaka.",minSelectError:"Odaberite barem {0} varijante.",maxSelectError:"Odaberite ne vie od {0} varijanti.",numericMinMax:"'{0}'bi trebao biti jednak ili vie od {1} i jednak ili manji od {2}.",numericMin:"'{0}' bi trebao biti jednak ili vie od {1}.",numericMax:"'{0}' bi trebao biti jednak ili manji od {1}",invalidEmail:"Unesite valjanu e-mail adresu.",invalidExpression:"Izraz: {0} treba vratiti 'true'.",urlRequestError:"Zahtjev vratio pogreku '{0}'. {1}",urlGetChoicesError:"Zahtjev je vratio prazne podatke ili je 'path' svojstvo netona.",exceedMaxSize:"Veliina datoteke ne smije prelaziti {0}.",otherRequiredError:"Unesite drugu vrijednost.",uploadingFile:"Vaa datoteka se prenosi. Priekajte nekoliko sekundi i pokuajte ponovno.",loadingFile:"Uitavanje...",chooseFile:"Odaberite datoteku...",noFileChosen:"Nije odabrana datoteka",confirmDelete:"elite li izbrisati zapis?",keyDuplicationError:"Ta bi vrijednost trebala biti jedinstvena.",addColumn:"Dodavanje stupca",addRow:"Dodavanje redaka",removeRow:"Ukloniti",addPanel:"Dodavanje novih",removePanel:"Ukloniti",choices_Item:"stavku",matrix_column:"Stupca",matrix_row:"Redak",savingData:"Rezultati se spremaju na posluitelju...",savingDataError:"Dolo je do pogreke i nismo mogli spremiti rezultate.",savingDataSuccess:"Rezultati su uspjeno spremljeni!",saveAgainButton:"Pokuaj ponovo",timerMin:"min",timerSec:"sec",timerSpentAll:"Vi ste proveli {0} na ovoj stranici i {1} ukupno.",timerSpentPage:"Potroili ste {0} na ovu stranicu.",timerSpentSurvey:"You have spent {0} in total. {0}.",timerLimitAll:"Vi ste proveli {0} od {1} na ovoj stranici i {2} od {3} ukupno.",timerLimitPage:"Potroio si {0} od {1} na ovoj stranici.",timerLimitSurvey:"Ukupno ste potroili {0} od {1}.",cleanCaption:"Oistiti",clearCaption:"Oistiti",chooseFileCaption:"Odaberite datoteku",removeFileCaption:"Uklonite ovu datoteku",booleanCheckedLabel:"Da",booleanUncheckedLabel:"Ne",confirmRemoveFile:"Jeste li sigurni da elite ukloniti ovu datoteku: {0}?",confirmRemoveAllFiles:"Jeste li sigurni da elite ukloniti sve datoteke?",questionTitlePatternText:"Naslov pitanja",modalCancelButtonText:"Otkazati",modalApplyButtonText:"Primijeniti"};d.surveyLocalization.locales.hr=C,d.surveyLocalization.localeNames.hr="hrvatski"},"./src/localization/czech.ts":function(a,r,t){t.r(r),t.d(r,"czechSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Pedchoz",pageNextText:"Dal",completeText:"Hotovo",previewText:"Nhled",editText:"Upravit",startSurveyText:"Start",otherItemText:"Jin odpov (napite)",noneItemText:"dn",selectAllItemText:"Vybrat ve",progressText:"Strana {0} z {1}",panelDynamicProgressText:"Zznam {0} z {1}",questionsProgressText:"Zodpovzen otzky: {0} / {1}",emptySurvey:"Przkumu neobsahuje dn otzky.",completingSurvey:"Dkujeme za vyplnn przkumu!",completingSurveyBefore:"Nae zznamy ukazuj, e jste tento przkum ji dokonili.",loadingSurvey:"Probh natn przkumu...",optionsCaption:"Vyber...",value:"hodnota",requiredError:"Odpovzte prosm na otzku.",requiredErrorInPanel:"Please answer at least one question.",requiredInAllRowsError:"Odpovzte prosm na vechny otzky.",numericError:"V tomto poli lze zadat pouze sla.",textMinLength:"Zadejte prosm alespo {0} znak.",textMaxLength:"Zadejte prosm mn ne {0} znak.",textMinMaxLength:"Zadejte prosm vce ne {0} a mn ne {1} znak.",minRowCountError:"Vyplte prosm alespo {0} dk.",minSelectError:"Vyberte prosm alespo {0} varianty.",maxSelectError:"Nevybrejte prosm vce ne {0} variant.",numericMinMax:"Odpov '{0}' by mlo bt vt nebo rovno {1} a men nebo rovno {2}",numericMin:"Odpov '{0}' by mlo bt vt nebo rovno {1}",numericMax:"Odpov '{0}' by mlo bt men nebo rovno {1}",invalidEmail:"Zadejte prosm platnou e-mailovou adresu.",invalidExpression:"Vraz: {0} by ml vrtit hodnotu true.",urlRequestError:"Poadavek vrtil chybu '{0}'. {1}",urlGetChoicesError:"Poadavek nevrtil data nebo cesta je neplatn",exceedMaxSize:"Velikost souboru by nemla bt vt ne {0}.",otherRequiredError:"Zadejte prosm jinou hodnotu.",uploadingFile:"V soubor se nahrv. Zkuste to prosm za nkolik sekund.",loadingFile:"Natn...",chooseFile:"Vyberte soubory ...",noFileChosen:"Nen zvolen dn soubor",confirmDelete:"Chcete smazat zznam?",keyDuplicationError:"Tato hodnota by mla bt jedinen.",addColumn:"Pidat sloupec",addRow:"Pidat dek",removeRow:"Odstranit",addPanel:"Pidat nov",removePanel:"Odstranit",choices_Item:"poloka",matrix_column:"Sloupec",matrix_row:"dek",savingData:"Vsledky se ukldaj na server ...",savingDataError:"Dolo k chyb a vsledky jsme nemohli uloit.",savingDataSuccess:"Vsledky byly spn uloeny!",saveAgainButton:"Zkus to znovu",timerMin:"min",timerSec:"sek",timerSpentAll:"Na tto strnce jste utratili celkem {0} a celkem {1}.",timerSpentPage:"Na tto strnce jste utratili {0}.",timerSpentSurvey:"Celkem jste utratili {0}.",timerLimitAll:"Na tto strnce jste utratili {0} z {1} a celkem {2} z {3}.",timerLimitPage:"Na tto strnce jste strvili {0} z {1}.",timerLimitSurvey:"Celkov jste utratili {0} z {1}.",cleanCaption:"ist",clearCaption:"Prhledn",chooseFileCaption:"Vyberte soubor",removeFileCaption:"Odeberte tento soubor",booleanCheckedLabel:"Ano",booleanUncheckedLabel:"Ne",confirmRemoveFile:"Opravdu chcete odebrat tento soubor: {0}?",confirmRemoveAllFiles:"Opravdu chcete odstranit vechny soubory?",questionTitlePatternText:"Nzev otzky"};d.surveyLocalization.locales.cs=C,d.surveyLocalization.localeNames.cs="etina"},"./src/localization/danish.ts":function(a,r,t){t.r(r),t.d(r,"danishSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Tilbage",pageNextText:"Videre",completeText:"Frdig",previewText:"Forpremiere",editText:"Redigr",startSurveyText:"Start",otherItemText:"Valgfrit svar...",noneItemText:"Ingen",selectAllItemText:"Vlg alle",progressText:"Side {0} af {1}",panelDynamicProgressText:"Optag {0} af {1}",questionsProgressText:"Besvarede {0} / {1} sprgsml",emptySurvey:"Der er ingen synlige sprgsml.",completingSurvey:"Mange tak for din besvarelse!",completingSurveyBefore:"Vores data viser at du allerede har gennemfrt dette sprgeskema.",loadingSurvey:"Sprgeskemaet hentes fra serveren...",optionsCaption:"Vlg...",value:"vrdi",requiredError:"Besvar venligst sprgsmlet.",requiredErrorInPanel:"Besvar venligst mindst t sprgsml.",requiredInAllRowsError:"Besvar venligst sprgsml i alle rkker.",numericError:"Angiv et tal.",textMinLength:"Angiv mindst {0} tegn.",textMaxLength:"Please enter less than {0} characters.",textMinMaxLength:"Angiv mere end {0} og mindre end {1} tegn.",minRowCountError:"Udfyld mindst {0} rkker.",minSelectError:"Vlg venligst mindst {0} svarmulighed(er).",maxSelectError:"Vlg venligst frre {0} svarmuligheder(er).",numericMinMax:"'{0}' skal vre lig med eller strre end {1} og lig med eller mindre end {2}",numericMin:"'{0}' skal vre lig med eller strre end {1}",numericMax:"'{0}' skal vre lig med eller mindre end {1}",invalidEmail:"Angiv venligst en gyldig e-mail adresse.",invalidExpression:"Udtrykket: {0} skal returnere 'true'.",urlRequestError:"Foresprgslen returnerede fejlen '{0}'. {1}",urlGetChoicesError:"Foresprgslen returnerede ingen data eller 'path' parameteren er forkert",exceedMaxSize:"Filstrrelsen m ikke overstige {0}.",otherRequiredError:"Angiv en vrdi for dit valgfrie svar.",uploadingFile:"Din fil bliver uploadet. Vent nogle sekunder og prv eventuelt igen.",loadingFile:"Indlser...",chooseFile:"Vlg fil(er)...",noFileChosen:"Ingen fil er valgt",confirmDelete:"Vil du fjerne den?",keyDuplicationError:"Denne vrdi skal vre unik.",addColumn:"Tilfj kolonne",addRow:"Tilfj rkke",removeRow:"Fjern",addPanel:"Tilfj ny",removePanel:"Fjern",choices_Item:"valg",matrix_column:"Kolonne",matrix_row:"Rkke",savingData:"Resultaterne bliver gemt p serveren...",savingDataError:"Der opstod en fejl og vi kunne ikke gemme resultatet.",savingDataSuccess:"Resultatet blev gemt!",saveAgainButton:"Prv igen",timerMin:"min",timerSec:"sek",timerSpentAll:"Du har brugt {0} p denne side og {1} i alt.",timerSpentPage:"Du har brugt {0} p denne side.",timerSpentSurvey:"Du har brugt {0} i alt.",timerLimitAll:"Du har brugt {0} af {1} p denne side og {2} af {3} i alt.",timerLimitPage:"Du har brugt {0} af {1} p denne side.",timerLimitSurvey:"Du har brugt {0} af {1} i alt.",cleanCaption:"Rens",clearCaption:"Fjern",chooseFileCaption:"Vlg fil",removeFileCaption:"Fjern denne fil",booleanCheckedLabel:"Ja",booleanUncheckedLabel:"Ingen",confirmRemoveFile:"Er du sikker p, at du vil fjerne denne fil: {0}?",confirmRemoveAllFiles:"Er du sikker p, at du vil fjerne alle filer?",questionTitlePatternText:"Sprgsmls titel"};d.surveyLocalization.locales.da=C,d.surveyLocalization.localeNames.da="dansk"},"./src/localization/dutch.ts":function(a,r,t){t.r(r),t.d(r,"dutchSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Vorige",pageNextText:"Volgende",completeText:"Verzenden",previewText:"Voorbeeld",editText:"Bewerk",startSurveyText:"Start",otherItemText:"Anders, nl.",noneItemText:"Geen",selectAllItemText:"Selecteer Alles",progressText:"Pagina {0} van {1}",panelDynamicProgressText:"Record {0} of {1}",questionsProgressText:"Geantwoord {0}/{1} vragen",emptySurvey:"Er is geen zichtbare pagina of vraag in deze vragenlijst",completingSurvey:"Bedankt voor het invullen van de vragenlijst",completingSurveyBefore:"Onze gegevens tonen aan dat je deze vragenlijst reeds beantwoord hebt.",loadingSurvey:"De vragenlijst is aan het laden...",optionsCaption:"Kies...",value:"waarde",requiredError:"Dit is een vereiste vraag",requiredErrorInPanel:"Gelieve ten minste een vraag te beantwoorden.",requiredInAllRowsError:"Deze vraag vereist n antwoord per rij",numericError:"Het antwoord moet een getal zijn",textMinLength:"Vul minstens {0} karakters in",textMaxLength:"Gelieve minder dan {0} karakters in te vullen.",textMinMaxLength:"Gelieve meer dan {0} en minder dan {1} karakters in te vullen.",minRowCountError:"Gelieve ten minste {0} rijen in te vullen.",minSelectError:"Selecteer minimum {0} antwoorden",maxSelectError:"Selecteer niet meer dan {0} antwoorden",numericMinMax:"Uw antwoord '{0}' moet groter of gelijk zijn aan {1} en kleiner of gelijk aan {2}",numericMin:"Uw antwoord '{0}' moet groter of gelijk zijn aan {1}",numericMax:"Uw antwoord '{0}' moet groter of gelijk zijn aan {1}",invalidEmail:"Vul een geldig e-mailadres in",invalidExpression:"De uitdrukking: {0} moet 'waar' teruggeven.",urlRequestError:"De vraag keerde een fout terug '{0}'. {1}",urlGetChoicesError:"De vraag gaf een leeg antwoord terug of de 'pad' eigenschap is niet correct",exceedMaxSize:"De grootte van het bestand mag niet groter zijn dan {0}",otherRequiredError:"Vul het veld 'Anders, nl.' in",uploadingFile:"Uw bestand wordt opgeladen. Gelieve enkele seconden te wachten en opnieuw te proberen.",loadingFile:"Opladen...",chooseFile:"Kies uw bestand(en)...",noFileChosen:"Geen bestand gekozen",confirmDelete:"Wil je deze gegevens verwijderen?",keyDuplicationError:"Deze waarde moet uniek zijn.",addColumn:"Voeg kolom toe",addRow:"Voeg rij toe",removeRow:"Verwijder",addPanel:"Nieuwe toevoegen",removePanel:"Verwijder",choices_Item:"onderwerp",matrix_column:"Kolom",matrix_row:"Rij",savingData:"De resultaten worden bewaard op de server...",savingDataError:"Er was een probleem en we konden de resultaten niet bewaren.",savingDataSuccess:"De resultaten werden succesvol bewaard!",saveAgainButton:"Probeer opnieuw",timerMin:"minimum",timerSec:"sec",timerSpentAll:"U heeft {0} gespendeerd op deze pagina en {1} in totaal.",timerSpentPage:"U heeft {0} op deze pagina gespendeerd.",timerSpentSurvey:"U heeft in totaal {0} gespendeerd.",timerLimitAll:"U heeft {0} van {1} op deze pagina gespendeerd en {2} van {3} in totaal.",timerLimitPage:"U heeft {0} van {1} gespendeerd op deze pagina.",timerLimitSurvey:"U heeft {0} van {1} in het totaal.",cleanCaption:"Kuis op",clearCaption:"Kuis op",chooseFileCaption:"Gekozen bestand",removeFileCaption:"Verwijder deze file",booleanCheckedLabel:"Ja",booleanUncheckedLabel:"Neen",confirmRemoveFile:"Bent u zeker dat u deze file wilt verwijderen: {0}?",confirmRemoveAllFiles:"Bent u zeker dat u al deze files wilt verwijderen?",questionTitlePatternText:"Titel van de vraag"};d.surveyLocalization.locales.nl=C,d.surveyLocalization.localeNames.nl="nederlands"},"./src/localization/english.ts":function(a,r,t){t.r(r),t.d(r,"englishStrings",function(){return d});var d={pagePrevText:"Previous",pageNextText:"Next",completeText:"Complete",previewText:"Preview",editText:"Edit",startSurveyText:"Start",otherItemText:"Other (describe)",noneItemText:"None",selectAllItemText:"Select All",progressText:"Page {0} of {1}",indexText:"{0} of {1}",panelDynamicProgressText:"{0} of {1}",questionsProgressText:"Answered {0}/{1} questions",emptySurvey:"There is no visible page or question in the survey.",completingSurvey:"Thank you for completing the survey!",completingSurveyBefore:"Our records show that you have already completed this survey.",loadingSurvey:"Loading Survey...",optionsCaption:"Choose...",ratingOptionsCaption:"Tap to rate here...",value:"value",requiredError:"Response required.",requiredErrorInPanel:"Response required: answer at least one question.",requiredInAllRowsError:"Response required: answer questions in all rows.",numericError:"The value should be numeric.",minError:"The value should not be less than {0}",maxError:"The value should not be greater than {0}",textMinLength:"Please enter at least {0} character(s).",textMaxLength:"Please enter no more than {0} character(s).",textMinMaxLength:"Please enter at least {0} and no more than {1} characters.",minRowCountError:"Please fill in at least {0} row(s).",minSelectError:"Please select at least {0} variant(s).",maxSelectError:"Please select no more than {0} variant(s).",numericMinMax:"The '{0}' should be at least {1} and at most {2}",numericMin:"The '{0}' should be at least {1}",numericMax:"The '{0}' should be at most {1}",invalidEmail:"Please enter a valid e-mail address.",invalidExpression:"The expression: {0} should return 'true'.",urlRequestError:"The request returned error '{0}'. {1}",urlGetChoicesError:"The request returned empty data or the 'path' property is incorrect",exceedMaxSize:"The file size should not exceed {0}.",otherRequiredError:"Response required: enter another value.",uploadingFile:"Your file is uploading. Please wait several seconds and try again.",loadingFile:"Loading...",chooseFile:"Choose file(s)...",noFileChosen:"No file chosen",fileDragAreaPlaceholder:"Drop a file here or click the button below to load the file.",confirmDelete:"Do you want to delete the record?",keyDuplicationError:"This value should be unique.",addColumn:"Add column",addRow:"Add row",removeRow:"Remove",emptyRowsText:"There are no rows.",addPanel:"Add new",removePanel:"Remove",choices_Item:"item",matrix_column:"Column",matrix_row:"Row",multipletext_itemname:"text",savingData:"The results are being saved on the server...",savingDataError:"An error occurred and we could not save the results.",savingDataSuccess:"The results were saved successfully!",saveAgainButton:"Try again",timerMin:"min",timerSec:"sec",timerSpentAll:"You have spent {0} on this page and {1} in total.",timerSpentPage:"You have spent {0} on this page.",timerSpentSurvey:"You have spent {0} in total.",timerLimitAll:"You have spent {0} of {1} on this page and {2} of {3} in total.",timerLimitPage:"You have spent {0} of {1} on this page.",timerLimitSurvey:"You have spent {0} of {1} in total.",cleanCaption:"Clean",clearCaption:"Clear",signaturePlaceHolder:"Sign here",chooseFileCaption:"Choose file",removeFileCaption:"Remove this file",booleanCheckedLabel:"Yes",booleanUncheckedLabel:"No",confirmRemoveFile:"Are you sure that you want to remove this file: {0}?",confirmRemoveAllFiles:"Are you sure that you want to remove all files?",questionTitlePatternText:"Question Title",modalCancelButtonText:"Cancel",modalApplyButtonText:"Apply",filteredTextPlaceholder:"Type to search...",noEntriesText:`There are no entries yet.
Click the button below to add a new entry.`}},"./src/localization/estonian.ts":function(a,r,t){t.r(r),t.d(r,"estonianSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Tagasi",pageNextText:"Edasi",completeText:"Lpeta",previewText:"Eelvaade",editText:"Muuda",startSurveyText:"Alusta",otherItemText:"Muu (tpsusta)",noneItemText:"Mitte midagi",selectAllItemText:"Vali kik",progressText:"Leheklg {0}/{1}",panelDynamicProgressText:"Kirje {0}/{1}",questionsProgressText:"Vastatud {0} ksimust {1}-st",emptySurvey:"Selles uuringus ei ole htki nhtavat leheklge vi ksimust.",completingSurvey:"Aith, et vastasid ankeedile!",completingSurveyBefore:"Meie andmetel oled sa sellele ankeedile juba vastanud.",loadingSurvey:"Laen ankeeti...",optionsCaption:"Vali...",value:"vrtus",requiredError:"Palun vasta ksimusele.",requiredErrorInPanel:"Palun vasta vhemalt hele ksimusele.",requiredInAllRowsError:"Palun anna vastus igal real.",numericError:"See peaks olema numbriline vrtus.",textMinLength:"Palun sisesta vhemalt {0} themrki.",textMaxLength:"Palun ra sisesta rohkem kui {0} themrki.",textMinMaxLength:"Sisesta palun {0} - {1} themrki.",minRowCountError:"Sisesta plaun vhemalt {0} rida.",minSelectError:"Palun vali vhemalt {0} varianti.",maxSelectError:"Palun vali kige rohkem {0} varianti.",numericMinMax:"'{0}' peaks olema vrdne vi suurem kui {1} ja vrdne vi viksem kui {2}",numericMin:"'{0}' peaks olema vrdne vi suurem kui {1}",numericMax:"'{0}' peaks olema vrnde vi viksem kui {1}",invalidEmail:"Sisesta palun korrektne e-posti aadress.",invalidExpression:"Avaldis: {0} peaks tagastama tese.",urlRequestError:"Taotlus tagastas vea {0}. {1}",urlGetChoicesError:"Taotlus tagastas thjad andmed vi atribuut 'path' on vale",exceedMaxSize:"Faili suurus ei tohi letada {0}.",otherRequiredError:"Sisesta palun muu vastus.",uploadingFile:"Sinu fail laeb les. Palun oota mned sekundid ning proovi seejrel uuesti.",loadingFile:"Laen...",chooseFile:"Vali fail(id)...",noFileChosen:"Faili pole valitud",confirmDelete:"Kas tahad kirje kustutada?",keyDuplicationError:"See vrtus peab olema unikaalne.",addColumn:"Lisa veerg",addRow:"Lisa rida",removeRow:"Eemalda",addPanel:"Lisa uus",removePanel:"Eemalda",choices_Item:"ksus",matrix_column:"Veerg",matrix_row:"Rida",savingData:"Salvestan andmed serveris...",savingDataError:"Tekkis viga ning me ei saanud vastuseid salvestada.",savingDataSuccess:"Vastuste salvestamine nnestus!",saveAgainButton:"Proovi uuesti",timerMin:"min",timerSec:"sek",timerSpentAll:"Oled veetnud {0} sellel lehel ning kokku {1}.",timerSpentPage:"Oled veetnud {0} sellel lehel.",timerSpentSurvey:"Oled veetnud {0} kokku.",timerLimitAll:"Oled kulutanud {0} vimalikust {1} sellel lehel ning {2} vimalikust {3} kokku.",timerLimitPage:"Oled kulutanud {0} vimalikust {1} sellel lehel.",timerLimitSurvey:"Oled kulutanud {0} vimalikust {1} koguajast.",cleanCaption:"Puhasta",clearCaption:"Puhasta",chooseFileCaption:"Vali fail",removeFileCaption:"Eemalda see fail",booleanCheckedLabel:"Jah",booleanUncheckedLabel:"Ei",confirmRemoveFile:"Oled sa kindel, et soovid selle faili eemaldada: {0}?",confirmRemoveAllFiles:"Oled sa kindel, et soovid eemaldada kik failid?",questionTitlePatternText:"Ksimuse pealkiri"};d.surveyLocalization.locales.et=C,d.surveyLocalization.localeNames.et="eesti keel"},"./src/localization/finnish.ts":function(a,r,t){t.r(r),t.d(r,"finnishSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Edellinen",pageNextText:"Seuraava",completeText:"Valmis",previewText:"Esikatselu",editText:"Muokkaa",startSurveyText:"Aloita",otherItemText:"Muu (tarkenna)",noneItemText:"Ei mitn",selectAllItemText:"Valitse kaikki",progressText:"Sivu {0} / {1}",panelDynamicProgressText:"Osio {0} / {1}",questionsProgressText:"Olet vastannut {0} / {1} kysymykseen.",emptySurvey:"Tss kyselyss ei ole yhtn nkyvill olevaa sivua tai kysymyst.",completingSurvey:"Kiitos kyselyyn vastaamisesta!",completingSurveyBefore:"Tietojemme mukaan olet jo suorittanut tmn kyselyn.",loadingSurvey:"Kysely ladataan palvelimelta...",optionsCaption:"Valitse...",value:"arvo",requiredError:"Vastaa kysymykseen, kiitos.",requiredErrorInPanel:"Vastaa ainakin yhteen kysymykseen.",requiredInAllRowsError:"Vastaa kysymyksiin kaikilla riveill.",numericError:"Arvon tulee olla numeerinen.",textMinLength:"Syt vhintn {0} merkki.",textMaxLength:"l syt yli {0} merkki.",textMinMaxLength:"Syt vhintn {0} ja enintn {1} merkki.",minRowCountError:"Tyt vhintn {0} rivi.",minSelectError:"Valitse vhintn {0} vaihtoehtoa.",maxSelectError:"Valitse enintn {0} vaihtoehtoa.",numericMinMax:"Luvun '{0}' tulee olla vhintn {1} ja korkeintaan {2}.",numericMin:"Luvun '{0}' tulee olla vhintn {1}.",numericMax:"Luvun '{0}' tulee olla korkeintaan {1}.",invalidEmail:"Syt validi shkpostiosoite.",invalidExpression:"Lausekkeen: {0} pitisi palauttaa 'true'.",urlRequestError:"Pyynt palautti virheen {0}. {1}",urlGetChoicesError:"Pyynt palautti tyhjn tiedoston tai 'path'-asetus on vr",exceedMaxSize:"Tiedoston koko ei saa olla suurempi kuin {0}.",otherRequiredError:"Tarkenna vastaustasi tekstikenttn.",uploadingFile:"Tiedostoa lhetetn. Odota muutama sekunti ja yrit uudelleen.",loadingFile:"Ladataan...",chooseFile:"Valitse tiedosto(t)...",fileDragAreaPlaceholder:"Pudota tiedosto thn tai lataa tiedosto napsauttamalla alla olevaa painiketta.",noFileChosen:"Ei tiedostoa valittuna",confirmDelete:"Haluatko poistaa osion?",keyDuplicationError:"Tm arvo on jo kytss. Syt toinen arvo.",addColumn:"Lis sarake",addRow:"Lis rivi",removeRow:"Poista",emptyRowsText:"Ei rivej",addPanel:"Lis uusi",removePanel:"Poista",choices_Item:"kohde",matrix_column:"Sarake",matrix_row:"Rivi",savingData:"Tietoja tallennetaan palvelimelle...",savingDataError:"Tapahtui virhe, emmek voineet tallentaa kyselyn tietoja.",savingDataSuccess:"Tiedot tallennettiin onnistuneesti!",saveAgainButton:"Yrit uudelleen",timerMin:"min",timerSec:"sek",timerSpentAll:"Olet kyttnyt {0} tll sivulla ja yhteens {1}.",timerSpentPage:"Olet kyttnyt {0} tll sivulla.",timerSpentSurvey:"Olet kyttnyt yhteens {0}.",timerLimitAll:"Olet kyttnyt tll sivulla {0} / {1} ja yhteens {2} / {3}.",timerLimitPage:"Olet kyttnyt {0} / {1} tll sivulla.",timerLimitSurvey:"Olet kyttnyt yhteens {0} / {1}.",cleanCaption:"Pyyhi",clearCaption:"Tyhjenn",chooseFileCaption:"Valitse tiedosto",removeFileCaption:"Poista tm tiedosto",booleanCheckedLabel:"Kyll",booleanUncheckedLabel:"Ei",confirmRemoveFile:"Haluatko varmasti poistaa tmn tiedoston: {0}?",confirmRemoveAllFiles:"Haluatko varmasti poistaa kaikki tiedostot?",questionTitlePatternText:"Kysymyksen otsikko",modalCancelButtonText:"Peruuta",modalApplyButtonText:"Kyt",ratingOptionsCaption:"Arvioi napauttamalla tt...",filteredTextPlaceholder:"Hae kirjoittamalla...",indexText:"{0} / {1}",minError:"Arvo ei saa olla pienempi kuin {0}",maxError:"Arvo ei saa olla suurempi kuin {0}",multipletext_itemname:"teksti",noEntriesText:`Merkintj ei ole viel.
Lis uusi merkint napsauttamalla alla olevaa painiketta.`,signaturePlaceHolder:"Allekirjoita thn"};d.surveyLocalization.locales.fi=C,d.surveyLocalization.localeNames.fi="suomi"},"./src/localization/french.ts":function(a,r,t){t.r(r),t.d(r,"frenchSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Prcdent",pageNextText:"Suivant",completeText:"Terminer",previewText:"Aperu",editText:"Modifier",startSurveyText:"Commencer",otherItemText:"Autre (prciser)",noneItemText:"Aucun",selectAllItemText:"Tout slectionner",progressText:"Page {0} sur {1}",panelDynamicProgressText:"Enregistrement {0} sur {1}",questionsProgressText:"{0}/{1} question(s) rpondue(s)",emptySurvey:"Il n'y a ni page visible ni question visible dans ce questionnaire",completingSurvey:"Merci d'avoir rpondu au questionnaire !",completingSurveyBefore:"Nos donnes indiquent que vous avez dj rempli ce questionnaire.",loadingSurvey:"Le questionnaire est en cours de chargement...",optionsCaption:"Choisissez...",ratingOptionsCaption:"Appuyez ici pour noter...",value:"valeur",requiredError:"La rponse  cette question est obligatoire.",requiredErrorInPanel:"Merci de rpondre au moins  une question.",requiredInAllRowsError:"Toutes les lignes sont obligatoires",numericError:"La rponse doit tre un nombre.",textMinLength:"Merci de saisir au moins {0} caractres.",textMaxLength:"Merci de saisir moins de {0} caractres.",textMinMaxLength:"Merci de saisir entre {0} et {1} caractres.",minRowCountError:"Merci de complter au moins {0} lignes.",minSelectError:"Merci de slectionner au minimum {0} rponses.",maxSelectError:"Merci de slectionner au maximum {0} rponses.",numericMinMax:"Votre rponse '{0}' doit tre suprieure ou gale  {1} et infrieure ou gale  {2}",numericMin:"Votre rponse '{0}' doit tre suprieure ou gale  {1}",numericMax:"Votre rponse '{0}' doit tre infrieure ou gale  {1}",invalidEmail:"Merci d'entrer une adresse mail valide.",invalidExpression:"L'expression: {0} doit retourner 'true'.",urlRequestError:"La requte a renvoy une erreur '{0}'. {1}",urlGetChoicesError:"La requte a renvoy des donnes vides ou la proprit 'path' est incorrecte",exceedMaxSize:"La taille du fichier ne doit pas excder {0}.",otherRequiredError:"Merci de prciser le champ 'Autre'.",uploadingFile:"Votre fichier est en cours de chargement. Merci d'attendre quelques secondes et de ressayer.",loadingFile:"Chargement...",chooseFile:"Ajouter des fichiers...",fileDragAreaPlaceholder:"Dposez un fichier ici ou cliquez sur le bouton ci-dessous pour charger le fichier.",noFileChosen:"Aucun fichier ajout",confirmDelete:"Voulez-vous supprimer cet enregistrement ?",keyDuplicationError:"Cette valeur doit tre unique.",addColumn:"Ajouter une colonne",addRow:"Ajouter une ligne",removeRow:"Supprimer",addPanel:"Ajouter",removePanel:"Supprimer",choices_Item:"item",matrix_column:"Colonne",matrix_row:"Ligne",savingData:"Les rsultats sont en cours de sauvegarde sur le serveur...",savingDataError:"Une erreur est survenue et a empch la sauvegarde des rsultats.",savingDataSuccess:"Les rsultats ont bien t enregistrs !",saveAgainButton:"Ressayer",timerMin:"min",timerSec:"sec",timerSpentAll:"Vous avez pass {0} sur cette page et {1} au total.",timerSpentPage:"Vous avez pass {0} sur cette page.",timerSpentSurvey:"Vous avez pass {0} au total.",timerLimitAll:"Vous avez pass {0} sur {1} sur cette page et {2} sur {3} au total.",timerLimitPage:"Vous avez pass {0} sur {1} sur cette page.",timerLimitSurvey:"Vous avez pass {0} sur {1} au total.",cleanCaption:"Nettoyer",clearCaption:"Vider",chooseFileCaption:"Ajouter un fichier",removeFileCaption:"Enlever ce fichier",booleanCheckedLabel:"Oui",booleanUncheckedLabel:"Non",confirmRemoveFile:"tes-vous certains de vouloir supprimer ce fichier : {0}?",confirmRemoveAllFiles:"tes-vous certains de vouloir supprimer tous les fichiers?",questionTitlePatternText:"Titre de la question",emptyRowsText:"Il n'y a pas de lignes.",filteredTextPlaceholder:"Tapez pour rechercher...",indexText:"{0} sur {1}",minError:"La valeur ne doit pas tre infrieure  {0}",maxError:"La valeur ne doit pas tre suprieure  {0}",modalApplyButtonText:"Appliquer",modalCancelButtonText:"Annuler",multipletext_itemname:"texte",noEntriesText:`Il n'y a pas encore d'entres.
Cliquez sur le bouton ci-dessous pour ajouter une nouvelle entre.`,signaturePlaceHolder:"Signez ici"};d.surveyLocalization.locales.fr=C,d.surveyLocalization.localeNames.fr="franais"},"./src/localization/georgian.ts":function(a,r,t){t.r(r),t.d(r,"georgianSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"",pageNextText:"",completeText:"",progressText:" {0} / {1}",emptySurvey:"   .",completingSurvey:"  !",loadingSurvey:" ...",otherItemText:" ( )",optionsCaption:"...",requiredError:"  .",numericError:"   .",textMinLength:"   {0} .",minSelectError:"   {0} .",maxSelectError:"   {0} .",numericMinMax:"'{0}'     ,  {1},      {2}",numericMin:"'{0}'       {1}",numericMax:"'{0}'       {1}",invalidEmail:"  .   .",otherRequiredEror:"   ''"};d.surveyLocalization.locales.ka=C,d.surveyLocalization.localeNames.ka=""},"./src/localization/german.ts":function(a,r,t){t.r(r),t.d(r,"germanSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Zurck",pageNextText:"Weiter",completeText:"Abschlieen",previewText:"Vorschau",editText:"Bearbeiten",startSurveyText:"Start",otherItemText:"Sonstiges (Bitte angeben)",noneItemText:"Nichts trifft zu",selectAllItemText:"Alles auswhlen",progressText:"Seite {0} von {1}",panelDynamicProgressText:"Eintrag {0} von {1}",questionsProgressText:"{0}/{1} Fragen beantwortet",emptySurvey:"Es sind keine Fragen vorhanden.",completingSurvey:"Vielen Dank, dass Sie die Umfrage abgeschlossen haben!",completingSurveyBefore:"Wir haben festgestellt, dass Sie diese Umfrage bereits abgeschlossen haben.",loadingSurvey:"Umfrage wird geladen...",optionsCaption:"Bitte auswhlen...",value:"Wert",requiredError:"Bitte beantworten Sie diese Frage.",requiredErrorInPanel:"Bitte beantworten Sie mindestens eine Frage.",requiredInAllRowsError:"Bitte beantworten Sie alle Fragen.",numericError:"Der Wert muss eine Zahl sein.",textMinLength:"Bitte geben Sie mindestens {0} Zeichen ein.",textMaxLength:"Bitte geben Sie nicht mehr als {0} Zeichen ein.",textMinMaxLength:"Bitte geben Sie mindestens {0} und maximal {1} Zeichen ein.",minRowCountError:"Bitte machen Sie in mindestens {0} Zeilen eine Eingabe.",minSelectError:"Bitte whlen Sie mindestens {0} Antwort(en) aus.",maxSelectError:"Bitte whlen Sie nicht mehr als {0} Antwort(en) aus.",numericMinMax:"'{0}' muss grer oder gleich {1} und kleiner oder gleich {2} sein",numericMin:"'{0}' muss grer oder gleich {1} sein",numericMax:"'{0}' muss kleiner oder gleich {1} sein",invalidEmail:"Bitte geben Sie eine gltige E-Mail-Adresse ein.",invalidExpression:"Der Ausdruck: {0} muss den Wert 'wahr' zurckgeben.",urlRequestError:"Ein Netzwerkdienst hat folgenden Fehler zurckgegeben '{0}'. {1}",urlGetChoicesError:"Eine Netzwerkdienst hat ungltige Daten zurckgegeben",exceedMaxSize:"Die Datei darf nicht grer als {0} sein.",otherRequiredError:"Bitte geben Sie einen Wert an.",uploadingFile:"Bitte warten Sie bis der Upload Ihrer Dateien abgeschlossen ist.",loadingFile:"Wird hochgeladen...",chooseFile:"Datei(en) auswhlen...",fileDragAreaPlaceholder:"Legen Sie hier eine Datei ab oder klicken Sie auf die Schaltflche unten, um die Datei zu laden.",noFileChosen:"Keine Datei ausgewhlt",confirmDelete:"Wollen Sie den Eintrag lschen?",keyDuplicationError:"Dieser Wert muss einmalig sein.",addColumn:"Spalte hinzufgen",addRow:"Zeile hinzufgen",removeRow:"Entfernen",addPanel:"Neu hinzufgen",removePanel:"Entfernen",choices_Item:"Element",matrix_column:"Spalte",matrix_row:"Zeile",savingData:"Die Ergebnisse werden auf dem Server gespeichert...",savingDataError:"Es ist ein Fehler aufgetreten. Die Ergebnisse konnten nicht gespeichert werden.",savingDataSuccess:"Die Ergebnisse wurden gespeichert!",saveAgainButton:"Erneut absenden",timerMin:"Min.",timerSec:"Sek.",timerSpentAll:"Sie waren {0} auf dieser Seite und brauchten insgesamt {1}.",timerSpentPage:"Sie waren {0} auf dieser Seite.",timerSpentSurvey:"Sie haben insgesamt {0} gebraucht.",timerLimitAll:"Sie waren {0} von {1} auf dieser Seite und brauchten insgesamt {2} von {3}.",timerLimitPage:"Sie waren {0} von {1} auf dieser Seite.",timerLimitSurvey:"Sie haben insgesamt {0} von {1} gebraucht.",cleanCaption:"Alles lschen",clearCaption:"Auswahl entfernen",chooseFileCaption:"Datei auswhlen",removeFileCaption:"Datei lschen",booleanCheckedLabel:"Ja",booleanUncheckedLabel:"Nein",confirmRemoveFile:"Sind Sie sicher, dass Sie diese Datei lschen mchten: {0}?",confirmRemoveAllFiles:"Sind Sie sicher, dass Sie alle Dateien lschen mchten?",questionTitlePatternText:"Fragentitel",ratingOptionsCaption:"Tippen Sie hier, um zu bewerten...",emptyRowsText:"Es gibt keine Reihen.",filteredTextPlaceholder:"Tippe um zu suchen...",indexText:"{0} von {1}",minError:"Der Wert sollte nicht kleiner als {0} sein",maxError:"Der Wert sollte nicht grer als {0} sein",modalApplyButtonText:"Anwenden",modalCancelButtonText:"Stornieren",multipletext_itemname:"Text",noEntriesText:`Es gibt noch keine Eintrge.
Klicken Sie auf die Schaltflche unten, um einen neuen Eintrag hinzuzufgen.`,signaturePlaceHolder:"Hier unterschreiben"};d.surveyLocalization.locales.de=C,d.surveyLocalization.localeNames.de="deutsch"},"./src/localization/greek.ts":function(a,r,t){t.r(r),t.d(r,"greekSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"",pageNextText:"",completeText:"",previewText:"",editText:"",startSurveyText:"",otherItemText:" ( )",noneItemText:"",selectAllItemText:" ",progressText:" {0}  {1}",panelDynamicProgressText:" {0}  {1}",questionsProgressText:" {0} / {1} ",emptySurvey:"           .",completingSurvey:"      !",completingSurveyBefore:"          .",loadingSurvey:"     ...",optionsCaption:"...",value:"",requiredError:"   .",requiredErrorInPanel:"    .",requiredInAllRowsError:"       .",numericError:"     .",textMinLength:"   {0} .",textMaxLength:"   {0} .",textMinMaxLength:"   {0}    {1} .",minRowCountError:"   {0} .",minSelectError:"   {0} .",maxSelectError:"     {0} .",numericMinMax:" '{0}'          {1}       {2}",numericMin:" '{0}'         {1}",numericMax:" '{0}'         {1}",invalidEmail:"     e-mail.",invalidExpression:" : {0}     'true'.",urlRequestError:"    '{0}'. {1}",urlGetChoicesError:"        '/path'  ",exceedMaxSize:"       {0}.",otherRequiredError:"       ''.",uploadingFile:"   .       .",loadingFile:"...",chooseFile:"  ...",noFileChosen:"   ",confirmDelete:"    ;",keyDuplicationError:"      .",addColumn:" ",addRow:" ",removeRow:"",addPanel:" ",removePanel:"",choices_Item:"",matrix_column:"",matrix_row:"",savingData:"     ...",savingDataError:"         .",savingDataSuccess:"    !",saveAgainButton:" ",timerMin:"",timerSec:"",timerSpentAll:"  {0}      {1} .",timerSpentPage:"  {0}    .",timerSpentSurvey:"   {0}.",timerLimitAll:"  {0}  {1}      {2}  {3} .",timerLimitPage:"  {0}  {1}    .",timerLimitSurvey:"  {0}  {1} .",cleanCaption:"",clearCaption:"",chooseFileCaption:"  ",removeFileCaption:"   ",booleanCheckedLabel:"",booleanUncheckedLabel:"",confirmRemoveFile:"        : {0};",confirmRemoveAllFiles:"        ;",questionTitlePatternText:" "};d.surveyLocalization.locales.gr=C,d.surveyLocalization.localeNames.gr=""},"./src/localization/hebrew.ts":function(a,r,t){t.r(r),t.d(r,"hebrewSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"",pageNextText:"",completeText:"",previewText:" ",editText:"",startSurveyText:"",otherItemText:" ( )",noneItemText:" ",selectAllItemText:" ",progressText:" {1}  {0}",panelDynamicProgressText:" {0}  {1}",questionsProgressText:"  ",emptySurvey:" ",completingSurvey:"   !",completingSurveyBefore:"       .",loadingSurvey:" ...",optionsCaption:"...",value:"",requiredError:"   ",requiredErrorInPanel:"     .",requiredInAllRowsError:"     .",numericError:"   .",textMinLength:"  {0} .",textMaxLength:"  - {0} .",textMinMaxLength:"  - {0}  - {1} .",minRowCountError:"   {0} .",minSelectError:"  {0} .",maxSelectError:"  {0} .",numericMinMax:"'{0}'       {1},  - {2}   - {}}",numericMin:"'{0}'       {1}",numericMax:"'{0}'       {1}",invalidEmail:'  " .',invalidExpression:": {0}   ''.",urlRequestError:"    '{0}'. {1}",urlGetChoicesError:"      '' ",exceedMaxSize:"     {0}.",otherRequiredError:'    ""',uploadingFile:"  .     .",loadingFile:"...",chooseFile:" ...",noFileChosen:"  ",confirmDelete:"     ?",keyDuplicationError:"    .",addColumn:" ",addRow:" ",removeRow:"",addPanel:" ",removePanel:"",choices_Item:"",matrix_column:"",matrix_row:"",savingData:"   ...",savingDataError:"      .",savingDataSuccess:"  !",saveAgainButton:" ",timerMin:"",timerSec:"",timerSpentAll:" {0}     {1}.",timerSpentPage:" {0}  .",timerSpentSurvey:"    {0}.",timerLimitAll:" {0}  {1}   - {2}  {3}  .",timerLimitPage:" {0}  {1}  .",timerLimitSurvey:"    {0}  {1}.",cleanCaption:"",clearCaption:"",chooseFileCaption:" ",removeFileCaption:"  ",booleanCheckedLabel:"",booleanUncheckedLabel:"",confirmRemoveFile:"      : {0}?",confirmRemoveAllFiles:"       ?",questionTitlePatternText:" "};d.surveyLocalization.locales.he=C,d.surveyLocalization.localeNames.he=""},"./src/localization/hindi.ts":function(a,r,t){t.r(r),t.d(r,"hindiStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"",pageNextText:"",completeText:"",previewText:"",editText:"",startSurveyText:"",otherItemText:" ( )",noneItemTex:" ",selectAllItemText:"   ",progressText:" 1   0",panelDynamicProgressText:"  {1}  {0}",questionsProgressText:"{1}    {0}   ",emptySurvey:"        ",completingSurvey:"      ",completingSurveyBefore:"               ",loadingSurvey:"   .",optionsCaption:"",value:"",requiredError:"    ",requiredErrorInPanel:"        ",requiredInAllRowsError:"       ",numericError:"   ",textMinLength:"    {0}   ",textMaxLength:" {0}     ",textMinMaxLength:" {0}    {1}      ",minRowCountError:"    {0}   ",minSelectError:"    {0}    ",maxSelectError:" {0}     ",numericMinMax:"'{0}' {1}      {2}      ",numericMin:"'{0}' {1}      ",numericMax:"'{0}' {1}      ",invalidEmail:"      ",invalidExpression:": {0}  '  '  ",urlRequestError:"   '{0}' . {1}",urlGetChoicesError:"        ",exceedMaxSize:"   {0}         ''   ",otherRequiredError:"    ",uploadingFile:"               ",loadingFile:"",chooseFile:" ",noFileChosen:"    ",confirmDelete:"     ",keyDuplicationError:"    ",addColumn:" ",addRow:" ",removeRow:"",addPanel:" ",removePanel:"",choices_Item:"",matrix_column:"",matrix_row:"",savingData:"      ",savingDataError:"          ",savingDataSuccess:"    ",saveAgainButton:"  ",timerMin:"",timerSec:"",timerSpentAll:"    {0}      {1}",timerSpentPage:"    {0}   ",timerSpentSurvey:"  {0}   ",timerLimitAll:"    {1}  {0}   {3}  {2}   ",timerLimitPage:"    {1}  {0}   ",timerLimitSurvey:"  {1}  {0}   ",cleanCaption:"",clearCaption:"",chooseFileCaption:" ",removeFileCaption:"   ",booleanCheckedLabel:"",booleanUncheckedLabel:"",confirmRemoveFile:"           : {0}",confirmRemoveAllFiles:"           ",questionTitlePatternText:"  "};d.surveyLocalization.locales.hi=C,d.surveyLocalization.localeNames.hi="hindi"},"./src/localization/hungarian.ts":function(a,r,t){t.r(r),t.d(r,"hungarianSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Vissza",pageNextText:"Tovbb",completeText:"Ksz",previewText:"Elnzet",editText:"Szerkeszts",startSurveyText:"Rajt",otherItemText:"Egyb (adja meg)",noneItemText:"Egyik sem",selectAllItemText:"Mindet kivlaszt",progressText:"{0}./{1} oldal",panelDynamicProgressText:"{0} / {1} rekord",questionsProgressText:"Vlaszolt krdsek: {0} / {1}",emptySurvey:"There is no visible page or question in the survey.",completingSurvey:"Ksznjk, hogy kitlttte felmrsnket!",completingSurveyBefore:"Mr kitlttte a felmrst.",loadingSurvey:"Felmrs betltse...",optionsCaption:"Vlasszon...",value:"rtk",requiredError:"Krjk, vlaszolja meg ezt a krdst!",requiredErrorInPanel:"Krjk, vlaszoljon legalbb egy krdsre.",requiredInAllRowsError:"Krjk adjon vlaszt minden sorban!",numericError:"Az rtk szm kell, hogy legyen!",textMinLength:"Adjon meg legalbb {0} karaktert!",textMaxLength:"Legfeljebb {0} karaktert adjon meg!",textMinMaxLength:"Adjon meg legalbb {0}, de legfeljebb {1} karaktert!",minRowCountError:"Tltsn ki minimum {0} sort!",minSelectError:"Vlasszon ki legalbb {0} lehetsget!",maxSelectError:"Ne vlasszon tbbet, mint {0} lehetsg!",numericMinMax:"'{0}' legyen nagyobb, vagy egyenl, mint {1} s kisebb, vagy egyenl, mint {2}!",numericMin:"'{0}' legyen legalbb {1}!",numericMax:"The '{0}' ne legyen nagyobb, mint {1}!",invalidEmail:"Adjon meg egy vals email cmet!",invalidExpression:"A kvetkez kifejezs: {0} vissza kell adnia az igaz rtket.",urlRequestError:"A lekrdezs hibval trt vissza: '{0}'. {1}",urlGetChoicesError:"A lekrdezs res adattal trt vissza, vagy a 'path' paramter helytelen.",exceedMaxSize:"A mret nem lehet nagyobb, mint {0}.",otherRequiredError:"Adja meg az egyb rtket!",uploadingFile:"Feltlts folyamatban. Vrjon pr msodpercet, majd prblja jra.",loadingFile:"Betlts...",chooseFile:"Fjlok kivlasztsa ...",fileDragAreaPlaceholder:"Dobjon ide egy fjlt, vagy kattintson az albbi gombra a fjl betltshez.",noFileChosen:"Nincs kivlasztva fjl",confirmDelete:"Trli ezt a rekordot?",keyDuplicationError:"Az rtknek egyedinek kell lennie.",addColumn:"Oszlop hozzadsa",addRow:"Sor hozzadsa",removeRow:"Eltvolts",addPanel:"j hozzadsa",removePanel:"Eltvolts",choices_Item:"elem",matrix_column:"Oszlop",matrix_row:"Sor",savingData:"Eredmny mentse a szerverre...",savingDataError:"Egy hiba folytn nem tudtuk elmenteni az eredmnyt.",savingDataSuccess:"Eredmny sikeresen mentve!",saveAgainButton:"Prblja jra",timerMin:"min",timerSec:"sec",timerSpentAll:"n {0} sszeget klttt ezen az oldalon, s sszesen {1}.",timerSpentPage:"{0} sszeget klttt ezen az oldalon.",timerSpentSurvey:"sszesen {0} klttt.",timerLimitAll:"n {0} / {1} sszeget klttt ezen az oldalon, s sszesen {2} / {3}.",timerLimitPage:"n {0} / {1} sszeget klttt ezen az oldalon.",timerLimitSurvey:"sszesen {0} / {1} sszeget klttt el.",cleanCaption:"Tiszta",clearCaption:"Egyrtelm",chooseFileCaption:"Vlassz fjlt",removeFileCaption:"Tvoltsa el ezt a fjlt",booleanCheckedLabel:"Igen",booleanUncheckedLabel:"Nem",confirmRemoveFile:"Biztosan eltvoltja ezt a fjlt: {0}?",confirmRemoveAllFiles:"Biztosan el akarja tvoltani az sszes fjlt?",questionTitlePatternText:"Krds cme"};d.surveyLocalization.locales.hu=C,d.surveyLocalization.localeNames.hu="magyar"},"./src/localization/icelandic.ts":function(a,r,t){t.r(r),t.d(r,"icelandicSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Tilbaka",pageNextText:"fram",completeText:"Loki",previewText:"Forskoa",editText:"Breyta",startSurveyText:"Byrjau",otherItemText:"Hinn (skring)",noneItemText:"Enginn",selectAllItemText:"Velja allt",progressText:"Sa {0} of {1}",panelDynamicProgressText:"Taka upp {0} af {1}",questionsProgressText:"Svara {0} / {1} spurningum",emptySurvey:"a er enginn sa ea spurningar  essari knnun.",completingSurvey:"Takk fyrir a fyllja t essa knnun!",completingSurveyBefore:"Skrr okkar sna a  hefur egar loki essari knnun.",loadingSurvey:"Knnunin er a hlaa...",optionsCaption:"Veldu...",value:"gildi",requiredError:"Vinsamlegast svari spurningunni.",requiredErrorInPanel:"Vinsamlegast svarau a minnsta kosti einni spurningu.",requiredInAllRowsError:"Vinsamlegast svari spurningum  llum rum.",numericError:"etta gildi verur a vera tala.",textMinLength:"a tti a vera minnst {0} tkn.",textMaxLength:"a tti a vera mest {0} tkn.",textMinMaxLength:"a tti a vera fleiri en {0} og frri en {1} tkn.",minRowCountError:"Vinsamlegast fylli r a minnsta kosti {0} rair.",minSelectError:"Vinsamlegast velji a minnsta kosti {0} mguleika.",maxSelectError:"Vinsamlegast velji ekki fleiri en {0} mguleika.",numericMinMax:"'{0}' tti a vera meira en ea jafnt og {1} minna en ea jafnt og {2}",numericMin:"{0}' tti a vera meira en ea jafnt og {1}",numericMax:"'{0}' tti a vera minna en ea jafnt og {1}",invalidEmail:"Vinsamlegast sli inn gilt netfang.",invalidExpression:"Tjningin: {0} tti a skila 'satt'.",urlRequestError:"Beininn skilai eftirfaranadi villu '{0}'. {1}",urlGetChoicesError:"Beininng skilai engum ggnum ea slinn var rng",exceedMaxSize:"Skrinn skal ekki vera strri en {0}.",otherRequiredError:"Vinamlegast fylli t hitt gildi.",uploadingFile:"Skrinn n var send. Vinsamlegast bi  nokkrar sekndur og reyni aftur.",loadingFile:"Hleur ...",chooseFile:"Veldu skrr ...",noFileChosen:"Engin skr valin",confirmDelete:"Viltu eya skrnni?",keyDuplicationError:"etta gildi tti a vera einstakt.",addColumn:"Bta vi dlki",addRow:"Bta vi r",removeRow:"Fjarlgja",addPanel:"Bta vi nju",removePanel:"Fjarlgu",choices_Item:"hlutur",matrix_column:"Dlkur",matrix_row:"R",savingData:"Niursturnar eru a spara  netjninum ... ",savingDataError:"Villa kom upp og vi gtum ekki vista niursturnar.",savingDataSuccess:"rangurinn var vistaur me gum rangri!",saveAgainButton:"Reyndu aftur",timerMin:"mn",timerSec:"sek",timerSpentAll:" hefur eytt {0}  essari su og {1} samtals.",timerSpentPage:" hefur eytt {0}  essari su.",timerSpentSurvey:" hefur eytt {0} samtals.",timerLimitAll:" hefur eytt {0} af {1}  essari su og {2} af {3} samtals.",timerLimitPage:" hefur eytt {0} af {1}  essari su.",timerLimitSurvey:" hefur eytt {0} af {1} samtals.",cleanCaption:"Hreint",clearCaption:"Hreinsa",chooseFileCaption:"Veldu skr",removeFileCaption:"Fjarlgu essa skr",booleanCheckedLabel:"J",booleanUncheckedLabel:"Nei",confirmRemoveFile:"Ertu viss um a  viljir fjarlgja essa skr: {0}?",confirmRemoveAllFiles:"Ertu viss um a  viljir fjarlgja allar skrr?",questionTitlePatternText:"Spurningartitill"};d.surveyLocalization.locales.is=C,d.surveyLocalization.localeNames.is="slenska"},"./src/localization/indonesian.ts":function(a,r,t){t.r(r),t.d(r,"indonesianStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Sebelumnya",pageNextText:"Selanjutnya",completeText:"Selesai",previewText:"Pratinjau",editText:"Sunting",startSurveyText:"Mulai",otherItemText:"Lainnya (jelaskan)",noneItemText:"Tidak Ada",selectAllItemText:"Pilih Semua",progressText:"Halaman {0} dari {1}",panelDynamicProgressText:"Rekam {0} dari {1}",questionsProgressText:"Menjawab pertanyaan {0} / {1}",emptySurvey:"Tidak ada halaman atau pertanyaan dalam survei.",completingSurvey:"Terima kasih telah menyelesaikan survei!",completingSurveyBefore:"Catatan kami menunjukkan bahwa Anda telah menyelesaikan survei ini.",loadingSurvey:"Memuat survei...",optionsCaption:"Pilih...",value:"nilai",requiredError:"Silahkan jawab pertanyaan berikut.",requiredErrorInPanel:"Silahkan jawab setidaknya satu petanyaan.",requiredInAllRowsError:"Silahkan jawab pertanyaan pada semua baris.",numericError:"Nilai harus berupa angka.",textMinLength:"Silahkan masukkan setidaknya {0} karakter.",textMaxLength:"Silahkan masukkan kurang {0} karakter.",textMinMaxLength:"PSilahkan masukkan lebih dari {0} dan kurang dari {1} karakter.",minRowCountError:"Silahkan isi setidaknya {0} baris.",minSelectError:"Silahkan pilih setidaknya {0} varian.",maxSelectError:"Silahkan pilih tidak lebih dari {0} varian.",numericMinMax:"'{0}' harus sama dengan atau lebih dari {1} dan harus sama dengan atau kurang dari {2}",numericMin:"'{0}' harus sama dengan atau lebih dari {1}",numericMax:"'{0}' harus sama dengan atau kurang dari {1}",invalidEmail:"Silahkan masukkan e-mail yang benar.",invalidExpression:"Ekspresi: {0} harus mengembalikan 'benar'.",urlRequestError:"Permintaan mengembalikan kesalahan '{0}'. {1}",urlGetChoicesError:"Permintaan mengembalikan data kosong atau properti 'path' salah.",exceedMaxSize:"Ukuran berkas tidak boleh melebihi {0}.",otherRequiredError:"Silahkan masukkan nilai lainnnya.",uploadingFile:"Berkas Anda sedang diunggah. Silahkan tunggu beberapa saat atau coba lagi.",loadingFile:"Memuat...",chooseFile:"Pilih berkas...",noFileChosen:"Tidak ada file yang dipilih",confirmDelete:"Apakah Anda ingin menghapus catatan?",keyDuplicationError:"Nilai harus unik.",addColumn:"Tambah kolom",addRow:"Tambah baris",removeRow:"Hapus",addPanel:"Tambah baru",removePanel:"Hapus",choices_Item:"item",matrix_column:"Kolom",matrix_row:"Baris",savingData:"Hasil sedang disimpan pada server...",savingDataError:"Kesalahan terjadi dan kami tidak dapat menyimpan hasil.",savingDataSuccess:"Hasil telah sukses disimpan!",saveAgainButton:"Coba lagi",timerMin:"menit",timerSec:"detik",timerSpentAll:"Anda telah menghabiskan {0} pada halaman ini dan {1} secara keseluruhan.",timerSpentPage:"YAnda telah menghabiskan {0} pada halaman ini.",timerSpentSurvey:"Anda telah menghabiskan {0} secara keseluruhan.",timerLimitAll:"Anda telah menghabiskan {0} dari {1} pada halaman ini dan {2} dari {3} secara keseluruhan.",timerLimitPage:"Anda telah menghabiskan {0} dari {1} pada halaman ini.",timerLimitSurvey:"Anda telah menghabiskan {0} dari {1} secara keseluruhan.",cleanCaption:"Bersihkan",clearCaption:"Bersihkan",chooseFileCaption:"Pilih File",removeFileCaption:"Hapus berkas ini",booleanCheckedLabel:"Iya",booleanUncheckedLabel:"Tidak",confirmRemoveFile:"Anda yakin ingin menghapus file ini: {0}?",confirmRemoveAllFiles:"Anda yakin ingin menghapus semua file?",questionTitlePatternText:"Judul pertanyaan"};d.surveyLocalization.locales.id=C,d.surveyLocalization.localeNames.id="bahasa Indonesia"},"./src/localization/italian.ts":function(a,r,t){t.r(r),t.d(r,"italianSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Precedente",pageNextText:"Successivo",completeText:"Salva",previewText:"Anteprima",editText:"Modifica",startSurveyText:"Inizio",otherItemText:"Altro (descrivi)",noneItemText:"Nessuno",selectAllItemText:"Seleziona tutti",progressText:"Pagina {0} di {1}",panelDynamicProgressText:"Record di {0} di {1}",questionsProgressText:"Risposte a {0}/{1} domande",emptySurvey:"Non ci sono pagine o domande visibili nel questionario.",completingSurvey:"Grazie per aver completato il questionario!",completingSurveyBefore:"I nostri records mostrano che hai gi completato questo questionario.",loadingSurvey:"Caricamento del questionario in corso...",optionsCaption:"Scegli...",value:"valore",requiredError:"Campo obbligatorio",requiredErrorInPanel:"Per Favore, rispondi ad almeno una domanda.",requiredInAllRowsError:"Completare tutte le righe",numericError:"Il valore deve essere numerico",textMinLength:"Inserire almeno {0} caratteri",textMaxLength:"Lunghezza massima consentita {0} caratteri",textMinMaxLength:"Inserire una stringa con minimo {0} e massimo {1} caratteri",minRowCountError:"Completare almeno {0} righe.",minSelectError:"Selezionare almeno {0} varianti.",maxSelectError:"Selezionare massimo {0} varianti.",numericMinMax:"'{0}' deve essere uguale o superiore a {1} e uguale o inferiore a {2}",numericMin:"'{0}' deve essere uguale o superiore a {1}",numericMax:"'{0}' deve essere uguale o inferiore a {1}",invalidEmail:"Inserire indirizzo mail valido",invalidExpression:"L'espressione: {0} dovrebbe tornare 'vero'.",urlRequestError:"La richiesta ha risposto con un errore '{0}'. {1}",urlGetChoicesError:"La richiesta ha risposto null oppure il percorso non  corretto",exceedMaxSize:"Il file non pu eccedere {0}",otherRequiredError:"Inserire il valore 'altro'",uploadingFile:"File in caricamento. Attendi alcuni secondi e riprova",loadingFile:"Caricamento...",chooseFile:"Selezionare file(s)...",fileDragAreaPlaceholder:"Trascina un file qui o fai clic sul pulsante in basso per caricare il file.",noFileChosen:"Nessun file selezionato",confirmDelete:"Sei sicuro di voler elminare il record?",keyDuplicationError:"Questo valore deve essere univoco.",addColumn:"Aggiungi colonna",addRow:"Aggiungi riga",removeRow:"Rimuovi riga",addPanel:"Aggiungi riga",removePanel:"Elimina",choices_Item:"Elemento",matrix_column:"Colonna",matrix_row:"Riga",savingData:"Salvataggio dati sul server...",savingDataError:"Si  verificato un errore e non  stato possibile salvare i risultati.",savingDataSuccess:"I risultati sono stati salvati con successo!",saveAgainButton:"Riprova",timerMin:"min",timerSec:"sec",timerSpentAll:"Hai impiegato {0} su questa pagina e {1} in totale.",timerSpentPage:"Hai impiegato {0} su questa pagina.",timerSpentSurvey:"Hai impiegato {0} in totale.",timerLimitAll:"Hai impiegato {0} di {1} su questa pagina e {2} di {3} in totale.",timerLimitPage:"Hai impiegato {0} di {1} su questa pagina.",timerLimitSurvey:"Hai impiegato {0} di {1} in totale.",cleanCaption:"Pulisci",clearCaption:"Cancella",chooseFileCaption:"Scegliere il file",removeFileCaption:"Rimuovere questo file",booleanCheckedLabel:"S",booleanUncheckedLabel:"No",confirmRemoveFile:"Sei sicuro di voler elminare questo file: {0}?",confirmRemoveAllFiles:"Sei sicuro di voler elminare tutti i files?",questionTitlePatternText:"Titolo della domanda",ratingOptionsCaption:"Tocca qui per valutare...",emptyRowsText:"Non ci sono righe.",filteredTextPlaceholder:"Digita per cercare...",indexText:"{0} da {1}",minError:"Il valore non deve essere inferiore a {0}",maxError:"Il valore non deve essere maggiore di {0}",modalApplyButtonText:"Applicare",modalCancelButtonText:"Annulla",multipletext_itemname:"testo",noEntriesText:`Non ci sono ancora voci.
Fai clic sul pulsante qui sotto per aggiungere una nuova voce.`,signaturePlaceHolder:"Firmare qui"};d.surveyLocalization.locales.it=C,d.surveyLocalization.localeNames.it="italiano"},"./src/localization/japanese.ts":function(a,r,t){t.r(r),t.d(r,"japaneseSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"",pageNextText:"",completeText:"",previewText:"",editText:"",startSurveyText:"",otherItemText:"",noneItemText:"",selectAllItemText:"",progressText:"{0}/{1}",panelDynamicProgressText:"{1}{0}",questionsProgressText:"{0}/{1}",emptySurvey:"",completingSurvey:"",completingSurveyBefore:"",loadingSurvey:"",optionsCaption:"",value:"",requiredError:"",requiredErrorInPanel:"1",requiredInAllRowsError:"",numericError:"",textMinLength:"{0} ",textMaxLength:"{0}",textMinMaxLength:"{0}{1}",minRowCountError:"{0}",minSelectError:"{0}",maxSelectError:"{0}",numericMinMax:"{0}{1}{2}",numericMin:"'{0}' {1}",numericMax:"'{0}' {1}",invalidEmail:"",invalidExpression:" {0}'true'",urlRequestError:" '{0}' {1}",urlGetChoicesError:"'path' ",exceedMaxSize:"{0}",otherRequiredError:"",uploadingFile:"",loadingFile:"",chooseFile:"",noFileChosen:"",confirmDelete:"",keyDuplicationError:"",addColumn:"",addRow:"",removeRow:"",addPanel:"",removePanel:"",choices_Item:"",matrix_column:"",matrix_row:"",savingData:"...",savingDataError:"",savingDataSuccess:"",saveAgainButton:"",timerMin:"",timerSec:"",timerSpentAll:"{0}{1}",timerSpentPage:"{0}",timerSpentSurvey:"{0}",timerLimitAll:"{1}{0}{3}{2}",timerLimitPage:"{1}{0}",timerLimitSurvey:"{1}{0}",cleanCaption:"",clearCaption:"",chooseFileCaption:"",removeFileCaption:"",booleanCheckedLabel:"",booleanUncheckedLabel:"",confirmRemoveFile:"{0}?",confirmRemoveAllFiles:"",questionTitlePatternText:""};d.surveyLocalization.locales.ja=C,d.surveyLocalization.localeNames.ja=""},"./src/localization/kazakh.ts":function(a,r,t){t.r(r),t.d(r,"kazakhStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"",pageNextText:"",completeText:"",previewText:"  ",editText:"",startSurveyText:"",otherItemText:" (, )",noneItemText:"",selectAllItemText:" ",progressText:"{0}  {1}  ",panelDynamicProgressText:"{0}  {1} ",questionsProgressText:"{0}/{1}  ",emptySurvey:"    .",completingSurvey:"   !",completingSurveyBefore:"    .",loadingSurvey:" ...",optionsCaption:"...",value:"",requiredError:",   .",requiredErrorInPanel:",      .",requiredInAllRowsError:",     .",numericError:"    .",textMinLength:", {0}    .",textMaxLength:", {0}    .",textMinMaxLength:", {0}   {1}   .",minRowCountError:", {0}     .",minSelectError:",   {0}  .",maxSelectError:", {0}   .",numericMinMax:"'{0}' {1}     {2}     ",numericMin:"'{0}' {1}     ",numericMax:"'{0}' {1}     ",invalidEmail:",    .",invalidExpression:"{0}   'true'  .",urlRequestError:"  '{0}'. {1}",urlGetChoicesError:"     'path'    ",exceedMaxSize:"  {0}  .",otherRequiredError:",    ",uploadingFile:"   .   ,   .",loadingFile:"...",chooseFile:" ...",noFileChosen:" ",confirmDelete:"    ?",keyDuplicationError:"    .",addColumn:" ",addRow:" ",removeRow:"",addPanel:" ",removePanel:"",choices_Item:"",matrix_column:"",matrix_row:"",savingData:"  ...",savingDataError:" ,  .",savingDataSuccess:"  !",saveAgainButton:"  ",timerMin:"",timerSec:"",timerSpentAll:"   {0}    {1}.",timerSpentPage:"   {0} .",timerSpentSurvey:"   {0} .",timerLimitAll:"   {0}  {1}   {2}  {3}   .",timerLimitPage:"   {0}  {1} .",timerLimitSurvey:"    {0}  {1}  ",cleanCaption:"",clearCaption:"",chooseFileCaption:" ",removeFileCaption:" ",booleanCheckedLabel:"",booleanUncheckedLabel:"",confirmRemoveFile:"     : {0}?",confirmRemoveAllFiles:"     ?",questionTitlePatternText:" "};d.surveyLocalization.locales.kk=C,d.surveyLocalization.localeNames.kk="Kazakh"},"./src/localization/korean.ts":function(a,r,t){t.r(r),t.d(r,"koreanStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"",pageNextText:"",completeText:"",previewText:"",editText:"",startSurveyText:"",otherItemText:"()",noneItemText:"",selectAllItemText:" ",progressText:" {1}  {0}",panelDynamicProgressText:"{0} / {1} ",questionsProgressText:"{0} / {1}    ",emptySurvey:"    ",completingSurvey:"    !",completingSurveyBefore:"     .",loadingSurvey:" ...",optionsCaption:"...",value:"",requiredError:" .",requiredErrorInPanel:"   .",requiredInAllRowsError:"    .",numericError:"  .",textMinLength:"   {0} .",textMaxLength:"  {0}    .",textMinMaxLength:"  {0} - {1}  .",minRowCountError:" {0}  ",minSelectError:" {0}  .",maxSelectError:" {0}  .",numericMinMax:"'{0}' {1}   {2}  .",numericMin:"'{0}' {1}  .",numericMax:"'{0}' {1}  .",invalidEmail:"   .",invalidExpression:": {0} '' .",urlRequestError:"'{0}'  . {1}",urlGetChoicesError:"     .",exceedMaxSize:"  {0}    .",otherRequiredError:"  .",uploadingFile:"  .    .",loadingFile:" ...",chooseFile:" ...",noFileChosen:"  ",confirmDelete:" ?",keyDuplicationError:"   .",addColumn:" ",addRow:" ",removeRow:"",addPanel:" ",removePanel:"",choices_Item:"",matrix_column:"",matrix_row:"",savingData:"   ...",savingDataError:"     .",savingDataSuccess:"  !",saveAgainButton:" ",timerMin:"",timerSec:"",timerSpentAll:"  {0}   {1} .",timerSpentPage:"  {0] ",timerSpentSurvey:" {0} .",timerLimitAll:"  {0}/{1}   {2}/{3} .",timerLimitPage:"  {0}/{1} .",timerLimitSurvey:" {0}/{1} .",cleanCaption:"",clearCaption:"",chooseFileCaption:" ",removeFileCaption:"  ",booleanCheckedLabel:"",booleanUncheckedLabel:"",confirmRemoveFile:"{0}   ?",confirmRemoveAllFiles:"   ?",questionTitlePatternText:" "};d.surveyLocalization.locales.ko=C,d.surveyLocalization.localeNames.ko=""},"./src/localization/latvian.ts":function(a,r,t){t.r(r),t.d(r,"latvianSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Atpaka",pageNextText:"Tlk",completeText:"Pabeigt",previewText:"Priekskatjums",editText:"Redit",startSurveyText:"Skt",otherItemText:"Cits (ldzu, aprakstiet!)",noneItemText:"Nav",selectAllItemText:"Izvlties visus",progressText:"{0}. lapa no {1}",panelDynamicProgressText:"Ierakstt {0} no {1}",questionsProgressText:"Atbildts uz {0} / {1} jautjumiem",emptySurvey:"Nav neviena jautjuma.",completingSurvey:"Pateicamies Jums par anketas aizpildanu!",completingSurveyBefore:"Msu ieraksti liecina, ka Js jau esat aizpildjis o aptauju.",loadingSurvey:"Ielde no servera...",optionsCaption:"Izvlties...",value:"value",requiredError:"Ldzu, atbildiet uz jautjumu!",requiredErrorInPanel:"Ldzu, atbildiet uz vismaz vienu jautjumu.",requiredInAllRowsError:"Ldzu, atbildiet uz jautjumiem viss rinds.",numericError:"Atbildei ir jbt skaitlim.",textMinLength:"Ldzu, ievadiet vismaz {0} simbolus.",textMaxLength:"Ldzu, ievadiet mazk nek {0} rakstzmes.",textMinMaxLength:"Ldzu, ievadiet vairk nek {0} rakstzmes un mazk nek {1} rakstzmes.",minRowCountError:"Ldzu, aizpildiet vismaz {0} rindas.",minSelectError:"Ldzu, izvlieties vismaz {0} variantu.",maxSelectError:"Ldzu, izvlieties ne vairak par {0} variantiem.",numericMinMax:"'{0}' jbt viendam vai lielkam nek {1}, un viendam vai mazkam, nek {2}",numericMin:"'{0}' jbt viendam vai lielkam {1}",numericMax:"'{0}' jbt viendam vai lielkam {1}",invalidEmail:"Ldzu, ievadiet pareizu e-pasta adresi!",invalidExpression:"Izteicienam: {0} jatgrie true.",urlRequestError:"Pieprasjum tika atgriezta kda {0}. {1}",urlGetChoicesError:"Pieprasjums atgrieza tukus datus vai rekvizts path ir nepareizs",exceedMaxSize:"Faila lielums nedrkst prsniegt {0}.",otherRequiredError:"Ldzu, ievadiet datus lauk 'Cits'",uploadingFile:"Jsu fails tiek augupieldts. Ldzu, uzgaidiet daas sekundes un miniet vlreiz.",loadingFile:"Notiek ielde ...",chooseFile:"Izvlieties failus ...",fileDragAreaPlaceholder:"Lai pievienotu, ievelciet failu eit vai ar klikiniet uz zemk redzams pogas",noFileChosen:"Nav izvlts neviens fails",confirmDelete:"Vai vlaties izdzst ierakstu?",keyDuplicationError:"ai vrtbai jbt uniklai.",addColumn:"Pievienot kolonnu",addRow:"Pievienot rindu",removeRow:"Noemt",addPanel:"Pievieno jaunu",removePanel:"Noemt",choices_Item:"vienums",matrix_column:"Sleja",matrix_row:"Rinda",savingData:"Rezultti tiek saglabti server ...",savingDataError:"Rads kda, un ms nevarjm saglabt rezulttus.",savingDataSuccess:"Rezultti tika veiksmgi saglabti!",saveAgainButton:"Miniet vlreiz",timerMin:"min",timerSec:"sek",timerSpentAll:"aj lap esat iztrjis {0} un kop {1}.",timerSpentPage:"aj lap esat iztrjis {0}.",timerSpentSurvey:"Kop esat iztrjis {0}.",timerLimitAll:"aj lap esat iztrjis {0} no {1} un kop {2} no {3}.",timerLimitPage:"aj lap esat iztrjis {0} no {1}.",timerLimitSurvey:"Kop esat iztrjis {0} no {1}.",cleanCaption:"Notrt",clearCaption:"Iztrt",chooseFileCaption:"Izvlties failu",removeFileCaption:"Noemiet o failu",booleanCheckedLabel:"J",booleanUncheckedLabel:"N",confirmRemoveFile:"Vai tiem vlaties noemt o failu: {0}?",confirmRemoveAllFiles:"Vai tiem vlaties noemt visus failus?",questionTitlePatternText:"Jautjuma nosaukums",ratingOptionsCaption:"Nospiediet eit, lai novrttu...",emptyRowsText:"Nav rindu.",filteredTextPlaceholder:"Ierakstiet, lai mekltu...",indexText:"{0} no {1}",minError:"Vrtba nedrkst bt mazka par {0}",maxError:"Vrtba nedrkst bt lielka par {0}",modalApplyButtonText:"Pielietot",modalCancelButtonText:"Atcelt",multipletext_itemname:"teksts",noEntriesText:`Vl nav neviena ieraksta.
Noklikiniet uz zemk esos pogas, lai pievienotu jaunu ierakstu.`,signaturePlaceHolder:"Parakstieties eit"};d.surveyLocalization.locales.lv=C,d.surveyLocalization.localeNames.lv="latvieu"},"./src/localization/lithuanian.ts":function(a,r,t){t.r(r),t.d(r,"lithuaniaSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Atgal",pageNextText:"Toliau",completeText:"Baigti",previewText:"Perira",editText:"Redaguoti",startSurveyText:"Pradti",otherItemText:"Kita (vesti)",noneItemText:"Nra",selectAllItemText:"Pasirinkti visus",progressText:"Puslapis {0} i {1}",panelDynamicProgressText:"rayti {0} i {1}",questionsProgressText:"Atsak  {0} / {1} klausimus",emptySurvey:"Apklausoje nra matomo puslapio ar klausimo.",completingSurvey:"Dkojame u dalyvavim apklausoje!",completingSurveyBefore:"Ms raai rodo, kad jau atlikote i apklaus.",loadingSurvey:"Praome palaukti...",optionsCaption:"Pasirinkti...",value:"reikm",requiredError:"Btina atsakyti   klausim.",requiredErrorInPanel:"Btina atsakyti bent  vien klausim.",requiredInAllRowsError:"Praome atsakyti  klausimus visose eilutse.",numericError:"Turi bti skaiiai.",textMinLength:"Praome suvesti bent {0} simbolius.",textMaxLength:"Praome suvesti maiau nei {0} simboli.",textMinMaxLength:"Praome suvesti daugiau nei {0} ir maiau nei {1} simboli.",minRowCountError:"Praome suvesti ne maiau nei {0} eilui.",minSelectError:"Praome pasirinkti bent {0} variant.",maxSelectError:"Pasirinkite ne daugiau kaip {0} variantus.",numericMinMax:"'{0}' turi bti lygus arba didesnis nei {1} ir lygus arba maesnis nei {2}",numericMin:"'{0}' turt bti lygus arba didesnis nei {1}",numericMax:"'{0}' turt bti lygus ar maesnis u {1}",invalidEmail:"Praome vesti galiojant elektroninio pato adres.",invalidExpression:"Reikm: {0} turi grinti 'true'.",urlRequestError:"Uklausa grino klaid'{0}'. {1}",urlGetChoicesError:"Uklausa grino tuius duomenis arba 'path' savyb yra neteisinga",exceedMaxSize:"Failo dydis neturi viryti {0}.",otherRequiredError:"veskite kit reikm.",uploadingFile:"Js failas yra keliamas. Palaukite kelet sekundi ir bandykite dar kart.",loadingFile:"Praome palaukti...",chooseFile:"Pasirinkti fail(us)...",noFileChosen:"Nepasirinktas joks failas",confirmDelete:"Ar norite itrinti ra?",keyDuplicationError:"i reikm turt bti unikali.",addColumn:"Pridti stulpel",addRow:"Pridti eilut",removeRow:"Itrinti",addPanel:"Pridti nauj",removePanel:"Itrinti",choices_Item:"elementas",matrix_column:"Stulpelis",matrix_row:"Eilut",savingData:"Rezultatai saugomi serveryje...",savingDataError:"vyko klaida ir mes negaljome isaugoti rezultat.",savingDataSuccess:"Rezultatai buvo isaugoti skmingai!",saveAgainButton:"Bandyti dar kart",timerMin:"min",timerSec:"sek",timerSpentAll:"Praleidote {0} iame puslapyje ir {1} i viso.",timerSpentPage:"Praleidote {0} iame puslapyje.",timerSpentSurvey:"Praleidote {0} i viso.",timerLimitAll:"Praleidote {0} i {1} iame puslapyje ir {2} i {3} i viso.",timerLimitPage:"Praleidote {0} i {1} iame puslapyje.",timerLimitSurvey:"Praleidote {0} i {1} i viso.",cleanCaption:"Ivalyti",clearCaption:"Valyti",chooseFileCaption:"Pasirinkti fail",removeFileCaption:"Itrinti  fail",booleanCheckedLabel:"Taip",booleanUncheckedLabel:"Ne",confirmRemoveFile:"Ar tikrai norite paalinti  fail: {0}?",confirmRemoveAllFiles:"Ar tikrai norite paalinti visus failus?",questionTitlePatternText:"Klausimo pavadinimas"};d.surveyLocalization.locales.lt=C,d.surveyLocalization.localeNames.lt="lietuvi"},"./src/localization/macedonian.ts":function(a,r,t){t.r(r),t.d(r,"macedonianSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"",pageNextText:"",completeText:"",previewText:"",editText:"",startSurveyText:"",otherItemText:" ()",noneItemText:"",selectAllItemText:" ",progressText:" {0}  {1}",panelDynamicProgressText:" {0}  {1}",questionsProgressText:"  {0} / {1} ",emptySurvey:"      .",completingSurvey:"     !",completingSurveyBefore:"         .",loadingSurvey:"   ...",optionsCaption:" ...",value:"",requiredError:" ,   .",requiredErrorInPanel:" ,     .",requiredInAllRowsError:" ,      .",numericError:"    .",minError:"       {0}",maxError:"       {0}",textMinLength:"  {0} /.",textMaxLength:"    {0} /.",textMinMaxLength:"  {0}     {1} .",minRowCountError:"  {0} ().",minSelectError:"    {0} ().",maxSelectError:"    {0} ().",numericMinMax:"'{0}'     {1}   {2}",numericMin:"'{0}'     {1}",numericMax:"'{0}'     {1}",invalidEmail:"    - .",invalidExpression:": {0}     'true'.",urlRequestError:"   '{0}'. {1} ",urlGetChoicesError:"      'path'  ",exceedMaxSize:"       {0}.",otherRequiredError:"   .",uploadingFile:"   .         .",loadingFile:"  ...",chooseFile:"  () ...",fileDragAreaPlaceholder:"            .",noFileChosen:"   ",confirmDelete:"     ?",keyDuplicationError:"     .",addColumn:" ",addRow:" ",removeRow:"",emptyRowsText:" .",addPanel:" ",removePanel:"",choices_Item:"",matrix_column:"",matrix_row:"",savingData:"     ...",savingDataError:"        .",savingDataSuccess:"   !",saveAgainButton:"  ",timerMin:"",timerSec:"",timerSpentAll:" {0}      {1}.",timerSpentPage:" {0}   .",timerSpentSurvey:"   {0}.",timerLimitAll:" {0}  {1}     {2}  {3} .",timerLimitPage:" {0}  {1}   .",timerLimitSurvey:"   {0}  {1}.",cleanCaption:"",clearCaption:" ",chooseFileCaption:" ",removeFileCaption:"   ",booleanCheckedLabel:"",booleanUncheckedLabel:"",confirmRemoveFile:"         : {0}?",confirmRemoveAllFiles:"         ?",questionTitlePatternText:"  ",modalCancelButtonText:"",modalApplyButtonText:""};d.surveyLocalization.locales.mk=C,d.surveyLocalization.localeNames.mk=""},"./src/localization/malay.ts":function(a,r,t){t.r(r),t.d(r,"malaySurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Sebelumnya",pageNextText:"Seterusnya",completeText:"Selesai",previewText:"Pratonton",editText:"Edit",startSurveyText:"Mula",otherItemText:"Lain (terangkan)",noneItemText:"Tiada",selectAllItemText:"Pilih Semua",progressText:"Halaman {0} daripada {1}",panelDynamicProgressText:"Rekod {0} daripada {1}",questionsProgressText:"{0}/{1} soalan telah dijawab",emptySurvey:"Tiada halaman atau soalan boleh dilihat dalam tinjauan.",completingSurvey:"Terima kasih kerana melengkapkan tinjauan!",completingSurveyBefore:"Rekod kami menunjukkan yang anda telah melengkapkan tinjauan ini.",loadingSurvey:"Memuatkan Tinjauan...",optionsCaption:"Pilih...",value:"nilai",requiredError:"Respons diperlukan.",requiredErrorInPanel:"Respons diperlukan: jawab sekurang-kurangnya satu soalan.",requiredInAllRowsError:"Respons diperlukan: jawab soalan dalam semua baris.",numericError:"Nilai mestilah numerik.",minError:"Nilai tidak boleh kurang daripada {0}",maxError:"Nilai tidak boleh lebih besar daripada {0}",textMinLength:"Sila masukkan sekurang-kurangnya {0} aksara.",textMaxLength:"Sila masukkan tidak lebih daripada {0} aksara.",textMinMaxLength:"Sila masukkan sekurang-kurangnya {0} dan tidak lebih daripada {1} aksara.",minRowCountError:"Sila isikan sekurang-kurangnya {0} baris.",minSelectError:"Sila pilih sekurang-kurangnya {0} varian.",maxSelectError:"Sila pilih tidak lebih daripada {0} varian.",numericMinMax:"'{0}' mestilah sekurang-kurangnya {1} dan paling banyak {2}",numericMin:"'{0}' mestilah sekurang-kurangnya {1}",numericMax:"'{0}' mestilah paling banyak {1}",invalidEmail:"Sila masukkan alamat e-mel yang sah.",invalidExpression:"Ekspresi: {0} hendaklah mengembalikan nilai 'benar'.",urlRequestError:"Permintaan mengembalikan ralat '{0}'. {1}",urlGetChoicesError:"Permintaan mengembalikan data kosong atau ciri 'laluan' salah",exceedMaxSize:"Saiz fail hendaklah tidak melebihi {0}.",otherRequiredError:"Respons diperlukan: masukkan nilai lain.",uploadingFile:"Fail anda sedang dimuat naik. Sila tunggu beberapa saat dan cuba lagi.",loadingFile:"Memuat...",chooseFile:"Pilih fail...",noFileChosen:"Tiada fail dipilih",fileDragAreaPlaceholder:"Letakkan fail di sini atau klik butang di bawah untuk memuatkan fail.",confirmDelete:"Adakah anda ingin memadamkan rekod?",keyDuplicationError:"Nilai ini hendaklah unik.",addColumn:"Tambahkan lajur",addRow:"Tambahkan baris",removeRow:"Alih keluar",emptyRowsText:"Tiada baris.",addPanel:"Tambah baharu",removePanel:"Alih keluar",choices_Item:"item",matrix_column:"Lajur",matrix_row:"Baris",multipletext_itemname:"teks",savingData:"Keputusan sedang disimpan pada pelayan...",savingDataError:"Ralat berlaku dan kami tidak dapat menyimpan keputusan.",savingDataSuccess:"Keputusan berjaya disimpan!",saveAgainButton:"Cuba lagi",timerMin:"min",timerSec:"saat",timerSpentAll:"Anda telah meluangkan {0} pada halaman ini dan {1} secara keseluruhan.",timerSpentPage:"Anda telah meluangkan {0} pada halaman ini.",timerSpentSurvey:"Anda telah meluangkan {0} secara keseluruhan.",timerLimitAll:"Anda telah meluangkan {0} daripada {1} pada halaman ini dan {2} daripada {3} secara keseluruhan.",timerLimitPage:"Anda telah meluangkan {0} daripada {1} pada halaman ini.",timerLimitSurvey:"Anda telah meluangkan {0} daripada {1} secara keseluruhan.",cleanCaption:"Kosongkan",clearCaption:"Kosongkan",signaturePlaceHolder:"Tandatangan di sini",chooseFileCaption:"Pilih fail",removeFileCaption:"Alih keluar fail ini",booleanCheckedLabel:"Ya",booleanUncheckedLabel:"Tidak",confirmRemoveFile:"Anda pasti ingin mengalih keluar fail ini: {0}?",confirmRemoveAllFiles:"Anda pasti ingin mengalih keluar semua fail?",questionTitlePatternText:"Tajuk Soalan",modalCancelButtonText:"Batal",modalApplyButtonText:"Guna",filteredTextPlaceholder:"Taip untuk membuat carian...",noEntriesText:`Belum ada entri.
Klik butang di bawah untuk menambahkan entri.`};d.surveyLocalization.locales.ms=C,d.surveyLocalization.localeNames.ms="melayu"},"./src/localization/nl-BE.ts":function(a,r,t){t.r(r);var d=t("./src/entries/core.ts"),C=t("./src/localization/dutch.ts");d.surveyLocalization.locales["nl-BE"]=C.dutchSurveyStrings,d.surveyLocalization.localeNames["nl-BE"]="vlaams"},"./src/localization/norwegian.ts":function(a,r,t){t.r(r),t.d(r,"norwegianSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Forrige",pageNextText:"Neste",completeText:"Fullfr",previewText:"Forhndsvisning",editText:"Redigere",startSurveyText:"Start",otherItemText:"Annet (beskriv)",noneItemText:"Ingen",selectAllItemText:"Velg alle",progressText:"Side {0} av {1}",panelDynamicProgressText:"Ta opp {0} av {1}",questionsProgressText:"Besvarte {0} / {1} sprsml",emptySurvey:"Det er ingen synlig side eller sprsml i underskelsen.",completingSurvey:"Takk for at du fullfrte underskelsen!",completingSurveyBefore:"Vre data viser at du allerede har gjennomfrt denne underskelsen.",loadingSurvey:"Underskelsen laster...",optionsCaption:"Velg...",value:"verdi",requiredError:"Vennligst svar p sprsmlet.",requiredErrorInPanel:"Vennligst svar p minst ett sprsml.",requiredInAllRowsError:"Vennligst svar p sprsml i alle rader.",numericError:"Verdien skal vre numerisk.",textMinLength:"Vennligst skriv inn minst {0} tegn.",textMaxLength:"Vennligst skriv inn mindre enn {0} tegn.",textMinMaxLength:"Vennligst skriv inn mer enn {0} og mindre enn {1} tegn.",minRowCountError:"Vennligst fyll inn minst {0} rader.",minSelectError:"Vennligst velg minst {0} varianter.",maxSelectError:"Vennligst ikke velg mer enn {0} varianter.",numericMinMax:"'{0}' br vre lik eller mer enn {1} og lik eller mindre enn {2}",numericMin:"'{0}' br vre lik eller mer enn {1}",numericMax:"'{0}' br vre lik eller mindre enn {1}",invalidEmail:"Vennligst skriv inn en gyldig e-post adresse.",invalidExpression:"Uttrykket: {0} skal returnere 'sant'.",urlRequestError:"Foresprselen returnerte feilen '{0}'. {1}",urlGetChoicesError:"Foresprselen returnerte tomme data, eller 'sti' -egenskapen er feil",exceedMaxSize:"Filstrrelsen br ikke overstige {0}.",otherRequiredError:"Vennligst skriv inn den andre verdien.",uploadingFile:"Filen din lastes opp. Vennligst vent noen sekunder og prv igjen.",loadingFile:"Laster inn ...",chooseFile:"Velg fil (er) ...",noFileChosen:"Ingen fil valgt",confirmDelete:"nsker du  slette posten?",keyDuplicationError:"Denne verdien skal vre unik.",addColumn:"Legg til kolonne",addRow:"Legg til rad",removeRow:"Fjern",addPanel:"Legg til ny",removePanel:"Fjerne",choices_Item:"element",matrix_column:"Kolonne",matrix_row:"Rad",savingData:"Resultatene lagres p serveren ...",savingDataError:"Det oppsto en feil, og vi kunne ikke lagre resultatene.",savingDataSuccess:"Resultatene ble lagret!",saveAgainButton:"Prv igjen",timerMin:"min",timerSec:"sek",timerSpentAll:"Du har tilbrakt {0} p denne siden og {1} totalt.",timerSpentPage:"Du har tilbrakt {0} p denne siden.",timerSpentSurvey:"Du har tilbrakt {0} totalt.",timerLimitAll:"Du har tilbrakt {0} av {1} p denne siden og totalt {2} av {3}.",timerLimitPage:"Du har tilbrakt {0} av {1} p denne siden.",timerLimitSurvey:"Du har tilbrakt {0} av {1} totalt.",cleanCaption:"Rens",clearCaption:"Klar",chooseFileCaption:"Velg Fil",removeFileCaption:"Fjern denne filen",booleanCheckedLabel:"Ja",booleanUncheckedLabel:"Nei",confirmRemoveFile:"Er du sikker p at du vil fjerne denne filen: {0}?",confirmRemoveAllFiles:"Er du sikker p at du vil fjerne alle filene?",questionTitlePatternText:"Sprsmlstittel"};d.surveyLocalization.locales.no=C,d.surveyLocalization.localeNames.no="norsk"},"./src/localization/persian.ts":function(a,r,t){t.r(r),t.d(r,"persianSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"",pageNextText:"",completeText:"",previewText:" ",editText:"",startSurveyText:"",otherItemText:"()",noneItemText:"",selectAllItemText:" ",progressText:" {0}  {1}",panelDynamicProgressText:" {0}  {1}",questionsProgressText:"  {0}/{1} ",emptySurvey:"         .",completingSurvey:"      ",completingSurveyBefore:"           .",loadingSurvey:"  ",optionsCaption:" ...",value:"",requiredError:"    ",requiredErrorInPanel:"      .",requiredInAllRowsError:"      .",numericError:"   ",textMinLength:"   {0}   ",textMaxLength:"    {0}   .",textMinMaxLength:"    {0}     {1}   .",minRowCountError:"  {0}   .",minSelectError:" {0}  .",maxSelectError:"    {0}  .",numericMinMax:"'{0}'   {1}  {2} ",numericMin:"'{0}'   {1} ",numericMax:"'{0}'     {1} ",invalidEmail:"    ",invalidExpression:": {0}   'true' .",urlRequestError:"    : '{0}'. {1}",urlGetChoicesError:"         ",exceedMaxSize:"   : {0}",otherRequiredError:" ''   ",uploadingFile:"    .   .",loadingFile:"...",chooseFile:" ()...",noFileChosen:"   ",confirmDelete:"      ",keyDuplicationError:"     ",addColumn:" ",addRow:" ",removeRow:"",addPanel:"",removePanel:"",choices_Item:"",matrix_column:"",matrix_row:"",savingData:"       ",savingDataError:"       ",savingDataSuccess:"    ",saveAgainButton:"  ",timerMin:"",timerSec:"",timerSpentAll:"  {0}      {1}      .",timerSpentPage:"  {0}       .",timerSpentSurvey:"  {0}      .",timerLimitAll:"  {0}  {1}      {2}  {3}      .",timerLimitPage:"  {0}  {1}       .",timerLimitSurvey:"  {0}  {1}      .",cleanCaption:"",clearCaption:" ",chooseFileCaption:" ",removeFileCaption:"  ",booleanCheckedLabel:"",booleanUncheckedLabel:"",confirmRemoveFile:"      : {0}?",confirmRemoveAllFiles:"       ?",questionTitlePatternText:" "};d.surveyLocalization.locales.fa=C,d.surveyLocalization.localeNames.fa=""},"./src/localization/polish.ts":function(a,r,t){t.r(r),t.d(r,"polishSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Wstecz",pageNextText:"Dalej",completeText:"Gotowe",previewText:"Premiera",editText:"Edycja",startSurveyText:"Start",otherItemText:"Inna odpowied (wpisz)",noneItemText:"Brak",selectAllItemText:"Wybierz wszystkie",progressText:"Strona {0} z {1}",panelDynamicProgressText:"Zapis {0} z {1}",questionsProgressText:"Odpowiedzi na {0}/{1} pytania",emptySurvey:"Nie ma widocznych pyta.",completingSurvey:"Dzikujemy za wypenienie ankiety!",completingSurveyBefore:"Z naszych zapisw wynika, e wypenie ju t ankiet.",loadingSurvey:"Trwa wczytywanie ankiety...",optionsCaption:"Wybierz...",value:"Warto",requiredError:"Prosz odpowiedzie na to pytanie.",requiredErrorInPanel:"Prosz odpowiedzie na co najmniej jedno pytanie.",requiredInAllRowsError:"Prosz odpowiedzie na wszystkie pytania.",numericError:"W tym polu mona wpisa tylko liczby.",textMinLength:"Prosz wpisa co najmniej {0} znakw.",textMaxLength:"Prosz wpisa mniej ni {0} znakw.",textMinMaxLength:"Prosz wpisa wicej ni {0} i mniej ni {1} znakw.",minRowCountError:"Prosz uzupeni przynajmniej {0} wierszy.",minSelectError:"Prosz wybra co najmniej {0} pozycji.",maxSelectError:"Prosz wybra nie wicej ni {0} pozycji.",numericMinMax:"Odpowied '{0}' powinna by wiksza lub rwna {1} oraz mniejsza lub rwna {2}",numericMin:"Odpowied '{0}' powinna by wiksza lub rwna {1}",numericMax:"Odpowied '{0}' powinna by mniejsza lub rwna {1}",invalidEmail:"Prosz poda prawidowy adres email.",invalidExpression:"Wyraenie: {0} powinno wraca 'prawdziwe'.",urlRequestError:"danie zwrcio bd '{0}'. {1}",urlGetChoicesError:"danie nie zwrcio danych albo cieka jest nieprawidowa",exceedMaxSize:"Rozmiar przesanego pliku nie moe przekracza {0}.",otherRequiredError:"Prosz poda inn odpowied.",uploadingFile:"Trwa przenoszenie Twojego pliku, prosz sprbowa ponownie za kilka sekund.",loadingFile:"adowanie...",chooseFile:"Wybierz plik(i)...",fileDragAreaPlaceholder:"Upu plik tutaj lub kliknij przycisk poniej, aby zaadowa plik.",noFileChosen:"Nie wybrano adnego pliku",confirmDelete:"Chcesz skasowa nagranie?",keyDuplicationError:"Ta warto powinna by wyjtkowa.",addColumn:"Dodaj kolumn",addRow:"Dodaj wiersz",removeRow:"Usu",addPanel:"Dodaj panel",removePanel:"Usu",choices_Item:"element",matrix_column:"Kolumna",matrix_row:"Wiersz",savingData:"Zapisuj wyniki ankiety na serwerze...",savingDataError:"Wystpi bd i wyniki nie mogy zosta zapisane.",savingDataSuccess:"Wyniki zostay poprawnie zapisane!",saveAgainButton:"Sprbuj ponownie",timerMin:"min",timerSec:"sek",timerSpentAll:"Spdzie {0} na tej stronie a w sumie {1}.",timerSpentPage:"Spdzie {0} na tej stronie.",timerSpentSurvey:"Spdzie w sumie {0}.",timerLimitAll:"Spdzie {0} z {1} na tej stronie a w sumie {2} z {3}.",timerLimitPage:"Spdzie {0} z {1} na tej stronie",timerLimitSurvey:"Spdzie {0} z {1}.",cleanCaption:"Wyczy",clearCaption:"Jasne",chooseFileCaption:"Wybierz plik",removeFileCaption:"Usu ten plik",booleanCheckedLabel:"Tak",booleanUncheckedLabel:"Nie",confirmRemoveFile:"Jeste pewien, e chcesz usun ten plik: {0}?",confirmRemoveAllFiles:"Jeste pewien, e chcesz usun wszystkie pliki?",questionTitlePatternText:"Tytu pytania",ratingOptionsCaption:"Kliknij tutaj, aby oceni...",emptyRowsText:"Nie ma rzdw.",filteredTextPlaceholder:"Wpisz aby wyszuka...",indexText:"{0} od {1}",minError:"Warto nie powinna by mniejsza ni {0}",maxError:"Warto nie powinna by wiksza ni {0}",modalApplyButtonText:"Zastosowa",modalCancelButtonText:"Anulowa",multipletext_itemname:"tekst",noEntriesText:`Nie ma jeszcze wpisw.
Kliknij przycisk poniej, aby doda nowy wpis.`,signaturePlaceHolder:"Podpisz tutaj"};d.surveyLocalization.locales.pl=C,d.surveyLocalization.localeNames.pl="polski"},"./src/localization/portuguese-br.ts":function(a,r,t){t.r(r),t.d(r,"portugueseBrSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Anterior",pageNextText:"Prximo",completeText:"Finalizar",previewText:"Pr-visualizao",editText:"Editar",startSurveyText:"Comear",otherItemText:"Outros (descrever)",noneItemText:"Nenhum",selectAllItemText:"Selecionar Todos",progressText:"Pgina {0} de {1}",panelDynamicProgressText:"Registro {0} de {1}",questionsProgressText:"Respostas {0}/{1} perguntas",emptySurvey:"No h pgina visvel ou pergunta na pesquisa.",completingSurvey:"Obrigado por finalizar a pesquisa!",completingSurveyBefore:"Nossos registros mostram que voc j finalizou a pesquisa.",loadingSurvey:"A pesquisa est carregando...",optionsCaption:"Selecione...",value:"valor",requiredError:"Por favor, responda a pergunta.",requiredErrorInPanel:"Por favor, responda pelo menos uma pergunta.",requiredInAllRowsError:"Por favor, responda as perguntas em todas as linhas.",numericError:"O valor deve ser numrico.",textMinLength:"Por favor, insira pelo menos {0} caracteres.",textMaxLength:"Por favor, insira menos de {0} caracteres.",textMinMaxLength:"Por favor, insira mais de {0} e menos de {1} caracteres.",minRowCountError:"Preencha pelo menos {0} linhas.",minSelectError:"Selecione pelo menos {0} opes.",maxSelectError:"Por favor, selecione no mais do que {0} opes.",numericMinMax:"O '{0}' deve ser igual ou superior a {1} e igual ou menor que {2}",numericMin:"O '{0}' deve ser igual ou superior a {1}",numericMax:"O '{0}' deve ser igual ou inferior a {1}",invalidEmail:"Por favor, informe um e-mail vlido.",invalidExpression:"A expresso: {0} deve retornar 'verdadeiro'.",urlRequestError:"A requisio retornou o erro '{0}'. {1}",urlGetChoicesError:"A requisio no retornou dados ou o 'caminho' da requisio no est correto",exceedMaxSize:"O tamanho do arquivo no deve exceder {0}.",otherRequiredError:"Por favor, informe o outro valor.",uploadingFile:"Seu arquivo est sendo carregado. Por favor, aguarde alguns segundos e tente novamente.",loadingFile:"Carregando...",chooseFile:"Selecione o(s) arquivo(s)...",noFileChosen:"Nenhum arquivo escolhido",confirmDelete:"Tem certeza que deseja deletar?",keyDuplicationError:"Esse valor deve ser nico.",addColumn:"Adicionar coluna",addRow:"Adicionar linha",removeRow:"Remover linha",addPanel:"Adicionar novo",removePanel:"Remover",choices_Item:"item",matrix_column:"Coluna",matrix_row:"Linha",savingData:"Os resultados esto sendo salvos no servidor...",savingDataError:"Ocorreu um erro e no foi possvel salvar os resultados.",savingDataSuccess:"Os resultados foram salvos com sucesso!",saveAgainButton:"Tente novamente",timerMin:"min",timerSec:"seg",timerSpentAll:"Voc gastou {0} nesta pgina e {1} no total.",timerSpentPage:"Voc gastou {0} nesta pgina.",timerSpentSurvey:"Voc gastou {0} no total.",timerLimitAll:"Voc gastou {0} de {1} nesta pgina e {2} de {3} no total.",timerLimitPage:"Voc gastou {0} de {1} nesta pgina.",timerLimitSurvey:"Voc gastou {0} de {1} no total.",cleanCaption:"Limpar",clearCaption:"Limpar",chooseFileCaption:"Escolher arquivo",removeFileCaption:"Remover este arquivo",booleanCheckedLabel:"Sim",booleanUncheckedLabel:"No",confirmRemoveFile:"Tem certeza que deseja remover este arquivo: {0}?",confirmRemoveAllFiles:"Tem certeza que deseja remover todos os arquivos?",questionTitlePatternText:"Ttulo da questo"};d.surveyLocalization.locales["pt-br"]=C,d.surveyLocalization.localeNames["pt-br"]="portugus brasileiro"},"./src/localization/portuguese.ts":function(a,r,t){t.r(r),t.d(r,"portugueseSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Anterior",pageNextText:"Prximo",completeText:"Finalizar",previewText:"Pr-visualizao",editText:"Editar",startSurveyText:"Comear",otherItemText:"Outros (descrever)",noneItemText:"Nenhum",selectAllItemText:"Selecionar Todos",progressText:"Pgina {0} de {1}",panelDynamicProgressText:"Registo {0} de {1}",questionsProgressText:"Respostas {0}/{1} perguntas",emptySurvey:"No h pgina visvel ou pergunta no questionrio.",completingSurvey:"Obrigado por finalizar o questionrio!",completingSurveyBefore:"Os nossos registos mostram que j finalizou o questionrio.",loadingSurvey:"O questionrio est a carregar...",optionsCaption:"Selecione...",value:"valor",requiredError:"Por favor, responda  pergunta.",requiredErrorInPanel:"Por favor, responda pelo menos a uma pergunta.",requiredInAllRowsError:"Por favor, responda s perguntas em todas as linhas.",numericError:"O valor deve ser numrico.",textMinLength:"Por favor, insira pelo menos {0} caracteres.",textMaxLength:"Por favor, insira menos de {0} caracteres.",textMinMaxLength:"Por favor, insira mais de {0} e menos de {1} caracteres.",minRowCountError:"Preencha pelo menos {0} linhas.",minSelectError:"Selecione pelo menos {0} opes.",maxSelectError:"Por favor, selecione no mximo {0} opes.",numericMinMax:"O '{0}' deve ser igual ou superior a {1} e igual ou menor que {2}",numericMin:"O '{0}' deve ser igual ou superior a {1}",numericMax:"O '{0}' deve ser igual ou inferior a {1}",invalidEmail:"Por favor, insira um e-mail vlido.",invalidExpression:"A expresso: {0} deve retornar 'verdadeiro'.",urlRequestError:"O pedido retornou o erro '{0}'. {1}",urlGetChoicesError:"O pedido no retornou dados ou o 'caminho' do pedido no est correto",exceedMaxSize:"O tamanho do arquivo no deve exceder {0}.",otherRequiredError:"Por favor, insira o outro valor.",uploadingFile:"O seu ficheiro est a carregar. Por favor, aguarde alguns segundos e tente novamente.",loadingFile:"A carregar...",chooseFile:"Selecione o(s) arquivo(s)...",noFileChosen:"Nenhum ficheiro escolhido",confirmDelete:"Tem a certeza que deseja apagar?",keyDuplicationError:"Este valor deve ser nico.",addColumn:"Adicionar coluna",addRow:"Adicionar linha",removeRow:"Remover linha",addPanel:"Adicionar novo",removePanel:"Remover",choices_Item:"item",matrix_column:"Coluna",matrix_row:"Linha",savingData:"Os resultados esto a ser guardados no servidor...",savingDataError:"Ocorreu um erro e no foi possvel guardar os resultados.",savingDataSuccess:"Os resultados foram guardados com sucesso!",saveAgainButton:"Tente novamente",timerMin:"min",timerSec:"seg",timerSpentAll:"Voc gastou {0} nesta pgina e {1} no total.",timerSpentPage:"Voc gastou {0} nesta pgina.",timerSpentSurvey:"Voc gastou {0} no total.",timerLimitAll:"Voc gastou {0} de {1} nesta pgina e {2} de {3} no total.",timerLimitPage:"Voc gastou {0} de {1} nesta pgina.",timerLimitSurvey:"Voc gastou {0} de {1} no total.",cleanCaption:"Limpar",clearCaption:"Limpar",chooseFileCaption:"Escolher ficheiro",removeFileCaption:"Remover este ficheiro",booleanCheckedLabel:"Sim",booleanUncheckedLabel:"No",confirmRemoveFile:"Tem a certeza que deseja remover este ficheiro: {0}?",confirmRemoveAllFiles:"Tem a certeza que deseja remover todos os ficheiros?",questionTitlePatternText:"Ttulo da questo"};d.surveyLocalization.locales.pt=C,d.surveyLocalization.localeNames.pt="portugus"},"./src/localization/romanian.ts":function(a,r,t){t.r(r),t.d(r,"romanianSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Precedent",pageNextText:"Urmtor",completeText:"Finalizare",previewText:"previzualizare",editText:"Editai",startSurveyText:"start",otherItemText:"Altul(precizai)",noneItemText:"Nici unul",selectAllItemText:"Selecteaz tot",progressText:"Pagina {0} din {1}",panelDynamicProgressText:"nregistrare {0} din {1}",questionsProgressText:"Rspunsuri la {0} / {1} ntrebri",emptySurvey:"Nu sunt ntrebri pentru acest chestionar",completingSurvey:"V mulumim pentru timpul acordat!",completingSurveyBefore:"Din nregistrrile noastre reiese c ai completat deja acest chestionar.",loadingSurvey:"Chestionarul se ncarc...",optionsCaption:"Alegei...",value:"valoare",requiredError:"Rspunsul la aceast ntrebare este obligatoriu.",requiredErrorInPanel:"V rugm s rspundei la cel puin o ntrebare.",requiredInAllRowsError:"Toate rspunsurile sunt obligatorii",numericError:"Rspunsul trebuie s fie numeric.",textMinLength:"Trebuie s introducei minim {0} caractere.",textMaxLength:"Trebuie s introducei maxim {0} caractere.",textMinMaxLength:"Trebuie s introducei mai mult de {0} i mai puin de {1} caractere.",minRowCountError:"Trebuie s completai minim {0} rnduri.",minSelectError:"Trebuie s selectai minim {0} opiuni.",maxSelectError:"Trebuie s selectai maxim {0} opiuni.",numericMinMax:"Rspunsul '{0}' trebuie s fie mai mare sau egal ca {1}  mai mic sau egal cu {2}",numericMin:"Rspunsul '{0}' trebuie s fie mai mare sau egal ca {1}",numericMax:"Rspunsul '{0}' trebuie s fie mai mic sau egal ca {1}",invalidEmail:"Trebuie s introducei o adresa de email valid.",invalidExpression:"Expresia: {0} ar trebui s returneze adevrat.",urlRequestError:"Request-ul a returnat eroarea '{0}'. {1}",urlGetChoicesError:"Request-ul nu a returnat date sau proprietatea 'path' este incorect",exceedMaxSize:"Dimensiunea fiierului nu trebuie s depeasc {0}.",otherRequiredError:"Trebuie s completai cmpul 'Altul'.",uploadingFile:"Fiierul dumneavoastr este n curs de ncrcare. V rugm ateptai cteva secunde i revenii apoi.",loadingFile:"Se ncarc...",chooseFile:"Alege fisierele...",noFileChosen:"Niciun fiier ales",confirmDelete:"Suntei sigur c dorii s tergei nregistrarea?",keyDuplicationError:"Valoarea trebuie s fie unic.",addColumn:"Adugai coloan",addRow:"Adugare rnd",removeRow:"tergere",addPanel:"Adugare",removePanel:"tergere",choices_Item:"opiune",matrix_column:"Coloan",matrix_row:"Rnd",savingData:"Rezultatele sunt n curs de salvare...",savingDataError:"A intervenit o eroare, rezultatele nu au putut fi salvate.",savingDataSuccess:"Rezultatele au fost salvate cu succes!",saveAgainButton:"ncercai din nou",timerMin:"min",timerSec:"sec",timerSpentAll:"Ai petrecut {0} pe aceast pagin i {1} n total.",timerSpentPage:"Ai petrecut {0} pe aceast pagin.",timerSpentSurvey:"Ai petrecut {0} n total.",timerLimitAll:"Ai petrecut {0} din {1} pe aceast pagin i {2} din {3} n total.",timerLimitPage:"Ai petrecut {0} din {1} pe aceast pagin.",timerLimitSurvey:"Ai petrecut {0} din {1} n total.",cleanCaption:"Curat",clearCaption:"clar",chooseFileCaption:"Alege fiierul",removeFileCaption:"Eliminai acest fiier",booleanCheckedLabel:"da",booleanUncheckedLabel:"Nu",confirmRemoveFile:"Sigur dorii s eliminai acest fiier: {0}?",confirmRemoveAllFiles:"Sigur dorii s eliminai toate fiierele?",questionTitlePatternText:"Titlul intrebarii"};d.surveyLocalization.locales.ro=C,d.surveyLocalization.localeNames.ro="romn"},"./src/localization/russian.ts":function(a,r,t){t.r(r),t.d(r,"russianSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"",pageNextText:"",completeText:"",previewText:" ",editText:"",startSurveyText:"",otherItemText:" (, )",noneItemText:"",selectAllItemText:" ",progressText:" {0}  {1}",panelDynamicProgressText:" {0}  {1}",questionsProgressText:"O  {0}/{1} ",emptySurvey:"   .",completingSurvey:"    !",completingSurveyBefore:"    .",loadingSurvey:"  ...",optionsCaption:"...",value:"",requiredError:",   .",requiredErrorInPanel:",       .",requiredInAllRowsError:",      .",numericError:"   .",textMinLength:"   {0} .",textMaxLength:"   {0} .",textMinMaxLength:"   {0}   {1} .",minRowCountError:",    {0} .",minSelectError:",    {0} .",maxSelectError:",    {0} .",numericMinMax:"'{0}'      {1},     {2}",numericMin:"'{0}'      {1}",numericMax:"'{0}'      {1}",invalidEmail:",     .",invalidExpression:" {0}   'true'.",urlRequestError:"   '{0}'. {1}",urlGetChoicesError:"       'path'  ",exceedMaxSize:"     {0}.",otherRequiredError:",     ''",uploadingFile:"  .      .",loadingFile:"...",chooseFile:" ()...",fileDragAreaPlaceholder:"      ,   .",noFileChosen:"  ",confirmDelete:"    ?",keyDuplicationError:"    .",addColumn:" ",addRow:" ",removeRow:"",addPanel:" ",removePanel:"",choices_Item:"",matrix_column:"",matrix_row:"",savingData:"   ...",savingDataError:" ,    .",savingDataSuccess:"  !",saveAgainButton:" ",timerMin:"",timerSec:"",timerSpentAll:"  {0}     {1} .",timerSpentPage:"  {0}   .",timerSpentSurvey:"  {0}   .",timerLimitAll:"  {0}  {1}     {2}  {3}   .",timerLimitPage:"  {0}  {1}   .",timerLimitSurvey:"  {0}  {1}   .",cleanCaption:"",clearCaption:"",chooseFileCaption:" ",removeFileCaption:" ",booleanCheckedLabel:"",booleanUncheckedLabel:"",confirmRemoveFile:" ,     : {0}?",confirmRemoveAllFiles:" ,     ?",questionTitlePatternText:" ",ratingOptionsCaption:" ,  ...",emptyRowsText:" .",filteredTextPlaceholder:"  ...",indexText:"{0}  {1}",minError:"     {0}.",maxError:"    {0}.",modalApplyButtonText:"",modalCancelButtonText:"",multipletext_itemname:"",noEntriesText:`  .
  ,    .`,signaturePlaceHolder:" "};d.surveyLocalization.locales.ru=C,d.surveyLocalization.localeNames.ru=""},"./src/localization/serbian.ts":function(a,r,t){t.r(r),t.d(r,"serbianStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Nazad",pageNextText:"Dalje",completeText:"Zavri",previewText:"Pregledaj",editText:"Izmeni",startSurveyText:"Zaponi",otherItemText:"Drugo (upii)",noneItemText:"Nita",selectAllItemText:"Izaberi sve",progressText:"Stranica {0} od {1}",panelDynamicProgressText:"Upis {0} od {1}",questionsProgressText:"Odgovoreno na {0}/{1} pitanja",emptySurvey:"Nema vidljivih stranica ili pitanja u anketi.",completingSurvey:"Hvala na popunjavanju ankete!",completingSurveyBefore:"Prema naim podacima, ve ste popunili ovu anketu.",loadingSurvey:"Uitavam anketu...",optionsCaption:"Izaberi...",value:"vrednost",requiredError:"Molimo odgovorite na ovo pitanje.",requiredErrorInPanel:"Molimo odgovorite na bar jedno pitanje.",requiredInAllRowsError:"Molimo odgovorite na pitanja u svim redovima.",numericError:"Vrednost bi trebalo da bude numerika.",minError:"Vrednost ne bi trebalo da bude manja od {0}",maxError:"Vrednost ne bi trebalo da bude vea od {0}",textMinLength:"Molimo unesite bar {0} znak(ov)a.",textMaxLength:"Molimo unesite najvie {0} znak(ov)a.",textMinMaxLength:"Molimo unesite najmanje {0} i ne vie od {1} znak(ov)a.",minRowCountError:"Molimo popunite najmanje {0} red(ova).",minSelectError:"Molimo izaberite najmanje {0} opcija/e.",maxSelectError:"Molimo izaberite najvie {0} opcija/e.",numericMinMax:"'{0}' bi trebalo da bude najmanje {1} i najvie {2}",numericMin:"'{0}' bi trebalo da bude najmanje {1}",numericMax:"'{0}' bi trebalo da bude najvie {1}",invalidEmail:"Molimo unesite ispravnu e-mail adresu.",invalidExpression:"Izraz: {0} bi trebalo da bude taan.",urlRequestError:"Zahtev je naiao na greku '{0}'. {1}",urlGetChoicesError:"Zahtev nije pronaao podatke, ili je putanja netana",exceedMaxSize:"Veliina fajla ne bi trebalo da prelazi {0}.",otherRequiredError:"Molimo unesite drugu vrednost.",uploadingFile:"Fajl se alje. Molimo saekajte neko vreme i pokuajte ponovo.",loadingFile:"Uitavanje...",chooseFile:"Izaberite fajlove...",noFileChosen:"Nije izabran nijedan fajl",confirmDelete:"Da li elite da izbriete unos?",keyDuplicationError:"Ova vrednost treba da bude jedinstvena.",addColumn:"Dodaj kolonu",addRow:"Dodaj red",removeRow:"Ukloni",emptyRowsText:"Nema redova.",addPanel:"Dodaj novo",removePanel:"Ukloni",choices_Item:"stavka",matrix_column:"Kolona",matrix_row:"Red",multipletext_itemname:"tekst",savingData:"U toku je uvanje podataka na serveru...",savingDataError:"Dolo je do greke i rezultati nisu sauvani.",savingDataSuccess:"Rezultati su uspeno sauvani!",saveAgainButton:"Pokuajte ponovo",timerMin:"min",timerSec:"sek",timerSpentAll:"Proveli ste {0} na ovoj stranici i {1} ukupno.",timerSpentPage:"Proveli ste {0} na ovoj stranici.",timerSpentSurvey:"Proveli ste {0} ukupno.",timerLimitAll:"Proveli ste {0} od {1} na ovoj stranici i {2} od {3} ukupno.",timerLimitPage:"Proveli ste {0} od {1} na ovoj stranici.",timerLimitSurvey:"Proveli ste {0} od {1} ukupno.",cleanCaption:"Oisti",clearCaption:"Poniti",chooseFileCaption:"Izaberi fajl",removeFileCaption:"Ukloni ovaj fajl",booleanCheckedLabel:"Da",booleanUncheckedLabel:"Ne",confirmRemoveFile:"Da li ste sigurni da elite da uklonite ovaj fajl: {0}?",confirmRemoveAllFiles:"Da li ste sigurni da elite da uklonite sve fajlove?",questionTitlePatternText:"Naslov pitanja",modalCancelButtonText:"Otkai",modalApplyButtonText:"Primeni"};d.surveyLocalization.locales.rs=C,d.surveyLocalization.localeNames.rs="Srpski"},"./src/localization/simplified-chinese.ts":function(a,r,t){t.r(r),t.d(r,"simplifiedChineseSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"",pageNextText:"",completeText:"",previewText:"",editText:"",startSurveyText:"",otherItemText:"",noneItemText:"",selectAllItemText:"",progressText:" {0} ,  {1} ",panelDynamicProgressText:"{0} of {1}",questionsProgressText:" {0}/{1} ",emptySurvey:"",completingSurvey:"!",completingSurveyBefore:".",loadingSurvey:"...",optionsCaption:"...",value:"",requiredError:"",requiredErrorInPanel:".",requiredInAllRowsError:"",numericError:"",minError:" {0}",maxError:" {0}",textMinLength:" {0} ",textMaxLength:" {0} ",textMinMaxLength:" {0} - {1} ",minRowCountError:" {0} ",minSelectError:" {0} ",maxSelectError:" {0} ",numericMinMax:" '{0}'  {1}  {2}",numericMin:" '{0}'  {1}",numericMax:" '{0}'  {1}",invalidEmail:" Email ",invalidExpression:": {0} .",urlRequestError:" '{0}': {1}",urlGetChoicesError:"",exceedMaxSize:" {0}",otherRequiredError:"",uploadingFile:"... ",loadingFile:"...",chooseFile:"...",noFileChosen:"",confirmDelete:"?",keyDuplicationError:"",addColumn:"",addRow:"",removeRow:"",emptyRowsText:"",addPanel:"",removePanel:"",choices_Item:"",matrix_column:"",matrix_row:"",multipletext_itemname:"",savingData:"...",savingDataError:"",savingDataSuccess:"!",saveAgainButton:"",timerMin:"",timerSec:"",timerSpentAll:" {0} {1} .",timerSpentPage:"{0} .",timerSpentSurvey:" {0} .",timerLimitAll:" {0}  {1}  {2}  {3} .",timerLimitPage:" {0}  {1} .",timerLimitSurvey:" {0}  {1}.",cleanCaption:"",clearCaption:"",chooseFileCaption:"",removeFileCaption:"",booleanCheckedLabel:"",booleanUncheckedLabel:"",confirmRemoveFile:": {0}?",confirmRemoveAllFiles:"?",questionTitlePatternText:"",modalCancelButtonText:"",modalApplyButtonText:""};d.surveyLocalization.locales["zh-cn"]=C,d.surveyLocalization.localeNames["zh-cn"]=""},"./src/localization/slovak.ts":function(a,r,t){t.r(r),t.d(r,"slovakSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Predchdzajca",pageNextText:"alej",completeText:"Dokonen",previewText:"Ukka",editText:"Upravi",startSurveyText:"Spusti",otherItemText:"In (opte)",noneItemText:"iadne",selectAllItemText:"Vybra vetky",progressText:"Strana {0} z {1}",panelDynamicProgressText:"Zznam {0} z {1}",questionsProgressText:"Zodpovedan otzky {0}/{1}",emptySurvey:"V prieskume nie je iadna vidien strnka ani otzka.",completingSurvey:"akujeme vm za dokonenie prieskumu.",completingSurveyBefore:"Poda naich zznamov ste u tento prieskum dokonili.",loadingSurvey:"Natanie prieskumu...",optionsCaption:"Vybra...",value:"hodnota",requiredError:"Poaduje sa odozva.",requiredErrorInPanel:"Poaduje sa odozva: zodpovedajte aspo jednu otzku.",requiredInAllRowsError:"Poaduje sa odozva: zodpovedajte otzky vo vetkch riadkoch.",numericError:"Hodnota m by seln.",minError:"Hodnota nem by niia ne {0}",maxError:"Hodnota nem by vyia ne {0}",textMinLength:"Zadajte aspo {0} znak(-y/-ov).",textMaxLength:"Nezadvajte viac ne {0} znak(-y/-ov).",textMinMaxLength:"Zadajte aspo {0} a nie viac ne {1} znaky(-ov).",minRowCountError:"Vyplte aspo {0} riadok(-y/-ov).",minSelectError:"Vyberte aspo {0} variant(-y/-ov).",maxSelectError:"Nevyberajte viac ne {0} variant(-y/-ov).",numericMinMax:"{0} m by minimlne {1} a maximlne {2}",numericMin:"{0} m by minimlne {1}",numericMax:"{0} m by maximlne {1}",invalidEmail:"Zadajte platn e-mailov adresu.",invalidExpression:"Vraz: {0} m vrti hodnotu true.",urlRequestError:"Poiadavky vrtila hodnotu {0}. {1}",urlGetChoicesError:"Poiadavka vrtila przdne daje alebo je vlastnos cesta nesprvna",exceedMaxSize:"Vekos sboru nem prekroi {0}.",otherRequiredError:"Poaduje sa odozva: zadajte in hodnotu.",uploadingFile:"Sbor sa odovzdva. Pokajte niekoko seknd a skste to znova.",loadingFile:"Natanie...",chooseFile:"Vyberte sbor(-y)...",noFileChosen:"iadny vybrat sbor",fileDragAreaPlaceholder:"Presute sbor sem alebo kliknite na nasledujce tlaidlo a natajte sbor.",confirmDelete:"Chcete zznam odstrni?",keyDuplicationError:"Tto hodnota m by jedinen.",addColumn:"Prida stpec",addRow:"Prida riadok",removeRow:"Odstrni",emptyRowsText:"K dispozcii nie s iadne riadky.",addPanel:"Prida nov",removePanel:"Odstrni",choices_Item:"poloka",matrix_column:"Stpec",matrix_row:"Riadok",multipletext_itemname:"text",savingData:"Vsledky sa ukladaj na server...",savingDataError:"V dsledku chyby sa nepodarilo vsledky uloi.",savingDataSuccess:"Vsledky sa spene uloili.",saveAgainButton:"Skste to znova",timerMin:"min",timerSec:"s",timerSpentAll:"Na tejto strnke ste strvili {0} a celkovo {1}.",timerSpentPage:"Na tejto strnke ste strvili {0}.",timerSpentSurvey:"Celkovo ste strvili {0}.",timerLimitAll:"Na tejto strnke ste strvili {0} z {1} a celkovo {2} z {3}.",timerLimitPage:"Na tejto strnke ste strvili {0} z {1}.",timerLimitSurvey:"Celkovo ste strvili {0} z {1}.",cleanCaption:"Vyisti",clearCaption:"Vymaza",signaturePlaceHolder:"Podpsa tu",chooseFileCaption:"Vybra sbor",removeFileCaption:"Odstrni tento sbor",booleanCheckedLabel:"no",booleanUncheckedLabel:"Nie",confirmRemoveFile:"Naozaj chcete odstrni tento sbor: {0}?",confirmRemoveAllFiles:"Naozaj chcete odstrni vetky sbory?",questionTitlePatternText:"Titul otzky",modalCancelButtonText:"Zrui",modalApplyButtonText:"Poui",filteredTextPlaceholder:"Vyhadvanie psanm...",noEntriesText:`K dispozcii ete nie s iadne zadania.
Kliknutm na nasledujce tlaidlo pridajte nov zadanie.`};d.surveyLocalization.locales.sk=C,d.surveyLocalization.localeNames.sk="slovenina"},"./src/localization/spanish.ts":function(a,r,t){t.r(r),t.d(r,"spanishSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Anterior",pageNextText:"Siguiente",completeText:"Completar",previewText:"Vista previa",editText:"Edita",startSurveyText:"Comienza",otherItemText:"Otro (describa)",noneItemText:"Ninguno",selectAllItemText:"Seleccionar todo",progressText:"Pgina {0} de {1}",panelDynamicProgressText:"Registro {0} de {1}",questionsProgressText:"Respondi a {0}/{1} preguntas",emptySurvey:"No hay pgina visible o pregunta en la encuesta.",completingSurvey:"Gracias por completar la encuesta!",completingSurveyBefore:"Nuestros registros muestran que ya ha completado esta encuesta.",loadingSurvey:"La encuesta est cargando...",optionsCaption:"Seleccione...",value:"valor",requiredError:"Por favor conteste la pregunta.",requiredErrorInPanel:"Por favor, responda al menos una pregunta.",requiredInAllRowsError:"Por favor conteste las preguntas en cada hilera.",numericError:"La estimacin debe ser numrica.",minError:"La estimacin no debe ser menor que {0}",maxError:"La estimacin no debe ser mayor que {0}",textMinLength:"Por favor entre por lo menos {0} smbolos.",textMaxLength:"Por favor entre menos de {0} smbolos.",textMinMaxLength:"Por favor entre ms de {0} y menos de {1} smbolos.",minRowCountError:"Por favor llene por lo menos {0} hileras.",minSelectError:"Por favor seleccione por lo menos {0} variantes.",maxSelectError:"Por favor seleccione no ms de {0} variantes.",numericMinMax:"El '{0}' debe de ser igual o ms de {1} y igual o menos de {2}",numericMin:"El '{0}' debe ser igual o ms de {1}",numericMax:"El '{0}' debe ser igual o menos de {1}",invalidEmail:"Por favor agregue un correo electrnico vlido.",invalidExpression:"La expresin: {0} debera devolver 'verdadero'.",urlRequestError:"La solicitud regres error '{0}'. {1}",urlGetChoicesError:"La solicitud regres vaco de data o la propiedad 'trayectoria' no es correcta",exceedMaxSize:"El tamao del archivo no debe de exceder {0}.",otherRequiredError:"Por favor agregue la otra estimacin.",uploadingFile:"Su archivo se est subiendo. Por favor espere unos segundos e intente de nuevo.",loadingFile:"Cargando...",chooseFile:"Elija archivo(s)...",fileDragAreaPlaceholder:"Suelte un archivo aqu o haga clic en el botn de abajo para cargar el archivo",noFileChosen:"No se ha elegido ningn archivo",confirmDelete:"Quieres borrar el registro?",keyDuplicationError:"Este valor debe ser nico.",addColumn:"Aadir columna",addRow:"Agregue una hilera",removeRow:"Eliminar una hilera",emptyRowsText:"No hay hileras.",addPanel:"Aadir nuevo",removePanel:"Retire",choices_Item:"artculo",matrix_column:"Columna",matrix_row:"Hilera",multipletext_itemname:"texto",savingData:"Los resultados se estn guardando en el servidor...",savingDataError:"Los resultados se estn guardando en el servidor...",savingDataSuccess:"Los resultados se guardaron con xito!",saveAgainButton:"Intntalo de nuevo.",timerMin:"min",timerSec:"sec",timerSpentAll:"Has gastado {0} en esta pgina y {1} en total.",timerSpentPage:"Usted ha pasado {0} en esta pgina.",timerSpentSurvey:"Has gastado en total.",timerLimitAll:"Has gastado {0} de {1} en esta pgina y {2} de {3} en total.",timerLimitPage:"Has gastado {0} de {1} en esta pgina.",timerLimitSurvey:"Usted ha gastado {0} de {1} en total.",cleanCaption:"Limpia",clearCaption:"Despejen",signaturePlaceHolder:"Firma aqui",chooseFileCaption:"Elija el archivo",removeFileCaption:"Elimina este archivo",booleanCheckedLabel:"S",booleanUncheckedLabel:"No",confirmRemoveFile:"Ests seguro de que quieres eliminar este archivo: {0}?",confirmRemoveAllFiles:"Ests seguro de que quieres eliminar todos los archivos?",questionTitlePatternText:"Ttulo de la pregunta",modalCancelButtonText:"Anular",modalApplyButtonText:"Aplicar",ratingOptionsCaption:"Toca aqu para calificar...",filteredTextPlaceholder:"Escribe para buscar...",indexText:"{0} de {1}",noEntriesText:`An no hay entradas.
Haga clic en el botn de abajo para agregar una nueva entrada.`};d.surveyLocalization.locales.es=C,d.surveyLocalization.localeNames.es="espaol"},"./src/localization/swahili.ts":function(a,r,t){t.r(r),t.d(r,"swahiliStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Iliyotangulia",pageNextText:"Ifuatayo",completeText:"Kamili",previewText:"Hakiki",editText:"Hariri",startSurveyText:"Anza",otherItemText:"Nyingine (eleza)",noneItemText:"Hakuna",selectAllItemText:"Chagua Zote",progressText:"Ukurasa {0} wa {1}",panelDynamicProgressText:"Rekodi {0} ya {1}",questionsProgressText:"Yaliyojibiwa {0}/{1} maswali",emptySurvey:"Hakuna ukurasa unaoonekana au swali katika utafiti.",completingSurvey:"Asanti kwa kukamilisha utafiti!",completingSurveyBefore:"Recodi zetu zinatuonyesha tayari umekamilisha utafiti.",loadingSurvey:"Tunaandaa utafiti...",optionsCaption:"Chagua...",value:"thamani",requiredError:"Tafadhali jibu hili swali.",requiredErrorInPanel:"Tafadhali jibu swali angalau moja.",requiredInAllRowsError:"Tafadhali jibu maswali katika safu zote.",numericError:"Thamani inapaswa kuwa ya nambari.",textMinLength:"Tafadhali ingiza angalau{0} husika.",textMaxLength:"Tafadhali ingiza isiozidi {0} husika.",textMinMaxLength:"Tafadhali ingiza kiwango zaidi ya {0} na kisichopungua {1} husika.",minRowCountError:"Tafadhali jaza isiopungua {0} safu.",minSelectError:"Tafadhali chagua angalau {0} lahaja.",maxSelectError:"Tafadhali changua isiozidi {0} lahaja.",numericMinMax:" '{0}' inapaswa kuwa sawa au zaidi ya {1} na sawa au chini ya {2}",numericMin:" '{0}'inapaswa kuwa sawa au zaidi ya {1}",numericMax:" '{0}'inapaswa kuwa sawa au chini ya {1}",invalidEmail:"Tafadhali ingiza anwani halali ya barua-pepe.",invalidExpression:"Usemi:{0} inapaswa kurudi 'kweli'.",urlRequestError:"Ombi lina kosa '{0}'. {1}",urlGetChoicesError:"Ombi lilirudisha data tupu au the 'path' mali ya njia sio sahihi",exceedMaxSize:"Saizi ya faili haipaswi kuzidi {0}.",otherRequiredError:"Tafadhali ingiza thamani nyingine.",uploadingFile:"Faili yako inapakia.Tafadhali subiri sekunde kadhaa na ujaribu tena.",loadingFile:"Inapakia...",chooseFile:"Chagua faili...",noFileChosen:"Hujachagua faili",confirmDelete:"Je! Unataka kufuta rekodi?",keyDuplicationError:"Thamani hii inapaswa kuwa ya kipekee.",addColumn:"Ongeza Kolamu",addRow:"Ongeza safu",removeRow:"Toa",addPanel:"Ongeza mpya",removePanel:"Toa",choices_Item:"kitu",matrix_column:"Kolamu",matrix_row:"Safu",savingData:"Matokeo yamehifadhiwa kwa seva...",savingDataError:"Kosa limetokea na hatukuweza kuhifadhi matokeo.",savingDataSuccess:"Matokeo yamehifadhiwa!",saveAgainButton:"Jaribu tena",timerMin:"dakika",timerSec:"sekunde",timerSpentAll:"Umetumia {0} kwenye ukurasa huu na {1} kwa jumla.",timerSpentPage:"Umetumia {0} kwenye ukurasa huu.",timerSpentSurvey:"Umetumia {0} kwa jumla.",timerLimitAll:"Umetumia {0} ya {1} kwenye ukurasa huu {2} wa {3} kwa jumla.",timerLimitPage:"Umetumia {0} ya {1} kwenye ukurasa huu.",timerLimitSurvey:"Umetumia {0} ya {1} kwa jumla.",cleanCaption:"Safisha",clearCaption:"Ondoa",chooseFileCaption:"Chagua faili",removeFileCaption:"Ondoa faili",booleanCheckedLabel:"Ndio",booleanUncheckedLabel:"Hapana",confirmRemoveFile:"Je! Una uhakika kuwa unataka kuondoa faili hii: {0}?",confirmRemoveAllFiles:"Je! Una uhakika kuwa unataka kuondoa faili zote?",questionTitlePatternText:"Kichwa cha Swali"};d.surveyLocalization.locales.sw=C,d.surveyLocalization.localeNames.sw="swahili"},"./src/localization/swedish.ts":function(a,r,t){t.r(r),t.d(r,"swedishSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Fregende",pageNextText:"Nsta",completeText:"Frdig",previewText:"Frhandsvisning",editText:"Redigera",startSurveyText:"Start",otherItemText:"Annat (beskriv)",noneItemText:"Ingen",selectAllItemText:"Vlj alla",progressText:"Sida {0} av {1}",panelDynamicProgressText:"Spela in {0} av {1}",questionsProgressText:"Besvarade {0} / {1} frgor",emptySurvey:"Det finns ingen synlig sida eller frga i enkten.",completingSurvey:"Tack fr att du genomfrt enkten!!",completingSurveyBefore:"Vra register visar att du redan har slutfrt denna underskning.",loadingSurvey:"Enkten laddas...",optionsCaption:"Vlj...",value:"vrde",requiredError:"Var vnlig besvara frgan.",requiredErrorInPanel:"Vnligen svara p minst en frga.",requiredInAllRowsError:"Var vnlig besvara frgorna p alla rader.",numericError:"Vrdet ska vara numeriskt.",textMinLength:"Var vnlig ange minst {0} tecken.",textMaxLength:"Ange frre n {0} tecken.",textMinMaxLength:"Ange mer n {0} och frre n {1} tecken.",minRowCountError:"Var vnlig fyll i minst {0} rader.",minSelectError:"Var vnlig vlj tminstone {0} varianter.",maxSelectError:"Var vnlig vlj inte fler n {0} varianter.",numericMinMax:"'{0}' ska vara lika med eller mer n {1} samt lika med eller mindre n {2}",numericMin:"'{0}' ska vara lika med eller mer n {1}",numericMax:"'{0}' ska vara lika med eller mindre n {1}",invalidEmail:"Var vnlig ange en korrekt e-postadress.",invalidExpression:"Uttrycket: {0} ska returnera 'true'.",urlRequestError:"Frfrgan returnerade felet '{0}'. {1}",urlGetChoicesError:"Antingen returnerade frfrgan ingen data eller s r egenskapen 'path' inte korrekt",exceedMaxSize:"Filstorleken fr ej verstiga {0}.",otherRequiredError:"Var vnlig ange det andra vrdet.",uploadingFile:"Din fil laddas upp. Var vnlig vnta ngra sekunder och frsk sedan igen.",loadingFile:"Lser in...",chooseFile:"Vlj fil (er) ...",noFileChosen:"Ingen fil vald",confirmDelete:"Vill du radera posten?",keyDuplicationError:"Detta vrde ska vara unikt.",addColumn:"Lgg till kolumn",addRow:"Lgg till rad",removeRow:"Ta bort",addPanel:"Lgg till ny",removePanel:"Ta bort",choices_Item:"Artikel",matrix_column:"Kolumn",matrix_row:"Rad",savingData:"Resultaten sparas p servern ...",savingDataError:"Ett fel intrffade och vi kunde inte spara resultaten.",savingDataSuccess:"Resultaten sparades framgngsrikt!",saveAgainButton:"Frsk igen",timerMin:"min",timerSec:"sek",timerSpentAll:"Du har spenderat {0} p den hr sidan och {1} totalt.",timerSpentPage:"Du har spenderat {0} p den hr sidan.",timerSpentSurvey:"Du har spenderat {0} totalt.",timerLimitAll:"Du har spenderat {0} av {1} p den hr sidan och {2} av {3} totalt.",timerLimitPage:"Du har spenderat {0} av {1} p den hr sidan.",timerLimitSurvey:"Du har spenderat {0} av {1} totalt.",cleanCaption:"Rena",clearCaption:"Klar",chooseFileCaption:"Vlj FIL",removeFileCaption:"Ta bort den hr filen",booleanCheckedLabel:"Ja",booleanUncheckedLabel:"Nej",confirmRemoveFile:"r du sker p att du vill ta bort den hr filen: {0}?",confirmRemoveAllFiles:"r du sker p att du vill ta bort alla filer?",questionTitlePatternText:"Frgetitel"};d.surveyLocalization.locales.sv=C,d.surveyLocalization.localeNames.sv="svenska"},"./src/localization/tajik.ts":function(a,r,t){t.r(r),t.d(r,"tajikSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"",pageNextText:"",completeText:" ",startSurveyText:"",otherItemText:" (  )",noneItemText:"",selectAllItemText:"  ",progressText:" {0}  {1}",emptySurvey:"   .",completingSurvey:"    !",completingSurveyBefore:"     .",loadingSurvey:"  ...",optionsCaption:" ...",value:"",requiredError:",    .",requiredErrorInPanel:",      .",requiredInAllRowsError:",        .",numericError:"   .",textMinLength:",  {0}    .",textMaxLength:",  {0}    .",textMinMaxLength:",  {0}    {1}    .",minRowCountError:",    {0}   .",minSelectError:",  {0}   .",maxSelectError:",    {0}   .",numericMinMax:"'{0}'     {1}     {2} ",numericMin:"'{0}'     {1} ",numericMax:"'{0}'     {1} ",invalidEmail:",     .",invalidExpression:" {0}  'true' .",urlRequestError:"   '{0}'. {1}",urlGetChoicesError:"       'path'    ",exceedMaxSize:"      {0} .",otherRequiredError:",   ''   ",uploadingFile:"    .         .",loadingFile:"...",chooseFile:"()-  ...",confirmDelete:"  ,     ?",keyDuplicationError:"    .",addColumn:" ",addRow:" ",removeRow:" ",addPanel:" ",removePanel:" ",choices_Item:"",matrix_column:"",matrix_row:"",savingData:"     ...",savingDataError:"   ,   .",savingDataSuccess:"   !",saveAgainButton:"   ",timerMin:"",timerSec:"",timerSpentAll:" {0}     {1}    .",timerSpentPage:" {0}     .",timerSpentSurvey:" {0}     .",timerLimitAll:" {0}  {1}     {2}  {3}        .",timerLimitPage:" {0}  {1}     .",timerLimitSurvey:" {0}  {1}     .",cleanCaption:" ",clearCaption:" ",removeFileCaption:"  "};d.surveyLocalization.locales.tg=C,d.surveyLocalization.localeNames.tg=""},"./src/localization/thai.ts":function(a,r,t){t.r(r),t.d(r,"thaiStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"",pageNextText:"",completeText:"",previewText:"",editText:"",startSurveyText:"",otherItemText:" ()",noneItemText:"",selectAllItemText:"",progressText:" {0}  {1}",panelDynamicProgressText:" {0}  {1}",questionsProgressText:" {0}/{1} ",emptySurvey:"   survey ",completingSurvey:" survey ",completingSurveyBefore:" survey ",loadingSurvey:" Survey...",optionsCaption:"...",value:"",requiredError:"",requiredErrorInPanel:"",requiredInAllRowsError:"",numericError:"",textMinLength:" {0} ",textMaxLength:" {0} ",textMinMaxLength:" {0}  {1} ",minRowCountError:" {0} ",minSelectError:" {0} ",maxSelectError:" {0} ",numericMinMax:"'{0}'  {1}  {2}",numericMin:"'{0}'  {1}",numericMax:"'{0}'  {1}",invalidEmail:"",invalidExpression:"The expression: {0}  'true'.",urlRequestError:" error '{0}'. {1}",urlGetChoicesError:"  'path' property ",exceedMaxSize:" {0}.",otherRequiredError:"",uploadingFile:". ",loadingFile:"...",chooseFile:"...",noFileChosen:"",confirmDelete:"?",keyDuplicationError:" unique.",addColumn:"",addRow:"",removeRow:"",addPanel:"",removePanel:"",choices_Item:"",matrix_column:"",matrix_row:"",savingData:"...",savingDataError:"",savingDataSuccess:"",saveAgainButton:"",timerMin:"",timerSec:"",timerSpentAll:" {0}  {1} ",timerSpentPage:" {0} ",timerSpentSurvey:" {0} ",timerLimitAll:" {0}  {1}  {2}  {3} ",timerLimitPage:" {0}  {1} ",timerLimitSurvey:" {0}  {1} ",cleanCaption:"",clearCaption:"",chooseFileCaption:"",removeFileCaption:"",booleanCheckedLabel:"",booleanUncheckedLabel:"",confirmRemoveFile:": {0}?",confirmRemoveAllFiles:"",questionTitlePatternText:""};d.surveyLocalization.locales.th=C,d.surveyLocalization.localeNames.th=""},"./src/localization/traditional-chinese.ts":function(a,r,t){t.r(r),t.d(r,"traditionalChineseSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"",pageNextText:"",completeText:"",otherItemText:"",progressText:" {0} ,  {1} ",emptySurvey:"",completingSurvey:"!",loadingSurvey:"...",optionsCaption:"...",requiredError:"",requiredInAllRowsError:"",numericError:"",textMinLength:" {0} ",textMaxLength:" {0} ",textMinMaxLength:" {0} - {1} ",minRowCountError:" {0} ",minSelectError:" {0} ",maxSelectError:" {0} ",numericMinMax:" '{0}'  {1}  {2}",numericMin:" '{0}'  {1}",numericMax:" '{0}'  {1}",invalidEmail:" Email ",urlRequestError:" '{0}': {1}",urlGetChoicesError:"",exceedMaxSize:" {0}",otherRequiredError:"",uploadingFile:"... ",addRow:"",removeRow:"",choices_Item:"",matrix_column:"",matrix_row:"",savingData:"...",savingDataError:"",savingDataSuccess:"!",saveAgainButton:""};d.surveyLocalization.locales["zh-tw"]=C,d.surveyLocalization.localeNames["zh-tw"]=""},"./src/localization/turkish.ts":function(a,r,t){t.r(r),t.d(r,"turkishSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Geri",pageNextText:"leri",completeText:"Anketi Tamamla",previewText:"n izleme",editText:"Dzenle",startSurveyText:"Balat",otherItemText:"Dier (aklaynz)",noneItemText:"Yok",selectAllItemText:"Hepsini se",progressText:"Sayfa {0} / {1}",panelDynamicProgressText:"Kayt {0} / {1}",questionsProgressText:"Sorular cevaplad {0} / {1}",emptySurvey:"Ankette grntlenecek sayfa ya da soru mevcut deil.",completingSurvey:"Anketimizi tamamladnz iin teekkr ederiz.",completingSurveyBefore:"Kaytlarmz, bu anketi zaten tamamladnz gsteriyor.",loadingSurvey:"Anket sunucudan ykleniyor ...",optionsCaption:"Seiniz ...",value:"deer",requiredError:"Ltfen soruya cevap veriniz",requiredErrorInPanel:"Ltfen en az bir soruyu yantlayn.",requiredInAllRowsError:"Ltfen tm satrlardaki sorular cevaplaynz.",numericError:"Girilen deer numerik olmaldr",textMinLength:"En az {0} sembol giriniz.",textMaxLength:"Ltfen {0} karakterden az girin.",textMinMaxLength:"Ltfen {0} den fazla ve {1} den az karakter girin.",minRowCountError:"Ltfen en az {0} satr doldurun.",minSelectError:"Ltfen en az {0} seenei seiniz.",maxSelectError:"Ltfen {0} adetten fazla semeyiniz.",numericMinMax:"The '{0}' should be equal or more than {1} and equal or less than {2}",numericMin:"'{0}' deeri {1} deerine eit veya byk olmaldr",numericMax:"'{0}' deeri {1} deerine eit ya da kk olmaldr.",invalidEmail:"Ltfen geerli bir eposta adresi giriniz.",invalidExpression:"fade: {0} 'true' dndrmelidir.",urlRequestError:"Talebi u hatay dnd '{0}'. {1}",urlGetChoicesError:"Talep herhangi bir veri dnmedi ya da 'path' zellii hatal.",exceedMaxSize:"Dosya boyutu {0} deerini geemez.",otherRequiredError:"Ltfen dier deerleri giriniz.",uploadingFile:"Dosyanz ykleniyor. Ltfen birka saniye bekleyin ve tekrar deneyin.",loadingFile:"Ykleniyor...",chooseFile:"Dosyalar sein ...",noFileChosen:"Dosya seili deil",confirmDelete:"Kayd silmek istiyor musunuz?",keyDuplicationError:"Bu deer benzersiz olmaldr.",addColumn:"Stun ekleyin",addRow:"Satr Ekle",removeRow:"Kaldr",addPanel:"Yeni ekle",removePanel:"Kaldrmak",choices_Item:"eya",matrix_column:"Stun",matrix_row:"Krek ekmek",savingData:"Sonular sunucuya kaydediliyor ...",savingDataError:"Bir hata olutu ve sonular kaydedemedik.",savingDataSuccess:"Sonular baaryla kaydedildi!",saveAgainButton:"Tekrar deneyin",timerMin:"min",timerSec:"saniye",timerSpentAll:"Bu sayfada {0} ve toplamda {1} harcadnz.",timerSpentPage:"Bu sayfaya {0} harcadnz.",timerSpentSurvey:"Toplamda {0} harcadnz.",timerLimitAll:"Bu sayfaya {0} / {1} ve toplamda {2} / {3} harcadnz.",timerLimitPage:"Bu sayfaya {0} / {1} harcadnz.",timerLimitSurvey:"Toplamda {0} / {1} harcadnz.",cleanCaption:"Temiz",clearCaption:"Ak",chooseFileCaption:"Dosya sein",removeFileCaption:"Bu dosyay kaldr",booleanCheckedLabel:"Evet",booleanUncheckedLabel:"Hayr",confirmRemoveFile:"Bu dosyay kaldrmak istediinizden emin misiniz: {0}?",confirmRemoveAllFiles:"Tm dosyalar kaldrmak istediinizden emin misiniz?",questionTitlePatternText:"Soru bal"};d.surveyLocalization.locales.tr=C,d.surveyLocalization.localeNames.tr="trke"},"./src/localization/ukrainian.ts":function(a,r,t){t.r(r),t.d(r,"ukrainianSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"",pageNextText:"",completeText:"",previewText:" ",editText:"",startSurveyText:"",otherItemText:" ( , )",noneItemText:"",selectAllItemText:" ",progressText:" {0}  {1}",panelDynamicProgressText:" {0}  {1}",questionsProgressText:"  {0}/{1} ",emptySurvey:"  .",completingSurvey:"    !",completingSurveyBefore:"    .",loadingSurvey:" ...",optionsCaption:"...",value:"",requiredError:" ,  .",requiredErrorInPanel:" ,       .",requiredInAllRowsError:" ,       .",numericError:"   .",textMinLength:"    {0} .",textMaxLength:"    {0} .",textMinMaxLength:"    {0}   {1} .",minRowCountError:" ,    {0} .",minSelectError:" ,    {0} .",maxSelectError:" ,    {0} .",numericMinMax:"'{0}'      {1},     {2}",numericMin:"'{0}'      {1}",numericMax:"'{0}'      {1}",invalidEmail:" ,     .",invalidExpression:" {0}   'true'.",urlRequestError:"   '{0}'. {1}",urlGetChoicesError:"       'path'  ",exceedMaxSize:"     {0}.",otherRequiredError:" ,     ''",uploadingFile:"  .      .",loadingFile:"...",chooseFile:" ()...",noFileChosen:"  ",confirmDelete:"   ?",keyDuplicationError:"    .",addColumn:" ",addRow:" ",removeRow:"",addPanel:" ",removePanel:"",choices_Item:"",matrix_column:"",matrix_row:"",savingData:"   ...",savingDataError:" ,    .",savingDataSuccess:"  !",saveAgainButton:" ",timerMin:"",timerSec:"",timerSpentAll:"  {0}     {1} .",timerSpentPage:"  {0}   .",timerSpentSurvey:"  {0}  .",timerLimitAll:"  {0}  {1}     {2}  {3}   .",timerLimitPage:"  {0}  {1}   .",timerLimitSurvey:"  {0}  {1}   .",cleanCaption:"",clearCaption:"",chooseFileCaption:" ",removeFileCaption:" ",booleanCheckedLabel:"",booleanUncheckedLabel:"",confirmRemoveFile:" ,     : {0}?",confirmRemoveAllFiles:" ,     ?",questionTitlePatternText:" "};d.surveyLocalization.locales.ua=C,d.surveyLocalization.localeNames.ua=""},"./src/localization/vietnamese.ts":function(a,r,t){t.r(r),t.d(r,"vietnameseSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Tr v",pageNextText:"Tip theo",completeText:"Hon thnh",previewText:"Xem trc",editText:"Chnh sa",startSurveyText:"Bt u",otherItemText:"Khc (m t)",noneItemText:"Trng",selectAllItemText:"Chn tt c",progressText:"Trang {0} / {1}",panelDynamicProgressText:"Dng {0} / {1}",questionsProgressText:" tr li {0}/{1} cu hi",emptySurvey:"Khng c trang hoc cu hi no c hin th trong cuc kho st ny.",completingSurvey:"Cm n  hon thnh kho st!",completingSurveyBefore:"H s chng ti cho thy rng bn  hon thnh cuc kho st ny.",loadingSurvey:"ang ti kho st...",optionsCaption:"Chn...",value:"Gi tr",requiredError:"Vui lng tr li cu hi.",requiredErrorInPanel:"Vui lng tr li t nht mt cu hi.",requiredInAllRowsError:"Vui lng tr li cc cu hi trn tt c cc dng.",numericError:"Gi tr nn l kiu s.",textMinLength:"Vui lng nhp t nht {0} k t.",textMaxLength:"Vui lng nhp t hn {0} k t.",textMinMaxLength:"Vui lng nhp nhiu hn {0} hoc t hn {1} k t.",minRowCountError:"Vui lng nhp t nht {0} dng.",minSelectError:"Vui lng chn t nht {0} loi.",maxSelectError:"Vui lng khng chn nhiu hn {0} loi.",numericMinMax:"Gi tr '{0}' nn bng hoc ln hn {1} v bng hoc nh hn {2}",numericMin:"Gi tr '{0}' nn bng hoc ln hn {1}",numericMax:"Gi tr '{0}' nn bng hoc nh hn {1}",invalidEmail:"Vui lng in a ch email hp l.",invalidExpression:"Biu thc: {0} nn tr v 'true'.",urlRequestError:"Yu cu tr v li '{0}'. {1}",urlGetChoicesError:"Yu cu tr v d liu trng hoc thuc tnh 'path' khng ng",exceedMaxSize:"Kch thc tp tin khng nn vt qu {0}.",otherRequiredError:"Vui lng in gi tr khc.",uploadingFile:"Tp tin ang c ti ln. Vui lng ch mt lc v th li.",loadingFile:"ang ti...",chooseFile:"Chn cc tp tin...",noFileChosen:"Khng c tp tin no c chn",confirmDelete:"Bn mun xa dng ny?",keyDuplicationError:"Gi tr ny khng nn b trng lp.",addColumn:"Thm ct",addRow:"Thm dng",removeRow:"Xa",addPanel:"Thm mi",removePanel:"Xa",choices_Item:"mc",matrix_column:"Ct",matrix_row:"Dng",savingData:"Kt qu ang lu li trn h thng...",savingDataError:"C li xy ra v chng ta khng th lu kt qu.",savingDataSuccess:"Kt qu  c lu thnh cng!",saveAgainButton:"Th li",timerMin:"pht",timerSec:"giy",timerSpentAll:"Bn  s dng {0} trn trang ny v {1} trn ton b.",timerSpentPage:"Bn  s dng {0} trn trang.",timerSpentSurvey:"Bn  s dng {0} trn ton b.",timerLimitAll:"Bn  s dng {0} / {1} trn trang ny v {2} / {3} trn ton b.",timerLimitPage:"Bn  s dng {0} / {1} trn trang ny.",timerLimitSurvey:"Bn  s dng {0} / {1} trn ton b.",cleanCaption:"Xa tt c",clearCaption:"Xa",chooseFileCaption:"Chn tp tin",removeFileCaption:"Xa tp tin",booleanCheckedLabel:"C",booleanUncheckedLabel:"Khng",confirmRemoveFile:"Bn c chc chn mun xa tp tin ny: {0}?",confirmRemoveAllFiles:"Bn c chc chn mun xa ton b tp tin?",questionTitlePatternText:"Tiu  cu hi"};d.surveyLocalization.locales.vi=C,d.surveyLocalization.localeNames.vi="Vit Nam"},"./src/localization/welsh.ts":function(a,r,t){t.r(r),t.d(r,"welshSurveyStrings",function(){return C});var d=t("./src/entries/core.ts"),C={pagePrevText:"Blaenorol",pageNextText:"Nesaf",completeText:"Cwblhau",previewText:"Rhagolwg",editText:"Golygu",startSurveyText:"Dechrau",otherItemText:"Arall (disgrifiwch)",noneItemText:"Dim",selectAllItemText:"Dewis y Cyfan ",progressText:"Tudalen {0} o {1}",panelDynamicProgressText:"Cofnod {0} o {1}",questionsProgressText:"Wedi ateb {0}/{1} cwestiwn",emptySurvey:"Does dim modd gweld tudalen na chwestiwn yn yr arolwg.",completingSurvey:"Diolch am lenwir holiadur!",completingSurveyBefore:"Rydych chi wedi llenwir arolwg hwn yn barod yn l ein cofnodion.",loadingSurvey:"Wrthin Llwythor Arolwg...",optionsCaption:"Dewiswch...",value:"gwerth",requiredError:"Atebwch y cwestiwn.",requiredErrorInPanel:"Atebwch o leiaf un cwestiwn.",requiredInAllRowsError:"Atebwch y cwestiynau ym mhob rhes.",numericError:"Dylair gwerth fod yn rhif.",textMinLength:"Rhowch o leiaf {0} nod.",textMaxLength:"Rhowch lai na {0} nod.",textMinMaxLength:"Rhowch o leiaf {0} nod ond dim mwy na {1}.",minRowCountError:"Llenwch o leiaf {0} rhes.",minSelectError:"Dewiswch o leiaf {0} amrywiolyn.",maxSelectError:"Peidiwch  dewis mwy na {0} amrywiolyn.",numericMinMax:"Dylair '{0}' fod yr un fath  {1} neun fwy, ar fath  {2} neun llai",numericMin:"Dylair '{0}' fod yr un fath  {1} neun fwy",numericMax:"Dylair '{0}' fod yr un fath  {1} neun llai",invalidEmail:"Rhowch gyfeiriad e-bost dilys.",invalidExpression:"Dylair mynegiad {0} arwain at 'true'.",urlRequestError:"Roedd y cais wedi arwain at y gwall '{0}'. {1}",urlGetChoicesError:"Roedd y cais wedi arwain at ddata gwag neu mae priodwedd y path yn anghywir ",exceedMaxSize:"Ddylair ffeil ddim bod yn fwy na {0}.",otherRequiredError:"Rhowch y gwerth arall.",uploadingFile:"Mae eich ffeil wrthin llwytho i fyny. Arhoswch ychydig o eiliadau a rhoi cynnig arall arni.",loadingFile:"Wrthin llwytho...",chooseFile:"Dewiswch ffeil(iau)...",noFileChosen:"Heb ddewis ffeil ",confirmDelete:"Ydych chi am ddileur cofnod?",keyDuplicationError:"Dylair gwerth hwn fod yn unigryw.",addColumn:"Ychwanegu colofn ",addRow:"Ychwanegu rhes",removeRow:"Tynnu",addPanel:"Ychwanegu or newydd",removePanel:"Tynnu",choices_Item:"eitem",matrix_column:"Colofn",matrix_row:"Rhes",savingData:"Maer canlyniadaun cael eu cadw ar y gweinydd...",savingDataError:"Roedd gwall a doedd dim modd cadwr canlyniadau.",savingDataSuccess:"Wedi llwyddo i gadwr canlyniadau!",saveAgainButton:"Rhowch gynnig arall arni",timerMin:"mun",timerSec:"eil",timerSpentAll:"Rydych chi wedi treulio {0} ar y dudalen hon a {1} gydai gilydd.",timerSpentPage:"Rydych chi wedi treulio {0} ar y dudalen hon.",timerSpentSurvey:"Rydych chi wedi treulio {0} gydai gilydd.",timerLimitAll:"Rydych chi wedi treulio {0} o {1} ar y dudalen hon a {2} o {3} gydai gilydd.",timerLimitPage:"Rydych chi wedi treulio {0} o {1} ar y dudalen hon.",timerLimitSurvey:"Rydych chi wedi treulio {0} o {1} gydai gilydd.",cleanCaption:"Glanhau",clearCaption:"Clirio",chooseFileCaption:"Dewiswch ffeil ",removeFileCaption:"Tynnur ffeil hon ",booleanCheckedLabel:"Iawn",booleanUncheckedLabel:"Na",confirmRemoveFile:"Ydych chin sir eich bod am dynnur ffeil hon: {0}?",confirmRemoveAllFiles:"Ydych chin sir eich bod am dynnu pob ffeil?",questionTitlePatternText:"Teitl y Cwestiwn "};d.surveyLocalization.locales.cy=C,d.surveyLocalization.localeNames.cy="cymraeg"},"./src/main.scss":function(a,r,t){},"./src/martixBase.ts":function(a,r,t){t.r(r),t.d(r,"QuestionMatrixBaseModel",function(){return h});var d=t("./src/itemvalue.ts"),C=t("./src/question.ts"),M=t("./src/jsonobject.ts"),w=t("./src/conditions.ts"),S=t("./src/helpers.ts"),x=function(){var u=function(g,f){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,p){i.__proto__=p}||function(i,p){for(var P in p)Object.prototype.hasOwnProperty.call(p,P)&&(i[P]=p[P])},u(g,f)};return function(g,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");u(g,f);function i(){this.constructor=g}g.prototype=f===null?Object.create(f):(i.prototype=f.prototype,new i)}}(),h=function(u){x(g,u);function g(f){var i=u.call(this,f)||this;return i.generatedVisibleRows=null,i.generatedTotalRow=null,i.filteredRows=null,i.filteredColumns=null,i.columns=i.createColumnValues(),i.rows=i.createItemValues("rows"),i}return g.prototype.createColumnValues=function(){return this.createItemValues("columns")},g.prototype.getType=function(){return"matrixbase"},Object.defineProperty(g.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"showHeader",{get:function(){return this.getPropertyValue("showHeader")},set:function(f){this.setPropertyValue("showHeader",f)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"columns",{get:function(){return this.getPropertyValue("columns")},set:function(f){this.setPropertyValue("columns",f)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"visibleColumns",{get:function(){return this.filteredColumns?this.filteredColumns:this.columns},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},set:function(f){var i=this.processRowsOnSet(f);this.setPropertyValue("rows",i),this.filterItems()},enumerable:!1,configurable:!0}),g.prototype.processRowsOnSet=function(f){return f},g.prototype.getVisibleRows=function(){return[]},Object.defineProperty(g.prototype,"visibleRows",{get:function(){return this.getVisibleRows()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"rowsVisibleIf",{get:function(){return this.getPropertyValue("rowsVisibleIf","")},set:function(f){this.setPropertyValue("rowsVisibleIf",f),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"columnsVisibleIf",{get:function(){return this.getPropertyValue("columnsVisibleIf","")},set:function(f){this.setPropertyValue("columnsVisibleIf",f),this.filterItems()},enumerable:!1,configurable:!0}),g.prototype.runCondition=function(f,i){u.prototype.runCondition.call(this,f,i),this.runItemsCondition(f,i)},g.prototype.filterItems=function(){return this.areInvisibleElementsShowing?(this.onRowsChanged(),!1):this.isLoadingFromJson||!this.data?!1:this.runItemsCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())},g.prototype.onColumnsChanged=function(){},g.prototype.onRowsChanged=function(){this.fireCallback(this.visibleRowsChangedCallback)},g.prototype.shouldRunColumnExpression=function(){return!this.survey||!this.survey.areInvisibleElementsShowing},g.prototype.hasRowsAsItems=function(){return!0},g.prototype.runItemsCondition=function(f,i){var p=null;if(this.filteredRows&&!S.Helpers.isValueEmpty(this.defaultValue)){p=[];for(var P=0;P<this.filteredRows.length;P++)p.push(this.filteredRows[P])}var m=this.hasRowsAsItems()&&this.runConditionsForRows(f,i),y=this.runConditionsForColumns(f,i);return m=y||m,m&&(this.isClearValueOnHidden&&(this.filteredColumns||this.filteredRows)&&this.clearIncorrectValues(),p&&this.restoreNewVisibleRowsValues(p),this.clearGeneratedRows(),y&&this.onColumnsChanged(),this.onRowsChanged()),m},g.prototype.clearGeneratedRows=function(){this.generatedVisibleRows=null},g.prototype.runConditionsForRows=function(f,i){var p=!!this.survey&&this.survey.areInvisibleElementsShowing,P=!p&&this.rowsVisibleIf?new w.ConditionRunner(this.rowsVisibleIf):null;this.filteredRows=[];var m=d.ItemValue.runConditionsForItems(this.rows,this.filteredRows,P,f,i,!p);return this.filteredRows.length===this.rows.length&&(this.filteredRows=null),m},g.prototype.runConditionsForColumns=function(f,i){var p=!!this.survey&&!this.survey.areInvisibleElementsShowing,P=p&&this.columnsVisibleIf?new w.ConditionRunner(this.columnsVisibleIf):null;this.filteredColumns=[];var m=d.ItemValue.runConditionsForItems(this.columns,this.filteredColumns,P,f,i,this.shouldRunColumnExpression());return this.filteredColumns.length===this.columns.length&&(this.filteredColumns=null),m},g.prototype.clearIncorrectValues=function(){var f=this.value;if(f){var i=null,p=!1,P=this.filteredRows?this.filteredRows:this.rows,m=this.filteredColumns?this.filteredColumns:this.columns;for(var y in f)d.ItemValue.getItemByValue(P,y)&&d.ItemValue.getItemByValue(m,f[y])?(i==null&&(i={}),i[y]=f[y]):p=!0;p&&(this.value=i),u.prototype.clearIncorrectValues.call(this)}},g.prototype.clearInvisibleValuesInRows=function(){if(!this.isEmpty()){for(var f=this.getUnbindValue(this.value),i=this.rows,p=0;p<i.length;p++){var P=i[p].value;f[P]&&!i[p].isVisible&&delete f[P]}this.isTwoValueEquals(f,this.value)||(this.value=f)}},g.prototype.restoreNewVisibleRowsValues=function(f){var i=this.filteredRows?this.filteredRows:this.rows,p=this.defaultValue,P=this.getUnbindValue(this.value),m=!1;for(var y in p)d.ItemValue.getItemByValue(i,y)&&!d.ItemValue.getItemByValue(f,y)&&(P==null&&(P={}),P[y]=p[y],m=!0);m&&(this.value=P)},g.prototype.needResponsiveWidth=function(){return!0},g}(C.Question);M.Serializer.addClass("matrixbase",["columnsVisibleIf:condition","rowsVisibleIf:condition",{name:"showHeader:boolean",default:!0}],void 0,"question")},"./src/page.ts":function(a,r,t){t.r(r),t.d(r,"PageModel",function(){return h});var d=t("./src/jsonobject.ts"),C=t("./src/panel.ts"),M=t("./src/utils/cssClassBuilder.ts"),w=t("./src/settings.ts"),S=function(){var u=function(g,f){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,p){i.__proto__=p}||function(i,p){for(var P in p)Object.prototype.hasOwnProperty.call(p,P)&&(i[P]=p[P])},u(g,f)};return function(g,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");u(g,f);function i(){this.constructor=g}g.prototype=f===null?Object.create(f):(i.prototype=f.prototype,new i)}}(),x=function(u,g,f,i){var p=arguments.length,P=p<3?g:i===null?i=Object.getOwnPropertyDescriptor(g,f):i,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(u,g,f,i);else for(var y=u.length-1;y>=0;y--)(m=u[y])&&(P=(p<3?m(P):p>3?m(g,f,P):m(g,f))||P);return p>3&&P&&Object.defineProperty(g,f,P),P},h=function(u){S(g,u);function g(f){f===void 0&&(f="");var i=u.call(this,f)||this;return i.hasShownValue=!1,i.timeSpent=0,i.locTitle.onGetTextCallback=function(p){return i.canShowPageNumber()&&p?i.num+". "+p:p},i.createLocalizableString("navigationTitle",i,!0),i.createLocalizableString("navigationDescription",i,!0),i}return g.prototype.getType=function(){return"page"},g.prototype.toString=function(){return this.name},Object.defineProperty(g.prototype,"isPage",{get:function(){return!0},enumerable:!1,configurable:!0}),g.prototype.canShowPageNumber=function(){return this.survey&&this.survey.showPageNumbers},g.prototype.canShowTitle=function(){return this.survey&&this.survey.showPageTitles},Object.defineProperty(g.prototype,"navigationTitle",{get:function(){return this.getLocalizableStringText("navigationTitle")},set:function(f){this.setLocalizableStringText("navigationTitle",f)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"locNavigationTitle",{get:function(){return this.getLocalizableString("navigationTitle")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"navigationDescription",{get:function(){return this.getLocalizableStringText("navigationDescription")},set:function(f){this.setLocalizableStringText("navigationDescription",f)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"locNavigationDescription",{get:function(){return this.getLocalizableString("navigationDescription")},enumerable:!1,configurable:!0}),g.prototype.navigationLocStrChanged=function(){this.locNavigationTitle.strChanged(),this.locNavigationDescription.strChanged()},Object.defineProperty(g.prototype,"passed",{get:function(){return this.getPropertyValue("passed",!1)},set:function(f){this.setPropertyValue("passed",f)},enumerable:!1,configurable:!0}),g.prototype.delete=function(){this.survey&&this.removeSelfFromList(this.survey.pages)},g.prototype.onFirstRendering=function(){this.wasShown||u.prototype.onFirstRendering.call(this)},Object.defineProperty(g.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},set:function(f){this.setPropertyValue("visibleIndex",f)},enumerable:!1,configurable:!0}),g.prototype.canRenderFirstRows=function(){return!this.isDesignMode||this.visibleIndex==0},Object.defineProperty(g.prototype,"isStarted",{get:function(){return this.survey&&this.survey.isPageStarted(this)},enumerable:!1,configurable:!0}),g.prototype.calcCssClasses=function(f){var i={page:{},pageTitle:"",pageDescription:"",row:"",rowMultiple:""};return this.copyCssClasses(i.page,f.page),f.pageTitle&&(i.pageTitle=f.pageTitle),f.pageDescription&&(i.pageDescription=f.pageDescription),f.row&&(i.row=f.row),f.rowMultiple&&(i.rowMultiple=f.rowMultiple),this.survey&&this.survey.updatePageCssClasses(this,i),i},Object.defineProperty(g.prototype,"cssTitle",{get:function(){return new M.CssClassBuilder().append(this.cssClasses.page.title).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"navigationButtonsVisibility",{get:function(){return this.getPropertyValue("navigationButtonsVisibility")},set:function(f){this.setPropertyValue("navigationButtonsVisibility",f.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"wasShown",{get:function(){return this.hasShownValue},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"hasShown",{get:function(){return this.wasShown},enumerable:!1,configurable:!0}),g.prototype.setWasShown=function(f){if(f!=this.hasShownValue&&(this.hasShownValue=f,!(this.isDesignMode||f!==!0))){for(var i=this.elements,p=0;p<i.length;p++)i[p].isPanel&&i[p].randomizeElements(this.areQuestionsRandomized);this.randomizeElements(this.areQuestionsRandomized)}},Object.defineProperty(g.prototype,"areQuestionsRandomized",{get:function(){var f=this.questionsOrder=="default"&&this.survey?this.survey.questionsOrder:this.questionsOrder;return f=="random"},enumerable:!1,configurable:!0}),g.prototype.scrollToTop=function(){this.survey&&this.survey.scrollElementToTop(this,null,this,this.id)},g.prototype.getPanels=function(f,i){f===void 0&&(f=!1),i===void 0&&(i=!1);var p=new Array;return this.addPanelsIntoList(p,f,i),p},Object.defineProperty(g.prototype,"maxTimeToFinish",{get:function(){return this.getPropertyValue("maxTimeToFinish",0)},set:function(f){this.setPropertyValue("maxTimeToFinish",f)},enumerable:!1,configurable:!0}),g.prototype.onNumChanged=function(f){},g.prototype.onVisibleChanged=function(){this.isRandomizing||(u.prototype.onVisibleChanged.call(this),this.survey!=null&&this.survey.pageVisibilityChanged(this,this.isVisible))},g.prototype.dragDropStart=function(f,i,p){p===void 0&&(p=-1),this.dragDropInfo=new C.DragDropInfo(f,i,p)},g.prototype.dragDropMoveTo=function(f,i,p){if(i===void 0&&(i=!1),p===void 0&&(p=!1),!this.dragDropInfo||(this.dragDropInfo.destination=f,this.dragDropInfo.isBottom=i,this.dragDropInfo.isEdge=p,this.correctDragDropInfo(this.dragDropInfo),!this.dragDropCanDropTagert()))return!1;if(!this.dragDropCanDropSource()||!this.dragDropAllowFromSurvey()){if(this.dragDropInfo.source){var P=this.dragDropFindRow(this.dragDropInfo.target);this.updateRowsRemoveElementFromRow(this.dragDropInfo.target,P)}return!1}return this.dragDropAddTarget(this.dragDropInfo),!0},g.prototype.correctDragDropInfo=function(f){if(f.destination){var i=f.destination.isPanel?f.destination:null;i&&(f.target.isLayoutTypeSupported(i.getChildrenLayoutType())||(f.isEdge=!0))}},g.prototype.dragDropAllowFromSurvey=function(){var f=this.dragDropInfo.destination;if(!f||!this.survey)return!0;var i=null,p=null,P=f.isPage||!this.dragDropInfo.isEdge&&f.isPanel?f:f.parent;if(!f.isPage){var m=f.parent;if(m){var y=m.elements,R=y.indexOf(f);R>-1&&(i=f,p=f,this.dragDropInfo.isBottom?i=R<y.length-1?y[R+1]:null:p=R>0?y[R-1]:null)}}var b={target:this.dragDropInfo.target,source:this.dragDropInfo.source,parent:P,insertAfter:p,insertBefore:i};return this.survey.dragAndDropAllow(b)},g.prototype.dragDropFinish=function(f){if(f===void 0&&(f=!1),!!this.dragDropInfo){var i=this.dragDropInfo.target,p=this.dragDropInfo.source,P=this.dragDropFindRow(i),m=this.dragDropGetElementIndex(i,P);this.updateRowsRemoveElementFromRow(i,P);var y=[],R=[];if(!f&&P){var b=!1;if(this.isDesignMode&&w.settings.supportCreatorV2){var c=p&&p.parent&&p.parent.dragDropFindRow(p);P.panel.elements[m]&&P.panel.elements[m].startWithNewLine&&P.elements.length>1&&(y.push(i),R.push(P.panel.elements[m])),i.startWithNewLine&&P.elements.length>1&&(!P.panel.elements[m]||!P.panel.elements[m].startWithNewLine)&&R.push(i),c&&c.elements[0]===p&&c.elements[1]&&y.push(c.elements[1]),P.elements.length<=1&&y.push(i)}p&&p.parent&&(this.survey.startMovingQuestion(),b=P.panel==p.parent,b?(P.panel.dragDropMoveElement(p,i,m),m=-1):p.parent.removeElement(p)),m>-1&&P.panel.addElement(i,m),this.survey.stopMovingQuestion()}return y.map(function(E){E.startWithNewLine=!0}),R.map(function(E){E.startWithNewLine=!1}),this.dragDropInfo=null,f?null:i}},g.prototype.dragDropGetElementIndex=function(f,i){if(!i)return-1;var p=i.elements.indexOf(f);if(i.index==0)return p;var P=i.panel.rows[i.index-1],m=P.elements[P.elements.length-1];return p+i.panel.elements.indexOf(m)+1},g.prototype.dragDropCanDropTagert=function(){var f=this.dragDropInfo.destination;return!f||f.isPage?!0:this.dragDropCanDropCore(this.dragDropInfo.target,f)},g.prototype.dragDropCanDropSource=function(){var f=this.dragDropInfo.source;if(!f)return!0;var i=this.dragDropInfo.destination;if(!this.dragDropCanDropCore(f,i))return!1;if(this.isDesignMode&&w.settings.supportCreatorV2){if(!f.startWithNewLine&&i.startWithNewLine)return!0;var p=this.dragDropFindRow(i);if(p&&p.elements.length==1)return!0}return this.dragDropCanDropNotNext(f,i,this.dragDropInfo.isEdge,this.dragDropInfo.isBottom)},g.prototype.dragDropCanDropCore=function(f,i){if(!i)return!0;if(this.dragDropIsSameElement(i,f))return!1;if(f.isPanel){var p=f;if(p.containsElement(i)||p.getElementByName(i.name))return!1}return!0},g.prototype.dragDropCanDropNotNext=function(f,i,p,P){if(!i||i.isPanel&&!p||typeof f.parent>"u"||f.parent!==i.parent)return!0;var m=f.parent,y=m.elements.indexOf(f),R=m.elements.indexOf(i);return R<y&&!P&&R--,P&&R++,y<R?R-y>1:y-R>0},g.prototype.dragDropIsSameElement=function(f,i){return f==i||f.name==i.name},g.prototype.ensureRowsVisibility=function(){u.prototype.ensureRowsVisibility.call(this),this.getPanels().forEach(function(f){return f.ensureRowsVisibility()})},x([Object(d.property)({defaultValue:-1,onSet:function(f,i){return i.onNumChanged(f)}})],g.prototype,"num",void 0),g}(C.PanelModelBase);d.Serializer.addClass("page",[{name:"navigationButtonsVisibility",default:"inherit",choices:["inherit","show","hide"]},{name:"maxTimeToFinish:number",default:0,minValue:0},{name:"navigationTitle",visibleIf:function(u){return!!u.survey&&u.survey.progressBarType==="buttons"},serializationProperty:"locNavigationTitle"},{name:"navigationDescription",visibleIf:function(u){return!!u.survey&&u.survey.progressBarType==="buttons"},serializationProperty:"locNavigationDescription"},{name:"title:text",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"}],function(){return new h},"panelbase")},"./src/panel.ts":function(a,r,t){t.r(r),t.d(r,"DragDropInfo",function(){return P}),t.d(r,"QuestionRowModel",function(){return m}),t.d(r,"PanelModelBase",function(){return y}),t.d(r,"PanelModel",function(){return R});var d=t("./src/jsonobject.ts"),C=t("./src/helpers.ts"),M=t("./src/base.ts"),w=t("./src/survey-element.ts"),S=t("./src/question.ts"),x=t("./src/questionfactory.ts"),h=t("./src/error.ts"),u=t("./src/settings.ts"),g=t("./src/utils/utils.ts"),f=t("./src/utils/cssClassBuilder.ts"),i=function(){var b=function(c,E){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,A){I.__proto__=A}||function(I,A){for(var D in A)Object.prototype.hasOwnProperty.call(A,D)&&(I[D]=A[D])},b(c,E)};return function(c,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");b(c,E);function I(){this.constructor=c}c.prototype=E===null?Object.create(E):(I.prototype=E.prototype,new I)}}(),p=function(b,c,E,I){var A=arguments.length,D=A<3?c:I===null?I=Object.getOwnPropertyDescriptor(c,E):I,O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(b,c,E,I);else for(var l=b.length-1;l>=0;l--)(O=b[l])&&(D=(A<3?O(D):A>3?O(c,E,D):O(c,E))||D);return A>3&&D&&Object.defineProperty(c,E,D),D},P=function(){function b(c,E,I){I===void 0&&(I=-1),this.source=c,this.target=E,this.nestedPanelDepth=I}return b}(),m=function(b){i(c,b);function c(E){var I=b.call(this)||this;return I.panel=E,I._scrollableParent=void 0,I._updateVisibility=void 0,I.idValue=c.getRowId(),I.visible=E.areInvisibleElementsShowing,I.createNewArray("elements"),I.createNewArray("visibleElements"),I}return c.getRowId=function(){return"pr_"+c.rowCounter++},c.prototype.startLazyRendering=function(E,I){var A=this;I===void 0&&(I=g.findScrollableParent),this._scrollableParent=I(E),this._scrollableParent===document.documentElement&&(this._scrollableParent=window);var D=this._scrollableParent.scrollHeight>this._scrollableParent.clientHeight;this.isNeedRender=!D,D&&(this._updateVisibility=function(){var O=Object(g.isElementVisible)(E,50);!A.isNeedRender&&O&&(A.isNeedRender=!0,A.stopLazyRendering())},setTimeout(function(){A._scrollableParent&&A._scrollableParent.addEventListener&&A._scrollableParent.addEventListener("scroll",A._updateVisibility),A.ensureVisibility()},10))},c.prototype.ensureVisibility=function(){this._updateVisibility&&this._updateVisibility()},c.prototype.stopLazyRendering=function(){this._scrollableParent&&this._updateVisibility&&this._scrollableParent.removeEventListener&&this._scrollableParent.removeEventListener("scroll",this._updateVisibility),this._scrollableParent=void 0,this._updateVisibility=void 0},c.prototype.setIsLazyRendering=function(E){this.isLazyRenderingValue=E,this.isNeedRender=!E},c.prototype.isLazyRendering=function(){return this.isLazyRenderingValue===!0},Object.defineProperty(c.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"elements",{get:function(){return this.getPropertyValue("elements")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"visibleElements",{get:function(){return this.getPropertyValue("visibleElements")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(E){this.setPropertyValue("visible",E)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isNeedRender",{get:function(){return this.getPropertyValue("isneedrender",!0)},set:function(E){this.setPropertyValue("isneedrender",E)},enumerable:!1,configurable:!0}),c.prototype.updateVisible=function(){var E=this.calcVisible();this.setWidth(),this.visible=E},c.prototype.addElement=function(E){this.elements.push(E),this.updateVisible()},Object.defineProperty(c.prototype,"index",{get:function(){return this.panel.rows.indexOf(this)},enumerable:!1,configurable:!0}),c.prototype.setWidth=function(){var E=this.visibleElements.length;if(E!=0){for(var I=0,A=[],D=0;D<this.elements.length;D++){var O=this.elements[D];if(this.setElementMaxMinWidth(O),O.isVisible){var l=this.getElementWidth(O);l&&(O.renderWidth=this.getRenderedWidthFromWidth(l),A.push(O)),O.rightIndent=I<E-1?1:0,I++}else O.renderWidth=""}for(var D=0;D<this.elements.length;D++){var O=this.elements[D];!O.isVisible||A.indexOf(O)>-1||(A.length==0?O.renderWidth=(100/E).toFixed(6)+"%":O.renderWidth=this.getRenderedCalcWidth(O,A,E))}}},c.prototype.setElementMaxMinWidth=function(E){E.width&&typeof E.width=="string"&&E.width.indexOf("%")===-1&&(E.minWidth=E.width,E.maxWidth=E.width)},c.prototype.getRenderedCalcWidth=function(E,I,A){for(var D="100%",O=0;O<I.length;O++)D+=" - "+I[O].renderWidth;var l=A-I.length;return l>1&&(D="("+D+")/"+l.toString()),"calc("+D+")"},c.prototype.getElementWidth=function(E){var I=E.width;return!I||typeof I!="string"?"":I.trim()},c.prototype.getRenderedWidthFromWidth=function(E){return C.Helpers.isNumber(E)?E+"px":E},c.prototype.calcVisible=function(){for(var E=[],I=0;I<this.elements.length;I++)this.elements[I].isVisible&&E.push(this.elements[I]);return this.needToUpdateVisibleElements(E)&&this.setPropertyValue("visibleElements",E),E.length>0},c.prototype.needToUpdateVisibleElements=function(E){if(E.length!==this.visibleElements.length)return!0;for(var I=0;I<E.length;I++)if(E[I]!==this.visibleElements[I])return!0;return!1},c.prototype.dispose=function(){b.prototype.dispose.call(this),this.stopLazyRendering()},c.prototype.getRowCss=function(){return new f.CssClassBuilder().append(this.panel.cssClasses.row).append(this.panel.cssClasses.rowMultiple,this.visibleElements.length>1).toString()},c.rowCounter=100,c}(M.Base),y=function(b){i(c,b);function c(E){E===void 0&&(E="");var I=b.call(this,E)||this;return I.isQuestionsReady=!1,I.questionsValue=new Array,I.isRandomizing=!1,I.createNewArray("rows"),I.elementsValue=I.createNewArray("elements",I.onAddElement.bind(I),I.onRemoveElement.bind(I)),I.id=c.getPanelId(),I.addExpressionProperty("visibleIf",function(A,D){I.visible=D===!0},function(A){return!I.areInvisibleElementsShowing}),I.addExpressionProperty("enableIf",function(A,D){I.readOnly=D===!1}),I.addExpressionProperty("requiredIf",function(A,D){I.isRequired=D===!0}),I.createLocalizableString("requiredErrorText",I),I.registerFunctionOnPropertyValueChanged("questionTitleLocation",function(){I.onVisibleChanged.bind(I),I.updateElementCss(!0)}),I.registerFunctionOnPropertiesValueChanged(["questionStartIndex","showQuestionNumbers"],function(){I.updateVisibleIndexes()}),I}return c.getPanelId=function(){return"sp_"+c.panelCounter++},c.prototype.getType=function(){return"panelbase"},c.prototype.setSurveyImpl=function(E,I){b.prototype.setSurveyImpl.call(this,E,I),this.isDesignMode&&this.onVisibleChanged();for(var A=0;A<this.elements.length;A++)this.elements[A].setSurveyImpl(E,I)},c.prototype.endLoadingFromJson=function(){b.prototype.endLoadingFromJson.call(this),this.updateDescriptionVisibility(this.description),this.markQuestionListDirty(),this.onRowsChanged()},Object.defineProperty(c.prototype,"hasTitle",{get:function(){return this.canShowTitle()&&this.title.length>0||this.showTitle&&this.isDesignMode&&u.settings.allowShowEmptyTitleInDesignMode},enumerable:!1,configurable:!0}),c.prototype.canShowTitle=function(){return!0},Object.defineProperty(c.prototype,"_showDescription",{get:function(){return this.survey&&this.survey.showPageTitles&&this.hasDescription||this.showDescription&&this.isDesignMode&&u.settings.allowShowEmptyTitleInDesignMode&&u.settings.allowShowEmptyDescriptionInDesignMode},enumerable:!1,configurable:!0}),c.prototype.localeChanged=function(){b.prototype.localeChanged.call(this);for(var E=0;E<this.elements.length;E++)this.elements[E].localeChanged()},c.prototype.locStrsChanged=function(){b.prototype.locStrsChanged.call(this);for(var E=0;E<this.elements.length;E++)this.elements[E].locStrsChanged()},Object.defineProperty(c.prototype,"requiredText",{get:function(){return this.survey!=null&&this.isRequired?this.survey.requiredText:""},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"titlePattern",{get:function(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isRequireTextOnStart",{get:function(){return this.isRequired&&this.titlePattern=="requireNumTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isRequireTextBeforeTitle",{get:function(){return this.isRequired&&this.titlePattern=="numRequireTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isRequireTextAfterTitle",{get:function(){return this.isRequired&&this.titlePattern=="numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"requiredErrorText",{get:function(){return this.getLocalizableStringText("requiredErrorText")},set:function(E){this.setLocalizableStringText("requiredErrorText",E)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"locRequiredErrorText",{get:function(){return this.getLocalizableString("requiredErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"questionsOrder",{get:function(){return this.getPropertyValue("questionsOrder")},set:function(E){this.setPropertyValue("questionsOrder",E)},enumerable:!1,configurable:!0}),c.prototype.canRandomize=function(E){return E&&this.questionsOrder!=="initial"||this.questionsOrder==="random"},c.prototype.randomizeElements=function(E){if(!(!this.canRandomize(E)||this.isRandomizing)){this.isRandomizing=!0;for(var I=[],A=this.elements,D=0;D<A.length;D++)I.push(A[D]);var O=C.Helpers.randomizeArray(I);this.setArrayPropertyDirectly("elements",O,!1),this.updateRows(),this.updateVisibleIndexes(),this.isRandomizing=!1}},Object.defineProperty(c.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(E){this.setPropertyValue("parent",E)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"depth",{get:function(){return this.parent==null?0:this.parent.depth+1},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(E){this.setPropertyValue("visibleIf",E)},enumerable:!1,configurable:!0}),c.prototype.calcCssClasses=function(E){var I={panel:{},error:{},row:"",rowMultiple:""};return this.copyCssClasses(I.panel,E.panel),this.copyCssClasses(I.error,E.error),E.row&&(I.row=E.row),E.rowMultiple&&(I.rowMultiple=E.rowMultiple),this.survey&&this.survey.updatePanelCssClasses(this,I),I},Object.defineProperty(c.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(E){this.setPropertyValue("id",E)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isPanel",{get:function(){return!1},enumerable:!1,configurable:!0}),c.prototype.getPanel=function(){return this},c.prototype.getLayoutType=function(){return"row"},c.prototype.isLayoutTypeSupported=function(E){return E!=="flow"},Object.defineProperty(c.prototype,"questions",{get:function(){if(!this.isQuestionsReady){this.questionsValue=[];for(var E=0;E<this.elements.length;E++){var I=this.elements[E];if(I.isPanel)for(var A=I.questions,D=0;D<A.length;D++)this.questionsValue.push(A[D]);else this.questionsValue.push(I)}this.isQuestionsReady=!0}return this.questionsValue},enumerable:!1,configurable:!0}),c.prototype.getValidName=function(E){return E&&E.trim()},c.prototype.getQuestionByName=function(E){for(var I=this.questions,A=0;A<I.length;A++)if(I[A].name==E)return I[A];return null},c.prototype.getElementByName=function(E){for(var I=this.elements,A=0;A<I.length;A++){var D=I[A];if(D.name==E)return D;var O=D.getPanel();if(O){var l=O.getElementByName(E);if(l)return l}}return null},c.prototype.getQuestionByValueName=function(E){for(var I=this.questions,A=0;A<I.length;A++)if(I[A].getValueName()==E)return I[A];return null},c.prototype.getValue=function(){for(var E={},I=this.questions,A=0;A<I.length;A++){var D=I[A];if(!D.isEmpty()){var O=D.getValueName();if(E[O]=D.value,this.data){var l=this.data.getComment(O);l&&(E[O+u.settings.commentPrefix]=l)}}}return E},c.prototype.getDisplayValue=function(E){for(var I={},A=this.questions,D=0;D<A.length;D++){var O=A[D];if(!O.isEmpty()){var l=E?O.title:O.getValueName();I[l]=O.getDisplayValue(E)}}return I},c.prototype.getComments=function(){var E={};if(!this.data)return E;for(var I=this.questions,A=0;A<I.length;A++){var D=I[A],O=this.data.getComment(D.getValueName());O&&(E[D.getValueName()]=O)}return E},c.prototype.clearIncorrectValues=function(){for(var E=0;E<this.elements.length;E++)this.elements[E].clearIncorrectValues()},c.prototype.clearErrors=function(){for(var E=0;E<this.elements.length;E++)this.elements[E].clearErrors();this.errors=[]},c.prototype.markQuestionListDirty=function(){this.isQuestionsReady=!1,this.parent&&this.parent.markQuestionListDirty()},Object.defineProperty(c.prototype,"elements",{get:function(){return this.elementsValue},enumerable:!1,configurable:!0}),c.prototype.getElementsInDesign=function(E){return this.elements},c.prototype.containsElement=function(E){for(var I=0;I<this.elements.length;I++){var A=this.elements[I];if(A==E)return!0;var D=A.getPanel();if(D&&D.containsElement(E))return!0}return!1},Object.defineProperty(c.prototype,"isRequired",{get:function(){return this.getPropertyValue("isRequired",!1)},set:function(E){this.setPropertyValue("isRequired",E)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"requiredIf",{get:function(){return this.getPropertyValue("requiredIf","")},set:function(E){this.setPropertyValue("requiredIf",E)},enumerable:!1,configurable:!0}),c.prototype.searchText=function(E,I){b.prototype.searchText.call(this,E,I);for(var A=0;A<this.elements.length;A++)this.elements[A].searchText(E,I)},c.prototype.hasErrors=function(E,I,A){return E===void 0&&(E=!0),I===void 0&&(I=!1),A===void 0&&(A=null),A=A||{fireCallback:E,focuseOnFirstError:I,firstErrorQuestion:null,result:!1},this.hasErrorsCore(A),A.firstErrorQuestion&&A.firstErrorQuestion.focus(!0),A.result},c.prototype.hasErrorsInPanels=function(E){var I=[];if(this.hasRequiredError(E,I),this.survey){var A=this.survey.validatePanel(this);A&&(I.push(A),E.result=!0)}E.fireCallback&&(this.survey&&this.survey.beforeSettingPanelErrors(this,I),this.errors=I)},c.prototype.getErrorCustomText=function(E,I){return this.survey?this.survey.getSurveyErrorCustomText(this,E,I):E},c.prototype.hasRequiredError=function(E,I){if(this.isRequired){var A=[];if(this.addQuestionsToList(A,!0),A.length!=0){for(var D=0;D<A.length;D++)if(!A[D].isEmpty())return;E.result=!0,I.push(new h.OneAnswerRequiredError(this.requiredErrorText,this)),E.focuseOnFirstError&&!E.firstErrorQuestion&&(E.firstErrorQuestion=A[0])}}},c.prototype.hasErrorsCore=function(E){for(var I=this.elements,A=null,D=0;D<I.length;D++)if(A=I[D],!!A.isVisible)if(A.isPanel)A.hasErrorsCore(E);else{var O=A;if(O.isReadOnly)continue;O.hasErrors(E.fireCallback,E)&&(E.focuseOnFirstError&&E.firstErrorQuestion==null&&(E.firstErrorQuestion=O),E.result=!0)}this.hasErrorsInPanels(E),this.updateContainsErrors()},c.prototype.getContainsErrors=function(){var E=b.prototype.getContainsErrors.call(this);if(E)return E;for(var I=this.elements,A=0;A<I.length;A++)if(I[A].containsErrors)return!0;return!1},c.prototype.updateElementVisibility=function(){for(var E=0;E<this.elements.length;E++){var I=this.elements[E];I.setPropertyValue("isVisible",I.isVisible),I.isPanel&&I.updateElementVisibility()}},c.prototype.getFirstQuestionToFocus=function(E){E===void 0&&(E=!1);for(var I=this.elements,A=0;A<I.length;A++){var D=I[A];if(D.isVisible)if(D.isPanel){var O=D.getFirstQuestionToFocus(E);if(O)return O}else{var l=D;if(l.hasInput&&(!E||l.currentErrorCount>0))return l}}return null},c.prototype.focusFirstQuestion=function(){var E=this.getFirstQuestionToFocus();E&&E.focus()},c.prototype.focusFirstErrorQuestion=function(){var E=this.getFirstQuestionToFocus(!0);E&&E.focus()},c.prototype.addQuestionsToList=function(E,I,A){I===void 0&&(I=!1),A===void 0&&(A=!1),this.addElementsToList(E,I,A,!1)},c.prototype.addPanelsIntoList=function(E,I,A){I===void 0&&(I=!1),A===void 0&&(A=!1),this.addElementsToList(E,I,A,!0)},c.prototype.addElementsToList=function(E,I,A,D){I&&!this.visible||this.addElementsToListCore(E,this.elements,I,A,D)},c.prototype.addElementsToListCore=function(E,I,A,D,O){for(var l=0;l<I.length;l++){var o=I[l];A&&!o.visible||((O&&o.isPanel||!O&&!o.isPanel)&&E.push(o),o.isPanel?o.addElementsToListCore(E,o.elements,A,D,O):D&&this.addElementsToListCore(E,o.getElementsInDesign(!1),A,D,O))}},Object.defineProperty(c.prototype,"isActive",{get:function(){return!this.survey||this.survey.currentPage==this.root},enumerable:!1,configurable:!0}),c.prototype.updateCustomWidgets=function(){for(var E=0;E<this.elements.length;E++)this.elements[E].updateCustomWidgets()},Object.defineProperty(c.prototype,"questionTitleLocation",{get:function(){return this.getPropertyValue("questionTitleLocation")},set:function(E){this.setPropertyValue("questionTitleLocation",E.toLowerCase())},enumerable:!1,configurable:!0}),c.prototype.getQuestionTitleLocation=function(){return this.onGetQuestionTitleLocation?this.onGetQuestionTitleLocation():this.questionTitleLocation!="default"?this.questionTitleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"},c.prototype.getStartIndex=function(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""},c.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},c.prototype.getChildrenLayoutType=function(){return"row"},c.prototype.getProgressInfo=function(){return w.SurveyElement.getProgressInfoByElements(this.elements,this.isRequired)},Object.defineProperty(c.prototype,"root",{get:function(){for(var E=this;E.parent;)E=E.parent;return E},enumerable:!1,configurable:!0}),c.prototype.childVisibilityChanged=function(){var E=this.getIsPageVisible(null),I=this.getPropertyValue("isVisible",!0);E!==I&&this.onVisibleChanged()},c.prototype.createRowAndSetLazy=function(E){var I=this.createRow();return I.setIsLazyRendering(this.isLazyRenderInRow(E)),I},c.prototype.createRow=function(){return new m(this)},c.prototype.onSurveyLoad=function(){for(var E=0;E<this.elements.length;E++)this.elements[E].onSurveyLoad();this.onElementVisibilityChanged(this)},c.prototype.onFirstRendering=function(){b.prototype.onFirstRendering.call(this);for(var E=0;E<this.elements.length;E++)this.elements[E].onFirstRendering();this.onRowsChanged()},c.prototype.updateRows=function(){if(!this.isLoadingFromJson){for(var E=0;E<this.elements.length;E++)this.elements[E].isPanel&&this.elements[E].updateRows();this.onRowsChanged()}},Object.defineProperty(c.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},enumerable:!1,configurable:!0}),c.prototype.ensureRowsVisibility=function(){this.rows.forEach(function(E){E.ensureVisibility()})},c.prototype.onRowsChanged=function(){this.isLoadingFromJson||this.setArrayPropertyDirectly("rows",this.buildRows())},c.prototype.onAddElement=function(E,I){if(E.setSurveyImpl(this.surveyImpl),E.parent=this,this.markQuestionListDirty(),this.updateRowsOnElementAdded(E,I),E.isPanel){var A=E;this.survey&&this.survey.panelAdded(A,I,this,this.root)}else if(this.survey){var D=E;this.survey.questionAdded(D,I,this,this.root)}this.addElementCallback&&this.addElementCallback(E);var O=this;E.registerFunctionOnPropertiesValueChanged(["visible","isVisible"],function(){O.onElementVisibilityChanged(E)},this.id),E.registerFunctionOnPropertyValueChanged("startWithNewLine",function(){O.onElementStartWithNewLineChanged(E)},this.id),this.onElementVisibilityChanged(this)},c.prototype.onRemoveElement=function(E){E.parent=null,this.markQuestionListDirty(),E.unRegisterFunctionOnPropertiesValueChanged(["visible","isVisible","startWithNewLine"],this.id),this.updateRowsOnElementRemoved(E),!this.isRandomizing&&(E.isPanel?this.survey&&this.survey.panelRemoved(E):this.survey&&this.survey.questionRemoved(E),this.removeElementCallback&&this.removeElementCallback(E),this.onElementVisibilityChanged(this))},c.prototype.onElementVisibilityChanged=function(E){this.isLoadingFromJson||this.isRandomizing||(this.updateRowsVisibility(E),this.childVisibilityChanged(),this.parent&&this.parent.onElementVisibilityChanged(this))},c.prototype.onElementStartWithNewLineChanged=function(E){this.onRowsChanged()},c.prototype.updateRowsVisibility=function(E){for(var I=this.rows,A=0;A<I.length;A++){var D=I[A];if(D.elements.indexOf(E)>-1){D.updateVisible(),D.visible&&!D.isNeedRender&&(D.isNeedRender=!0);break}}},c.prototype.canBuildRows=function(){return!this.isLoadingFromJson&&this.getChildrenLayoutType()=="row"},c.prototype.buildRows=function(){if(!this.canBuildRows())return[];for(var E=new Array,I=0;I<this.elements.length;I++){var A=this.elements[I],D=I==0||A.startWithNewLine,O=D?this.createRowAndSetLazy(E.length):E[E.length-1];D&&E.push(O),O.addElement(A)}for(var I=0;I<E.length;I++)E[I].updateVisible();return E},c.prototype.isLazyRenderInRow=function(E){return!this.survey||!this.survey.isLazyRendering?!1:E>=u.settings.lazyRowsRenderingStartRow||!this.canRenderFirstRows()},c.prototype.canRenderFirstRows=function(){return this.isPage},c.prototype.updateRowsOnElementAdded=function(E,I){if(this.canBuildRows()){var A=new P(null,E);A.target=E,A.isEdge=this.elements.length>1,this.elements.length<2?A.destination=this:(A.isBottom=I>0,I==0?A.destination=this.elements[1]:A.destination=this.elements[I-1]),this.dragDropAddTargetToRow(A,null)}},c.prototype.updateRowsOnElementRemoved=function(E){this.canBuildRows()&&this.updateRowsRemoveElementFromRow(E,this.findRowByElement(E))},c.prototype.updateRowsRemoveElementFromRow=function(E,I){if(!(!I||!I.panel)){var A=I.elements.indexOf(E);A<0||(I.elements.splice(A,1),I.elements.length>0?I.updateVisible():I.index>=0&&I.panel.rows.splice(I.index,1))}},c.prototype.findRowByElement=function(E){for(var I=this.rows,A=0;A<I.length;A++)if(I[A].elements.indexOf(E)>-1)return I[A];return null},c.prototype.elementWidthChanged=function(E){if(!this.isLoadingFromJson){var I=this.findRowByElement(E);I&&I.updateVisible()}},Object.defineProperty(c.prototype,"processedTitle",{get:function(){return this.getRenderedTitle(this.locTitle.textOrHtml)},enumerable:!1,configurable:!0}),c.prototype.getRenderedTitle=function(E){return this.textProcessor!=null?this.textProcessor.processText(E,!0):E},Object.defineProperty(c.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(E){E!==this.visible&&(this.setPropertyValue("visible",E),this.setPropertyValue("isVisible",this.isVisible),this.isLoadingFromJson||this.onVisibleChanged())},enumerable:!1,configurable:!0}),c.prototype.onVisibleChanged=function(){if(!this.isRandomizing&&(this.setPropertyValue("isVisible",this.isVisible),this.survey&&this.survey.isClearValueOnHiddenContainer&&!this.isLoadingFromJson))for(var E=this.questions,I=0;I<E.length;I++)this.isVisible?E[I].updateValueWithDefaults():E[I].clearValueIfInvisible()},Object.defineProperty(c.prototype,"isVisible",{get:function(){return this.areInvisibleElementsShowing||this.getIsPageVisible(null)},enumerable:!1,configurable:!0}),c.prototype.getIsPageVisible=function(E){if(!this.visible)return!1;for(var I=0;I<this.elements.length;I++)if(this.elements[I]!=E&&this.elements[I].isVisible)return!0;return!1},c.prototype.setVisibleIndex=function(E){if(!this.isVisible||E<0)return this.resetVisibleIndexes(),0;this.lastVisibleIndex=E;var I=E;E+=this.beforeSetVisibleIndex(E);for(var A=this.getPanelStartIndex(E),D=A,O=0;O<this.elements.length;O++)D+=this.elements[O].setVisibleIndex(D);return this.isContinueNumbering()&&(E+=D-A),E-I},c.prototype.updateVisibleIndexes=function(){this.lastVisibleIndex!==void 0&&(this.resetVisibleIndexes(),this.setVisibleIndex(this.lastVisibleIndex))},c.prototype.resetVisibleIndexes=function(){for(var E=0;E<this.elements.length;E++)this.elements[E].setVisibleIndex(-1)},c.prototype.beforeSetVisibleIndex=function(E){return 0},c.prototype.getPanelStartIndex=function(E){return E},c.prototype.isContinueNumbering=function(){return!0},Object.defineProperty(c.prototype,"isReadOnly",{get:function(){var E=!!this.parent&&this.parent.isReadOnly,I=!!this.survey&&this.survey.isDisplayMode;return this.readOnly||E||I},enumerable:!1,configurable:!0}),c.prototype.onReadOnlyChanged=function(){for(var E=0;E<this.elements.length;E++){var I=this.elements[E];I.setPropertyValue("isReadOnly",I.isReadOnly)}b.prototype.onReadOnlyChanged.call(this)},c.prototype.updateElementCss=function(E){b.prototype.updateElementCss.call(this,E);for(var I=0;I<this.elements.length;I++){var A=this.elements[I];A.updateElementCss(E)}},Object.defineProperty(c.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(E){this.setPropertyValue("enableIf",E)},enumerable:!1,configurable:!0}),c.prototype.addElement=function(E,I){return I===void 0&&(I=-1),this.canAddElement(E)?(I<0||I>=this.elements.length?this.elements.push(E):this.elements.splice(I,0,E),!0):!1},c.prototype.insertElementAfter=function(E,I){var A=this.elements.indexOf(I);A>=0&&this.addElement(E,A+1)},c.prototype.insertElementBefore=function(E,I){var A=this.elements.indexOf(I);A>=0&&this.addElement(E,A)},c.prototype.canAddElement=function(E){return!!E&&E.isLayoutTypeSupported(this.getChildrenLayoutType())},c.prototype.addQuestion=function(E,I){return I===void 0&&(I=-1),this.addElement(E,I)},c.prototype.addPanel=function(E,I){return I===void 0&&(I=-1),this.addElement(E,I)},c.prototype.addNewQuestion=function(E,I,A){I===void 0&&(I=null),A===void 0&&(A=-1);var D=x.QuestionFactory.Instance.createQuestion(E,I);return this.addQuestion(D,A)?D:null},c.prototype.addNewPanel=function(E){E===void 0&&(E=null);var I=this.createNewPanel(E);return this.addPanel(I)?I:null},c.prototype.indexOf=function(E){return this.elements.indexOf(E)},c.prototype.createNewPanel=function(E){var I=d.Serializer.createClass("panel");return I.name=E,I},c.prototype.removeElement=function(E){var I=this.elements.indexOf(E);if(I<0){for(var A=0;A<this.elements.length;A++)if(this.elements[A].removeElement(E))return!0;return!1}return this.elements.splice(I,1),!0},c.prototype.removeQuestion=function(E){this.removeElement(E)},c.prototype.runCondition=function(E,I){if(!(this.isDesignMode||this.isLoadingFromJson)){for(var A=this.elements.slice(),D=0;D<A.length;D++)A[D].runCondition(E,I);this.runConditionCore(E,I)}},c.prototype.onAnyValueChanged=function(E){for(var I=this.elements,A=0;A<I.length;A++)I[A].onAnyValueChanged(E)},c.prototype.checkBindings=function(E,I){for(var A=this.elements,D=0;D<A.length;D++)A[D].checkBindings(E,I)},c.prototype.dragDropAddTarget=function(E){var I=this.dragDropFindRow(E.target);this.dragDropAddTargetToRow(E,I)&&this.updateRowsRemoveElementFromRow(E.target,I)},c.prototype.dragDropFindRow=function(E){if(!E||E.isPage)return null;for(var I=E,A=this.rows,D=0;D<A.length;D++)if(A[D].elements.indexOf(I)>-1)return A[D];for(var D=0;D<this.elements.length;D++){var O=this.elements[D].getPanel();if(O){var l=O.dragDropFindRow(I);if(l)return l}}return null},c.prototype.dragDropAddTargetToRow=function(E,I){if(!E.destination||this.dragDropAddTargetToEmptyPanel(E))return!0;var A=E.destination,D=this.dragDropFindRow(A);return D?u.settings.supportCreatorV2&&this.isDesignMode?D.elements.length>1?this.dragDropAddTargetToExistingRow(E,D,I):this.dragDropAddTargetToNewRow(E,D,I):E.target.startWithNewLine?this.dragDropAddTargetToNewRow(E,D,I):this.dragDropAddTargetToExistingRow(E,D,I):!0},c.prototype.dragDropAddTargetToEmptyPanel=function(E){if(E.destination.isPage)return this.dragDropAddTargetToEmptyPanelCore(this.root,E.target,E.isBottom),!0;var I=E.destination;if(I.isPanel&&!E.isEdge){var A=I;if(E.target.template===I)return!1;if(E.nestedPanelDepth<0||E.nestedPanelDepth>=A.depth)return this.dragDropAddTargetToEmptyPanelCore(I,E.target,E.isBottom),!0}return!1},c.prototype.dragDropAddTargetToExistingRow=function(E,I,A){var D=I.elements.indexOf(E.destination);if(D==0&&!E.isBottom&&!(this.isDesignMode&&u.settings.supportCreatorV2)){if(I.elements[0].startWithNewLine)return I.index>0?(E.isBottom=!0,I=I.panel.rows[I.index-1],E.destination=I.elements[I.elements.length-1],this.dragDropAddTargetToExistingRow(E,I,A)):this.dragDropAddTargetToNewRow(E,I,A)}var O=-1;A==I&&(O=I.elements.indexOf(E.target)),E.isBottom&&D++;var l=this.findRowByElement(E.source);return l==I&&l.elements.indexOf(E.source)==D||D==O?!1:(O>-1&&(I.elements.splice(O,1),O<D&&D--),I.elements.splice(D,0,E.target),I.updateVisible(),O<0)},c.prototype.dragDropAddTargetToNewRow=function(E,I,A){var D=I.panel.createRowAndSetLazy(I.panel.rows.length);this.isDesignMode&&u.settings.supportCreatorV2&&D.setIsLazyRendering(!1),D.addElement(E.target);var O=I.index;if(E.isBottom&&O++,A&&A.panel==D.panel&&A.index==O)return!1;var l=this.findRowByElement(E.source);return l&&l.panel==D.panel&&l.elements.length==1&&l.index==O?!1:(I.panel.rows.splice(O,0,D),!0)},c.prototype.dragDropAddTargetToEmptyPanelCore=function(E,I,A){var D=E.createRow();D.addElement(I),E.elements.length==0||A?E.rows.push(D):E.rows.splice(0,0,D)},c.prototype.dragDropMoveElement=function(E,I,A){var D=E.parent.elements.indexOf(E);A>D&&A--,this.removeElement(E),this.addElement(I,A)},c.prototype.needResponsiveWidth=function(){var E=!1;return this.elements.forEach(function(I){I.needResponsiveWidth()&&(E=!0)}),this.rows.forEach(function(I){I.elements.length>1&&(E=!0)}),E},Object.defineProperty(c.prototype,"hasDescriptionUnderTitle",{get:function(){return this.hasDescription},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"cssHeader",{get:function(){return this.cssClasses.panel.header},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"cssDescription",{get:function(){return this.cssClasses.panel.description},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"no",{get:function(){return""},enumerable:!1,configurable:!0}),c.prototype.dispose=function(){if(b.prototype.dispose.call(this),this.rows){for(var E=0;E<this.rows.length;E++)this.rows[E].dispose();this.rows.splice(0,this.rows.length)}for(var E=0;E<this.elements.length;E++)this.elements[E].dispose();this.elements.splice(0,this.elements.length)},c.panelCounter=100,p([Object(d.property)({defaultValue:!0})],c.prototype,"showTitle",void 0),p([Object(d.property)({defaultValue:!0})],c.prototype,"showDescription",void 0),c}(w.SurveyElement),R=function(b){i(c,b);function c(E){E===void 0&&(E="");var I=b.call(this,E)||this;I.focusIn=function(){I.survey.whenPanelFocusIn(I)};var A=I;return I.createNewArray("footerActions"),I.registerFunctionOnPropertyValueChanged("width",function(){A.parent&&A.parent.elementWidthChanged(A)}),I.registerFunctionOnPropertiesValueChanged(["indent","innerIndent","rightIndent"],function(){A.onIndentChanged()}),I}return c.prototype.getType=function(){return"panel"},Object.defineProperty(c.prototype,"contentId",{get:function(){return this.id+"_content"},enumerable:!1,configurable:!0}),c.prototype.getSurvey=function(E){return E===void 0&&(E=!1),E?this.parent?this.parent.getSurvey(E):null:b.prototype.getSurvey.call(this,E)},c.prototype.onSurveyLoad=function(){b.prototype.onSurveyLoad.call(this),this.onIndentChanged()},c.prototype.onSetData=function(){b.prototype.onSetData.call(this),this.onIndentChanged()},Object.defineProperty(c.prototype,"isPanel",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"page",{get:function(){return this.getPage(this.parent)},set:function(E){this.setPage(this.parent,E)},enumerable:!1,configurable:!0}),c.prototype.delete=function(){this.parent&&this.removeSelfFromList(this.parent.elements)},c.prototype.moveTo=function(E,I){return I===void 0&&(I=null),this.moveToBase(this.parent,E,I)},Object.defineProperty(c.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},enumerable:!1,configurable:!0}),c.prototype.getTitleOwner=function(){return this},Object.defineProperty(c.prototype,"showNumber",{get:function(){return this.getPropertyValue("showNumber",!1)},set:function(E){this.setPropertyValue("showNumber",E),this.notifySurveyOnVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(E){this.setPropertyValue("showQuestionNumbers",E),this.notifySurveyOnVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"questionStartIndex",{get:function(){return this.getPropertyValue("questionStartIndex","")},set:function(E){this.setPropertyValue("questionStartIndex",E)},enumerable:!1,configurable:!0}),c.prototype.getQuestionStartIndex=function(){return this.questionStartIndex?this.questionStartIndex:b.prototype.getQuestionStartIndex.call(this)},Object.defineProperty(c.prototype,"no",{get:function(){return this.getPropertyValue("no","")},enumerable:!1,configurable:!0}),c.prototype.setNo=function(E){this.setPropertyValue("no",C.Helpers.getNumberByIndex(this.visibleIndex,this.getStartIndex()))},c.prototype.beforeSetVisibleIndex=function(E){var I=-1;return this.showNumber&&(this.isDesignMode||!this.locTitle.isEmpty)&&(I=E),this.setPropertyValue("visibleIndex",I),this.setNo(I),I<0?0:1},c.prototype.getPanelStartIndex=function(E){return this.showQuestionNumbers=="off"?-1:this.showQuestionNumbers=="onpanel"?0:E},c.prototype.isContinueNumbering=function(){return this.showQuestionNumbers!="off"&&this.showQuestionNumbers!="onpanel"},c.prototype.notifySurveyOnVisibilityChanged=function(){this.survey!=null&&!this.isLoadingFromJson&&this.survey.panelVisibilityChanged(this,this.isVisible)},c.prototype.hasErrorsCore=function(E){b.prototype.hasErrorsCore.call(this,E),this.isCollapsed&&E.result&&E.fireCallback&&this.expand()},c.prototype.getRenderedTitle=function(E){if(!E){if(this.isCollapsed||this.isExpanded)return this.name;if(this.isDesignMode)return"["+this.name+"]"}return b.prototype.getRenderedTitle.call(this,E)},Object.defineProperty(c.prototype,"innerIndent",{get:function(){return this.getPropertyValue("innerIndent")},set:function(E){this.setPropertyValue("innerIndent",E)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"startWithNewLine",{get:function(){return this.getPropertyValue("startWithNewLine")},set:function(E){this.setPropertyValue("startWithNewLine",E)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"allowAdaptiveActions",{get:function(){return this.getPropertyValue("allowAdaptiveActions")},set:function(E){this.setPropertyValue("allowAdaptiveActions",E)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"innerPaddingLeft",{get:function(){return this.getPropertyValue("innerPaddingLeft","")},set:function(E){this.setPropertyValue("innerPaddingLeft",E)},enumerable:!1,configurable:!0}),c.prototype.onIndentChanged=function(){this.getSurvey()&&(this.innerPaddingLeft=this.getIndentSize(this.innerIndent),this.paddingLeft=this.getIndentSize(this.indent),this.paddingRight=this.getIndentSize(this.rightIndent))},c.prototype.getIndentSize=function(E){if(E<1)return"";var I=this.survey.css;return!I||!I.question.indent?"":E*I.question.indent+"px"},c.prototype.clearOnDeletingContainer=function(){this.elements.forEach(function(E){(E instanceof S.Question||E instanceof c)&&E.clearOnDeletingContainer()})},Object.defineProperty(c.prototype,"footerActions",{get:function(){return this.getPropertyValue("footerActions")},enumerable:!1,configurable:!0}),c.prototype.getFooterToolbar=function(){var E=this;if(!this.footerToolbarValue){var I=this.footerActions;this.hasEditButton&&I.push({id:"cancel-preview",title:this.survey.editText,innerCss:this.survey.cssNavigationEdit,action:function(){E.cancelPreview()}}),this.footerToolbarValue=this.createActionContainer(this.allowAdaptiveActions),this.cssClasses.panel&&(this.footerToolbarValue.containerCss=this.cssClasses.panel.footer),this.footerToolbarValue.setItems(I)}return this.footerToolbarValue},Object.defineProperty(c.prototype,"hasEditButton",{get:function(){return this.survey&&this.survey.state==="preview"?this.depth===1:!1},enumerable:!1,configurable:!0}),c.prototype.cancelPreview=function(){this.hasEditButton&&this.survey.cancelPreviewByPage(this)},Object.defineProperty(c.prototype,"cssTitle",{get:function(){return new f.CssClassBuilder().append(this.cssClasses.panel.title).append(this.cssClasses.panel.titleExpandable,this.state!=="default").append(this.cssClasses.panel.titleExpanded,this.isExpanded).append(this.cssClasses.panel.titleCollapsed,this.isCollapsed).append(this.cssClasses.panel.titleOnError,this.containsErrors).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"cssError",{get:function(){return this.getCssError(this.cssClasses)},enumerable:!1,configurable:!0}),c.prototype.getCssError=function(E){var I=new f.CssClassBuilder().append(this.cssClasses.error.root);return I.append("panel-error-root",I.isEmpty()).toString()},c.prototype.onVisibleChanged=function(){b.prototype.onVisibleChanged.call(this),this.notifySurveyOnVisibilityChanged()},c.prototype.needResponsiveWidth=function(){return this.startWithNewLine?b.prototype.needResponsiveWidth.call(this):!0},c.prototype.getContainerCss=function(){return new f.CssClassBuilder().append(this.cssClasses.panel.container).append(this.cssClasses.panel.withFrame,this.hasFrameV2).append(this.cssClasses.panel.nested,!!(this.parent&&this.parent.isPanel&&!this.isDesignMode)).append(this.cssClasses.panel.collapsed,!!this.isCollapsed).append(this.cssClasses.panel.invisible,!this.isDesignMode&&this.areInvisibleElementsShowing&&!this.visible).toString()},c}(y);d.Serializer.addClass("panelbase",["name",{name:"elements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"visible:switch",default:!0},"visibleIf:condition","enableIf:condition","requiredIf:condition","readOnly:boolean",{name:"questionTitleLocation",default:"default",choices:["default","top","bottom","left","hidden"]},{name:"title:text",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"},{name:"questionsOrder",default:"default",choices:["default","initial","random"]}],function(){return new y}),d.Serializer.addClass("panel",[{name:"state",default:"default",choices:["default","collapsed","expanded"]},"isRequired:switch",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"startWithNewLine:boolean",default:!0},"width",{name:"minWidth",default:u.settings.minWidth},{name:"maxWidth",default:u.settings.maxWidth},{name:"innerIndent:number",default:0,choices:[0,1,2,3]},{name:"indent:number",default:0,choices:[0,1,2,3]},{name:"page",isSerializable:!1,visibleIf:function(b){var c=b?b.survey:null;return!c||!c.pages||c.pages.length>1},choices:function(b){var c=b?b.survey:null;return c?c.pages.map(function(E){return{value:E.name,text:E.title}}):[]}},"showNumber:boolean",{name:"showQuestionNumbers",default:"default",choices:["default","onpanel","off"]},"questionStartIndex",{name:"allowAdaptiveActions:boolean",default:!0,visible:!1}],function(){return new R},"panelbase"),x.ElementFactory.Instance.registerElement("panel",function(b){return new R(b)})},"./src/popup.ts":function(a,r,t){t.r(r),t.d(r,"PopupModel",function(){return u}),t.d(r,"createPopupModalViewModel",function(){return g}),t.d(r,"PopupBaseViewModel",function(){return i});var d=t("./src/base.ts"),C=t("./src/jsonobject.ts"),M=t("./src/surveyStrings.ts"),w=t("./src/utils/popup.ts"),S=t("./src/utils/cssClassBuilder.ts"),x=function(){var p=function(P,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,R){y.__proto__=R}||function(y,R){for(var b in R)Object.prototype.hasOwnProperty.call(R,b)&&(y[b]=R[b])},p(P,m)};return function(P,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");p(P,m);function y(){this.constructor=P}P.prototype=m===null?Object.create(m):(y.prototype=m.prototype,new y)}}(),h=function(p,P,m,y){var R=arguments.length,b=R<3?P:y===null?y=Object.getOwnPropertyDescriptor(P,m):y,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(p,P,m,y);else for(var E=p.length-1;E>=0;E--)(c=p[E])&&(b=(R<3?c(b):R>3?c(P,m,b):c(P,m))||b);return R>3&&b&&Object.defineProperty(P,m,b),b},u=function(p){x(P,p);function P(m,y,R,b,c,E,I,A,D,O,l,o){R===void 0&&(R="bottom"),b===void 0&&(b="left"),c===void 0&&(c=!0),E===void 0&&(E=!1),I===void 0&&(I=function(){}),A===void 0&&(A=function(){return!0}),D===void 0&&(D=function(){}),O===void 0&&(O=function(){}),l===void 0&&(l=""),o===void 0&&(o="");var v=p.call(this)||this;return v.contentComponentName=m,v.contentComponentData=y,v.verticalPosition=R,v.horizontalPosition=b,v.showPointer=c,v.isModal=E,v.onCancel=I,v.onApply=A,v.onHide=D,v.onShow=O,v.cssClass=l,v.title=o,v}return Object.defineProperty(P.prototype,"isVisible",{get:function(){return this.getPropertyValue("isVisible",!1)},set:function(m){if(this.isVisible!==m)if(this.setPropertyValue("isVisible",m),this.onVisibilityChanged&&this.onVisibilityChanged(m),this.isVisible){var y=this.contentComponentData.model;y&&y.refresh&&y.refresh(),this.onShow()}else this.onHide()},enumerable:!1,configurable:!0}),P.prototype.toggleVisibility=function(){this.isVisible=!this.isVisible},h([Object(C.property)()],P.prototype,"contentComponentName",void 0),h([Object(C.property)()],P.prototype,"contentComponentData",void 0),h([Object(C.property)({defaultValue:"bottom"})],P.prototype,"verticalPosition",void 0),h([Object(C.property)({defaultValue:"left"})],P.prototype,"horizontalPosition",void 0),h([Object(C.property)({defaultValue:!1})],P.prototype,"showPointer",void 0),h([Object(C.property)({defaultValue:!1})],P.prototype,"isModal",void 0),h([Object(C.property)({defaultValue:function(){}})],P.prototype,"onCancel",void 0),h([Object(C.property)({defaultValue:function(){return!0}})],P.prototype,"onApply",void 0),h([Object(C.property)({defaultValue:function(){}})],P.prototype,"onHide",void 0),h([Object(C.property)({defaultValue:function(){}})],P.prototype,"onShow",void 0),h([Object(C.property)({defaultValue:""})],P.prototype,"cssClass",void 0),h([Object(C.property)({defaultValue:""})],P.prototype,"title",void 0),h([Object(C.property)({defaultValue:"popup"})],P.prototype,"displayMode",void 0),h([Object(C.property)({defaultValue:"contentWidth"})],P.prototype,"widthMode",void 0),P}(d.Base);function g(p,P,m,y,R,b,c,E,I){R===void 0&&(R=function(){}),b===void 0&&(b=function(){}),I===void 0&&(I="popup");var A=new u(p,P,"top","left",!1,!0,y,m,R,b,c,E);A.displayMode=I;var D=new i(A,void 0);return D.initializePopupContainer(),D}var f='input:not(:disabled):not([readonly]):not([type=hidden]),select:not(:disabled):not([readonly]),textarea:not(:disabled):not([readonly]), button:not(:disabled):not([readonly]), [tabindex]:not([tabindex^="-"])',i=function(p){x(P,p);function P(m,y){var R=p.call(this)||this;return R.targetElement=y,R.scrollEventCallBack=function(){return R.hidePopup()},R.model=m,R}return P.prototype.hidePopup=function(){this.model.isVisible=!1},Object.defineProperty(P.prototype,"model",{get:function(){return this._model},set:function(m){var y=this;this.model&&this.model.unRegisterFunctionOnPropertiesValueChanged(["isVisible"],"PopupBaseViewModel"),this._model=m;var R=function(){m.isVisible||y.updateOnHiding(),y.isVisible=m.isVisible};m.registerFunctionOnPropertyValueChanged("isVisible",R,"PopupBaseViewModel"),R()},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"title",{get:function(){return this.model.title},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"contentComponentName",{get:function(){return this.model.contentComponentName},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"contentComponentData",{get:function(){return this.model.contentComponentData},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"showPointer",{get:function(){return this.model.showPointer&&!this.isOverlay&&!this.isModal},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isModal",{get:function(){return this.model.isModal},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"showFooter",{get:function(){return this.isModal||this.isOverlay},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isOverlay",{get:function(){return this.model.displayMode==="overlay"},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"styleClass",{get:function(){return new S.CssClassBuilder().append(this.model.cssClass).append("sv-popup--modal",this.isModal&&!this.isOverlay).append("sv-popup--dropdown",!this.isModal&&!this.isOverlay).append("sv-popup--show-pointer",!this.isModal&&!this.isOverlay&&this.showPointer).append("sv-popup--".concat(this.popupDirection),!this.isModal&&!this.isOverlay&&this.showPointer).append("sv-popup--".concat(this.model.displayMode),this.isOverlay).toString()},enumerable:!1,configurable:!0}),P.prototype.onKeyDown=function(m){m.key==="Tab"||m.keyCode===9?this.trapFocus(m):(m.key==="Escape"||m.keyCode===27)&&(this.isModal&&this.model.onCancel(),this.hidePopup())},P.prototype.trapFocus=function(m){var y=this.container.querySelectorAll(f),R=y[0],b=y[y.length-1];m.shiftKey?document.activeElement===R&&(b.focus(),m.preventDefault()):document.activeElement===b&&(R.focus(),m.preventDefault())},P.prototype.updateOnShowing=function(){this.prevActiveElement=document.activeElement,(!this.isModal||this.isOverlay)&&this.updatePosition(),this.focusFirstInput(),this.isModal||window.addEventListener("scroll",this.scrollEventCallBack)},P.prototype.updateOnHiding=function(){this.prevActiveElement&&this.prevActiveElement.focus(),this.isModal||window.removeEventListener("scroll",this.scrollEventCallBack)},P.prototype.updatePosition=function(){if(this.model.displayMode!=="overlay"){var m=this.targetElement.getBoundingClientRect(),y=this.container.children[0],R=y.children[0],b=y.children[0].querySelector(".sv-popup__scrolling-content"),c=window.getComputedStyle(R),E=parseFloat(c.marginLeft)||0,I=parseFloat(c.marginRight)||0,A=E+I,D=R.offsetHeight-b.offsetHeight+b.scrollHeight,O=this.model.width||R.getBoundingClientRect().width,l=O+A;this.width=this.model.widthMode==="fixedWidth"&&this.model.width?this.model.width+"px":"auto",this.height="auto";var o=this.model.verticalPosition;window&&(D=Math.ceil(Math.min(D,window.innerHeight*.9)),o=w.PopupUtils.updateVerticalPosition(m,D,this.model.verticalPosition,this.model.showPointer,window.innerHeight)),this.popupDirection=w.PopupUtils.calculatePopupDirection(o,this.model.horizontalPosition);var v=w.PopupUtils.calculatePosition(m,D,l,o,this.model.horizontalPosition,this.showPointer);if(window){var T=w.PopupUtils.updateVerticalDimensions(v.top,D,window.innerHeight);T&&(this.height=T.height+"px",v.top=T.top);var L=w.PopupUtils.updateHorizontalDimensions(v.left,l,window.innerWidth,this.model.horizontalPosition);L&&(v.left=L.left)}this.left=v.left+"px",this.top=v.top+"px",this.showPointer&&(this.pointerTarget=w.PopupUtils.calculatePointerTarget(m,v.top,v.left,o,this.model.horizontalPosition,E,I)),this.pointerTarget.top+="px",this.pointerTarget.left+="px"}else this.left=null,this.top=null,this.height=null,this.width=null},P.prototype.focusFirstInput=function(){var m=this;setTimeout(function(){var y=m.container.querySelector(f);y?y.focus():m.container.children[0].focus()},100)},P.prototype.clickOutside=function(){this.isModal||this.hidePopup()},P.prototype.cancel=function(){this.model.onCancel(),this.hidePopup()},P.prototype.apply=function(){this.model.onApply&&!this.model.onApply()||this.hidePopup()},Object.defineProperty(P.prototype,"cancelButtonText",{get:function(){return M.surveyLocalization.getString("modalCancelButtonText")},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"applyButtonText",{get:function(){return M.surveyLocalization.getString("modalApplyButtonText")},enumerable:!1,configurable:!0}),P.prototype.dispose=function(){p.prototype.dispose.call(this),this.unmountPopupContainer(),this.container=void 0,this.model.onVisibilityChanged=void 0},P.prototype.initializePopupContainer=function(){if(!this.container){var m=document.createElement("div");this.container=m}document.body.appendChild(this.container)},P.prototype.unmountPopupContainer=function(){this.container.remove()},h([Object(C.property)({defaultValue:"0px"})],P.prototype,"top",void 0),h([Object(C.property)({defaultValue:"0px"})],P.prototype,"left",void 0),h([Object(C.property)({defaultValue:"auto"})],P.prototype,"height",void 0),h([Object(C.property)({defaultValue:"auto"})],P.prototype,"width",void 0),h([Object(C.property)({defaultValue:!1})],P.prototype,"isVisible",void 0),h([Object(C.property)({defaultValue:"left"})],P.prototype,"popupDirection",void 0),h([Object(C.property)({defaultValue:{left:"0px",top:"0px"}})],P.prototype,"pointerTarget",void 0),P}(d.Base)},"./src/question.ts":function(a,r,t){t.r(r),t.d(r,"Question",function(){return y});var d=t("./src/helpers.ts"),C=t("./src/jsonobject.ts"),M=t("./src/survey-element.ts"),w=t("./src/error.ts"),S=t("./src/validator.ts"),x=t("./src/localizablestring.ts"),h=t("./src/conditions.ts"),u=t("./src/questionCustomWidgets.ts"),g=t("./src/settings.ts"),f=t("./src/rendererFactory.ts"),i=t("./src/utils/cssClassBuilder.ts"),p=t("./src/utils/utils.ts"),P=function(){var R=function(b,c){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,I){E.__proto__=I}||function(E,I){for(var A in I)Object.prototype.hasOwnProperty.call(I,A)&&(E[A]=I[A])},R(b,c)};return function(b,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");R(b,c);function E(){this.constructor=b}b.prototype=c===null?Object.create(c):(E.prototype=c.prototype,new E)}}(),m=function(R,b,c,E){var I=arguments.length,A=I<3?b:E===null?E=Object.getOwnPropertyDescriptor(b,c):E,D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(R,b,c,E);else for(var O=R.length-1;O>=0;O--)(D=R[O])&&(A=(I<3?D(A):I>3?D(b,c,A):D(b,c))||A);return I>3&&A&&Object.defineProperty(b,c,A),A},y=function(R){P(b,R);function b(c){var E=R.call(this,c)||this;return E.customWidgetData={isNeedRender:!0},E.isReadyValue=!0,E.onReadyChanged=E.addEvent(),E.parentQuestionValue=null,E.focusIn=function(){E.survey.whenQuestionFocusIn(E)},E.isRunningValidatorsValue=!1,E.isValueChangedInSurvey=!1,E.allowNotifyValueChanged=!0,E.id=b.getQuestionId(),E.onCreating(),E.createNewArray("validators",function(I){I.errorOwner=E}),E.addExpressionProperty("visibleIf",function(I,A){E.visible=A===!0},function(I){return!E.areInvisibleElementsShowing}),E.addExpressionProperty("enableIf",function(I,A){E.readOnly=A===!1}),E.addExpressionProperty("requiredIf",function(I,A){E.isRequired=A===!0}),E.createLocalizableString("commentText",E,!0,"otherItemText"),E.createLocalizableString("comment,Text",E,!0,"otherItemText"),E.locTitle.onGetDefaultTextCallback=function(){return E.name},E.createLocalizableString("requiredErrorText",E),E.registerFunctionOnPropertyValueChanged("width",function(){E.updateQuestionCss(),E.parent&&E.parent.elementWidthChanged(E)}),E.registerFunctionOnPropertyValueChanged("isRequired",function(){E.locTitle.onChanged(),E.clearCssClasses()}),E.registerFunctionOnPropertiesValueChanged(["indent","rightIndent"],function(){E.onIndentChanged()}),E.registerFunctionOnPropertiesValueChanged(["hasComment","hasOther"],function(){E.initCommentFromSurvey()}),E.registerFunctionOnPropertyValueChanged("isMobile",function(){E.onMobileChanged()}),E}return b.getQuestionId=function(){return"sq_"+b.questionCounter++},b.prototype.isReadOnlyRenderDiv=function(){return this.isReadOnly&&g.settings.readOnlyCommentRenderMode==="div"},b.prototype.createLocTitleProperty=function(){var c=this,E=R.prototype.createLocTitleProperty.call(this);return E.onGetTextCallback=function(I){return I||(I=c.name),c.survey?c.survey.getUpdatedQuestionTitle(c,I):I},this.locProcessedTitle=new x.LocalizableString(this,!0),this.locProcessedTitle.sharedData=E,E},b.prototype.getSurvey=function(c){return c===void 0&&(c=!1),c?this.parent?this.parent.getSurvey(c):null:this.onGetSurvey?this.onGetSurvey():R.prototype.getSurvey.call(this)},b.prototype.getValueName=function(){return this.valueName?this.valueName.toString():this.name},Object.defineProperty(b.prototype,"valueName",{get:function(){return this.getPropertyValue("valueName","")},set:function(c){var E=this.getValueName();this.setPropertyValue("valueName",c),this.onValueNameChanged(E)},enumerable:!1,configurable:!0}),b.prototype.onValueNameChanged=function(c){this.survey&&(this.survey.questionRenamed(this,this.name,c||this.name),this.initDataFromSurvey())},b.prototype.onNameChanged=function(c){this.locTitle.onChanged(),this.survey&&this.survey.questionRenamed(this,c,this.valueName?this.valueName:c)},Object.defineProperty(b.prototype,"isReady",{get:function(){return this.isReadyValue},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"ariaRequired",{get:function(){return this.isRequired?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"ariaLabel",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"ariaInvalid",{get:function(){return this.errors.length>0?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"ariaDescribedBy",{get:function(){return this.errors.length>0?this.id+"_errors":null},enumerable:!1,configurable:!0}),b.prototype.choicesLoaded=function(){},Object.defineProperty(b.prototype,"page",{get:function(){return this.getPage(this.parent)},set:function(c){this.setPage(this.parent,c)},enumerable:!1,configurable:!0}),b.prototype.getPanel=function(){return null},b.prototype.delete=function(){this.parent&&this.removeSelfFromList(this.parent.elements)},Object.defineProperty(b.prototype,"isFlowLayout",{get:function(){return this.getLayoutType()==="flow"},enumerable:!1,configurable:!0}),b.prototype.getLayoutType=function(){return this.parent?this.parent.getChildrenLayoutType():"row"},b.prototype.isLayoutTypeSupported=function(c){return c!=="flow"},Object.defineProperty(b.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(c){c!=this.visible&&(this.setPropertyValue("visible",c),this.onVisibleChanged(),this.notifySurveyVisibilityChanged())},enumerable:!1,configurable:!0}),b.prototype.onVisibleChanged=function(){this.setPropertyValue("isVisible",this.isVisible),!this.isVisible&&this.errors&&this.errors.length>0&&(this.errors=[])},Object.defineProperty(b.prototype,"useDisplayValuesInTitle",{get:function(){return this.getPropertyValue("useDisplayValuesInTitle")},set:function(c){this.setPropertyValue("useDisplayValuesInTitle",c)},enumerable:!1,configurable:!0}),b.prototype.getUseDisplayValuesInTitle=function(){return this.useDisplayValuesInTitle},Object.defineProperty(b.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(c){this.setPropertyValue("visibleIf",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"isVisible",{get:function(){return this.survey&&this.survey.areEmptyElementsHidden&&this.isEmpty()?!1:this.visible||this.areInvisibleElementsShowing},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"hideNumber",{get:function(){return this.getPropertyValue("hideNumber")},set:function(c){this.setPropertyValue("hideNumber",c),this.notifySurveyVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"isAllowTitleLeft",{get:function(){return!0},enumerable:!1,configurable:!0}),b.prototype.getType=function(){return"question"},Object.defineProperty(b.prototype,"isQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),b.prototype.moveTo=function(c,E){return E===void 0&&(E=null),this.moveToBase(this.parent,c,E)},b.prototype.getProgressInfo=function(){return this.hasInput?{questionCount:1,answeredQuestionCount:this.isEmpty()?0:1,requiredQuestionCount:this.isRequired?1:0,requiredAnsweredQuestionCount:!this.isEmpty()&&this.isRequired?1:0}:R.prototype.getProgressInfo.call(this)},b.prototype.runConditions=function(){this.data&&!this.isLoadingFromJson&&(this.isDesignMode||this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties()),this.locStrsChanged())},b.prototype.setSurveyImpl=function(c,E){R.prototype.setSurveyImpl.call(this,c),this.survey&&(this.survey.questionCreated(this),E!==!0&&this.runConditions())},Object.defineProperty(b.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(c){this.parent!==c&&(this.delete(),this.setPropertyValue("parent",c),this.updateQuestionCss(),this.onParentChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"parentQuestion",{get:function(){return this.parentQuestionValue},enumerable:!1,configurable:!0}),b.prototype.setParentQuestion=function(c){this.parentQuestionValue=c,this.onParentQuestionChanged()},b.prototype.onParentQuestionChanged=function(){},b.prototype.onParentChanged=function(){},Object.defineProperty(b.prototype,"hasTitle",{get:function(){return this.getTitleLocation()!=="hidden"},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"titleLocation",{get:function(){return this.getPropertyValue("titleLocation")},set:function(c){var E=this.titleLocation=="hidden"||c=="hidden";this.setPropertyValue("titleLocation",c.toLowerCase()),this.updateQuestionCss(),E&&this.notifySurveyVisibilityChanged()},enumerable:!1,configurable:!0}),b.prototype.getTitleOwner=function(){return this},b.prototype.notifySurveyVisibilityChanged=function(){!this.survey||this.isLoadingFromJson||(this.survey.questionVisibilityChanged(this,this.isVisible),this.isClearValueOnHidden&&(this.visible||this.clearValueIfInvisible(),this.isVisible&&this.updateValueWithDefaults()))},b.prototype.getTitleLocation=function(){if(this.isFlowLayout)return"hidden";var c=this.getTitleLocationCore();return c==="left"&&!this.isAllowTitleLeft&&(c="top"),c},b.prototype.getTitleLocationCore=function(){return this.titleLocation!=="default"?this.titleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"},Object.defineProperty(b.prototype,"hasTitleOnLeft",{get:function(){return this.hasTitle&&this.getTitleLocation()==="left"},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"hasTitleOnTop",{get:function(){return this.hasTitle&&this.getTitleLocation()==="top"},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"hasTitleOnBottom",{get:function(){return this.hasTitle&&this.getTitleLocation()==="bottom"},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"hasTitleOnLeftTop",{get:function(){if(!this.hasTitle)return!1;var c=this.getTitleLocation();return c==="left"||c==="top"},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"errorLocation",{get:function(){return this.survey?this.survey.questionErrorLocation:"top"},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"hasInput",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"hasSingleInput",{get:function(){return this.hasInput},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"inputId",{get:function(){return this.id+"i"},enumerable:!1,configurable:!0}),b.prototype.getDefaultTitleValue=function(){return this.name},b.prototype.getDefaultTitleTagName=function(){return g.settings.titleTags.question},Object.defineProperty(b.prototype,"descriptionLocation",{get:function(){return this.getPropertyValue("descriptionLocation")},set:function(c){this.setPropertyValue("descriptionLocation",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"hasDescriptionUnderTitle",{get:function(){return this.getDescriptionLocation()=="underTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"hasDescriptionUnderInput",{get:function(){return this.getDescriptionLocation()=="underInput"},enumerable:!1,configurable:!0}),b.prototype.getDescriptionLocation=function(){return this.descriptionLocation!=="default"?this.descriptionLocation:this.survey?this.survey.questionDescriptionLocation:"underTitle"},b.prototype.needClickTitleFunction=function(){return R.prototype.needClickTitleFunction.call(this)||this.hasInput},b.prototype.processTitleClick=function(){var c=this;if(R.prototype.processTitleClick.call(this),!this.isCollapsed)return setTimeout(function(){c.focus()},1),!0},Object.defineProperty(b.prototype,"requiredErrorText",{get:function(){return this.getLocalizableStringText("requiredErrorText")},set:function(c){this.setLocalizableStringText("requiredErrorText",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"locRequiredErrorText",{get:function(){return this.getLocalizableString("requiredErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"commentText",{get:function(){return this.getLocalizableStringText("commentText")},set:function(c){this.setLocalizableStringText("commentText",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"locCommentText",{get:function(){return this.getLocalizableString("commentText")},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"commentOrOtherPlaceHolder",{get:function(){return this.otherPlaceHolder||this.commentPlaceHolder},enumerable:!1,configurable:!0}),b.prototype.getAllErrors=function(){return this.errors.slice()},b.prototype.getErrorByType=function(c){for(var E=0;E<this.errors.length;E++)if(this.errors[E].getErrorType()===c)return this.errors[E];return null},Object.defineProperty(b.prototype,"customWidget",{get:function(){return!this.isCustomWidgetRequested&&!this.customWidgetValue&&(this.isCustomWidgetRequested=!0,this.updateCustomWidget()),this.customWidgetValue},enumerable:!1,configurable:!0}),b.prototype.updateCustomWidget=function(){this.customWidgetValue=u.CustomWidgetCollection.Instance.getCustomWidget(this)},b.prototype.localeChanged=function(){R.prototype.localeChanged.call(this),this.localeChangedCallback&&this.localeChangedCallback()},Object.defineProperty(b.prototype,"isCompositeQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),b.prototype.updateCommentElement=function(){this.commentElement&&this.autoGrowComment&&Object(p.increaseHeightByContent)(this.commentElement)},b.prototype.onCommentInput=function(c){this.isInputTextUpdate?c.target&&(this.comment=c.target.value):this.updateCommentElement()},b.prototype.onCommentChange=function(c){this.comment=c.target.value,this.comment!==c.target.value&&(c.target.value=this.comment)},b.prototype.afterRenderQuestionElement=function(c){!this.survey||!this.hasSingleInput||this.survey.afterRenderQuestionInput(this,c)},b.prototype.afterRender=function(c){this.survey&&(this.survey.afterRenderQuestion(this,c),this.afterRenderQuestionCallback&&this.afterRenderQuestionCallback(this,c),(this.supportComment()||this.supportOther())&&(this.commentElement=document.getElementById(this.id)&&document.getElementById(this.id).querySelector("textarea")||null,this.updateCommentElement()),this.checkForResponsiveness(c))},b.prototype.beforeDestroyQuestionElement=function(c){},Object.defineProperty(b.prototype,"processedTitle",{get:function(){var c=this.locProcessedTitle.textOrHtml;return c||this.name},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"fullTitle",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"titlePattern",{get:function(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"isRequireTextOnStart",{get:function(){return this.isRequired&&this.titlePattern=="requireNumTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"isRequireTextBeforeTitle",{get:function(){return this.isRequired&&this.titlePattern=="numRequireTitle"&&this.requiredText!==""},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"isRequireTextAfterTitle",{get:function(){return this.isRequired&&this.titlePattern=="numTitleRequire"&&this.requiredText!==""},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"startWithNewLine",{get:function(){return this.getPropertyValue("startWithNewLine")},set:function(c){this.startWithNewLine!=c&&this.setPropertyValue("startWithNewLine",c)},enumerable:!1,configurable:!0}),b.prototype.calcCssClasses=function(c){var E={error:{}};return this.copyCssClasses(E,c.question),this.copyCssClasses(E.error,c.error),this.updateCssClasses(E,c),this.survey&&this.survey.updateQuestionCssClasses(this,E),E},Object.defineProperty(b.prototype,"cssRoot",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssRoot","")},enumerable:!1,configurable:!0}),b.prototype.setCssRoot=function(c){this.setPropertyValue("cssRoot",c)},b.prototype.getCssRoot=function(c){return new i.CssClassBuilder().append(this.isFlowLayout&&!this.isDesignMode?c.flowRoot:c.mainRoot).append(c.titleLeftRoot,!this.isFlowLayout&&this.hasTitleOnLeft).append(c.hasError,this.errors.length>0).append(c.small,!this.width).append(c.answered,this.isAnswered).append(c.collapsed,!!this.isCollapsed).append(c.withFrame,this.hasFrameV2).append(c.nested,!this.hasFrameV2&&!this.isDesignMode).append(c.invisible,!this.isDesignMode&&this.areInvisibleElementsShowing&&!this.visible).toString()},Object.defineProperty(b.prototype,"cssHeader",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssHeader","")},enumerable:!1,configurable:!0}),b.prototype.setCssHeader=function(c){this.setPropertyValue("cssHeader",c)},b.prototype.getCssHeader=function(c){return new i.CssClassBuilder().append(c.header).append(c.headerTop,this.hasTitleOnTop).append(c.headerLeft,this.hasTitleOnLeft).append(c.headerBottom,this.hasTitleOnBottom).toString()},Object.defineProperty(b.prototype,"cssContent",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssContent","")},enumerable:!1,configurable:!0}),b.prototype.setCssContent=function(c){this.setPropertyValue("cssContent",c)},b.prototype.getCssContent=function(c){return new i.CssClassBuilder().append(c.content).append(c.contentLeft,this.hasTitleOnLeft).toString()},Object.defineProperty(b.prototype,"cssTitle",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssTitle","")},enumerable:!1,configurable:!0}),b.prototype.setCssTitle=function(c){this.setPropertyValue("cssTitle",c)},b.prototype.getCssTitle=function(c){return new i.CssClassBuilder().append(c.title).append(c.titleExpandable,this.isCollapsed||this.isExpanded).append(c.titleExpanded,this.isExpanded).append(c.titleCollapsed,this.isCollapsed).append(c.titleOnError,this.containsErrors).append(c.titleOnAnswer,!this.containsErrors&&this.isAnswered).toString()},Object.defineProperty(b.prototype,"cssDescription",{get:function(){return this.ensureElementCss(),this.cssClasses.description},enumerable:!1,configurable:!0}),b.prototype.setCssDescription=function(c){this.setPropertyValue("cssDescription","")},b.prototype.getCssDescription=function(c){return new i.CssClassBuilder().append(this.cssClasses.descriptionUnderInput,this.hasDescriptionUnderInput).append(this.cssClasses.description,this.hasDescriptionUnderTitle).toString()},Object.defineProperty(b.prototype,"cssError",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssError","")},enumerable:!1,configurable:!0}),b.prototype.setCssError=function(c){this.setPropertyValue("cssError",c)},b.prototype.getCssError=function(c){return new i.CssClassBuilder().append(c.error.root).append(c.error.aboveQuestion,this.isErrorsModeTooltip&&!this.hasParent).append(c.error.tooltip,this.isErrorsModeTooltip&&this.hasParent).append(c.error.locationTop,!this.isErrorsModeTooltip&&this.errorLocation==="top").append(c.error.locationBottom,!this.isErrorsModeTooltip&&this.errorLocation==="bottom").toString()},b.prototype.getRootCss=function(){return new i.CssClassBuilder().append(this.cssRoot).append(this.cssClasses.disabled,this.isReadOnly).toString()},b.prototype.updateElementCss=function(c){R.prototype.updateElementCss.call(this,c),c&&this.updateQuestionCss(!0),this.onIndentChanged()},b.prototype.updateQuestionCss=function(c){this.isLoadingFromJson||!this.survey||c!==!0&&!this.cssClassesValue||this.updateElementCssCore(this.cssClasses)},b.prototype.ensureElementCss=function(){this.cssClassesValue||this.updateQuestionCss(!0)},b.prototype.updateElementCssCore=function(c){this.setCssRoot(this.getCssRoot(c)),this.setCssHeader(this.getCssHeader(c)),this.setCssContent(this.getCssContent(c)),this.setCssTitle(this.getCssTitle(c)),this.setCssDescription(this.getCssDescription(c)),this.setCssError(this.getCssError(c))},b.prototype.updateCssClasses=function(c,E){if(E.question){var I=E[this.getCssType()],A=new i.CssClassBuilder().append(c.title).append(E.question.titleRequired,this.isRequired);c.title=A.toString();var D=new i.CssClassBuilder().append(c.root).append(I,this.isRequired&&!!E.question.required);if(I==null)c.root=D.toString();else if(typeof I=="string"||I instanceof String)c.root=D.append(I.toString()).toString();else{c.root=D.toString();for(var O in I)c[O]=I[O]}}},b.prototype.getCssType=function(){return this.getType()},Object.defineProperty(b.prototype,"renderCssRoot",{get:function(){return this.cssClasses.root||void 0},enumerable:!1,configurable:!0}),b.prototype.onIndentChanged=function(){this.paddingLeft=this.getIndentSize(this.indent),this.paddingRight=this.getIndentSize(this.rightIndent)},b.prototype.getIndentSize=function(c){return c<1||!this.getSurvey()||!this.cssClasses||!this.cssClasses.indent?"":c*this.cssClasses.indent+"px"},b.prototype.focus=function(c){if(c===void 0&&(c=!1),!this.isDesignMode){this.survey&&this.survey.scrollElementToTop(this,this,null,this.id);var E=c?this.getFirstErrorInputElementId():this.getFirstInputElementId();M.SurveyElement.FocusElement(E)&&this.fireCallback(this.focusCallback)}},b.prototype.fireCallback=function(c){c&&c()},b.prototype.getOthersMaxLength=function(){return this.survey&&this.survey.maxOthersLength>0?this.survey.maxOthersLength:null},b.prototype.onCreating=function(){},b.prototype.getFirstInputElementId=function(){return this.inputId},b.prototype.getFirstErrorInputElementId=function(){return this.getFirstInputElementId()},b.prototype.getProcessedTextValue=function(c){var E=c.name.toLocaleLowerCase();c.isExists=Object.keys(b.TextPreprocessorValuesMap).indexOf(E)!==-1||this[c.name]!==void 0,c.value=this[b.TextPreprocessorValuesMap[E]||c.name]},b.prototype.supportComment=function(){return!1},b.prototype.supportOther=function(){return!1},Object.defineProperty(b.prototype,"isRequired",{get:function(){return this.getPropertyValue("isRequired")},set:function(c){this.setPropertyValue("isRequired",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"requiredIf",{get:function(){return this.getPropertyValue("requiredIf","")},set:function(c){this.setPropertyValue("requiredIf",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"hasComment",{get:function(){return this.getPropertyValue("hasComment",!1)},set:function(c){this.supportComment()&&(this.setPropertyValue("hasComment",c),this.hasComment&&(this.hasOther=!1))},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(c){this.setPropertyValue("id",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"ariaTitleId",{get:function(){return this.id+"_ariaTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"ariaRole",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"hasOther",{get:function(){return this.getPropertyValue("hasOther",!1)},set:function(c){!this.supportOther()||this.hasOther==c||(this.setPropertyValue("hasOther",c),this.hasOther&&(this.hasComment=!1),this.hasOtherChanged())},enumerable:!1,configurable:!0}),b.prototype.hasOtherChanged=function(){},Object.defineProperty(b.prototype,"requireUpdateCommentValue",{get:function(){return this.hasComment||this.hasOther},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"isReadOnly",{get:function(){var c=!!this.parent&&this.parent.isReadOnly,E=!!this.parentQuestion&&this.parentQuestion.isReadOnly,I=!!this.survey&&this.survey.isDisplayMode;return this.readOnly||c||I||E},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"isInputReadOnly",{get:function(){var c=g.settings.supportCreatorV2&&this.isDesignMode;return this.isReadOnly||c},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"renderedInputReadOnly",{get:function(){return this.isInputReadOnly?"":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"renderedInputDisabled",{get:function(){return this.isInputReadOnly?"":void 0},enumerable:!1,configurable:!0}),b.prototype.onReadOnlyChanged=function(){this.setPropertyValue("isInputReadOnly",this.isInputReadOnly),R.prototype.onReadOnlyChanged.call(this)},Object.defineProperty(b.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(c){this.setPropertyValue("enableIf",c)},enumerable:!1,configurable:!0}),b.prototype.surveyChoiceItemVisibilityChange=function(){},b.prototype.runCondition=function(c,E){this.isDesignMode||(E||(E={}),E.question=this,this.runConditionCore(c,E),this.isValueChangedDirectly||(this.defaultValueRunner=this.getDefaultRunner(this.defaultValueRunner,this.defaultValueExpression),this.runDefaultValueExpression(this.defaultValueRunner,c,E)))},Object.defineProperty(b.prototype,"no",{get:function(){return this.getPropertyValue("no")},enumerable:!1,configurable:!0}),b.prototype.calcNo=function(){if(!this.hasTitle||this.hideNumber)return"";var c=d.Helpers.getNumberByIndex(this.visibleIndex,this.getStartIndex());return this.survey&&(c=this.survey.getUpdatedQuestionNo(this,c)),c},b.prototype.getStartIndex=function(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""},b.prototype.onSurveyLoad=function(){this.fireCallback(this.surveyLoadCallback),this.updateValueWithDefaults(),this.isEmpty()&&this.initDataFromSurvey()},b.prototype.onSetData=function(){R.prototype.onSetData.call(this),this.survey&&(this.initDataFromSurvey(),this.onSurveyValueChanged(this.value),this.updateValueWithDefaults(),this.onIndentChanged(),this.updateQuestionCss(),this.updateIsAnswered())},b.prototype.initDataFromSurvey=function(){if(this.data){var c=this.data.getValue(this.getValueName());(!d.Helpers.isValueEmpty(c)||!this.isLoadingFromJson)&&this.updateValueFromSurvey(c),this.initCommentFromSurvey()}},b.prototype.initCommentFromSurvey=function(){this.data&&this.requireUpdateCommentValue?this.updateCommentFromSurvey(this.data.getComment(this.getValueName())):this.updateCommentFromSurvey("")},b.prototype.runExpression=function(c){if(!(!this.survey||!c))return this.survey.runExpression(c)},Object.defineProperty(b.prototype,"autoGrowComment",{get:function(){return this.survey&&this.survey.autoGrowComment},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"questionValue",{get:function(){return this.getPropertyValue("value")},set:function(c){this.setPropertyValue("value",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"questionComment",{get:function(){return this.getPropertyValue("comment")},set:function(c){this.setPropertyValue("comment",c),this.fireCallback(this.commentChangedCallback)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"value",{get:function(){return this.getValueCore()},set:function(c){this.setNewValue(c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"valueForSurvey",{get:function(){return this.valueToDataCallback?this.valueToDataCallback(this.value):this.value},enumerable:!1,configurable:!0}),b.prototype.clearValue=function(){this.value!==void 0&&(this.value=void 0),this.comment=void 0},b.prototype.unbindValue=function(){this.clearValue()},b.prototype.createValueCopy=function(){return this.getUnbindValue(this.value)},b.prototype.getUnbindValue=function(c){return this.isValueSurveyElement(c)?c:d.Helpers.getUnbindValue(c)},b.prototype.isValueSurveyElement=function(c){return c?Array.isArray(c)?c.length>0?this.isValueSurveyElement(c[0]):!1:!!c.getType&&!!c.onPropertyChanged:!1},b.prototype.canClearValueAsInvisible=function(){return this.isVisible&&this.isParentVisible||this.page&&this.page.isStarted?!1:!this.survey||!this.valueName?!0:!this.survey.hasVisibleQuestionByValueName(this.valueName)},Object.defineProperty(b.prototype,"isParentVisible",{get:function(){for(var c=this.parent;c;){if(!c.isVisible)return!1;c=c.parent}return!0},enumerable:!1,configurable:!0}),b.prototype.clearValueIfInvisible=function(c){c===void 0&&(c="onHidden"),this.clearIfInvisible!=="none"&&(c==="onHidden"&&this.clearIfInvisible==="onComplete"||c==="none"&&(this.clearIfInvisible==="default"||this.clearIfInvisible==="none")||this.clearValueIfInvisibleCore())},b.prototype.clearValueIfInvisibleCore=function(){this.canClearValueAsInvisible()&&this.clearValue()},Object.defineProperty(b.prototype,"clearIfInvisible",{get:function(){return this.getPropertyValue("clearIfInvisible")},set:function(c){this.setPropertyValue("clearIfInvisible",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"displayValue",{get:function(){return this.isLoadingFromJson?"":this.getDisplayValue(!0)},enumerable:!1,configurable:!0}),b.prototype.getDisplayValue=function(c,E){E===void 0&&(E=void 0);var I=this.calcDisplayValue(c,E);return this.displayValueCallback?this.displayValueCallback(I):I},b.prototype.calcDisplayValue=function(c,E){if(E===void 0&&(E=void 0),this.customWidget){var I=this.customWidget.getDisplayValue(this,E);if(I)return I}return E=E??this.createValueCopy(),this.isValueEmpty(E)?this.getDisplayValueEmpty():this.getDisplayValueCore(c,E)},b.prototype.getDisplayValueCore=function(c,E){return E},b.prototype.getDisplayValueEmpty=function(){return""},Object.defineProperty(b.prototype,"defaultValue",{get:function(){return this.getPropertyValue("defaultValue")},set:function(c){if(this.isValueExpression(c)){this.defaultValueExpression=c.substr(1);return}this.setPropertyValue("defaultValue",this.convertDefaultValue(c)),this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"defaultValueExpression",{get:function(){return this.getPropertyValue("defaultValueExpression")},set:function(c){this.setPropertyValue("defaultValueExpression",c),this.defaultValueRunner=void 0,this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"resizeStyle",{get:function(){return this.autoGrowComment?"none":"both"},enumerable:!1,configurable:!0}),b.prototype.getPlainData=function(c){var E=this;if(c||(c={includeEmpty:!0,includeQuestionTypes:!1}),c.includeEmpty||!this.isEmpty()){var I={name:this.name,title:this.locTitle.renderedHtml,value:this.value,displayValue:this.displayValue,isNode:!1,getString:function(A){return typeof A=="object"?JSON.stringify(A):A}};return c.includeQuestionTypes===!0&&(I.questionType=this.getType()),(c.calculations||[]).forEach(function(A){I[A.propertyName]=E[A.propertyName]}),this.hasComment&&(I.isNode=!0,I.data=[{name:0,isComment:!0,title:"Comment",value:g.settings.commentPrefix,displayValue:this.comment,getString:function(A){return typeof A=="object"?JSON.stringify(A):A},isNode:!1}]),I}},Object.defineProperty(b.prototype,"correctAnswer",{get:function(){return this.getPropertyValue("correctAnswer")},set:function(c){this.setPropertyValue("correctAnswer",this.convertDefaultValue(c))},enumerable:!1,configurable:!0}),b.prototype.convertDefaultValue=function(c){return c},Object.defineProperty(b.prototype,"quizQuestionCount",{get:function(){return this.isVisible&&this.hasInput&&!this.isValueEmpty(this.correctAnswer)?this.getQuizQuestionCount():0},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"correctAnswerCount",{get:function(){return!this.isEmpty()&&!this.isValueEmpty(this.correctAnswer)?this.getCorrectAnswerCount():0},enumerable:!1,configurable:!0}),b.prototype.getQuizQuestionCount=function(){return 1},b.prototype.getCorrectAnswerCount=function(){return this.isTwoValueEquals(this.value,this.correctAnswer,!0,!0)?1:0},b.prototype.isAnswerCorrect=function(){return this.correctAnswerCount==this.quizQuestionCount},b.prototype.updateValueWithDefaults=function(){this.isLoadingFromJson||!this.isDesignMode&&this.isDefaultValueEmpty()||!this.isDesignMode&&!this.isEmpty()||this.isEmpty()&&this.isDefaultValueEmpty()||this.isClearValueOnHidden&&!this.isVisible||this.isDesignMode&&this.isContentElement&&this.isDefaultValueEmpty()||this.setDefaultValue()},Object.defineProperty(b.prototype,"isClearValueOnHidden",{get:function(){return this.clearIfInvisible==="none"||this.clearIfInvisible==="onComplete"?!1:this.clearIfInvisible==="onHidden"?!0:!!this.survey&&this.survey.isClearValueOnHidden},enumerable:!1,configurable:!0}),b.prototype.getQuestionFromArray=function(c,E){return null},b.prototype.getDefaultValue=function(){return this.defaultValue},b.prototype.isDefaultValueEmpty=function(){return!this.defaultValueExpression&&this.isValueEmpty(this.defaultValue)},b.prototype.getDefaultRunner=function(c,E){return!c&&E&&(c=new h.ExpressionRunner(E)),c&&(c.expression=E),c},b.prototype.setDefaultValue=function(){var c=this;this.defaultValueRunner=this.getDefaultRunner(this.defaultValueRunner,this.defaultValueExpression),this.setValueAndRunExpression(this.defaultValueRunner,this.getUnbindValue(this.defaultValue),function(E){c.value=E})},b.prototype.isValueExpression=function(c){return!!c&&typeof c=="string"&&c.length>0&&c[0]=="="},b.prototype.setValueAndRunExpression=function(c,E,I,A,D){var O=this;A===void 0&&(A=null),D===void 0&&(D=null);var l=function(o){O.runExpressionSetValue(o,I)};this.runDefaultValueExpression(c,A,D,l)||l(E)},b.prototype.runExpressionSetValue=function(c,E){c instanceof Date&&(c=c.toISOString().slice(0,10)),E(c)},b.prototype.runDefaultValueExpression=function(c,E,I,A){var D=this;return E===void 0&&(E=null),I===void 0&&(I=null),!c||!this.data?!1:(A||(A=function(O){D.runExpressionSetValue(O,function(l){D.value=l})}),E||(E=this.data.getFilteredValues()),I||(I=this.data.getFilteredProperties()),c&&c.canRun&&(c.onRunComplete=function(O){O==null&&(O=D.defaultValue),D.isChangingViaDefaultValue=!0,A(O),D.isChangingViaDefaultValue=!1},c.run(E,I)),!0)},Object.defineProperty(b.prototype,"comment",{get:function(){return this.getQuestionComment()},set:function(c){if(c){var E=c.toString().trim();E!==c&&(c=E,c===this.comment&&this.setPropertyValueDirectly("comment",c))}this.comment!=c&&(this.setQuestionComment(c),this.updateCommentElement())},enumerable:!1,configurable:!0}),b.prototype.getQuestionComment=function(){return this.questionComment},b.prototype.setQuestionComment=function(c){this.setNewComment(c)},b.prototype.isEmpty=function(){return this.isValueEmpty(this.value)},Object.defineProperty(b.prototype,"isAnswered",{get:function(){return this.getPropertyValue("isAnswered")},set:function(c){this.setPropertyValue("isAnswered",c)},enumerable:!1,configurable:!0}),b.prototype.updateIsAnswered=function(){var c=this.isAnswered;this.setPropertyValue("isAnswered",this.getIsAnswered()),c!==this.isAnswered&&this.updateQuestionCss()},b.prototype.getIsAnswered=function(){return!this.isEmpty()},Object.defineProperty(b.prototype,"validators",{get:function(){return this.getPropertyValue("validators")},set:function(c){this.setPropertyValue("validators",c)},enumerable:!1,configurable:!0}),b.prototype.getValidators=function(){return this.validators},b.prototype.getSupportedValidators=function(){for(var c=[],E=this.getType();E;){var I=g.settings.supportedValidators[E];if(I)for(var A=I.length-1;A>=0;A--)c.splice(0,0,I[A]);var D=C.Serializer.findClass(E);E=D.parentName}return c},b.prototype.addSupportedValidators=function(c,E){},b.prototype.addConditionObjectsByContext=function(c,E){c.push({name:this.getValueName(),text:this.processedTitle,question:this})},b.prototype.getConditionJson=function(c,E){var I=new C.JsonObject().toJsonObject(this);return I.type=this.getType(),I},b.prototype.hasErrors=function(c,E){c===void 0&&(c=!0),E===void 0&&(E=null);var I=this.errors.length>0,A=this.checkForErrors(!!E&&E.isOnValueChanged===!0);return c&&(this.survey&&this.survey.beforeSettingQuestionErrors(this,A),this.errors=A),this.updateContainsErrors(),I!=A.length>0&&this.updateQuestionCss(),this.isCollapsed&&E&&c&&A.length>0&&this.expand(),A.length>0},Object.defineProperty(b.prototype,"currentErrorCount",{get:function(){return this.errors.length},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"requiredText",{get:function(){return this.survey!=null&&this.isRequired?this.survey.requiredText:""},enumerable:!1,configurable:!0}),b.prototype.addError=function(c){if(c){var E=null;typeof c=="string"||c instanceof String?E=new w.CustomError(c,this.survey):E=c,this.errors.push(E)}},b.prototype.removeError=function(c){var E=this.errors,I=E.indexOf(c);I!==-1&&E.splice(I,1)},b.prototype.checkForErrors=function(c){var E=new Array;return this.isVisible&&this.canCollectErrors()&&this.collectErrors(E,c),E},b.prototype.canCollectErrors=function(){return!this.isReadOnly},b.prototype.collectErrors=function(c,E){if(this.onCheckForErrors(c,E),!(c.length>0||!this.canRunValidators(E))){var I=this.runValidators();if(I.length>0){c.length=0;for(var A=0;A<I.length;A++)c.push(I[A])}if(this.survey&&c.length==0){var D=this.fireSurveyValidation();D&&c.push(D)}}},b.prototype.canRunValidators=function(c){return!0},b.prototype.fireSurveyValidation=function(){return this.validateValueCallback?this.validateValueCallback():this.survey?this.survey.validateQuestion(this):null},b.prototype.onCheckForErrors=function(c,E){!E&&this.hasRequiredError()&&c.push(new w.AnswerRequiredError(this.requiredErrorText,this))},b.prototype.hasRequiredError=function(){return this.isRequired&&this.isEmpty()},Object.defineProperty(b.prototype,"isRunningValidators",{get:function(){return this.getIsRunningValidators()},enumerable:!1,configurable:!0}),b.prototype.getIsRunningValidators=function(){return this.isRunningValidatorsValue},b.prototype.runValidators=function(){var c=this;return this.validatorRunner&&(this.validatorRunner.onAsyncCompleted=null),this.validatorRunner=new S.ValidatorRunner,this.isRunningValidatorsValue=!0,this.validatorRunner.onAsyncCompleted=function(E){c.doOnAsyncCompleted(E)},this.validatorRunner.run(this)},b.prototype.doOnAsyncCompleted=function(c){for(var E=0;E<c.length;E++)this.errors.push(c[E]);this.isRunningValidatorsValue=!1,this.raiseOnCompletedAsyncValidators()},b.prototype.raiseOnCompletedAsyncValidators=function(){this.onCompletedAsyncValidators&&!this.isRunningValidators&&(this.onCompletedAsyncValidators(this.getAllErrors().length>0),this.onCompletedAsyncValidators=null)},b.prototype.setNewValue=function(c){var E=this.isAnswered;this.setNewValueInData(c),this.allowNotifyValueChanged&&this.onValueChanged(),this.isAnswered!=E&&this.updateQuestionCss()},b.prototype.isTextValue=function(){return!1},Object.defineProperty(b.prototype,"isSurveyInputTextUpdate",{get:function(){return this.survey?this.survey.isUpdateValueTextOnTyping:!1},enumerable:!1,configurable:!0}),b.prototype.getDataLocNotification=function(){return this.isInputTextUpdate?"text":!1},Object.defineProperty(b.prototype,"isInputTextUpdate",{get:function(){return this.isSurveyInputTextUpdate&&this.isTextValue()},enumerable:!1,configurable:!0}),b.prototype.setNewValueInData=function(c){c=this.valueToData(c),this.isValueChangedInSurvey||this.setValueCore(c)},b.prototype.getValueCore=function(){return this.questionValue},b.prototype.setValueCore=function(c){this.setQuestionValue(c),this.data!=null&&this.canSetValueToSurvey()&&(c=this.valueForSurvey,this.data.setValue(this.getValueName(),c,this.getDataLocNotification(),this.allowNotifyValueChanged))},b.prototype.canSetValueToSurvey=function(){return!0},b.prototype.valueFromData=function(c){return c},b.prototype.valueToData=function(c){return c},b.prototype.onValueChanged=function(){},b.prototype.setNewComment=function(c){this.questionComment!==c&&(this.questionComment=c,this.data!=null&&this.data.setComment(this.getValueName(),c,this.isSurveyInputTextUpdate?"text":!1))},b.prototype.getValidName=function(c){return c&&c.trim().replace(/[\{\}]+/g,"")},b.prototype.updateValueFromSurvey=function(c){c=this.getUnbindValue(c),this.valueFromDataCallback&&(c=this.valueFromDataCallback(c)),this.setQuestionValue(this.valueFromData(c)),this.updateIsAnswered()},b.prototype.updateCommentFromSurvey=function(c){this.questionComment=c},b.prototype.setQuestionValue=function(c,E){E===void 0&&(E=!0);var I=this.isTwoValueEquals(this.questionValue,c);!I&&!this.isChangingViaDefaultValue&&(this.isValueChangedDirectly=!0),this.questionValue=c,!I&&this.allowNotifyValueChanged&&this.fireCallback(this.valueChangedCallback),E&&this.updateIsAnswered()},b.prototype.onSurveyValueChanged=function(c){},b.prototype.setVisibleIndex=function(c){return(!this.isVisible||!this.hasTitle&&!g.settings.setQuestionVisibleIndexForHiddenTitle||this.hideNumber&&!g.settings.setQuestionVisibleIndexForHiddenNumber)&&(c=-1),this.setPropertyValue("visibleIndex",c),this.setPropertyValue("no",this.calcNo()),c<0?0:1},b.prototype.removeElement=function(c){return!1},b.prototype.supportGoNextPageAutomatic=function(){return!1},b.prototype.supportGoNextPageError=function(){return!0},b.prototype.clearIncorrectValues=function(){},b.prototype.clearOnDeletingContainer=function(){},b.prototype.clearErrors=function(){this.errors=[]},b.prototype.clearUnusedValues=function(){},b.prototype.onAnyValueChanged=function(c){},b.prototype.checkBindings=function(c,E){if(!(this.bindings.isEmpty()||!this.data))for(var I=this.bindings.getPropertiesByValueName(c),A=0;A<I.length;A++)this[I[A]]=E},b.prototype.getComponentName=function(){return f.RendererFactory.Instance.getRendererByQuestion(this)},b.prototype.isDefaultRendering=function(){return!!this.customWidget||this.renderAs==="default"||this.getComponentName()==="default"},b.prototype.getErrorCustomText=function(c,E){return this.survey?this.survey.getSurveyErrorCustomText(this,c,E):c},b.prototype.getValidatorTitle=function(){return null},Object.defineProperty(b.prototype,"validatedValue",{get:function(){return this.value},set:function(c){this.value=c},enumerable:!1,configurable:!0}),b.prototype.getAllValues=function(){return this.data?this.data.getAllValues():null},b.prototype.transformToMobileView=function(){},b.prototype.transformToDesktopView=function(){},b.prototype.needResponsiveWidth=function(){return!1},b.prototype.supportResponsiveness=function(){return!1},b.prototype.needResponsiveness=function(){return this.supportResponsiveness()&&this.isDefaultV2Theme&&!this.isDesignMode},b.prototype.checkForResponsiveness=function(c){var E=this;if(this.needResponsiveness())if(this.isCollapsed){var I=function(){E.isExpanded&&(E.initResponsiveness(c),E.unRegisterFunctionOnPropertyValueChanged("state","for-responsiveness"))};this.registerFunctionOnPropertyValueChanged("state",I,"for-responsiveness")}else this.initResponsiveness(c)},b.prototype.getObservedElementSelector=function(){return".sd-scrollable-container"},b.prototype.onMobileChanged=function(){this.onMobileChangedCallback&&this.onMobileChangedCallback()},b.prototype.initResponsiveness=function(c){var E=this;if(this.destroyResizeObserver(),c&&this.isDefaultRendering()){var I=this.getObservedElementSelector(),A=c.querySelector(I);if(A){var D=!1,O=void 0;this.resizeObserver=new ResizeObserver(function(){var l=c.querySelector(I);!O&&E.isDefaultRendering()&&(O=l.scrollWidth),D||!Object(p.isContainerVisible)(l)?D=!1:D=E.processResponsiveness(O,Object(p.getElementWidth)(l))}),this.onMobileChangedCallback=function(){setTimeout(function(){var l=c.querySelector(I);E.processResponsiveness(O,Object(p.getElementWidth)(l))},0)},this.resizeObserver.observe(c)}}},b.prototype.getCompactRenderAs=function(){return"default"},b.prototype.getDesktopRenderAs=function(){return"default"},b.prototype.processResponsiveness=function(c,E){E=Math.round(E);var I=this.renderAs;return c>E?this.renderAs=this.getCompactRenderAs():this.renderAs=this.getDesktopRenderAs(),I!==this.renderAs},b.prototype.destroyResizeObserver=function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0,this.onMobileChangedCallback=void 0,this.renderAs=this.getDesktopRenderAs())},b.prototype.dispose=function(){R.prototype.dispose.call(this),this.destroyResizeObserver()},b.TextPreprocessorValuesMap={title:"processedTitle",require:"requiredText"},b.questionCounter=100,m([Object(C.property)({defaultValue:!1})],b.prototype,"isMobile",void 0),m([Object(C.property)({localizable:!0})],b.prototype,"commentPlaceHolder",void 0),m([Object(C.property)({defaultValue:"default"})],b.prototype,"renderAs",void 0),b}(M.SurveyElement);C.Serializer.addClass("question",["!name",{name:"state",default:"default",choices:["default","collapsed","expanded"]},{name:"visible:switch",default:!0},{name:"useDisplayValuesInTitle:boolean",default:!0,layout:"row"},"visibleIf:condition",{name:"width"},{name:"minWidth",default:g.settings.minWidth},{name:"maxWidth",default:g.settings.maxWidth},{name:"startWithNewLine:boolean",default:!0,layout:"row"},{name:"indent:number",default:0,choices:[0,1,2,3],layout:"row"},{name:"page",isSerializable:!1,visibleIf:function(R){var b=R?R.survey:null;return!b||!b.pages||b.pages.length>1},choices:function(R){var b=R?R.survey:null;return b?b.pages.map(function(c){return{value:c.name,text:c.title}}):[]}},{name:"title:text",serializationProperty:"locTitle",layout:"row"},{name:"titleLocation",default:"default",choices:["default","top","bottom","left","hidden"],layout:"row"},{name:"description:text",serializationProperty:"locDescription",layout:"row"},{name:"descriptionLocation",default:"default",choices:["default","underInput","underTitle"]},{name:"hideNumber:boolean",dependsOn:"titleLocation",visibleIf:function(R){if(!R)return!0;if(R.titleLocation==="hidden")return!1;var b=R?R.parent:null,c=!b||b.showQuestionNumbers!=="off";if(!c)return!1;var E=R?R.survey:null;return!E||E.showQuestionNumbers!=="off"||!!b&&b.showQuestionNumbers==="onpanel"}},"valueName","enableIf:condition","defaultValue:value",{name:"defaultValueExpression:expression",category:"logic"},"correctAnswer:value",{name:"clearIfInvisible",default:"default",choices:["default","none","onComplete","onHidden"]},"isRequired:switch","requiredIf:condition",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},"readOnly:switch",{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"bindings:bindings",serializationProperty:"bindings",visibleIf:function(R){return R.bindings.getNames().length>0}},{name:"renderAs",default:"default",visible:!1}]),C.Serializer.addAlterNativeClassName("question","questionbase")},"./src/questionCustomWidgets.ts":function(a,r,t){t.r(r),t.d(r,"QuestionCustomWidget",function(){return C}),t.d(r,"CustomWidgetCollection",function(){return M});var d=t("./src/base.ts"),C=function(){function w(S,x){this.name=S,this.widgetJson=x,this.htmlTemplate=x.htmlTemplate?x.htmlTemplate:""}return w.prototype.afterRender=function(S,x){var h=this;this.widgetJson.afterRender&&(S.localeChangedCallback=function(){h.widgetJson.willUnmount&&h.widgetJson.willUnmount(S,x),h.widgetJson.afterRender(S,x)},this.widgetJson.afterRender(S,x))},w.prototype.willUnmount=function(S,x){this.widgetJson.willUnmount&&this.widgetJson.willUnmount(S,x)},w.prototype.getDisplayValue=function(S,x){return x===void 0&&(x=void 0),this.widgetJson.getDisplayValue?this.widgetJson.getDisplayValue(S,x):null},w.prototype.isFit=function(S){return this.isLibraryLoaded()&&this.widgetJson.isFit?this.widgetJson.isFit(S):!1},Object.defineProperty(w.prototype,"canShowInToolbox",{get:function(){return this.widgetJson.showInToolbox===!1||M.Instance.getActivatedBy(this.name)!="customtype"?!1:!this.widgetJson.widgetIsLoaded||this.widgetJson.widgetIsLoaded()},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"showInToolbox",{get:function(){return this.widgetJson.showInToolbox!==!1},set:function(S){this.widgetJson.showInToolbox=S},enumerable:!1,configurable:!0}),w.prototype.init=function(){this.widgetJson.init&&this.widgetJson.init()},w.prototype.activatedByChanged=function(S){this.isLibraryLoaded()&&this.widgetJson.activatedByChanged&&this.widgetJson.activatedByChanged(S)},w.prototype.isLibraryLoaded=function(){return this.widgetJson.widgetIsLoaded?this.widgetJson.widgetIsLoaded()==!0:!0},Object.defineProperty(w.prototype,"isDefaultRender",{get:function(){return this.widgetJson.isDefaultRender},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"pdfQuestionType",{get:function(){return this.widgetJson.pdfQuestionType},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"pdfRender",{get:function(){return this.widgetJson.pdfRender},enumerable:!1,configurable:!0}),w}(),M=function(){function w(){this.widgetsValues=[],this.widgetsActivatedBy={},this.onCustomWidgetAdded=new d.Event}return Object.defineProperty(w.prototype,"widgets",{get:function(){return this.widgetsValues},enumerable:!1,configurable:!0}),w.prototype.add=function(S,x){x===void 0&&(x="property"),this.addCustomWidget(S,x)},w.prototype.addCustomWidget=function(S,x){x===void 0&&(x="property");var h=S.name;h||(h="widget_"+this.widgets.length+1);var u=new C(h,S);return this.widgetsValues.push(u),u.init(),this.widgetsActivatedBy[h]=x,u.activatedByChanged(x),this.onCustomWidgetAdded.fire(u,null),u},w.prototype.getActivatedBy=function(S){var x=this.widgetsActivatedBy[S];return x||"property"},w.prototype.setActivatedBy=function(S,x){if(!(!S||!x)){var h=this.getCustomWidgetByName(S);h&&(this.widgetsActivatedBy[S]=x,h.activatedByChanged(x))}},w.prototype.clear=function(){this.widgetsValues=[]},w.prototype.getCustomWidgetByName=function(S){for(var x=0;x<this.widgets.length;x++)if(this.widgets[x].name==S)return this.widgets[x];return null},w.prototype.getCustomWidget=function(S){for(var x=0;x<this.widgetsValues.length;x++)if(this.widgetsValues[x].isFit(S))return this.widgetsValues[x];return null},w.Instance=new w,w}()},"./src/question_baseselect.ts":function(a,r,t){t.r(r),t.d(r,"QuestionSelectBase",function(){return m}),t.d(r,"QuestionCheckboxBase",function(){return y});var d=t("./src/jsonobject.ts"),C=t("./src/survey.ts"),M=t("./src/question.ts"),w=t("./src/itemvalue.ts"),S=t("./src/surveyStrings.ts"),x=t("./src/error.ts"),h=t("./src/choicesRestful.ts"),u=t("./src/conditions.ts"),g=t("./src/helpers.ts"),f=t("./src/settings.ts"),i=t("./src/utils/cssClassBuilder.ts"),p=function(){var R=function(b,c){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,I){E.__proto__=I}||function(E,I){for(var A in I)Object.prototype.hasOwnProperty.call(I,A)&&(E[A]=I[A])},R(b,c)};return function(b,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");R(b,c);function E(){this.constructor=b}b.prototype=c===null?Object.create(c):(E.prototype=c.prototype,new E)}}(),P=function(R,b,c,E){var I=arguments.length,A=I<3?b:E===null?E=Object.getOwnPropertyDescriptor(b,c):E,D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(R,b,c,E);else for(var O=R.length-1;O>=0;O--)(D=R[O])&&(A=(I<3?D(A):I>3?D(b,c,A):D(b,c))||A);return I>3&&A&&Object.defineProperty(b,c,A),A},m=function(R){p(b,R);function b(c){var E=R.call(this,c)||this;E.otherItemValue=new w.ItemValue("other"),E.dependedQuestions=[],E.noneItemValue=new w.ItemValue("none"),E.isSettingDefaultValue=!1,E.isSettingComment=!1,E.isRunningChoices=!1,E.isFirstLoadChoicesFromUrl=!0,E.isUpdatingChoicesDependedQuestions=!1,E.prevIsOtherSelected=!1;var I=E.createLocalizableString("noneText",E,!0,"noneItemText");E.noneItemValue.locOwner=E,E.noneItemValue.setLocText(I),E.createItemValues("choices"),E.registerFunctionOnPropertyValueChanged("choices",function(){E.filterItems()||E.onVisibleChoicesChanged()}),E.registerFunctionOnPropertiesValueChanged(["choicesFromQuestion","choicesFromQuestionMode","hasNone"],function(){E.onVisibleChoicesChanged()}),E.registerFunctionOnPropertyValueChanged("hideIfChoicesEmpty",function(){E.updateVisibilityBasedOnChoices()}),E.createNewArray("visibleChoices"),E.setNewRestfulProperty();var A=E.createLocalizableString("otherText",E,!0,"otherItemText");return E.createLocalizableString("otherErrorText",E,!0,"otherRequiredError"),E.otherItemValue.locOwner=E,E.otherItemValue.setLocText(A),E.choicesByUrl.createItemValue=function(D){return E.createItemValue(D)},E.choicesByUrl.beforeSendRequestCallback=function(){E.onBeforeSendRequest()},E.choicesByUrl.getResultCallback=function(D){E.onLoadChoicesFromUrl(D)},E.choicesByUrl.updateResultCallback=function(D,O){return E.survey?E.survey.updateChoicesFromServer(E,D,O):D},E}return b.prototype.getType=function(){return"selectbase"},b.prototype.dispose=function(){R.prototype.dispose.call(this);for(var c=0;c<this.dependedQuestions.length;c++)this.dependedQuestions[c].choicesFromQuestion="";this.removeFromDependedQuestion(this.getQuestionWithChoices())},b.prototype.getItemValueType=function(){return"itemvalue"},b.prototype.createItemValue=function(c){return d.Serializer.createClass(this.getItemValueType(),c)},b.prototype.supportGoNextPageError=function(){return!this.isOtherSelected||!!this.comment},b.prototype.isLayoutTypeSupported=function(c){return!0},b.prototype.localeChanged=function(){R.prototype.localeChanged.call(this),this.choicesOrder!=="none"&&this.updateVisibleChoices()},b.prototype.locStrsChanged=function(){R.prototype.locStrsChanged.call(this),this.choicesFromUrl&&(w.ItemValue.locStrsChanged(this.choicesFromUrl),w.ItemValue.locStrsChanged(this.visibleChoices))},Object.defineProperty(b.prototype,"otherItem",{get:function(){return this.otherItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"isOtherSelected",{get:function(){return this.hasOther&&this.getHasOther(this.renderedValue)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"hasNone",{get:function(){return this.getPropertyValue("hasNone",!1)},set:function(c){this.setPropertyValue("hasNone",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"noneItem",{get:function(){return this.noneItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"noneText",{get:function(){return this.getLocalizableStringText("noneText")},set:function(c){this.setLocalizableStringText("noneText",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"locNoneText",{get:function(){return this.getLocalizableString("noneText")},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"choicesVisibleIf",{get:function(){return this.getPropertyValue("choicesVisibleIf","")},set:function(c){this.setPropertyValue("choicesVisibleIf",c),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"choicesEnableIf",{get:function(){return this.getPropertyValue("choicesEnableIf","")},set:function(c){this.setPropertyValue("choicesEnableIf",c),this.filterItems()},enumerable:!1,configurable:!0}),b.prototype.surveyChoiceItemVisibilityChange=function(){this.filterItems()},b.prototype.runCondition=function(c,E){R.prototype.runCondition.call(this,c,E),this.runItemsEnableCondition(c,E),this.runItemsCondition(c,E)},b.prototype.isTextValue=function(){return!0},b.prototype.setDefaultValue=function(){this.isSettingDefaultValue=!this.isValueEmpty(this.defaultValue)&&this.hasUnknownValue(this.defaultValue),this.prevCommentValue=void 0,R.prototype.setDefaultValue.call(this),this.isSettingDefaultValue=!1},b.prototype.getIsMultipleValue=function(){return!1},b.prototype.convertDefaultValue=function(c){if(c==null||c==null)return c;if(this.getIsMultipleValue()){if(!Array.isArray(c))return[c]}else if(Array.isArray(c)&&c.length>0)return c[0];return c},b.prototype.filterItems=function(){if(this.isLoadingFromJson||!this.data||this.areInvisibleElementsShowing)return!1;var c=this.getDataFilteredValues(),E=this.getDataFilteredProperties();return this.runItemsEnableCondition(c,E),this.runItemsCondition(c,E)},b.prototype.runItemsCondition=function(c,E){this.setConditionalChoicesRunner();var I=this.runConditionsForItems(c,E);return this.filteredChoicesValue&&this.filteredChoicesValue.length===this.activeChoices.length&&(this.filteredChoicesValue=void 0),I&&(this.onVisibleChoicesChanged(),this.clearIncorrectValues()),I},b.prototype.runItemsEnableCondition=function(c,E){var I=this;this.setConditionalEnableChoicesRunner();var A=w.ItemValue.runEnabledConditionsForItems(this.activeChoices,this.conditionChoicesEnableIfRunner,c,E,function(D,O){return O&&I.onEnableItemCallBack(D)});A&&this.clearDisabledValues(),this.onAfterRunItemsEnableCondition()},b.prototype.onAfterRunItemsEnableCondition=function(){},b.prototype.onEnableItemCallBack=function(c){return!0},b.prototype.setConditionalChoicesRunner=function(){this.choicesVisibleIf?(this.conditionChoicesVisibleIfRunner||(this.conditionChoicesVisibleIfRunner=new u.ConditionRunner(this.choicesVisibleIf)),this.conditionChoicesVisibleIfRunner.expression=this.choicesVisibleIf):this.conditionChoicesVisibleIfRunner=null},b.prototype.setConditionalEnableChoicesRunner=function(){this.choicesEnableIf?(this.conditionChoicesEnableIfRunner||(this.conditionChoicesEnableIfRunner=new u.ConditionRunner(this.choicesEnableIf)),this.conditionChoicesEnableIfRunner.expression=this.choicesEnableIf):this.conditionChoicesEnableIfRunner=null},b.prototype.canSurveyChangeItemVisibility=function(){return!!this.survey&&this.survey.canChangeChoiceItemsVisibility()},b.prototype.changeItemVisisbility=function(){var c=this;return this.canSurveyChangeItemVisibility()?function(E,I){return c.survey.getChoiceItemVisibility(c,E,I)}:null},b.prototype.runConditionsForItems=function(c,E){this.filteredChoicesValue=[];var I=this.changeItemVisisbility();return w.ItemValue.runConditionsForItems(this.activeChoices,this.getFilteredChoices(),this.areInvisibleElementsShowing?null:this.conditionChoicesVisibleIfRunner,c,E,!this.survey||!this.survey.areInvisibleElementsShowing,function(A,D){return I?I(A,D):D})},b.prototype.getHasOther=function(c){return c===this.otherItem.value},Object.defineProperty(b.prototype,"validatedValue",{get:function(){return this.rendredValueToDataCore(this.value)},enumerable:!1,configurable:!0}),b.prototype.createRestful=function(){return new h.ChoicesRestful},b.prototype.setNewRestfulProperty=function(){this.setPropertyValue("choicesByUrl",this.createRestful()),this.choicesByUrl.owner=this,this.choicesByUrl.loadingOwner=this},b.prototype.getQuestionComment=function(){return this.commentValue?this.commentValue:this.hasComment||this.getStoreOthersAsComment()?R.prototype.getQuestionComment.call(this):this.commentValue},b.prototype.setQuestionComment=function(c){this.hasComment||this.getStoreOthersAsComment()?R.prototype.setQuestionComment.call(this,c):!this.isSettingComment&&c!=this.commentValue&&(this.isSettingComment=!0,this.commentValue=c,this.isOtherSelected&&!this.isRenderedValueSetting&&(this.value=this.rendredValueToData(this.renderedValue)),this.isSettingComment=!1)},b.prototype.clearValue=function(){R.prototype.clearValue.call(this),this.prevCommentValue=void 0},b.prototype.updateCommentFromSurvey=function(c){R.prototype.updateCommentFromSurvey.call(this,c),this.prevCommentValue=void 0},Object.defineProperty(b.prototype,"renderedValue",{get:function(){return this.getPropertyValue("renderedValue",null)},set:function(E){this.setPropertyValue("renderedValue",E);var E=this.rendredValueToData(E);this.isTwoValueEquals(E,this.value)||(this.value=E)},enumerable:!1,configurable:!0}),b.prototype.setQuestionValue=function(c,E,I){if(E===void 0&&(E=!0),I===void 0&&(I=!0),!(this.isLoadingFromJson||this.isTwoValueEquals(this.value,c))&&(R.prototype.setQuestionValue.call(this,c,E),this.setPropertyValue("renderedValue",this.rendredValueFromData(c)),!(this.hasComment||!I))){var A=this.isOtherSelected;if(A&&this.prevCommentValue){var D=this.prevCommentValue;this.prevCommentValue=void 0,this.comment=D}!A&&this.comment&&(this.getStoreOthersAsComment()&&(this.prevCommentValue=this.comment),this.comment="")}},b.prototype.setNewValue=function(c){c=this.valueFromData(c),(!this.choicesByUrl.isRunning&&!this.choicesByUrl.isWaitingForParameters||!this.isValueEmpty(c))&&(this.cachedValueForUrlRequests=c),R.prototype.setNewValue.call(this,c)},b.prototype.valueFromData=function(c){var E=w.ItemValue.getItemByValue(this.activeChoices,c);return E?E.value:R.prototype.valueFromData.call(this,c)},b.prototype.rendredValueFromData=function(c){return this.getStoreOthersAsComment()?c:this.renderedValueFromDataCore(c)},b.prototype.rendredValueToData=function(c){return this.getStoreOthersAsComment()?c:this.rendredValueToDataCore(c)},b.prototype.renderedValueFromDataCore=function(c){return this.hasUnknownValue(c,!0,!1)?(this.comment=c,this.otherItem.value):this.valueFromData(c)},b.prototype.rendredValueToDataCore=function(c){return c==this.otherItem.value&&this.getQuestionComment()&&(c=this.getQuestionComment()),c},b.prototype.hasUnknownValue=function(c,E,I,A){if(E===void 0&&(E=!1),I===void 0&&(I=!0),A===void 0&&(A=!1),!A&&this.isValueEmpty(c)||E&&c==this.otherItem.value||this.hasNone&&c==this.noneItem.value)return!1;var D=I?this.getFilteredChoices():this.activeChoices;return w.ItemValue.getItemByValue(D,c)==null},b.prototype.isValueDisabled=function(c){var E=w.ItemValue.getItemByValue(this.getFilteredChoices(),c);return!!E&&!E.isEnabled},Object.defineProperty(b.prototype,"choicesByUrl",{get:function(){return this.getPropertyValue("choicesByUrl")},set:function(c){c&&(this.setNewRestfulProperty(),this.choicesByUrl.fromJSON(c.toJSON()))},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"choices",{get:function(){return this.getPropertyValue("choices")},set:function(c){this.setPropertyValue("choices",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"choicesFromQuestion",{get:function(){return this.getPropertyValue("choicesFromQuestion")},set:function(c){var E=this.getQuestionWithChoices();E&&E.removeFromDependedQuestion(this),this.setPropertyValue("choicesFromQuestion",c)},enumerable:!1,configurable:!0}),b.prototype.addIntoDependedQuestion=function(c){!c||c.dependedQuestions.indexOf(this)>-1||c.dependedQuestions.push(this)},b.prototype.removeFromDependedQuestion=function(c){if(c){var E=c.dependedQuestions.indexOf(this);E>-1&&c.dependedQuestions.splice(E,1)}},Object.defineProperty(b.prototype,"choicesFromQuestionMode",{get:function(){return this.getPropertyValue("choicesFromQuestionMode")},set:function(c){this.setPropertyValue("choicesFromQuestionMode",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"hideIfChoicesEmpty",{get:function(){return this.getPropertyValue("hideIfChoicesEmpty",!1)},set:function(c){this.setPropertyValue("hideIfChoicesEmpty",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"keepIncorrectValues",{get:function(){return this.getPropertyValue("keepIncorrectValues",!1)},set:function(c){this.setPropertyValue("keepIncorrectValues",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"storeOthersAsComment",{get:function(){return this.getPropertyValue("storeOthersAsComment")},set:function(c){this.setPropertyValue("storeOthersAsComment",c)},enumerable:!1,configurable:!0}),b.prototype.hasOtherChanged=function(){this.onVisibleChoicesChanged()},Object.defineProperty(b.prototype,"choicesOrder",{get:function(){return this.getPropertyValue("choicesOrder")},set:function(c){c=c.toLowerCase(),c!=this.choicesOrder&&(this.setPropertyValue("choicesOrder",c),this.onVisibleChoicesChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"otherText",{get:function(){return this.getLocalizableStringText("otherText")},set:function(c){this.setLocalizableStringText("otherText",c),this.onVisibleChoicesChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"locOtherText",{get:function(){return this.getLocalizableString("otherText")},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"otherErrorText",{get:function(){return this.getLocalizableStringText("otherErrorText")},set:function(c){this.setLocalizableStringText("otherErrorText",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"locOtherErrorText",{get:function(){return this.getLocalizableString("otherErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"visibleChoices",{get:function(){return this.getPropertyValue("visibleChoices")},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"enabledChoices",{get:function(){for(var c=[],E=this.visibleChoices,I=0;I<E.length;I++)E[I].isEnabled&&c.push(E[I]);return c},enumerable:!1,configurable:!0}),b.prototype.updateVisibleChoices=function(){if(!this.isLoadingFromJson){var c=new Array,E=this.calcVisibleChoices();E||(E=[]);for(var I=0;I<E.length;I++)c.push(E[I]);this.setPropertyValue("visibleChoices",c)}},b.prototype.calcVisibleChoices=function(){if(this.canUseFilteredChoices())return this.getFilteredChoices();var c=this.sortVisibleChoices(this.getFilteredChoices().slice());return this.addToVisibleChoices(c,this.isAddDefaultItems),c},b.prototype.canUseFilteredChoices=function(){return!this.isAddDefaultItems&&!this.hasNone&&!this.hasOther&&this.choicesOrder=="none"},b.prototype.setCanShowOptionItemCallback=function(c){this.canShowOptionItemCallback=c,c&&this.onVisibleChoicesChanged()},b.prototype.addToVisibleChoices=function(c,E){E&&(this.newItemValue||(this.newItemValue=new w.ItemValue("newitem")),this.canShowOptionItem(this.newItemValue,E,!1)&&c.push(this.newItemValue)),this.supportNone()&&this.canShowOptionItem(this.noneItem,E,this.hasNone)&&c.push(this.noneItem),this.supportOther()&&this.canShowOptionItem(this.otherItem,E,this.hasOther)&&c.push(this.otherItem)},b.prototype.canShowOptionItem=function(c,E,I){var A=E&&(this.canShowOptionItemCallback?this.canShowOptionItemCallback(c):!0)||I;if(this.canSurveyChangeItemVisibility()){var D=this.changeItemVisisbility();return D(c,A)}return A},b.prototype.isItemInList=function(c){return c===this.otherItem?this.hasOther:c===this.noneItem?this.hasNone:c!==this.newItemValue},Object.defineProperty(b.prototype,"isAddDefaultItems",{get:function(){return f.settings.supportCreatorV2&&f.settings.showDefaultItemsInCreatorV2&&this.isDesignMode&&!this.isContentElement},enumerable:!1,configurable:!0}),b.prototype.getPlainData=function(c){var E=this;c===void 0&&(c={includeEmpty:!0,includeQuestionTypes:!1});var I=R.prototype.getPlainData.call(this,c);if(I){var A=Array.isArray(this.value)?this.value:[this.value];I.isNode=!0,I.data=(I.data||[]).concat(A.map(function(D,O){var l=w.ItemValue.getItemByValue(E.visibleChoices,D),o={name:O,title:"Choice",value:D,displayValue:E.getChoicesDisplayValue(E.visibleChoices,D),getString:function(v){return typeof v=="object"?JSON.stringify(v):v},isNode:!1};return l&&(c.calculations||[]).forEach(function(v){o[v.propertyName]=l[v.propertyName]}),E.isOtherSelected&&E.otherItemValue===l&&(o.isOther=!0,o.displayValue=E.comment),o}))}return I},b.prototype.getDisplayValueCore=function(c,E){return this.getChoicesDisplayValue(this.visibleChoices,E)},b.prototype.getDisplayValueEmpty=function(){return w.ItemValue.getTextOrHtmlByValue(this.visibleChoices,void 0)},b.prototype.getChoicesDisplayValue=function(c,E){if(E==this.otherItemValue.value)return this.comment?this.comment:this.locOtherText.textOrHtml;var I=w.ItemValue.getTextOrHtmlByValue(c,E);return I==""&&E?E:I},b.prototype.getFilteredChoices=function(){return this.filteredChoicesValue?this.filteredChoicesValue:this.activeChoices},Object.defineProperty(b.prototype,"activeChoices",{get:function(){var c=this.getQuestionWithChoices();return c?(this.addIntoDependedQuestion(c),this.getChoicesFromQuestion(c)):this.choicesFromUrl?this.choicesFromUrl:this.getChoices()},enumerable:!1,configurable:!0}),b.prototype.getQuestionWithChoices=function(){if(!this.choicesFromQuestion||!this.survey)return null;var c=this.survey.getQuestionByName(this.choicesFromQuestion);return c&&c.visibleChoices&&c!==this?c:null},b.prototype.getChoicesFromQuestion=function(c){for(var E=[],I=this.choicesFromQuestionMode=="selected"?!0:this.choicesFromQuestionMode=="unselected"?!1:void 0,A=c.visibleChoices,D=0;D<A.length;D++)if(!this.isBuiltInChoice(A[D],c)){if(I===void 0){E.push(A[D]);continue}var O=c.isItemSelected(A[D]);(O&&I||!O&&!I)&&E.push(A[D])}return E},Object.defineProperty(b.prototype,"hasActiveChoices",{get:function(){var c=this.visibleChoices;(!c||c.length==0)&&(this.onVisibleChoicesChanged(),c=this.visibleChoices);for(var E=0;E<c.length;E++)if(!this.isBuiltInChoice(c[E],this))return!0;return!1},enumerable:!1,configurable:!0}),b.prototype.isHeadChoice=function(c,E){return!1},b.prototype.isFootChoice=function(c,E){return c===E.noneItem||c===E.otherItem||c===E.newItemValue},b.prototype.isBuiltInChoice=function(c,E){return this.isHeadChoice(c,E)||this.isFootChoice(c,E)},b.prototype.getChoices=function(){return this.choices},b.prototype.supportComment=function(){return!0},b.prototype.supportOther=function(){return this.isSupportProperty("hasOther")},b.prototype.supportNone=function(){return this.isSupportProperty("hasNone")},b.prototype.isSupportProperty=function(c){return!this.isDesignMode||d.Serializer.findProperty(this.getType(),c).visible},b.prototype.onCheckForErrors=function(c,E){R.prototype.onCheckForErrors.call(this,c,E),!(!this.hasOther||!this.isOtherSelected||this.comment)&&c.push(new x.OtherEmptyError(this.otherErrorText,this))},b.prototype.setSurveyImpl=function(c,E){R.prototype.setSurveyImpl.call(this,c,E),this.runChoicesByUrl(),this.isAddDefaultItems&&this.updateVisibleChoices()},b.prototype.setSurveyCore=function(c){R.prototype.setSurveyCore.call(this,c),c&&this.choicesFromQuestion&&this.onVisibleChoicesChanged()},b.prototype.getStoreOthersAsComment=function(){return this.isSettingDefaultValue?!1:this.storeOthersAsComment===!0||this.storeOthersAsComment=="default"&&(this.survey!=null?this.survey.storeOthersAsComment:!0)||!this.choicesByUrl.isEmpty&&!this.choicesFromUrl},b.prototype.onSurveyLoad=function(){this.runChoicesByUrl(),this.onVisibleChoicesChanged(),R.prototype.onSurveyLoad.call(this)},b.prototype.onAnyValueChanged=function(c){R.prototype.onAnyValueChanged.call(this,c),c!=this.getValueName()&&this.runChoicesByUrl(),c&&c==this.choicesFromQuestion&&this.onVisibleChoicesChanged()},b.prototype.updateValueFromSurvey=function(c){var E="";this.hasOther&&!this.isRunningChoices&&!this.choicesByUrl.isRunning&&this.getStoreOthersAsComment()&&(this.hasUnknownValue(c)&&!this.getHasOther(c)?(E=this.getCommentFromValue(c),c=this.setOtherValueIntoValue(c)):E=this.data.getComment(this.getValueName())),R.prototype.updateValueFromSurvey.call(this,c),E&&this.setNewComment(E)},b.prototype.getCommentFromValue=function(c){return c},b.prototype.setOtherValueIntoValue=function(c){return this.otherItem.value},b.prototype.runChoicesByUrl=function(){if(!(!this.choicesByUrl||this.isLoadingFromJson||this.isRunningChoices)){var c=this.surveyImpl?this.surveyImpl.getTextProcessor():this.textProcessor;c||(c=this.survey),c&&(this.isReadyValue=this.isChoicesLoaded||this.choicesByUrl.isEmpty,this.isRunningChoices=!0,this.choicesByUrl.run(c),this.isRunningChoices=!1)}},b.prototype.onBeforeSendRequest=function(){f.settings.disableOnGettingChoicesFromWeb===!0&&!this.isReadOnly&&(this.enableOnLoadingChoices=!0,this.readOnly=!0)},b.prototype.onLoadChoicesFromUrl=function(c){if(this.enableOnLoadingChoices&&(this.readOnly=!1),!this.isReadOnly){var E=[];this.choicesByUrl&&this.choicesByUrl.error&&E.push(this.choicesByUrl.error),this.errors=E}var I=null,A=!0;this.isFirstLoadChoicesFromUrl&&!this.cachedValueForUrlRequests&&this.defaultValue&&(this.cachedValueForUrlRequests=this.defaultValue,A=!1),this.isValueEmpty(this.cachedValueForUrlRequests)&&(this.cachedValueForUrlRequests=this.value),this.isFirstLoadChoicesFromUrl=!1;var D=this.createCachedValueForUrlRequests(this.cachedValueForUrlRequests,A);if(c&&(c.length>0||this.choicesByUrl.allowEmptyResponse)&&(I=new Array,w.ItemValue.setData(I,c)),I)for(var O=0;O<I.length;O++)I[O].locOwner=this;if(this.choicesFromUrl=I,this.filterItems(),this.onVisibleChoicesChanged(),I){var l=this.updateCachedValueForUrlRequests(D,I);if(l&&!this.isReadOnly){var o=!this.isTwoValueEquals(this.value,l.value);try{this.isValueEmpty(l.value)||(this.allowNotifyValueChanged=!1,this.setQuestionValue(void 0,!0,!1)),this.allowNotifyValueChanged=o,o?this.value=l.value:this.setQuestionValue(l.value)}finally{this.allowNotifyValueChanged=!0}}}this.choicesLoaded()},b.prototype.createCachedValueForUrlRequests=function(c,E){if(this.isValueEmpty(c))return null;if(Array.isArray(c)){for(var I=[],A=0;A<c.length;A++)I.push(this.createCachedValueForUrlRequests(c[A],!0));return I}var D=E?!this.hasUnknownValue(c):!0;return{value:c,isExists:D}},b.prototype.updateCachedValueForUrlRequests=function(c,E){if(this.isValueEmpty(c))return null;if(Array.isArray(c)){for(var I=[],A=0;A<c.length;A++){var D=this.updateCachedValueForUrlRequests(c[A],E);if(D&&!this.isValueEmpty(D.value)){var O=D.value,o=w.ItemValue.getItemByValue(E,D.value);o&&(O=o.value),I.push(O)}}return{value:I}}var l=c.isExists&&this.hasUnknownValue(c.value)?null:c.value,o=w.ItemValue.getItemByValue(E,l);return o&&(l=o.value),{value:l}},b.prototype.updateChoicesDependedQuestions=function(){if(!this.isUpdatingChoicesDependedQuestions){this.isUpdatingChoicesDependedQuestions=!0;for(var c=0;c<this.dependedQuestions.length;c++)this.dependedQuestions[c].onVisibleChoicesChanged(),this.dependedQuestions[c].updateChoicesDependedQuestions();this.isUpdatingChoicesDependedQuestions=!1}},b.prototype.onSurveyValueChanged=function(c){R.prototype.onSurveyValueChanged.call(this,c),!this.isLoadingFromJson&&this.updateChoicesDependedQuestions()},b.prototype.onVisibleChoicesChanged=function(){this.isLoadingFromJson||(this.updateVisibleChoices(),this.updateVisibilityBasedOnChoices(),this.visibleChoicesChangedCallback&&this.visibleChoicesChangedCallback(),this.updateChoicesDependedQuestions())},b.prototype.updateVisibilityBasedOnChoices=function(){if(this.hideIfChoicesEmpty){var c=this.getFilteredChoices();this.visible=!c||c.length>0}},b.prototype.sortVisibleChoices=function(c){var E=this.choicesOrder.toLowerCase();return E=="asc"?this.sortArray(c,1):E=="desc"?this.sortArray(c,-1):E=="random"?this.randomizeArray(c):c},b.prototype.sortArray=function(c,E){return c.sort(function(I,A){return I.calculatedText<A.calculatedText?-1*E:I.calculatedText>A.calculatedText?1*E:0})},b.prototype.randomizeArray=function(c){return g.Helpers.randomizeArray(c)},b.prototype.clearIncorrectValues=function(){this.hasValueToClearIncorrectValues()&&(this.survey&&this.survey.questionCountByValueName(this.getValueName())>1||this.choicesByUrl&&!this.choicesByUrl.isEmpty&&(!this.choicesFromUrl||this.choicesFromUrl.length==0)||(this.clearIncorrectValuesCallback?this.clearIncorrectValuesCallback():this.clearIncorrectValuesCore()))},b.prototype.hasValueToClearIncorrectValues=function(){return!this.keepIncorrectValues&&!this.isEmpty()},b.prototype.clearValueIfInvisibleCore=function(){R.prototype.clearValueIfInvisibleCore.call(this),this.clearIncorrectValues()},b.prototype.isItemSelected=function(c){return c.value===this.value},b.prototype.clearDisabledValues=function(){!this.survey||!this.survey.clearValueOnDisableItems||this.clearDisabledValuesCore()},b.prototype.clearIncorrectValuesCore=function(){var c=this.value;this.canClearValueAnUnknow(c)&&this.clearValue()},b.prototype.canClearValueAnUnknow=function(c){return!this.getStoreOthersAsComment()&&this.isOtherSelected?!1:this.hasUnknownValue(c,!0,!0,!0)},b.prototype.clearDisabledValuesCore=function(){this.isValueDisabled(this.value)&&this.clearValue()},b.prototype.clearUnusedValues=function(){R.prototype.clearUnusedValues.call(this),!this.isOtherSelected&&!this.hasComment&&(this.comment="")},b.prototype.getColumnClass=function(){return new i.CssClassBuilder().append(this.cssClasses.column).append("sv-q-column-"+this.colCount,this.hasColumns).toString()},b.prototype.getItemIndex=function(c){return this.visibleChoices.indexOf(c)},b.prototype.getItemClass=function(c){var E={item:c},I=this.getItemClassCore(c,E);return E.css=I,this.survey&&this.survey.updateChoiceItemCss(this,E),E.css},b.prototype.getCurrentColCount=function(){return this.colCount},b.prototype.getItemClassCore=function(c,E){var I=new i.CssClassBuilder().append(this.cssClasses.item).append(this.cssClasses.itemInline,!this.hasColumns&&this.colCount===0).append("sv-q-col-"+this.getCurrentColCount(),!this.hasColumns&&this.colCount!==0).append(this.cssClasses.itemOnError,this.errors.length>0),A=this.isReadOnly||!c.isEnabled,D=this.isItemSelected(c)||this.isOtherSelected&&this.otherItem.value===c.value,O=!A&&!D&&!(this.survey&&this.survey.isDesignMode),l=c===this.noneItem;return E.isDisabled=A,E.isChecked=D,E.isNone=l,I.append(this.cssClasses.itemDisabled,A).append(this.cssClasses.itemChecked,D).append(this.cssClasses.itemHover,O).append(this.cssClasses.itemNone,l).toString()},b.prototype.getLabelClass=function(c){return new i.CssClassBuilder().append(this.cssClasses.label).append(this.cssClasses.labelChecked,this.isItemSelected(c)).toString()},b.prototype.getControlLabelClass=function(c){return new i.CssClassBuilder().append(this.cssClasses.controlLabel).append(this.cssClasses.controlLabelChecked,this.isItemSelected(c)).toString()||void 0},Object.defineProperty(b.prototype,"headItems",{get:function(){var c=this;return this.separateSpecialChoices||this.isDesignMode?this.visibleChoices.filter(function(E){return c.isHeadChoice(E,c)}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"footItems",{get:function(){var c=this;return this.separateSpecialChoices||this.isDesignMode?this.visibleChoices.filter(function(E){return c.isFootChoice(E,c)}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"hasHeadItems",{get:function(){return this.headItems.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"hasFootItems",{get:function(){return this.footItems.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"columns",{get:function(){var c=this,E=[],I=this.getCurrentColCount();if(this.hasColumns&&this.visibleChoices.length>0){var A=!this.separateSpecialChoices&&!this.isDesignMode?this.visibleChoices:this.visibleChoices.filter(function(T){return!c.isBuiltInChoice(T,c)});if(f.settings.showItemsInOrder=="column")for(var D=0,O=A.length%I,l=0;l<I;l++){for(var o=[],v=D;v<D+Math.floor(A.length/I);v++)o.push(A[v]);O>0&&(O--,o.push(A[v]),v++),D=v,E.push(o)}else for(var l=0;l<I;l++){for(var o=[],v=l;v<A.length;v+=I)o.push(A[v]);E.push(o)}}return E},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"hasColumns",{get:function(){return!this.isMobile&&this.getCurrentColCount()>1},enumerable:!1,configurable:!0}),b.prototype.choicesLoaded=function(){this.isChoicesLoaded=!0;var c=this.isReadyValue;this.isReadyValue=!0,this.onReadyChanged&&this.onReadyChanged.fire(this,{question:this,isReady:!0,oldIsReady:c}),this.survey&&this.survey.loadedChoicesFromServer(this),this.loadedChoicesFromServerCallback&&this.loadedChoicesFromServerCallback()},b.prototype.getItemValueWrapperComponentName=function(c){var E=this.survey;return E?E.getItemValueWrapperComponentName(c,this):C.SurveyModel.TemplateRendererComponentName},b.prototype.getItemValueWrapperComponentData=function(c){var E=this.survey;return E?E.getItemValueWrapperComponentData(c,this):c},b.prototype.ariaItemChecked=function(c){return this.renderedValue===c.value?"true":"false"},b.prototype.isOtherItem=function(c){return this.hasOther&&c.value==this.otherItem.value},Object.defineProperty(b.prototype,"itemSvgIcon",{get:function(){return this.cssClasses.itemSvgIconId},enumerable:!1,configurable:!0}),b.prototype.getSelectBaseRootCss=function(){return new i.CssClassBuilder().append(this.cssClasses.root).toString()},b.prototype.getAriaItemLabel=function(c){return c.locText.renderedHtml},b.prototype.getItemId=function(c){return this.inputId+"_"+this.getItemIndex(c)},Object.defineProperty(b.prototype,"questionName",{get:function(){return this.name+"_"+this.id},enumerable:!1,configurable:!0}),b.prototype.getItemEnabled=function(c){return!this.isInputReadOnly&&c.isEnabled},b.prototype.afterRender=function(c){R.prototype.afterRender.call(this,c),this.rootElement=c},b.prototype.focusOtherComment=function(){var c=this;this.rootElement&&setTimeout(function(){var E=c.rootElement.querySelector("textarea");E&&E.focus()},10)},b.prototype.onValueChanged=function(){R.prototype.onValueChanged.call(this),!this.isDesignMode&&!this.prevIsOtherSelected&&this.isOtherSelected&&this.focusOtherComment(),this.prevIsOtherSelected=this.isOtherSelected},P([Object(d.property)({defaultValue:!1})],b.prototype,"separateSpecialChoices",void 0),P([Object(d.property)({localizable:!0})],b.prototype,"otherPlaceHolder",void 0),b}(M.Question),y=function(R){p(b,R);function b(c){return R.call(this,c)||this}return Object.defineProperty(b.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount",this.isFlowLayout?0:1)},set:function(c){c<0||c>5||this.isFlowLayout||(this.setPropertyValue("colCount",c),this.fireCallback(this.colCountChangedCallback))},enumerable:!1,configurable:!0}),b.prototype.onParentChanged=function(){R.prototype.onParentChanged.call(this),this.isFlowLayout&&this.setPropertyValue("colCount",null)},b.prototype.onParentQuestionChanged=function(){this.onVisibleChoicesChanged()},b.prototype.getSearchableItemValueKeys=function(c){c.push("choices")},b}(m);d.Serializer.addClass("selectbase",[{name:"hasComment:switch",layout:"row"},{name:"commentText",dependsOn:"hasComment",visibleIf:function(R){return R.hasComment},serializationProperty:"locCommentText",layout:"row"},"choicesFromQuestion:question_selectbase",{name:"choices:itemvalue[]",baseValue:function(){return S.surveyLocalization.getString("choices_Item")},dependsOn:"choicesFromQuestion",visibleIf:function(R){return!R.choicesFromQuestion}},{name:"choicesFromQuestionMode",default:"all",choices:["all","selected","unselected"],dependsOn:"choicesFromQuestion",visibleIf:function(R){return!!R.choicesFromQuestion}},{name:"choicesOrder",default:"none",choices:["none","asc","desc","random"],dependsOn:"choicesFromQuestion",visibleIf:function(R){return!R.choicesFromQuestion}},{name:"choicesByUrl:restfull",className:"ChoicesRestful",onGetValue:function(R){return R.choicesByUrl.getData()},onSetValue:function(R,b){R.choicesByUrl.setData(b)}},"hideIfChoicesEmpty:boolean",{name:"choicesVisibleIf:condition",dependsOn:"choicesFromQuestion",visibleIf:function(R){return!R.choicesFromQuestion}},{name:"choicesEnableIf:condition",dependsOn:"choicesFromQuestion",visibleIf:function(R){return!R.choicesFromQuestion}},{name:"separateSpecialChoices:boolean",visible:!1},"hasOther:boolean","hasNone:boolean",{name:"otherPlaceHolder",serializationProperty:"locOtherPlaceHolder",dependsOn:"hasOther",visibleIf:function(R){return R.hasOther}},{name:"commentPlaceHolder",serializationProperty:"locCommentPlaceHolder",dependsOn:"hasComment",visibleIf:function(R){return R.hasComment}},{name:"noneText",serializationProperty:"locNoneText",dependsOn:"hasNone",visibleIf:function(R){return R.hasNone}},{name:"otherText",serializationProperty:"locOtherText",dependsOn:"hasOther",visibleIf:function(R){return R.hasOther}},{name:"otherErrorText",serializationProperty:"locOtherErrorText",dependsOn:"hasOther",visibleIf:function(R){return R.hasOther}},{name:"storeOthersAsComment",default:"default",choices:["default",!0,!1],visible:!1}],null,"question"),d.Serializer.addClass("checkboxbase",[{name:"colCount:number",default:1,choices:[0,1,2,3,4,5],layout:"row"}],null,"selectbase")},"./src/question_boolean.ts":function(a,r,t){t.r(r),t.d(r,"QuestionBooleanModel",function(){return u});var d=t("./src/questionfactory.ts"),C=t("./src/jsonobject.ts"),M=t("./src/question.ts"),w=t("./src/utils/cssClassBuilder.ts"),S=t("./src/utils/utils.ts"),x=function(){var g=function(f,i){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,P){p.__proto__=P}||function(p,P){for(var m in P)Object.prototype.hasOwnProperty.call(P,m)&&(p[m]=P[m])},g(f,i)};return function(f,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");g(f,i);function p(){this.constructor=f}f.prototype=i===null?Object.create(i):(p.prototype=i.prototype,new p)}}(),h=function(g,f,i,p){var P=arguments.length,m=P<3?f:p===null?p=Object.getOwnPropertyDescriptor(f,i):p,y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(g,f,i,p);else for(var R=g.length-1;R>=0;R--)(y=g[R])&&(m=(P<3?y(m):P>3?y(f,i,m):y(f,i))||m);return P>3&&m&&Object.defineProperty(f,i,m),m},u=function(g){x(f,g);function f(i){var p=g.call(this,i)||this;return p.createLocalizableString("labelFalse",p,!0,"booleanUncheckedLabel"),p.createLocalizableString("labelTrue",p,!0,"booleanCheckedLabel"),p}return f.prototype.getType=function(){return"boolean"},f.prototype.isLayoutTypeSupported=function(i){return!0},f.prototype.supportGoNextPageAutomatic=function(){return this.renderAs!=="checkbox"},Object.defineProperty(f.prototype,"isIndeterminate",{get:function(){return this.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasTitle",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"checkedValue",{get:function(){return this.isEmpty()?null:this.value==this.getValueTrue()},set:function(i){this.isReadOnly||this.setCheckedValue(i)},enumerable:!1,configurable:!0}),f.prototype.setCheckedValue=function(i){this.isValueEmpty(i)?this.value=null:this.value=i==!0?this.getValueTrue():this.getValueFalse()},Object.defineProperty(f.prototype,"defaultValue",{get:function(){return this.getPropertyValue("defaultValue")},set:function(i){i===!0&&(i="true"),i===!1&&(i="false"),i===void 0&&(i="indeterminate"),this.setPropertyValue("defaultValue",i),this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),f.prototype.getDefaultValue=function(){return this.defaultValue=="indeterminate"||this.defaultValue===void 0?null:this.defaultValue=="true"?this.getValueTrue():this.getValueFalse()},Object.defineProperty(f.prototype,"locTitle",{get:function(){return this.showTitle||this.isValueEmpty(this.locLabel.text)?this.getLocalizableString("title"):this.locLabel},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locDisplayLabel",{get:function(){return this.locLabel.text?this.locLabel:this.showTitle?this.locLabel:this.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"labelTrue",{get:function(){return this.getLocalizableStringText("labelTrue")},set:function(i){this.setLocalizableStringText("labelTrue",i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locLabelTrue",{get:function(){return this.getLocalizableString("labelTrue")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isDeterminated",{get:function(){return this.checkedValue!==null},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"labelFalse",{get:function(){return this.getLocalizableStringText("labelFalse")},set:function(i){this.setLocalizableStringText("labelFalse",i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locLabelFalse",{get:function(){return this.getLocalizableString("labelFalse")},enumerable:!1,configurable:!0}),f.prototype.getValueTrue=function(){return this.valueTrue?this.valueTrue:!0},f.prototype.getValueFalse=function(){return this.valueFalse?this.valueFalse:!1},f.prototype.setDefaultValue=function(){this.isDefaultValueSet("true",this.valueTrue)&&this.setCheckedValue(!0),this.isDefaultValueSet("false",this.valueFalse)&&this.setCheckedValue(!1),this.defaultValue=="indeterminate"&&this.setCheckedValue(null)},f.prototype.isDefaultValueSet=function(i,p){return this.defaultValue==i||p!==void 0&&this.defaultValue===p},f.prototype.getDisplayValueCore=function(i,p){return p==this.getValueTrue()?this.locLabelTrue.textOrHtml:this.locLabelFalse.textOrHtml},f.prototype.getItemCss=function(){return new w.CssClassBuilder().append(this.cssClasses.item).append(this.cssClasses.itemOnError,this.errors.length>0).append(this.cssClasses.itemDisabled,this.isReadOnly).append(this.cssClasses.itemChecked,!!this.checkedValue).append(this.cssClasses.itemIndeterminate,this.checkedValue===null).toString()},f.prototype.getLabelCss=function(i){return new w.CssClassBuilder().append(this.cssClasses.label).append(this.cssClasses.disabledLabel,this.checkedValue===!i||this.isReadOnly).toString()},Object.defineProperty(f.prototype,"svgIcon",{get:function(){return this.cssClasses.svgIconId},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"allowClick",{get:function(){return this.isIndeterminate&&!this.isInputReadOnly},enumerable:!1,configurable:!0}),f.prototype.getCheckedLabel=function(){if(this.checkedValue===!0)return this.locLabelTrue;if(this.checkedValue===!1)return this.locLabelFalse},f.prototype.setQuestionValue=function(i,p){p===void 0&&(p=!0),i==="true"&&this.valueTrue!=="true"&&(i=!0),i==="false"&&this.valueFalse!=="false"&&(i=!1),i==="indeterminate"&&(i=null),g.prototype.setQuestionValue.call(this,i,p)},f.prototype.onLabelClick=function(i,p){return this.allowClick&&(Object(S.preventDefaults)(i),this.checkedValue=p),!0},f.prototype.calculateCheckedValueByEvent=function(i,p){var P=document.defaultView.getComputedStyle(i.target).direction=="rtl";this.checkedValue=P?!p:p},f.prototype.onSwitchClickModel=function(i){if(this.allowClick){Object(S.preventDefaults)(i);var p=i.offsetX/i.target.offsetWidth>.5;this.calculateCheckedValueByEvent(i,p);return}return!0},f.prototype.onKeyDownCore=function(i){if(i.key==="ArrowLeft"||i.key==="ArrowRight"){Object(S.preventDefaults)(i),this.calculateCheckedValueByEvent(i,i.key==="ArrowRight");return}return!0},f.prototype.getRadioItemClass=function(i,p){var P=void 0;return i.radioItem&&(P=i.radioItem),i.radioItemChecked&&p===this.value&&(P=(P?P+" ":"")+i.radioItemChecked),P},f.prototype.supportResponsiveness=function(){return!0},f.prototype.getCompactRenderAs=function(){return"radio"},h([Object(C.property)({localizable:!0})],f.prototype,"label",void 0),h([Object(C.property)()],f.prototype,"showTitle",void 0),h([Object(C.property)()],f.prototype,"valueTrue",void 0),h([Object(C.property)()],f.prototype,"valueFalse",void 0),f}(M.Question);C.Serializer.addClass("boolean",[{name:"label:text",serializationProperty:"locLabel"},{name:"labelTrue:text",serializationProperty:"locLabelTrue"},{name:"labelFalse:text",serializationProperty:"locLabelFalse"},"showTitle:boolean","valueTrue","valueFalse",{name:"renderAs",default:"default",visible:!1}],function(){return new u("")},"question"),d.QuestionFactory.Instance.registerQuestion("boolean",function(g){return new u(g)})},"./src/question_buttongroup.ts":function(a,r,t){t.r(r),t.d(r,"ButtonGroupItemValue",function(){return h}),t.d(r,"QuestionButtonGroupModel",function(){return u}),t.d(r,"ButtonGroupItemModel",function(){return g});var d=t("./src/jsonobject.ts"),C=t("./src/itemvalue.ts"),M=t("./src/question_baseselect.ts"),w=t("./src/utils/cssClassBuilder.ts"),S=function(){var f=function(i,p){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,m){P.__proto__=m}||function(P,m){for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&(P[y]=m[y])},f(i,p)};return function(i,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");f(i,p);function P(){this.constructor=i}i.prototype=p===null?Object.create(p):(P.prototype=p.prototype,new P)}}(),x=function(f,i,p,P){var m=arguments.length,y=m<3?i:P===null?P=Object.getOwnPropertyDescriptor(i,p):P,R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(f,i,p,P);else for(var b=f.length-1;b>=0;b--)(R=f[b])&&(y=(m<3?R(y):m>3?R(i,p,y):R(i,p))||y);return m>3&&y&&Object.defineProperty(i,p,y),y},h=function(f){S(i,f);function i(p,P,m){P===void 0&&(P=null),m===void 0&&(m="buttongroupitemvalue");var y=f.call(this,p,P,m)||this;return y.typeName=m,y}return i.prototype.getType=function(){return this.typeName?this.typeName:"buttongroupitemvalue"},x([Object(d.property)()],i.prototype,"iconName",void 0),x([Object(d.property)()],i.prototype,"iconSize",void 0),x([Object(d.property)()],i.prototype,"showCaption",void 0),i}(C.ItemValue),u=function(f){S(i,f);function i(p){return f.call(this,p)||this}return i.prototype.getType=function(){return"buttongroup"},i.prototype.getItemValueType=function(){return"buttongroupitemvalue"},i.prototype.supportOther=function(){return!1},i}(M.QuestionCheckboxBase);d.Serializer.addClass("buttongroup",[{name:"choices:buttongroupitemvalue[]"}],function(){return new u("")},"checkboxbase"),d.Serializer.addClass("buttongroupitemvalue",[{name:"showCaption:boolean",default:!0},{name:"iconName:text"},{name:"iconSize:number"}],function(f){return new h(f)},"itemvalue");var g=function(){function f(i,p,P){this.question=i,this.item=p,this.index=P}return Object.defineProperty(f.prototype,"value",{get:function(){return this.item.value},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"iconName",{get:function(){return this.item.iconName},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"iconSize",{get:function(){return this.item.iconSize||24},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"caption",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"showCaption",{get:function(){return this.item.showCaption||this.item.showCaption===void 0},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isRequired",{get:function(){return this.question.isRequired},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"selected",{get:function(){return this.question.isItemSelected(this.item)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"readOnly",{get:function(){return this.question.isInputReadOnly||!this.item.isEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"name",{get:function(){return this.question.name+"_"+this.question.id},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"id",{get:function(){return this.question.inputId+"_"+this.index},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasErrors",{get:function(){return this.question.errors.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"describedBy",{get:function(){return this.question.errors.length>0?this.question.id+"_errors":null},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"labelClass",{get:function(){return new w.CssClassBuilder().append(this.question.cssClasses.item).append(this.question.cssClasses.itemSelected,this.selected).append(this.question.cssClasses.itemHover,!this.readOnly&&!this.selected).append(this.question.cssClasses.itemDisabled,this.question.isReadOnly||!this.item.isEnabled).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"css",{get:function(){return{label:this.labelClass,icon:this.question.cssClasses.itemIcon,control:this.question.cssClasses.itemControl,caption:this.question.cssClasses.itemCaption,decorator:this.question.cssClasses.itemDecorator}},enumerable:!1,configurable:!0}),f.prototype.onChange=function(){this.question.renderedValue=this.item.value},f}()},"./src/question_checkbox.ts":function(a,r,t){t.r(r),t.d(r,"QuestionCheckboxModel",function(){return u});var d=t("./src/jsonobject.ts"),C=t("./src/questionfactory.ts"),M=t("./src/question_baseselect.ts"),w=t("./src/helpers.ts"),S=t("./src/itemvalue.ts"),x=t("./src/utils/cssClassBuilder.ts"),h=function(){var g=function(f,i){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,P){p.__proto__=P}||function(p,P){for(var m in P)Object.prototype.hasOwnProperty.call(P,m)&&(p[m]=P[m])},g(f,i)};return function(f,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");g(f,i);function p(){this.constructor=f}f.prototype=i===null?Object.create(i):(p.prototype=i.prototype,new p)}}(),u=function(g){h(f,g);function f(i){var p=g.call(this,i)||this;p.selectAllItemValue=new S.ItemValue("selectall"),p.invisibleOldValues={},p.isChangingValueOnClearIncorrect=!1;var P=p.createLocalizableString("selectAllText",p,!0,"selectAllItemText");return p.selectAllItem.locOwner=p,p.selectAllItem.setLocText(P),p.registerFunctionOnPropertiesValueChanged(["hasSelectAll","selectAllText"],function(){p.onVisibleChoicesChanged()}),p}return Object.defineProperty(f.prototype,"ariaRole",{get:function(){return"listbox"},enumerable:!1,configurable:!0}),f.prototype.getType=function(){return"checkbox"},f.prototype.onCreating=function(){g.prototype.onCreating.call(this),this.createNewArray("renderedValue"),this.createNewArray("value")},f.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},Object.defineProperty(f.prototype,"selectAllItem",{get:function(){return this.selectAllItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"selectAllText",{get:function(){return this.getLocalizableStringText("selectAllText")},set:function(i){this.setLocalizableStringText("selectAllText",i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locSelectAllText",{get:function(){return this.getLocalizableString("selectAllText")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasSelectAll",{get:function(){return this.getPropertyValue("hasSelectAll",!1)},set:function(i){this.setPropertyValue("hasSelectAll",i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isAllSelected",{get:function(){var i=this.value;if(!i||!Array.isArray(i)||this.isItemSelected(this.noneItem))return!1;var p=this.visibleChoices.length;this.hasOther&&p--,this.hasNone&&p--,this.hasSelectAll&&p--;var P=i.length;return this.isItemSelected(this.otherItem)&&P--,P===p},set:function(i){i?this.selectAll():this.clearValue()},enumerable:!1,configurable:!0}),f.prototype.toggleSelectAll=function(){this.isAllSelected=!this.isAllSelected},f.prototype.selectAll=function(){for(var i=[],p=0;p<this.visibleChoices.length;p++){var P=this.visibleChoices[p];P===this.noneItem||P===this.otherItem||P===this.selectAllItem||i.push(P.value)}this.value=i},f.prototype.isItemSelected=function(i){if(i===this.selectAllItem)return this.isAllSelected;var p=this.renderedValue;if(!p||!Array.isArray(p))return!1;for(var P=0;P<p.length;P++)if(this.isTwoValueEquals(p[P],i.value))return!0;return!1},Object.defineProperty(f.prototype,"maxSelectedChoices",{get:function(){return this.getPropertyValue("maxSelectedChoices")},set:function(i){i<0&&(i=0),this.setPropertyValue("maxSelectedChoices",i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"selectedItems",{get:function(){if(this.isEmpty())return[];for(var i=this.value,p=[],P=0;P<i.length;P++)p.push(S.ItemValue.getItemByValue(this.visibleChoices,i[P]));return p},enumerable:!1,configurable:!0}),f.prototype.onEnableItemCallBack=function(i){return this.shouldCheckMaxSelectedChoices()?this.isItemSelected(i):!0},f.prototype.onAfterRunItemsEnableCondition=function(){this.maxSelectedChoices<1||(this.hasSelectAll&&this.selectAllItem.setIsEnabled(this.maxSelectedChoices>=this.activeChoices.length),this.hasOther&&this.otherItem.setIsEnabled(!this.shouldCheckMaxSelectedChoices()||this.isOtherSelected))},f.prototype.shouldCheckMaxSelectedChoices=function(){if(this.maxSelectedChoices<1)return!1;var i=this.value,p=Array.isArray(i)?i.length:0;return p>=this.maxSelectedChoices},f.prototype.getItemClassCore=function(i,p){return this.value,p.isSelectAllItem=i===this.selectAllItem,new x.CssClassBuilder().append(g.prototype.getItemClassCore.call(this,i,p)).append(this.cssClasses.itemSelectAll,p.isSelectAllItem).toString()},f.prototype.updateValueFromSurvey=function(i){g.prototype.updateValueFromSurvey.call(this,i),this.invisibleOldValues={}},f.prototype.setDefaultValue=function(){g.prototype.setDefaultValue.call(this);var i=this.defaultValue;if(Array.isArray(i))for(var p=0;p<i.length;p++)this.canClearValueAnUnknow(i[p])&&this.addIntoInvisibleOldValues(i[p])},f.prototype.addIntoInvisibleOldValues=function(i){this.invisibleOldValues[i]=i},f.prototype.hasValueToClearIncorrectValues=function(){return g.prototype.hasValueToClearIncorrectValues.call(this)||!w.Helpers.isValueEmpty(this.invisibleOldValues)},f.prototype.setNewValue=function(i){this.isChangingValueOnClearIncorrect||(this.invisibleOldValues={}),i=this.valueFromData(i);var p=this.value;if(i||(i=[]),p||(p=[]),!this.isTwoValueEquals(p,i)){if(this.hasNone){var P=this.noneIndexInArray(p),m=this.noneIndexInArray(i);P>-1?m>-1&&i.length>1&&i.splice(m,1):m>-1&&(i.splice(0,i.length),i.push(this.noneItem.value))}g.prototype.setNewValue.call(this,this.rendredValueToData(i))}},f.prototype.getIsMultipleValue=function(){return!0},f.prototype.getCommentFromValue=function(i){var p=this.getFirstUnknownIndex(i);return p<0?"":i[p]},f.prototype.setOtherValueIntoValue=function(i){var p=this.getFirstUnknownIndex(i);return p<0||i.splice(p,1,this.otherItem.value),i},f.prototype.getFirstUnknownIndex=function(i){if(!Array.isArray(i))return-1;for(var p=0;p<i.length;p++)if(this.hasUnknownValue(i[p],!1,!1))return p;return-1},f.prototype.noneIndexInArray=function(i){if(!i||!Array.isArray(i))return-1;for(var p=this.noneItem.value,P=0;P<i.length;P++)if(i[P]==p)return P;return-1},f.prototype.canUseFilteredChoices=function(){return!this.hasSelectAll&&g.prototype.canUseFilteredChoices.call(this)},f.prototype.supportSelectAll=function(){return this.isSupportProperty("hasSelectAll")},f.prototype.addToVisibleChoices=function(i,p){this.supportSelectAll()&&this.canShowOptionItem(this.selectAllItem,p,this.hasSelectAll)&&i.unshift(this.selectAllItem),g.prototype.addToVisibleChoices.call(this,i,p)},f.prototype.isHeadChoice=function(i,p){return i===p.selectAllItem},f.prototype.isItemInList=function(i){return i==this.selectAllItem?this.hasSelectAll:g.prototype.isItemInList.call(this,i)},f.prototype.getDisplayValueCore=function(i,p){if(!Array.isArray(p))return g.prototype.getDisplayValueCore.call(this,i,p);for(var P=this.visibleChoices,m="",y=0;y<p.length;y++){var R=this.getChoicesDisplayValue(P,p[y]);R&&(m&&(m+=", "),m+=R)}return m},f.prototype.clearIncorrectValuesCore=function(){this.clearIncorrectAndDisabledValues(!1)},f.prototype.clearDisabledValuesCore=function(){this.clearIncorrectAndDisabledValues(!0)},f.prototype.clearIncorrectAndDisabledValues=function(i){var p=this.value,P=!1,m=this.restoreValuesFromInvisible();if(!(!p&&m.length==0)){if(!Array.isArray(p)||p.length==0){if(this.isChangingValueOnClearIncorrect=!0,i||(this.hasComment?this.value=null:this.clearValue()),this.isChangingValueOnClearIncorrect=!1,m.length==0)return;p=[]}for(var y=[],R=0;R<p.length;R++){var b=this.canClearValueAnUnknow(p[R]);!i&&!b||i&&!this.isValueDisabled(p[R])?y.push(p[R]):(P=!0,b&&this.addIntoInvisibleOldValues(p[R]))}for(var R=0;R<m.length;R++)y.push(m[R]),P=!0;P&&(this.isChangingValueOnClearIncorrect=!0,y.length==0?this.clearValue():this.value=y,this.isChangingValueOnClearIncorrect=!1)}},f.prototype.restoreValuesFromInvisible=function(){for(var i=[],p=this.visibleChoices,P=0;P<p.length;P++){var m=p[P].value;w.Helpers.isTwoValueEquals(m,this.invisibleOldValues[m])&&(this.isItemSelected(p[P])||i.push(m),delete this.invisibleOldValues[m])}return i},f.prototype.getConditionJson=function(i,p){i===void 0&&(i=null);var P=g.prototype.getConditionJson.call(this);return(i=="contains"||i=="notcontains")&&(P.type="radiogroup"),P},f.prototype.isAnswerCorrect=function(){return w.Helpers.isArrayContainsEqual(this.value,this.correctAnswer)},f.prototype.setDefaultValueWithOthers=function(){this.value=this.renderedValueFromDataCore(this.defaultValue)},f.prototype.getHasOther=function(i){return!i||!Array.isArray(i)?!1:i.indexOf(this.otherItem.value)>=0},f.prototype.valueFromData=function(i){if(!i)return i;if(!Array.isArray(i))return[g.prototype.valueFromData.call(this,i)];for(var p=[],P=0;P<i.length;P++){var m=S.ItemValue.getItemByValue(this.activeChoices,i[P]);m?p.push(m.value):p.push(i[P])}return p},f.prototype.renderedValueFromDataCore=function(i){if((!i||!Array.isArray(i))&&(i=[]),!this.hasActiveChoices)return i;for(var p=0;p<i.length;p++){if(i[p]==this.otherItem.value)return i;if(this.hasUnknownValue(i[p],!0,!1)){this.comment=i[p];var P=i.slice();return P[p]=this.otherItem.value,P}}return i},f.prototype.rendredValueToDataCore=function(i){if(!i||!i.length)return i;for(var p=0;p<i.length;p++)if(i[p]==this.otherItem.value&&this.getQuestionComment()){var P=i.slice();return P[p]=this.getQuestionComment(),P}return i},Object.defineProperty(f.prototype,"checkBoxSvgPath",{get:function(){return"M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"},enumerable:!1,configurable:!0}),f}(M.QuestionCheckboxBase);d.Serializer.addClass("checkbox",["hasSelectAll:boolean",{name:"separateSpecialChoices",visible:!0},{name:"maxSelectedChoices:number",default:0},{name:"selectAllText",serializationProperty:"locSelectAllText",dependsOn:"hasSelectAll",visibleIf:function(g){return g.hasSelectAll}}],function(){return new u("")},"checkboxbase"),C.QuestionFactory.Instance.registerQuestion("checkbox",function(g){var f=new u(g);return f.choices=C.QuestionFactory.DefaultChoices,f})},"./src/question_comment.ts":function(a,r,t){t.r(r),t.d(r,"QuestionCommentModel",function(){return x});var d=t("./src/jsonobject.ts"),C=t("./src/questionfactory.ts"),M=t("./src/question_textbase.ts"),w=t("./src/utils/utils.ts"),S=function(){var h=function(u,g){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,i){f.__proto__=i}||function(f,i){for(var p in i)Object.prototype.hasOwnProperty.call(i,p)&&(f[p]=i[p])},h(u,g)};return function(u,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");h(u,g);function f(){this.constructor=u}u.prototype=g===null?Object.create(g):(f.prototype=g.prototype,new f)}}(),x=function(h){S(u,h);function u(){return h!==null&&h.apply(this,arguments)||this}return Object.defineProperty(u.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},set:function(g){this.setPropertyValue("rows",g)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"cols",{get:function(){return this.getPropertyValue("cols")},set:function(g){this.setPropertyValue("cols",g)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"acceptCarriageReturn",{get:function(){return this.getPropertyValue("acceptCarriageReturn")},set:function(g){this.setPropertyValue("acceptCarriageReturn",g)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"autoGrow",{get:function(){return this.getPropertyValue("autoGrow")||this.survey&&this.survey.autoGrowComment},set:function(g){this.setPropertyValue("autoGrow",g)},enumerable:!1,configurable:!0}),u.prototype.getType=function(){return"comment"},u.prototype.afterRenderQuestionElement=function(g){this.element=document.getElementById(this.inputId)||g,this.updateElement(),h.prototype.afterRenderQuestionElement.call(this,g)},u.prototype.updateElement=function(){var g=this;this.element&&this.autoGrow&&setTimeout(function(){return Object(w.increaseHeightByContent)(g.element)},1)},u.prototype.onInput=function(g){this.isInputTextUpdate?this.value=g.target.value:this.updateElement()},u.prototype.onKeyDown=function(g){!this.acceptCarriageReturn&&(g.key==="Enter"||g.keyCode===13)&&(g.preventDefault(),g.stopPropagation())},u.prototype.onValueChanged=function(){h.prototype.onValueChanged.call(this),this.updateElement()},u.prototype.setNewValue=function(g){!this.acceptCarriageReturn&&g&&(g=g.replace(new RegExp(`(\r
|
|\r)`,"gm"),"")),h.prototype.setNewValue.call(this,g)},Object.defineProperty(u.prototype,"className",{get:function(){return(this.cssClasses?this.getControlClass():"panel-comment-root")||void 0},enumerable:!1,configurable:!0}),u}(M.QuestionTextBase);d.Serializer.addClass("comment",[{name:"maxLength:number",default:-1},{name:"cols:number",default:50},{name:"rows:number",default:4},{name:"placeHolder",serializationProperty:"locPlaceHolder"},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"]},{name:"autoGrow:boolean"},{name:"acceptCarriageReturn:boolean",default:!0,visible:!1}],function(){return new x("")},"textbase"),C.QuestionFactory.Instance.registerQuestion("comment",function(h){return new x(h)})},"./src/question_custom.ts":function(a,r,t){t.r(r),t.d(r,"ComponentQuestionJSON",function(){return h}),t.d(r,"ComponentCollection",function(){return u}),t.d(r,"QuestionCustomModelBase",function(){return g}),t.d(r,"QuestionCustomModel",function(){return f}),t.d(r,"QuestionCompositeModel",function(){return p});var d=t("./src/question.ts"),C=t("./src/jsonobject.ts"),M=t("./src/survey-element.ts"),w=t("./src/helpers.ts"),S=t("./src/textPreProcessor.ts"),x=function(){var P=function(m,y){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,b){R.__proto__=b}||function(R,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(R[c]=b[c])},P(m,y)};return function(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");P(m,y);function R(){this.constructor=m}m.prototype=y===null?Object.create(y):(R.prototype=y.prototype,new R)}}(),h=function(){function P(m,y){this.name=m,this.json=y;var R=this;C.Serializer.addClass(m,[],function(b){return u.Instance.createQuestion(b?b.name:"",R)},"question"),this.onInit()}return P.prototype.onInit=function(){this.json.onInit&&this.json.onInit()},P.prototype.onCreated=function(m){this.json.onCreated&&this.json.onCreated(m)},P.prototype.onLoaded=function(m){this.json.onLoaded&&this.json.onLoaded(m)},P.prototype.onAfterRender=function(m,y){this.json.onAfterRender&&this.json.onAfterRender(m,y)},P.prototype.onAfterRenderContentElement=function(m,y,R){this.json.onAfterRenderContentElement&&this.json.onAfterRenderContentElement(m,y,R)},P.prototype.onPropertyChanged=function(m,y,R){this.json.onPropertyChanged&&this.json.onPropertyChanged(m,y,R)},P.prototype.onValueChanged=function(m,y,R){this.json.onValueChanged&&this.json.onValueChanged(m,y,R)},P.prototype.onItemValuePropertyChanged=function(m,y,R,b,c){this.json.onItemValuePropertyChanged&&this.json.onItemValuePropertyChanged(m,{obj:y,propertyName:R,name:b,newValue:c})},P.prototype.getDisplayValue=function(m,y,R){return this.json.getDisplayValue?this.json.getDisplayValue(R):R.getDisplayValue(m,y)},Object.defineProperty(P.prototype,"isComposite",{get:function(){return!!this.json.elementsJSON||!!this.json.createElements},enumerable:!1,configurable:!0}),P}(),u=function(){function P(){this.customQuestionValues=[]}return P.prototype.add=function(m){if(m){var y=m.name;if(!y)throw"Attribute name is missed";if(y=y.toLowerCase(),this.getCustomQuestionByName(y))throw"There is already registered custom question with name '"+y+"'";if(C.Serializer.findClass(y))throw"There is already class with name '"+y+"'";var R=new h(y,m);this.onAddingJson&&this.onAddingJson(y,R.isComposite),this.customQuestionValues.push(R)}},Object.defineProperty(P.prototype,"items",{get:function(){return this.customQuestionValues},enumerable:!1,configurable:!0}),P.prototype.getCustomQuestionByName=function(m){for(var y=0;y<this.customQuestionValues.length;y++)if(this.customQuestionValues[y].name==m)return this.customQuestionValues[y];return null},P.prototype.clear=function(){for(var m=0;m<this.customQuestionValues.length;m++)C.Serializer.removeClass(this.customQuestionValues[m].name);this.customQuestionValues=[]},P.prototype.createQuestion=function(m,y){return y.isComposite?this.createCompositeModel(m,y):this.createCustomModel(m,y)},P.prototype.createCompositeModel=function(m,y){return this.onCreateComposite?this.onCreateComposite(m,y):new p(m,y)},P.prototype.createCustomModel=function(m,y){return this.onCreateCustom?this.onCreateCustom(m,y):new f(m,y)},P.Instance=new P,P}(),g=function(P){x(m,P);function m(y,R){var b=P.call(this,y)||this;return b.customQuestion=R,C.CustomPropertiesCollection.createProperties(b),M.SurveyElement.CreateDisabledDesignElements=!0,b.createWrapper(),M.SurveyElement.CreateDisabledDesignElements=!1,b.customQuestion&&b.customQuestion.onCreated(b),b}return m.prototype.getType=function(){return this.customQuestion?this.customQuestion.name:"custom"},m.prototype.locStrsChanged=function(){P.prototype.locStrsChanged.call(this),this.getElement()&&this.getElement().locStrsChanged()},m.prototype.createWrapper=function(){},m.prototype.onPropertyValueChanged=function(y,R,b){P.prototype.onPropertyValueChanged.call(this,y,R,b),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onPropertyChanged(this,y,b)},m.prototype.itemValuePropertyChanged=function(y,R,b,c){P.prototype.itemValuePropertyChanged.call(this,y,R,b,c),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onItemValuePropertyChanged(this,y,y.ownerPropertyName,R,c)},m.prototype.onFirstRendering=function(){var y=this.getElement();y&&y.onFirstRendering(),P.prototype.onFirstRendering.call(this)},m.prototype.initElement=function(y){y&&(y.setSurveyImpl(this),y.disableDesignActions=!0)},m.prototype.setSurveyImpl=function(y,R){P.prototype.setSurveyImpl.call(this,y,R),this.initElement(this.getElement())},m.prototype.onSurveyLoad=function(){P.prototype.onSurveyLoad.call(this),this.getElement()&&(this.getElement().onSurveyLoad(),this.customQuestion.onLoaded(this))},m.prototype.afterRenderQuestionElement=function(y){},m.prototype.afterRender=function(y){P.prototype.afterRender.call(this,y),this.customQuestion&&this.customQuestion.onAfterRender(this,y)},m.prototype.setQuestionValue=function(y,R){R===void 0&&(R=!0),P.prototype.setQuestionValue.call(this,y,R),this.updateElementCss()},m.prototype.setNewValue=function(y){P.prototype.setNewValue.call(this,y),this.updateElementCss()},m.prototype.getSurveyData=function(){return this},m.prototype.getTextProcessor=function(){return this.textProcessor},m.prototype.getValue=function(y){return this.value},m.prototype.setValue=function(y,R,b,c){if(this.data){var E=this.convertDataName(y);this.data.setValue(E,this.convertDataValue(y,R),b,c),this.updateIsAnswered(),this.updateElementCss(),this.customQuestion&&this.customQuestion.onValueChanged(this,y,R)}},m.prototype.convertDataName=function(y){return this.getValueName()},m.prototype.convertDataValue=function(y,R){return R},m.prototype.getVariable=function(y){return this.data?this.data.getVariable(y):null},m.prototype.setVariable=function(y,R){this.data&&this.data.setVariable(y,R)},m.prototype.getComment=function(y){return this.data?this.data.getComment(this.getValueName()):""},m.prototype.setComment=function(y,R,b){this.data&&this.data.setComment(this.getValueName(),R,b)},m.prototype.getAllValues=function(){return this.data?this.data.getAllValues():{}},m.prototype.getFilteredValues=function(){return this.data?this.data.getFilteredValues():{}},m.prototype.getFilteredProperties=function(){return this.data?this.data.getFilteredProperties():{}},m.prototype.addElement=function(y,R){},m.prototype.removeElement=function(y){return!1},m.prototype.getQuestionTitleLocation=function(){return"left"},m.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},m.prototype.getChildrenLayoutType=function(){return"row"},m.prototype.elementWidthChanged=function(y){},Object.defineProperty(m.prototype,"elements",{get:function(){return[]},enumerable:!1,configurable:!0}),m.prototype.indexOf=function(y){return-1},m.prototype.ensureRowsVisibility=function(){},m.prototype.getContentDisplayValueCore=function(y,R,b){return b?this.customQuestion.getDisplayValue(y,R,b):P.prototype.getDisplayValueCore.call(this,y,R)},m}(d.Question),f=function(P){x(m,P);function m(){return P!==null&&P.apply(this,arguments)||this}return m.prototype.getTemplate=function(){return"custom"},m.prototype.createWrapper=function(){this.questionWrapper=this.createQuestion()},m.prototype.getElement=function(){return this.contentQuestion},m.prototype.onAnyValueChanged=function(y){P.prototype.onAnyValueChanged.call(this,y),this.contentQuestion&&this.contentQuestion.onAnyValueChanged(y)},m.prototype.hasErrors=function(y,R){if(y===void 0&&(y=!0),R===void 0&&(R=null),!this.contentQuestion)return!1;var b=this.contentQuestion.hasErrors(y,R);this.errors=[];for(var c=0;c<this.contentQuestion.errors.length;c++)this.errors.push(this.contentQuestion.errors[c]);return b||(b=P.prototype.hasErrors.call(this,y,R)),this.updateElementCss(),b},m.prototype.focus=function(y){y===void 0&&(y=!1),this.contentQuestion?this.contentQuestion.focus(y):P.prototype.focus.call(this,y)},Object.defineProperty(m.prototype,"contentQuestion",{get:function(){return this.questionWrapper},enumerable:!1,configurable:!0}),m.prototype.createQuestion=function(){var y=this.customQuestion.json,R=null;if(y.questionJSON){var b=y.questionJSON.type;if(!b||!C.Serializer.findClass(b))throw"type attribute in questionJSON is empty or incorrect";R=C.Serializer.createClass(b),this.initElement(R),R.fromJSON(y.questionJSON)}else y.createQuestion&&(R=y.createQuestion(),this.initElement(R));return R&&!R.name&&(R.name="question"),R},m.prototype.onSurveyLoad=function(){P.prototype.onSurveyLoad.call(this),this.contentQuestion&&this.isEmpty()&&!this.contentQuestion.isEmpty()&&(this.value=this.contentQuestion.value)},m.prototype.runCondition=function(y,R){P.prototype.runCondition.call(this,y,R),this.contentQuestion&&this.contentQuestion.runCondition(y,R)},m.prototype.convertDataName=function(y){if(!this.contentQuestion)return P.prototype.convertDataName.call(this,y);var R=y.replace(this.contentQuestion.getValueName(),this.getValueName());return R.indexOf(this.getValueName())==0?R:P.prototype.convertDataName.call(this,y)},m.prototype.convertDataValue=function(y,R){return this.convertDataName(y)==P.prototype.convertDataName.call(this,y)?this.contentQuestion.value:R},m.prototype.canSetValueToSurvey=function(){return!1},m.prototype.setQuestionValue=function(y,R){R===void 0&&(R=!0),P.prototype.setQuestionValue.call(this,y,R),this.contentQuestion&&!this.isTwoValueEquals(this.contentQuestion.value,y)&&(this.contentQuestion.value=this.getUnbindValue(y))},m.prototype.onSurveyValueChanged=function(y){P.prototype.onSurveyValueChanged.call(this,y),this.contentQuestion&&this.contentQuestion.onSurveyValueChanged(y)},m.prototype.getValueCore=function(){return this.contentQuestion?this.contentQuestion.value:P.prototype.getValueCore.call(this)},m.prototype.initElement=function(y){var R=this;P.prototype.initElement.call(this,y),y&&(y.parent=this,y.afterRenderQuestionCallback=function(b,c){R.customQuestion&&R.customQuestion.onAfterRenderContentElement(R,b,c)})},m.prototype.updateElementCss=function(y){this.contentQuestion&&this.questionWrapper.updateElementCss(y),P.prototype.updateElementCss.call(this,y)},m.prototype.updateElementCssCore=function(y){this.contentQuestion&&(y=this.contentQuestion.cssClasses),P.prototype.updateElementCssCore.call(this,y)},m.prototype.getDisplayValueCore=function(y,R){return P.prototype.getContentDisplayValueCore.call(this,y,R,this.contentQuestion)},m}(g),i=function(P){x(m,P);function m(y,R){var b=P.call(this,R)||this;return b.composite=y,b.variableName=R,b}return Object.defineProperty(m.prototype,"survey",{get:function(){return this.composite.survey},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"panel",{get:function(){return this.composite.contentPanel},enumerable:!1,configurable:!0}),m}(S.QuestionTextProcessor),p=function(P){x(m,P);function m(y,R){var b=P.call(this,y,R)||this;return b.customQuestion=R,b.settingNewValue=!1,b.textProcessing=new i(b,m.ItemVariableName),b}return m.prototype.createWrapper=function(){this.panelWrapper=this.createPanel()},m.prototype.getTemplate=function(){return"composite"},m.prototype.getCssType=function(){return"composite"},m.prototype.getElement=function(){return this.contentPanel},Object.defineProperty(m.prototype,"contentPanel",{get:function(){return this.panelWrapper},enumerable:!1,configurable:!0}),m.prototype.hasErrors=function(y,R){y===void 0&&(y=!0),R===void 0&&(R=null);var b=P.prototype.hasErrors.call(this,y,R);return this.contentPanel&&this.contentPanel.hasErrors(y,!1,R)||b},m.prototype.updateElementCss=function(y){P.prototype.updateElementCss.call(this,y),this.contentPanel&&this.contentPanel.updateElementCss(y)},m.prototype.getTextProcessor=function(){return this.textProcessing},m.prototype.clearValueIfInvisibleCore=function(){P.prototype.clearValueIfInvisibleCore.call(this);for(var y=this.contentPanel.questions,R=0;R<y.length;R++)y[R].clearValueIfInvisible()},m.prototype.onAnyValueChanged=function(y){P.prototype.onAnyValueChanged.call(this,y);for(var R=this.contentPanel.questions,b=0;b<R.length;b++)R[b].onAnyValueChanged(y)},m.prototype.createPanel=function(){var y=C.Serializer.createClass("panel");y.showQuestionNumbers="off",y.renderWidth="100%";var R=this.customQuestion.json;return R.elementsJSON&&y.fromJSON({elements:R.elementsJSON}),R.createElements&&R.createElements(y,this),this.initElement(y),y.readOnly=this.isReadOnly,this.setAfterRenderCallbacks(y),y},m.prototype.onReadOnlyChanged=function(){this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly),P.prototype.onReadOnlyChanged.call(this)},m.prototype.onSurveyLoad=function(){if(this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly,this.setIsContentElement(this.contentPanel)),P.prototype.onSurveyLoad.call(this),this.contentPanel){var y=this.contentPanel.getValue();w.Helpers.isValueEmpty(y)||(this.value=y)}},m.prototype.setIsContentElement=function(y){y.isContentElement=!0;for(var R=y.elements,b=0;b<R.length;b++){var c=R[b];c.isPanel?this.setIsContentElement(c):c.isContentElement=!0}},m.prototype.setVisibleIndex=function(y){var R=P.prototype.setVisibleIndex.call(this,y);return this.isVisible&&this.contentPanel&&(R+=this.contentPanel.setVisibleIndex(y)),R},m.prototype.runCondition=function(y,R){if(P.prototype.runCondition.call(this,y,R),this.contentPanel){var b=y[m.ItemVariableName];y[m.ItemVariableName]=this.contentPanel.getValue(),this.contentPanel.runCondition(y,R),delete y[m.ItemVariableName],b&&(y[m.ItemVariableName]=b)}},m.prototype.getValue=function(y){var R=this.value;return R?R[y]:null},m.prototype.setValue=function(y,R,b,c){if(!this.settingNewValue&&(P.prototype.setValue.call(this,y,R,b,c),!!this.contentPanel)){var E=this.contentPanel.getQuestionByName(y);E&&!this.isTwoValueEquals(R,E.value)&&(this.settingNewValue=!0,E.value=R,this.settingNewValue=!1)}},m.prototype.addConditionObjectsByContext=function(y,R){if(this.contentPanel)for(var b=this.contentPanel.questions,c=this.name,E=this.title,I=0;I<b.length;I++)y.push({name:c+"."+b[I].name,text:E+"."+b[I].title,question:b[I]})},m.prototype.convertDataValue=function(y,R){var b=this.value;return b||(b={}),this.isValueEmpty(R)&&!this.isEditingSurveyElement?delete b[y]:b[y]=R,b},m.prototype.setQuestionValue=function(y,R){R===void 0&&(R=!0),P.prototype.setQuestionValue.call(this,y,R),this.settingNewValue=!0;for(var b=this.contentPanel.questions,c=0;c<b.length;c++){var E=b[c].getValueName();b[c].value=y?y[E]:void 0}this.settingNewValue=!1},m.prototype.getDisplayValueCore=function(y,R){return P.prototype.getContentDisplayValueCore.call(this,y,R,this.contentPanel)},m.prototype.setAfterRenderCallbacks=function(y){var R=this;if(!(!y||!this.customQuestion))for(var b=y.questions,c=0;c<b.length;c++)b[c].afterRenderQuestionCallback=function(E,I){R.customQuestion.onAfterRenderContentElement(R,E,I)}},m.ItemVariableName="composite",m}(g)},"./src/question_dropdown.ts":function(a,r,t){t.r(r),t.d(r,"QuestionDropdownModel",function(){return f});var d=t("./src/jsonobject.ts"),C=t("./src/questionfactory.ts"),M=t("./src/question_baseselect.ts"),w=t("./src/itemvalue.ts"),S=t("./src/utils/cssClassBuilder.ts"),x=t("./src/popup.ts"),h=t("./src/list.ts"),u=function(){var i=function(p,P){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var R in y)Object.prototype.hasOwnProperty.call(y,R)&&(m[R]=y[R])},i(p,P)};return function(p,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");i(p,P);function m(){this.constructor=p}p.prototype=P===null?Object.create(P):(m.prototype=P.prototype,new m)}}(),g=function(i,p,P,m){var y=arguments.length,R=y<3?p:m===null?m=Object.getOwnPropertyDescriptor(p,P):m,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(i,p,P,m);else for(var c=i.length-1;c>=0;c--)(b=i[c])&&(R=(y<3?b(R):y>3?b(p,P,R):b(p,P))||R);return y>3&&R&&Object.defineProperty(p,P,R),R},f=function(i){u(p,i);function p(P){var m=i.call(this,P)||this;m.minMaxChoices=[],m.createLocalizableString("optionsCaption",m,!1,!0);var y=m;return m.registerFunctionOnPropertiesValueChanged(["choicesMin","choicesMax","choicesStep"],function(){y.onVisibleChoicesChanged()}),m}return p.prototype.getVisibleListItems=function(){return this.visibleChoices.map(function(P){return{id:P.value,title:P.text,visible:P.isVisible,enabled:P.isEnabled}})},Object.defineProperty(p.prototype,"showOptionsCaption",{get:function(){return this.getPropertyValue("showOptionsCaption")},set:function(P){this.setPropertyValue("showOptionsCaption",P)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"optionsCaption",{get:function(){return this.getLocalizableStringText("optionsCaption")},set:function(P){this.setLocalizableStringText("optionsCaption",P)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"locOptionsCaption",{get:function(){return this.getLocalizableString("optionsCaption")},enumerable:!1,configurable:!0}),p.prototype.getType=function(){return"dropdown"},Object.defineProperty(p.prototype,"selectedItem",{get:function(){return this.isEmpty()?null:w.ItemValue.getItemByValue(this.visibleChoices,this.value)},enumerable:!1,configurable:!0}),p.prototype.supportGoNextPageAutomatic=function(){return!0},p.prototype.getChoices=function(){var P=i.prototype.getChoices.call(this);if(this.choicesMax<=this.choicesMin)return P;for(var m=[],y=0;y<P.length;y++)m.push(P[y]);if(this.minMaxChoices.length===0||this.minMaxChoices.length!==(this.choicesMax-this.choicesMin)/this.choicesStep+1){this.minMaxChoices=[];for(var y=this.choicesMin;y<=this.choicesMax;y+=this.choicesStep)this.minMaxChoices.push(new w.ItemValue(y))}return m=m.concat(this.minMaxChoices),m},Object.defineProperty(p.prototype,"choicesMin",{get:function(){return this.getPropertyValue("choicesMin")},set:function(P){this.setPropertyValue("choicesMin",P)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"choicesMax",{get:function(){return this.getPropertyValue("choicesMax")},set:function(P){this.setPropertyValue("choicesMax",P)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"choicesStep",{get:function(){return this.getPropertyValue("choicesStep")},set:function(P){P<1&&(P=1),this.setPropertyValue("choicesStep",P)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"autoComplete",{get:function(){return this.getPropertyValue("autoComplete","")},set:function(P){this.setPropertyValue("autoComplete",P)},enumerable:!1,configurable:!0}),p.prototype.getControlClass=function(){return this.isEmpty(),new S.CssClassBuilder().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.errors.length>0).append(this.cssClasses.controlDisabled,this.isReadOnly).toString()},Object.defineProperty(p.prototype,"readOnlyText",{get:function(){return this.hasOther&&this.isOtherSelected?this.otherText:this.displayValue||this.showOptionsCaption&&this.optionsCaption},enumerable:!1,configurable:!0}),p.prototype.onVisibleChoicesChanged=function(){i.prototype.onVisibleChoicesChanged.call(this),this.popupModel&&this.popupModel.contentComponentData.model.setItems(this.getVisibleListItems())},Object.defineProperty(p.prototype,"popupModel",{get:function(){var P=this;if(this.renderAs==="select"&&!this._popupModel){var m=new h.ListModel(this.getVisibleListItems(),function(y){P.value=y.id,P.popupModel.toggleVisibility()},!0);m.denySearch=this.denySearch,this._popupModel=new x.PopupModel("sv-list",{model:m},"bottom","center",!1),this._popupModel.widthMode=this.dropdownWidthMode==="editorWidth"?"fixedWidth":"contentWidth"}return this._popupModel},enumerable:!1,configurable:!0}),g([Object(d.property)({defaultValue:!1,onSet:function(P,m){if(m.popupModel&&m.popupModel.contentComponentData.model instanceof h.ListModel){var y=m.popupModel.contentComponentData.model;y.denySearch=P}}})],p.prototype,"denySearch",void 0),g([Object(d.property)({defaultValue:"editorWidth",onSet:function(P,m){m.popupModel&&(m.popupModel.widthMode=P==="editorWidth"?"fixedWidth":"contentWidth")}})],p.prototype,"dropdownWidthMode",void 0),p}(M.QuestionSelectBase);d.Serializer.addClass("dropdown",[{name:"optionsCaption",serializationProperty:"locOptionsCaption"},{name:"showOptionsCaption:boolean",default:!0},{name:"choicesMin:number",default:0},{name:"choicesMax:number",default:0},{name:"choicesStep:number",default:1,minValue:1},{name:"autoComplete",dataList:["name","honorific-prefix","given-name","additional-name","family-name","honorific-suffix","nickname","organization-title","username","new-password","current-password","organization","street-address","address-line1","address-line2","address-line3","address-level4","address-level3","address-level2","address-level1","country","country-name","postal-code","cc-name","cc-given-name","cc-additional-name","cc-family-name","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc","cc-type","transaction-currency","transaction-amount","language","bday","bday-day","bday-month","bday-year","sex","url","photo","tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-local-prefix","tel-local-suffix","tel-extension","email","impp"]},{name:"renderAs",default:"default",visible:!1},{name:"denySearch:boolean",default:!1,visible:!1},{name:"dropdownWidthMode",default:"editorWidth",visible:!1}],function(){return new f("")},"selectbase"),C.QuestionFactory.Instance.registerQuestion("dropdown",function(i){var p=new f(i);return p.choices=C.QuestionFactory.DefaultChoices,p})},"./src/question_empty.ts":function(a,r,t){t.r(r),t.d(r,"QuestionEmptyModel",function(){return w});var d=t("./src/jsonobject.ts"),C=t("./src/question.ts"),M=function(){var S=function(x,h){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var f in g)Object.prototype.hasOwnProperty.call(g,f)&&(u[f]=g[f])},S(x,h)};return function(x,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");S(x,h);function u(){this.constructor=x}x.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}(),w=function(S){M(x,S);function x(h){return S.call(this,h)||this}return x.prototype.getType=function(){return"empty"},x}(C.Question);d.Serializer.addClass("empty",[],function(){return new w("")},"question")},"./src/question_expression.ts":function(a,r,t){t.r(r),t.d(r,"QuestionExpressionModel",function(){return h}),t.d(r,"getCurrecyCodes",function(){return u});var d=t("./src/helpers.ts"),C=t("./src/question.ts"),M=t("./src/jsonobject.ts"),w=t("./src/questionfactory.ts"),S=t("./src/conditions.ts"),x=function(){var g=function(f,i){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,P){p.__proto__=P}||function(p,P){for(var m in P)Object.prototype.hasOwnProperty.call(P,m)&&(p[m]=P[m])},g(f,i)};return function(f,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");g(f,i);function p(){this.constructor=f}f.prototype=i===null?Object.create(i):(p.prototype=i.prototype,new p)}}(),h=function(g){x(f,g);function f(i){var p=g.call(this,i)||this;return p.createLocalizableString("format",p),p.registerFunctionOnPropertyValueChanged("expression",function(){p.expressionRunner&&(p.expressionRunner=new S.ExpressionRunner(p.expression))}),p.registerFunctionOnPropertiesValueChanged(["format","currency","displayStyle"],function(){p.updateFormatedValue()}),p}return f.prototype.getType=function(){return"expression"},Object.defineProperty(f.prototype,"hasInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"format",{get:function(){return this.getLocalizableStringText("format","")},set:function(i){this.setLocalizableStringText("format",i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locFormat",{get:function(){return this.getLocalizableString("format")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(i){this.setPropertyValue("expression",i)},enumerable:!1,configurable:!0}),f.prototype.locCalculation=function(){this.expressionIsRunning=!0},f.prototype.unlocCalculation=function(){this.expressionIsRunning=!1},f.prototype.runCondition=function(i,p){var P=this;g.prototype.runCondition.call(this,i,p),!(!this.expression||this.expressionIsRunning||!this.runIfReadOnly&&this.isReadOnly)&&(this.locCalculation(),this.expressionRunner||(this.expressionRunner=new S.ExpressionRunner(this.expression)),this.expressionRunner.onRunComplete=function(m){d.Helpers.isTwoValueEquals(m,P.value)||(P.value=m),P.unlocCalculation()},this.expressionRunner.run(i,p))},f.prototype.canCollectErrors=function(){return!0},f.prototype.hasRequiredError=function(){return!1},Object.defineProperty(f.prototype,"maximumFractionDigits",{get:function(){return this.getPropertyValue("maximumFractionDigits")},set:function(i){i<-1||i>20||this.setPropertyValue("maximumFractionDigits",i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"minimumFractionDigits",{get:function(){return this.getPropertyValue("minimumFractionDigits")},set:function(i){i<-1||i>20||this.setPropertyValue("minimumFractionDigits",i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"runIfReadOnly",{get:function(){return this.runIfReadOnlyValue===!0},set:function(i){this.runIfReadOnlyValue=i},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"formatedValue",{get:function(){return this.getPropertyValue("formatedValue","")},enumerable:!1,configurable:!0}),f.prototype.updateFormatedValue=function(){this.setPropertyValue("formatedValue",this.getDisplayValueCore(!1,this.value))},f.prototype.onValueChanged=function(){this.updateFormatedValue()},f.prototype.updateValueFromSurvey=function(i){g.prototype.updateValueFromSurvey.call(this,i),this.updateFormatedValue()},f.prototype.getDisplayValueCore=function(i,p){var P=this.isValueEmpty(p)?this.defaultValue:p,m="";if(!this.isValueEmpty(P)){var y=this.getValueAsStr(P);m=this.format?this.format.format(y):y}return this.survey&&(m=this.survey.getExpressionDisplayValue(this,P,m)),m},Object.defineProperty(f.prototype,"displayStyle",{get:function(){return this.getPropertyValue("displayStyle")},set:function(i){this.setPropertyValue("displayStyle",i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"currency",{get:function(){return this.getPropertyValue("currency")},set:function(i){u().indexOf(i)<0||this.setPropertyValue("currency",i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"useGrouping",{get:function(){return this.getPropertyValue("useGrouping")},set:function(i){this.setPropertyValue("useGrouping",i)},enumerable:!1,configurable:!0}),f.prototype.getValueAsStr=function(i){if(this.displayStyle=="date"){var p=new Date(i);if(p&&p.toLocaleDateString)return p.toLocaleDateString()}if(this.displayStyle!="none"&&d.Helpers.isNumber(i)){var P=this.getLocale();P||(P="en");var m={style:this.displayStyle,currency:this.currency,useGrouping:this.useGrouping};return this.maximumFractionDigits>-1&&(m.maximumFractionDigits=this.maximumFractionDigits),this.minimumFractionDigits>-1&&(m.minimumFractionDigits=this.minimumFractionDigits),i.toLocaleString(P,m)}return i.toString()},f}(C.Question);function u(){return["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UZS","VEF","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]}M.Serializer.addClass("expression",["expression:expression",{name:"format",serializationProperty:"locFormat"},{name:"displayStyle",default:"none",choices:["none","decimal","currency","percent","date"]},{name:"currency",choices:function(){return u()},default:"USD"},{name:"maximumFractionDigits:number",default:-1},{name:"minimumFractionDigits:number",default:-1},{name:"useGrouping:boolean",default:!0},{name:"enableIf",visible:!1},{name:"isRequired",visible:!1},{name:"readOnly",visible:!1},{name:"requiredErrorText",visible:!1},{name:"defaultValueExpression",visible:!1},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"requiredIf",visible:!1}],function(){return new h("")},"question"),w.QuestionFactory.Instance.registerQuestion("expression",function(g){return new h(g)})},"./src/question_file.ts":function(a,r,t){t.r(r),t.d(r,"QuestionFileModel",function(){return p});var d=t("./src/question.ts"),C=t("./src/jsonobject.ts"),M=t("./src/questionfactory.ts"),w=t("./src/error.ts"),S=t("./src/surveyStrings.ts"),x=t("./src/utils/cssClassBuilder.ts"),h=t("./src/utils/utils.ts"),u=t("./src/actions/container.ts"),g=t("./src/actions/action.ts"),f=function(){var P=function(m,y){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,b){R.__proto__=b}||function(R,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(R[c]=b[c])},P(m,y)};return function(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");P(m,y);function R(){this.constructor=m}m.prototype=y===null?Object.create(y):(R.prototype=y.prototype,new R)}}(),i=function(P,m,y,R){var b=arguments.length,c=b<3?m:R===null?R=Object.getOwnPropertyDescriptor(m,y):R,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(P,m,y,R);else for(var I=P.length-1;I>=0;I--)(E=P[I])&&(c=(b<3?E(c):b>3?E(m,y,c):E(m,y))||c);return b>3&&c&&Object.defineProperty(m,y,c),c},p=function(P){f(m,P);function m(y){var R=P.call(this,y)||this;return R.isUploading=!1,R.isDragging=!1,R.onStateChanged=R.addEvent(),R.previewValue=[],R.mobileFileNavigator=new u.ActionContainer,R.onDragOver=function(b){if(R.isInputReadOnly)return b.returnValue=!1,!1;R.isDragging=!0,b.dataTransfer.dropEffect="copy",b.preventDefault()},R.onDrop=function(b){if(!R.isInputReadOnly){R.isDragging=!1,b.preventDefault();var c=b.dataTransfer;R.onChange(c)}},R.onDragLeave=function(b){R.isInputReadOnly||(R.isDragging=!1)},R.doChange=function(b){var c=b.target||b.srcElement;R.onChange(c)},R.doClean=function(b){var c=b.currentTarget||b.srcElement;if(R.needConfirmRemoveFile){var E=Object(h.confirmAction)(R.confirmRemoveAllMessage);if(!E)return}c.parentElement.querySelectorAll("input")[0].value="",R.clear()},R.doDownloadFile=function(b,c){Object(h.detectIEOrEdge)()&&(b.preventDefault(),Object(h.loadFileFromBase64)(c.content,c.name))},R.fileIndexAction=new g.Action({id:"fileIndex",title:R.getFileIndexCaption(),enabled:!1}),R.prevFileAction=new g.Action({id:"prevPage",iconSize:16,action:function(){R.indexToShow=R.previewValue.length&&(R.indexToShow-1+R.previewValue.length)%R.previewValue.length||0,R.fileIndexAction.title=R.getFileIndexCaption()}}),R.nextFileAction=new g.Action({id:"nextPage",iconSize:16,action:function(){R.indexToShow=R.previewValue.length&&(R.indexToShow+1)%R.previewValue.length||0,R.fileIndexAction.title=R.getFileIndexCaption()}}),R.mobileFileNavigator.actions=[R.prevFileAction,R.fileIndexAction,R.nextFileAction],R}return Object.defineProperty(m.prototype,"mobileFileNavigatorVisible",{get:function(){return this.isMobile&&this.containsMultiplyFiles},enumerable:!1,configurable:!0}),m.prototype.updateElementCssCore=function(y){P.prototype.updateElementCssCore.call(this,y),this.prevFileAction.iconName=this.cssClasses.leftIconId,this.nextFileAction.iconName=this.cssClasses.rightIconId},m.prototype.getFileIndexCaption=function(){return S.surveyLocalization.getString("indexText").format(this.indexToShow+1,this.previewValue.length)},m.prototype.isPreviewVisible=function(y){return!this.isMobile||y===this.indexToShow},m.prototype.getType=function(){return"file"},m.prototype.clearOnDeletingContainer=function(){this.survey&&this.survey.clearFiles(this,this.name,this.value,null,function(){})},Object.defineProperty(m.prototype,"showPreview",{get:function(){return this.getPropertyValue("showPreview")},set:function(y){this.setPropertyValue("showPreview",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"allowMultiple",{get:function(){return this.getPropertyValue("allowMultiple",!1)},set:function(y){this.setPropertyValue("allowMultiple",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(y){this.setPropertyValue("imageHeight",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(y){this.setPropertyValue("imageWidth",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"acceptedTypes",{get:function(){return this.getPropertyValue("acceptedTypes")},set:function(y){this.setPropertyValue("acceptedTypes",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"storeDataAsText",{get:function(){return this.getPropertyValue("storeDataAsText")},set:function(y){this.setPropertyValue("storeDataAsText",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"waitForUpload",{get:function(){return this.getPropertyValue("waitForUpload")},set:function(y){this.setPropertyValue("waitForUpload",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"allowImagesPreview",{get:function(){return this.getPropertyValue("allowImagesPreview")},set:function(y){this.setPropertyValue("allowImagesPreview",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"maxSize",{get:function(){return this.getPropertyValue("maxSize")},set:function(y){this.setPropertyValue("maxSize",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"needConfirmRemoveFile",{get:function(){return this.getPropertyValue("needConfirmRemoveFile")},set:function(y){this.setPropertyValue("needConfirmRemoveFile",y)},enumerable:!1,configurable:!0}),m.prototype.getConfirmRemoveMessage=function(y){return this.confirmRemoveMessage.format(y)},Object.defineProperty(m.prototype,"inputTitle",{get:function(){return this.isUploading?this.loadingFileTitle:this.isEmpty()?this.chooseFileTitle:" "},enumerable:!1,configurable:!0}),m.prototype.clear=function(y){var R=this;this.survey&&(this.containsMultiplyFiles=!1,this.survey.clearFiles(this,this.name,this.value,null,function(b,c){b==="success"&&(R.value=void 0,R.errors=[],y&&y())}))},m.prototype.removeFile=function(y){var R=this;this.survey&&this.survey.clearFiles(this,this.name,this.value,y.name,function(b,c){if(b==="success"){var E=R.value;Array.isArray(E)?R.value=E.filter(function(I){return I.name!==y.name}):R.value=void 0}})},m.prototype.loadFiles=function(y){var R=this;if(this.survey&&(this.errors=[],!!this.allFilesOk(y))){this.stateChanged("loading");var b=function(){var c=[];R.storeDataAsText?y.forEach(function(E){var I=new FileReader;I.onload=function(A){c=c.concat([{name:E.name,type:E.type,content:I.result}]),c.length===y.length&&(R.value=(R.value||[]).concat(c))},I.readAsDataURL(E)}):R.survey&&R.survey.uploadFiles(R,R.name,y,function(E,I){E==="error"&&R.stateChanged("error"),E==="success"&&(R.value=(R.value||[]).concat(I.map(function(A){return{name:A.file.name,type:A.file.type,content:A.content}})))})};this.allowMultiple?b():this.clear(b)}},m.prototype.canPreviewImage=function(y){return this.allowImagesPreview&&!!y&&this.isFileImage(y)},m.prototype.setQuestionValue=function(y,R){var b=this;R===void 0&&(R=!0),P.prototype.setQuestionValue.call(this,y,R),this.previewValue=[];var c=!Array.isArray(y)&&y||Array.isArray(y)&&y.length>0?this.showPreview?"loading":"loaded":"empty";if(this.stateChanged(c),!(!this.showPreview||!y)){var E=Array.isArray(y)?y:y?[y]:[];this.storeDataAsText?(E.forEach(function(I){var A=I.content||I;b.previewValue=b.previewValue.concat([{name:I.name,type:I.type,content:A}])}),c==="loading"&&this.stateChanged("loaded")):E.forEach(function(I){I.content,b.survey&&b.survey.downloadFile(b.name,I,function(A,D){A==="success"?(b.previewValue=b.previewValue.concat([{content:D,name:I.name,type:I.type}]),b.previewValue.length===E.length&&b.stateChanged("loaded")):b.stateChanged("error")})}),this.fileIndexAction.title=this.getFileIndexCaption(),this.containsMultiplyFiles=this.previewValue.length>1}},m.prototype.onCheckForErrors=function(y,R){P.prototype.onCheckForErrors.call(this,y,R),this.isUploading&&this.waitForUpload&&y.push(new w.UploadingFileError(S.surveyLocalization.getString("uploadingFile"),this))},m.prototype.stateChanged=function(y){y==="loading"&&(this.isUploading=!0),y==="loaded"&&(this.isUploading=!1),y==="error"&&(this.isUploading=!1),this.currentState=y,this.onStateChanged.fire(this,{state:y})},m.prototype.allFilesOk=function(y){var R=this,b=this.errors?this.errors.length:0;return(y||[]).forEach(function(c){R.maxSize>0&&c.size>R.maxSize&&R.errors.push(new w.ExceedSizeError(R.maxSize,R))}),b===this.errors.length},m.prototype.isFileImage=function(y){if(!y)return!1;var R="data:image",b=y.content&&y.content.substr(0,R.length);b=b&&b.toLowerCase();var c=b===R||!!y.type&&y.type.toLowerCase().indexOf("image/")===0;return c},m.prototype.getPlainData=function(y){y===void 0&&(y={includeEmpty:!0});var R=P.prototype.getPlainData.call(this,y);if(R&&!this.isEmpty()){R.isNode=!1;var b=Array.isArray(this.value)?this.value:[this.value];R.data=b.map(function(c,E){return{name:E,title:"File",value:c.content&&c.content||c,displayValue:c.name&&c.name||c,getString:function(I){return typeof I=="object"?JSON.stringify(I):I},isNode:!1}})}return R},m.prototype.supportComment=function(){return!0},m.prototype.getChooseFileCss=function(){var y=this.isAnswered;return new x.CssClassBuilder().append(this.cssClasses.chooseFile).append(this.cssClasses.controlDisabled,this.isReadOnly).append(this.cssClasses.chooseFileAsText,!y).append(this.cssClasses.chooseFileAsTextDisabled,!y&&this.isInputReadOnly).append(this.cssClasses.chooseFileAsIcon,y).toString()},m.prototype.getReadOnlyFileCss=function(){return new x.CssClassBuilder().append("form-control").append(this.cssClasses.placeholderInput).toString()},Object.defineProperty(m.prototype,"fileRootCss",{get:function(){return new x.CssClassBuilder().append(this.cssClasses.root).append(this.cssClasses.single,!this.allowMultiple).append(this.cssClasses.singleImage,!this.allowMultiple&&this.isAnswered&&this.canPreviewImage(this.value[0])).append(this.cssClasses.mobile,this.isMobile).toString()},enumerable:!1,configurable:!0}),m.prototype.getFileDecoratorCss=function(){return new x.CssClassBuilder().append(this.cssClasses.fileDecorator).append(this.cssClasses.onError,this.errors.length>0).append(this.cssClasses.fileDecoratorDrag,this.isDragging).toString()},m.prototype.onChange=function(y){if(window.FileReader&&!(!y||!y.files||y.files.length<1)){for(var R=[],b=this.allowMultiple?y.files.length:1,c=0;c<b;c++)R.push(y.files[c]);y.value="",this.loadFiles(R)}},m.prototype.doRemoveFile=function(y){if(this.needConfirmRemoveFile){var R=Object(h.confirmAction)(this.getConfirmRemoveMessage(y.name));if(!R)return}this.removeFile(y)},i([Object(C.property)()],m.prototype,"isDragging",void 0),i([Object(C.property)({defaultValue:"empty"})],m.prototype,"currentState",void 0),i([Object(C.property)({defaultValue:0})],m.prototype,"indexToShow",void 0),i([Object(C.property)({defaultValue:!1})],m.prototype,"containsMultiplyFiles",void 0),i([Object(C.property)({localizable:{defaultStr:"confirmRemoveFile"}})],m.prototype,"confirmRemoveMessage",void 0),i([Object(C.property)({localizable:{defaultStr:"confirmRemoveAllFiles"}})],m.prototype,"confirmRemoveAllMessage",void 0),i([Object(C.property)({localizable:{defaultStr:"noFileChosen"}})],m.prototype,"noFileChosenCaption",void 0),i([Object(C.property)({localizable:{defaultStr:"chooseFileCaption"}})],m.prototype,"chooseButtonCaption",void 0),i([Object(C.property)({localizable:{defaultStr:"cleanCaption"}})],m.prototype,"cleanButtonCaption",void 0),i([Object(C.property)({localizable:{defaultStr:"removeFileCaption"}})],m.prototype,"removeFileCaption",void 0),i([Object(C.property)({localizable:{defaultStr:"loadingFile"}})],m.prototype,"loadingFileTitle",void 0),i([Object(C.property)({localizable:{defaultStr:"chooseFile"}})],m.prototype,"chooseFileTitle",void 0),i([Object(C.property)({localizable:{defaultStr:"fileDragAreaPlaceholder"}})],m.prototype,"dragAreaPlaceholder",void 0),m}(d.Question);C.Serializer.addClass("file",[{name:"hasComment:switch",layout:"row"},{name:"commentText",dependsOn:"hasComment",visibleIf:function(P){return P.hasComment},serializationProperty:"locCommentText",layout:"row"},{name:"commentPlaceHolder",serializationProperty:"locCommentPlaceHolder",dependsOn:"hasComment",visibleIf:function(P){return P.hasComment}},{name:"showPreview:boolean",default:!0},"allowMultiple:boolean",{name:"allowImagesPreview:boolean",default:!0},"imageHeight","imageWidth","acceptedTypes",{name:"storeDataAsText:boolean",default:!0},{name:"waitForUpload:boolean",default:!1},{name:"maxSize:number",default:0},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"validators",visible:!1},{name:"needConfirmRemoveFile:boolean"}],function(){return new p("")},"question"),M.QuestionFactory.Instance.registerQuestion("file",function(P){return new p(P)})},"./src/question_html.ts":function(a,r,t){t.r(r),t.d(r,"QuestionHtmlModel",function(){return S});var d=t("./src/questionnonvalue.ts"),C=t("./src/jsonobject.ts"),M=t("./src/questionfactory.ts"),w=function(){var x=function(h,u){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,f){g.__proto__=f}||function(g,f){for(var i in f)Object.prototype.hasOwnProperty.call(f,i)&&(g[i]=f[i])},x(h,u)};return function(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");x(h,u);function g(){this.constructor=h}h.prototype=u===null?Object.create(u):(g.prototype=u.prototype,new g)}}(),S=function(x){w(h,x);function h(u){var g=x.call(this,u)||this,f=g.createLocalizableString("html",g);return f.onGetTextCallback=function(i){return g.survey&&!g.ignoreHtmlProgressing?g.survey.processHtml(i):i},g}return h.prototype.getType=function(){return"html"},Object.defineProperty(h.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),h.prototype.getProcessedText=function(u){return this.ignoreHtmlProgressing?u:x.prototype.getProcessedText.call(this,u)},Object.defineProperty(h.prototype,"html",{get:function(){return this.getLocalizableStringText("html","")},set:function(u){this.setLocalizableStringText("html",u)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"processedHtml",{get:function(){return this.survey?this.survey.processHtml(this.html):this.html},enumerable:!1,configurable:!0}),h}(d.QuestionNonValue);C.Serializer.addClass("html",[{name:"html:html",serializationProperty:"locHtml"}],function(){return new S("")},"nonvalue"),M.QuestionFactory.Instance.registerQuestion("html",function(x){return new S(x)})},"./src/question_image.ts":function(a,r,t){t.r(r),t.d(r,"QuestionImageModel",function(){return u});var d=t("./src/questionnonvalue.ts"),C=t("./src/jsonobject.ts"),M=t("./src/questionfactory.ts"),w=t("./src/utils/cssClassBuilder.ts"),S=function(){var g=function(f,i){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,P){p.__proto__=P}||function(p,P){for(var m in P)Object.prototype.hasOwnProperty.call(P,m)&&(p[m]=P[m])},g(f,i)};return function(f,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");g(f,i);function p(){this.constructor=f}f.prototype=i===null?Object.create(i):(p.prototype=i.prototype,new p)}}(),x=["youtube.com","youtu.be"],h=[".mp4",".mov",".wmv",".flv",".avi",".mkv"],u=function(g){S(f,g);function f(i){var p=g.call(this,i)||this;return p.createLocalizableString("imageLink",p,!1),p.createLocalizableString("text",p,!1),p.registerFunctionOnPropertiesValueChanged(["contentMode","imageLink"],function(){return p.calculateRenderedMode()}),p}return f.prototype.getType=function(){return"image"},Object.defineProperty(f.prototype,"isCompositeQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),f.prototype.onSurveyLoad=function(){g.prototype.onSurveyLoad.call(this),this.calculateRenderedMode()},Object.defineProperty(f.prototype,"imageLink",{get:function(){return this.getLocalizableStringText("imageLink")},set:function(i){this.setLocalizableStringText("imageLink",i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locImageLink",{get:function(){return this.getLocalizableString("imageLink")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"text",{get:function(){return this.getLocalizableStringText("text")},set:function(i){this.setLocalizableStringText("text",i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locText",{get:function(){return this.getLocalizableString("text")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(i){this.setPropertyValue("imageHeight",i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"renderedHeight",{get:function(){return this.imageHeight?this.imageHeight+"px":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(i){this.setPropertyValue("imageWidth",i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"renderedWidth",{get:function(){return this.imageWidth?this.imageWidth+"px":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"imageFit",{get:function(){return this.getPropertyValue("imageFit")},set:function(i){this.setPropertyValue("imageFit",i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"contentMode",{get:function(){return this.getPropertyValue("contentMode")},set:function(i){this.setPropertyValue("contentMode",i),i==="video"&&(this.showLabel=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"renderedMode",{get:function(){return this.getPropertyValue("renderedMode","image")},enumerable:!1,configurable:!0}),f.prototype.getImageCss=function(){var i=C.Serializer.findProperty("image","imageHeight"),p=C.Serializer.findProperty("image","imageWidth"),P=i.isDefaultValue(this.imageHeight)&&p.isDefaultValue(this.imageWidth);return new w.CssClassBuilder().append(this.cssClasses.image).append(this.cssClasses.adaptive,P).toString()},f.prototype.setRenderedMode=function(i){this.setPropertyValue("renderedMode",i)},f.prototype.calculateRenderedMode=function(){this.contentMode!=="auto"?this.setRenderedMode(this.contentMode):this.isYoutubeVideo()?this.setRenderedMode("youtube"):this.isVideo()?this.setRenderedMode("video"):this.setRenderedMode("image")},f.prototype.isYoutubeVideo=function(){var i=this.imageLink;if(!i)return!1;i=i.toLowerCase();for(var p=0;p<x.length;p++)if(i.indexOf(x[p])!==-1)return!0;return!1},f.prototype.isVideo=function(){var i=this.imageLink;if(!i)return!1;i=i.toLowerCase();for(var p=0;p<h.length;p++)if(i.endsWith(h[p]))return!0;return!1},f}(d.QuestionNonValue);C.Serializer.addClass("image",[{name:"imageLink",serializationProperty:"locImageLink"},{name:"text",serializationProperty:"locText"},{name:"contentMode",default:"auto",choices:["auto","image","video","youtube"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight:number",default:150,minValue:0},{name:"imageWidth:number",default:200,minValue:0}],function(){return new u("")},"nonvalue"),M.QuestionFactory.Instance.registerQuestion("image",function(g){return new u(g)})},"./src/question_imagepicker.ts":function(a,r,t){t.r(r),t.d(r,"ImageItemValue",function(){return i}),t.d(r,"QuestionImagePickerModel",function(){return p});var d=t("./src/jsonobject.ts"),C=t("./src/questionfactory.ts"),M=t("./src/question_baseselect.ts"),w=t("./src/itemvalue.ts"),S=t("./src/helpers.ts"),x=t("./src/utils/cssClassBuilder.ts"),h=t("./src/settings.ts"),u=t("./src/utils/utils.ts"),g=function(){var P=function(m,y){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,b){R.__proto__=b}||function(R,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(R[c]=b[c])},P(m,y)};return function(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");P(m,y);function R(){this.constructor=m}m.prototype=y===null?Object.create(y):(R.prototype=y.prototype,new R)}}(),f=function(P,m,y,R){var b=arguments.length,c=b<3?m:R===null?R=Object.getOwnPropertyDescriptor(m,y):R,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(P,m,y,R);else for(var I=P.length-1;I>=0;I--)(E=P[I])&&(c=(b<3?E(c):b>3?E(m,y,c):E(m,y))||c);return b>3&&c&&Object.defineProperty(m,y,c),c},i=function(P){g(m,P);function m(y,R,b){R===void 0&&(R=null),b===void 0&&(b="imageitemvalue");var c=P.call(this,y,R,b)||this;return c.typeName=b,c.createLocalizableString("imageLink",c,!1),c}return m.prototype.getType=function(){return this.typeName?this.typeName:"itemvalue"},Object.defineProperty(m.prototype,"imageLink",{get:function(){return this.getLocalizableStringText("imageLink")},set:function(y){this.setLocalizableStringText("imageLink",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"locImageLink",{get:function(){return this.getLocalizableString("imageLink")},enumerable:!1,configurable:!0}),m.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},m.prototype.getMarkdownHtml=function(y,R){return this.locOwner?this.locOwner.getMarkdownHtml(y,R):y},m.prototype.getRenderer=function(y){return this.locOwner?this.locOwner.getRenderer(y):null},m.prototype.getRendererContext=function(y){return this.locOwner?this.locOwner.getRendererContext(y):y},m.prototype.getProcessedText=function(y){return this.locOwner?this.locOwner.getProcessedText(y):y},m}(w.ItemValue),p=function(P){g(m,P);function m(y){var R=P.call(this,y)||this;return R.isResponsiveValue=!1,R.onContentLoaded=function(b,c){var E=c.target;R.contentMode=="video"?b.aspectRatio=E.videoWidth/E.videoHeight:b.aspectRatio=E.naturalWidth/E.naturalHeight,R._width&&R.processResponsiveness(0,R._width)},R.colCount=0,R.registerFunctionOnPropertiesValueChanged(["minImageWidth","maxImageWidth","minImageHeight","maxImageHeight","visibleChoices","colCount","isResponsiveValue"],function(){R._width&&R.processResponsiveness(0,R._width)}),R.registerFunctionOnPropertiesValueChanged(["imageWidth","imageHeight"],function(){R.calcIsResponsive()}),R.calcIsResponsive(),R}return m.prototype.getType=function(){return"imagepicker"},m.prototype.supportGoNextPageAutomatic=function(){return!this.multiSelect},Object.defineProperty(m.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),m.prototype.getItemValueType=function(){return"imageitemvalue"},Object.defineProperty(m.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),m.prototype.supportOther=function(){return!1},m.prototype.supportNone=function(){return!1},m.prototype.isAnswerCorrect=function(){return this.multiSelect?S.Helpers.isArrayContainsEqual(this.value,this.correctAnswer):P.prototype.isAnswerCorrect.call(this)},Object.defineProperty(m.prototype,"multiSelect",{get:function(){return this.getPropertyValue("multiSelect")},set:function(y){this.setPropertyValue("multiSelect",y)},enumerable:!1,configurable:!0}),m.prototype.isItemSelected=function(y){var R=this.value;if(this.isValueEmpty(R))return!1;if(!this.multiSelect)return this.isTwoValueEquals(R,y.value);if(!Array.isArray(R))return!1;for(var b=0;b<R.length;b++)if(this.isTwoValueEquals(R[b],y.value))return!0;return!1},m.prototype.clearIncorrectValues=function(){if(this.multiSelect){var y=this.value;if(!y)return;if(!Array.isArray(y)||y.length==0){this.clearValue();return}for(var R=[],b=0;b<y.length;b++)this.hasUnknownValue(y[b],!0)||R.push(y[b]);if(R.length==y.length)return;R.length==0?this.clearValue():this.value=R}else P.prototype.clearIncorrectValues.call(this)},Object.defineProperty(m.prototype,"showLabel",{get:function(){return this.getPropertyValue("showLabel")},set:function(y){this.setPropertyValue("showLabel",y)},enumerable:!1,configurable:!0}),m.prototype.endLoadingFromJson=function(){P.prototype.endLoadingFromJson.call(this),!this.isDesignMode&&this.multiSelect&&(this.createNewArray("renderedValue"),this.createNewArray("value")),this.calcIsResponsive()},m.prototype.getValueCore=function(){var y=P.prototype.getValueCore.call(this);return y!==void 0?y:this.multiSelect?[]:y},m.prototype.convertValToArrayForMultSelect=function(y){return!this.multiSelect||this.isValueEmpty(y)||Array.isArray(y)?y:[y]},m.prototype.renderedValueFromDataCore=function(y){return this.convertValToArrayForMultSelect(y)},m.prototype.rendredValueToDataCore=function(y){return this.convertValToArrayForMultSelect(y)},Object.defineProperty(m.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(y){this.setPropertyValue("imageHeight",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"renderedImageHeight",{get:function(){var y=this.isResponsive?this.responsiveImageHeight:this.imageHeight;return(y||150)+"px"},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(y){this.setPropertyValue("imageWidth",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"renderedImageWidth",{get:function(){var y=this.isResponsive?this.responsiveImageWidth:this.imageWidth;return(y||200)+"px"},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"imageFit",{get:function(){return this.getPropertyValue("imageFit")},set:function(y){this.setPropertyValue("imageFit",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"contentMode",{get:function(){return this.getPropertyValue("contentMode")},set:function(y){this.setPropertyValue("contentMode",y),y==="video"&&(this.showLabel=!0)},enumerable:!1,configurable:!0}),m.prototype.convertDefaultValue=function(y){return y},Object.defineProperty(m.prototype,"inputType",{get:function(){return this.multiSelect?"checkbox":"radio"},enumerable:!1,configurable:!0}),m.prototype.isFootChoice=function(y,R){return!1},m.prototype.getSelectBaseRootCss=function(){return new x.CssClassBuilder().append(P.prototype.getSelectBaseRootCss.call(this)).append(this.cssClasses.rootColumn,this.getCurrentColCount()==1).toString()},Object.defineProperty(m.prototype,"isResponsive",{get:function(){return this.isResponsiveValue&&this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"exactSizesAreEmpty",{get:function(){var y=this;return!["imageHeight","imageWidth"].some(function(R){return y[R]!==void 0&&y[R]!==null})},enumerable:!1,configurable:!0}),m.prototype.calcIsResponsive=function(){this.isResponsiveValue=this.exactSizesAreEmpty},m.prototype.getObservedElementSelector=function(){return Object(u.classesToSelector)(this.cssClasses.root)},m.prototype.supportResponsiveness=function(){return!0},m.prototype.needResponsiveness=function(){return this.supportResponsiveness()&&this.isDefaultV2Theme},m.prototype.getCurrentColCount=function(){return this.responsiveColCount===void 0||this.colCount===0?this.colCount:this.responsiveColCount},m.prototype.processResponsiveness=function(y,R){this._width=R=Math.floor(R);var b=function(B,k,U){var K=Math.floor(B/(k+U));return(K+1)*(k+U)-U<=B&&K++,K};if(this.isResponsive){var c=this.choices.length+(this.isDesignMode?1:0),E=this.gapBetweenItems||0,I=this.minImageWidth,A=this.maxImageWidth,D=this.maxImageHeight,O=this.minImageHeight,l=this.colCount,o;if(l===0)if((E+I)*c-E>R){var v=b(R,I,E);o=Math.floor((R-E*(v-1))/v)}else o=Math.floor((R-E*(c-1))/c);else{var T=b(R,I,E);T<l?(this.responsiveColCount=T>=1?T:1,l=this.responsiveColCount):this.responsiveColCount=l,o=Math.floor((R-E*(l-1))/l)}o=Math.max(I,Math.min(o,A));var L=Number.MIN_VALUE;this.choices.forEach(function(B){var k=o/B.aspectRatio;L=k>L?k:L}),L>D?L=D:L<O&&(L=O);var V=this.responsiveImageWidth,_=this.responsiveImageHeight;return this.responsiveImageWidth=o,this.responsiveImageHeight=L,V!==this.responsiveImageWidth||_!==this.responsiveImageHeight}return!1},m.prototype.afterRender=function(y){P.prototype.afterRender.call(this,y);var R=this.survey.getCss().variables;R&&(this.gapBetweenItems=Number.parseInt(window.getComputedStyle(y).getPropertyValue(R.imagepickerGapBetweenItems))||0)},f([Object(d.property)({})],m.prototype,"responsiveImageHeight",void 0),f([Object(d.property)({})],m.prototype,"responsiveImageWidth",void 0),f([Object(d.property)({})],m.prototype,"isResponsiveValue",void 0),f([Object(d.property)({})],m.prototype,"maxImageWidth",void 0),f([Object(d.property)({})],m.prototype,"minImageWidth",void 0),f([Object(d.property)({})],m.prototype,"maxImageHeight",void 0),f([Object(d.property)({})],m.prototype,"minImageHeight",void 0),f([Object(d.property)({})],m.prototype,"responsiveColCount",void 0),m}(M.QuestionCheckboxBase);d.Serializer.addClass("imageitemvalue",[],function(P){return new i(P)},"itemvalue"),d.Serializer.addProperty("imageitemvalue",{name:"imageLink",serializationProperty:"locImageLink"}),d.Serializer.addClass("responsiveImageSize",[],void 0,"number"),d.Serializer.addClass("imagepicker",[{name:"hasOther",visible:!1},{name:"otherText",visible:!1},{name:"hasNone",visible:!1},{name:"noneText",visible:!1},{name:"optionsCaption",visible:!1},{name:"otherErrorText",visible:!1},{name:"storeOthersAsComment",visible:!1},{name:"contentMode",default:"image",choices:["image","video"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight:number",minValue:0},{name:"imageWidth:number",minValue:0},{name:"minImageWidth:responsiveImageSize",default:200,minValue:0,visibleIf:function(){return h.settings.supportCreatorV2}},{name:"minImageHeight:responsiveImageSize",default:133,minValue:0,visibleIf:function(){return h.settings.supportCreatorV2}},{name:"maxImageWidth:responsiveImageSize",default:400,minValue:0,visibleIf:function(){return h.settings.supportCreatorV2}},{name:"maxImageHeight:responsiveImageSize",default:266,minValue:0,visibleIf:function(){return h.settings.supportCreatorV2}}],function(){return new p("")},"checkboxbase"),d.Serializer.addProperty("imagepicker",{name:"showLabel:boolean",default:!1}),d.Serializer.addProperty("imagepicker",{name:"colCount:number",default:0,choices:[0,1,2,3,4,5]}),d.Serializer.addProperty("imagepicker",{name:"multiSelect:boolean",default:!1}),d.Serializer.addProperty("imagepicker",{name:"choices:imageitemvalue[]"}),C.QuestionFactory.Instance.registerQuestion("imagepicker",function(P){var m=new p(P);return m})},"./src/question_matrix.ts":function(a,r,t){t.r(r),t.d(r,"MatrixRowModel",function(){return m}),t.d(r,"MatrixCells",function(){return y}),t.d(r,"QuestionMatrixModel",function(){return R});var d=t("./src/helpers.ts"),C=t("./src/itemvalue.ts"),M=t("./src/martixBase.ts"),w=t("./src/jsonobject.ts"),S=t("./src/base.ts"),x=t("./src/surveyStrings.ts"),h=t("./src/error.ts"),u=t("./src/questionfactory.ts"),g=t("./src/localizablestring.ts"),f=t("./src/question_dropdown.ts"),i=t("./src/settings.ts"),p=t("./src/utils/cssClassBuilder.ts"),P=function(){var b=function(c,E){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,A){I.__proto__=A}||function(I,A){for(var D in A)Object.prototype.hasOwnProperty.call(A,D)&&(I[D]=A[D])},b(c,E)};return function(c,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");b(c,E);function I(){this.constructor=c}c.prototype=E===null?Object.create(E):(I.prototype=E.prototype,new I)}}(),m=function(b){P(c,b);function c(E,I,A,D){var O=b.call(this)||this;return O.fullName=I,O.item=E,O.data=A,O.value=D,O.cellClick=function(l){O.value=l.value},O.registerFunctionOnPropertyValueChanged("value",function(){O.data&&O.data.onMatrixRowChanged(O)}),O}return Object.defineProperty(c.prototype,"name",{get:function(){return this.item.value},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"text",{get:function(){return this.item.text},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"locText",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"value",{get:function(){return this.getPropertyValue("value")},set:function(E){E=this.data.getCorrectedRowValue(E),this.setPropertyValue("value",E)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"rowClasses",{get:function(){var E=this.data.cssClasses,I=!!this.data.getErrorByType("requiredinallrowserror");return new p.CssClassBuilder().append(E.row).append(E.rowError,I&&this.isValueEmpty(this.value)).toString()},enumerable:!1,configurable:!0}),c}(S.Base),y=function(){function b(c){this.cellsOwner=c,this.values={}}return Object.defineProperty(b.prototype,"isEmpty",{get:function(){return Object.keys(this.values).length==0},enumerable:!1,configurable:!0}),b.prototype.valuesChanged=function(){this.onValuesChanged&&this.onValuesChanged()},b.prototype.setCellText=function(c,E,I){if(c=this.getCellRowColumnValue(c,this.rows),E=this.getCellRowColumnValue(E,this.columns),!(!c||!E)){if(I)this.values[c]||(this.values[c]={}),this.values[c][E]||(this.values[c][E]=this.createString()),this.values[c][E].text=I;else if(this.values[c]&&this.values[c][E]){var A=this.values[c][E];A.text="",A.isEmpty&&(delete this.values[c][E],Object.keys(this.values[c]).length==0&&delete this.values[c])}this.valuesChanged()}},b.prototype.setDefaultCellText=function(c,E){this.setCellText(i.settings.matrixDefaultRowName,c,E)},b.prototype.getCellLocText=function(c,E){return c=this.getCellRowColumnValue(c,this.rows),E=this.getCellRowColumnValue(E,this.columns),!c||!E||!this.values[c]||!this.values[c][E]?null:this.values[c][E]},b.prototype.getDefaultCellLocText=function(c,E){return this.getCellLocText(i.settings.matrixDefaultRowName,c)},b.prototype.getCellDisplayLocText=function(c,E){var I=this.getCellLocText(c,E);return I&&!I.isEmpty||(I=this.getCellLocText(i.settings.matrixDefaultRowName,E),I&&!I.isEmpty)?I:(typeof E=="number"&&(E=E>=0&&E<this.columns.length?this.columns[E]:null),E&&E.locText?E.locText:null)},b.prototype.getCellText=function(c,E){var I=this.getCellLocText(c,E);return I?I.calculatedText:null},b.prototype.getDefaultCellText=function(c){var E=this.getCellLocText(i.settings.matrixDefaultRowName,c);return E?E.calculatedText:null},b.prototype.getCellDisplayText=function(c,E){var I=this.getCellDisplayLocText(c,E);return I?I.calculatedText:null},Object.defineProperty(b.prototype,"rows",{get:function(){return this.cellsOwner?this.cellsOwner.getRows():[]},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"columns",{get:function(){return this.cellsOwner?this.cellsOwner.getColumns():[]},enumerable:!1,configurable:!0}),b.prototype.getCellRowColumnValue=function(c,E){if(c==null)return null;if(typeof c=="number"){if(c<0||c>=E.length)return null;c=E[c].value}return c.value?c.value:c},b.prototype.getJson=function(){if(this.isEmpty)return null;var c={};for(var E in this.values){var I={},A=this.values[E];for(var D in A)I[D]=A[D].getJson();c[E]=I}return c},b.prototype.setJson=function(c){if(this.values={},c){for(var E in c)if(E!="pos"){var I=c[E];this.values[E]={};for(var A in I)if(A!="pos"){var D=this.createString();D.setJson(I[A]),this.values[E][A]=D}}}this.valuesChanged()},b.prototype.createString=function(){return new g.LocalizableString(this.cellsOwner,!0)},b}(),R=function(b){P(c,b);function c(E){var I=b.call(this,E)||this;return I.isRowChanging=!1,I.emptyLocalizableString=new g.LocalizableString(I),I.cellsValue=new y(I),I.cellsValue.onValuesChanged=function(){I.updateHasCellText(),I.propertyValueChanged("cells",I.cells,I.cells)},I.registerFunctionOnPropertyValueChanged("columns",function(){I.onColumnsChanged()}),I.registerFunctionOnPropertyValueChanged("rows",function(){I.filterItems()||I.onRowsChanged()}),I.registerFunctionOnPropertyValueChanged("hideIfRowsEmpty",function(){I.updateVisibilityBasedOnRows()}),I}return c.prototype.getType=function(){return"matrix"},Object.defineProperty(c.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isAllRowRequired",{get:function(){return this.getPropertyValue("isAllRowRequired",!1)},set:function(E){this.setPropertyValue("isAllRowRequired",E)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasRows",{get:function(){return this.rows.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"rowsOrder",{get:function(){return this.getPropertyValue("rowsOrder")},set:function(E){E=E.toLowerCase(),E!=this.rowsOrder&&(this.setPropertyValue("rowsOrder",E),this.onRowsChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hideIfRowsEmpty",{get:function(){return this.getPropertyValue("hideIfRowsEmpty",!1)},set:function(E){this.setPropertyValue("hideIfRowsEmpty",E)},enumerable:!1,configurable:!0}),c.prototype.getRows=function(){return this.rows},c.prototype.getColumns=function(){return this.visibleColumns},c.prototype.addColumn=function(E,I){var A=new C.ItemValue(E,I);return this.columns.push(A),A},c.prototype.getItemClass=function(E,I){var A=E.value==I.value,D=this.isReadOnly,O=!A&&!D;return new p.CssClassBuilder().append(this.cssClasses.cell,this.hasCellText).append(this.hasCellText?this.cssClasses.cellText:this.cssClasses.label).append(this.cssClasses.itemOnError,!this.hasCellText&&this.errors.length>0).append(this.hasCellText?this.cssClasses.cellTextSelected:this.cssClasses.itemChecked,A).append(this.hasCellText?this.cssClasses.cellTextDisabled:this.cssClasses.itemDisabled,D).append(this.cssClasses.itemHover,O&&!this.hasCellText).toString()},Object.defineProperty(c.prototype,"itemSvgIcon",{get:function(){return this.cssClasses.itemSvgIconId},enumerable:!1,configurable:!0}),c.prototype.getQuizQuestionCount=function(){for(var E=0,I=0;I<this.rows.length;I++)this.isValueEmpty(this.correctAnswer[this.rows[I].value])||E++;return E},c.prototype.getCorrectAnswerCount=function(){for(var E=0,I=this.value,A=0;A<this.rows.length;A++){var D=this.rows[A].value;!this.isValueEmpty(I[D])&&this.isTwoValueEquals(this.correctAnswer[D],I[D])&&E++}return E},c.prototype.getVisibleRows=function(){var E=new Array,I=this.value;I||(I={});for(var A=this.filteredRows?this.filteredRows:this.rows,D=0;D<A.length;D++){var O=A[D];this.isValueEmpty(O.value)||E.push(this.createMatrixRow(O,this.id+"_"+O.value.toString().replace(/\s/g,"_"),I[O.value]))}return E.length==0&&!this.filteredRows&&E.push(this.createMatrixRow(new C.ItemValue(null),this.name.replace(/\s/g,"_"),I)),this.generatedVisibleRows=E,E},c.prototype.sortVisibleRows=function(E){var I=this.rowsOrder.toLowerCase();return I==="random"?d.Helpers.randomizeArray(E):E},c.prototype.endLoadingFromJson=function(){b.prototype.endLoadingFromJson.call(this),this.rows=this.sortVisibleRows(this.rows),this.updateVisibilityBasedOnRows()},c.prototype.processRowsOnSet=function(E){return this.sortVisibleRows(E)},Object.defineProperty(c.prototype,"visibleRows",{get:function(){return this.getVisibleRows()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"cells",{get:function(){return this.cellsValue},set:function(E){this.cells.setJson(E&&E.getJson?E.getJson():null)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasCellText",{get:function(){return this.getPropertyValue("hasCellText",!1)},enumerable:!1,configurable:!0}),c.prototype.updateHasCellText=function(){this.setPropertyValue("hasCellText",!this.cells.isEmpty)},c.prototype.setCellText=function(E,I,A){this.cells.setCellText(E,I,A)},c.prototype.getCellText=function(E,I){return this.cells.getCellText(E,I)},c.prototype.setDefaultCellText=function(E,I){this.cells.setDefaultCellText(E,I)},c.prototype.getDefaultCellText=function(E){return this.cells.getDefaultCellText(E)},c.prototype.getCellDisplayText=function(E,I){return this.cells.getCellDisplayText(E,I)},c.prototype.getCellDisplayLocText=function(E,I){var A=this.cells.getCellDisplayLocText(E,I);return A||this.emptyLocalizableString},c.prototype.supportGoNextPageAutomatic=function(){return this.hasValuesInAllRows()},c.prototype.onCheckForErrors=function(E,I){b.prototype.onCheckForErrors.call(this,E,I),(!I||this.errors.length>0)&&this.hasErrorInRows()&&E.push(new h.RequiredInAllRowsError(null,this))},c.prototype.hasErrorInRows=function(){return this.isAllRowRequired?!this.hasValuesInAllRows():!1},c.prototype.hasValuesInAllRows=function(){var E=this.generatedVisibleRows;if(E||(E=this.visibleRows),!E)return!0;for(var I=0;I<E.length;I++)if(this.isValueEmpty(E[I].value))return!1;return!0},c.prototype.getIsAnswered=function(){return b.prototype.getIsAnswered.call(this)&&this.hasValuesInAllRows()},c.prototype.createMatrixRow=function(E,I,A){var D=new m(E,I,this,A);return this.onMatrixRowCreated(D),D},c.prototype.onMatrixRowCreated=function(E){},c.prototype.setQuestionValue=function(E,I){if(I===void 0&&(I=!0),b.prototype.setQuestionValue.call(this,E,this.isRowChanging||I),!(!this.generatedVisibleRows||this.generatedVisibleRows.length==0)){this.isRowChanging=!0;var A=this.value;if(A||(A={}),this.rows.length==0)this.generatedVisibleRows[0].value=A;else for(var D=0;D<this.generatedVisibleRows.length;D++){var O=this.generatedVisibleRows[D],l=A[O.name];this.isValueEmpty(l)&&(l=null),this.generatedVisibleRows[D].value=l}this.updateIsAnswered(),this.isRowChanging=!1}},c.prototype.getDisplayValueCore=function(E,I){var A={};for(var D in I){var O=E?C.ItemValue.getTextOrHtmlByValue(this.rows,D):D;O||(O=D);var l=C.ItemValue.getTextOrHtmlByValue(this.columns,I[D]);l||(l=I[D]),A[O]=l}return A},c.prototype.getPlainData=function(E){var I=this;E===void 0&&(E={includeEmpty:!0});var A=b.prototype.getPlainData.call(this,E);if(A){var D=this.createValueCopy();A.isNode=!0,A.data=Object.keys(D||{}).map(function(O){var l=I.rows.filter(function(T){return T.value===O})[0],o={name:O,title:l?l.text:"row",value:D[O],displayValue:C.ItemValue.getTextOrHtmlByValue(I.visibleColumns,D[O]),getString:function(T){return typeof T=="object"?JSON.stringify(T):T},isNode:!1},v=C.ItemValue.getItemByValue(I.visibleColumns,D[O]);return v&&(E.calculations||[]).forEach(function(T){o[T.propertyName]=v[T.propertyName]}),o})}return A},c.prototype.addConditionObjectsByContext=function(E,I){for(var A=0;A<this.rows.length;A++){var D=this.rows[A];D.value&&E.push({name:this.getValueName()+"."+D.value,text:this.processedTitle+"."+D.calculatedText,question:this})}},c.prototype.getConditionJson=function(E,I){if(I===void 0&&(I=null),!I)return b.prototype.getConditionJson.call(this);var A=new f.QuestionDropdownModel(I);A.choices=this.columns;var D=new w.JsonObject().toJsonObject(A);return D.type=A.getType(),D},c.prototype.clearValueIfInvisibleCore=function(){b.prototype.clearValueIfInvisibleCore.call(this),this.hasRows&&this.clearInvisibleValuesInRows()},c.prototype.getFirstInputElementId=function(){var E=this.generatedVisibleRows;return E||(E=this.visibleRows),E.length>0&&this.visibleColumns.length>0?this.inputId+"_"+E[0].name+"_0":b.prototype.getFirstInputElementId.call(this)},c.prototype.onRowsChanged=function(){this.updateVisibilityBasedOnRows(),b.prototype.onRowsChanged.call(this)},c.prototype.updateVisibilityBasedOnRows=function(){this.hideIfRowsEmpty&&(this.visible=this.rows.length>0&&(!this.filteredRows||this.filteredRows.length>0))},c.prototype.onMatrixRowChanged=function(E){if(!this.isRowChanging){if(this.isRowChanging=!0,!this.hasRows)this.setNewValue(E.value);else{var I=this.value;I||(I={}),I[E.name]=E.value,this.setNewValue(I)}this.isRowChanging=!1}},c.prototype.getCorrectedRowValue=function(E){for(var I=0;I<this.columns.length;I++)if(E===this.columns[I].value)return E;for(var I=0;I<this.columns.length;I++)if(this.isTwoValueEquals(E,this.columns[I].value))return this.columns[I].value;return E},c.prototype.getSearchableItemValueKeys=function(E){E.push("columns"),E.push("rows")},Object.defineProperty(c.prototype,"SurveyModel",{get:function(){return this.survey},enumerable:!1,configurable:!0}),c.prototype.getColumnHeaderWrapperComponentName=function(E){return this.SurveyModel.getElementWrapperComponentName({column:E},"column-header")},c.prototype.getColumnHeaderWrapperComponentData=function(E){return this.SurveyModel.getElementWrapperComponentData({column:E},"column-header")},c.prototype.getRowHeaderWrapperComponentName=function(E){return this.SurveyModel.getElementWrapperComponentName({row:E},"row-header")},c.prototype.getRowHeaderWrapperComponentData=function(E){return this.SurveyModel.getElementWrapperComponentData({row:E},"row-header")},c}(M.QuestionMatrixBaseModel);w.Serializer.addClass("matrix",[{name:"columns:itemvalue[]",baseValue:function(){return x.surveyLocalization.getString("matrix_column")}},{name:"rows:itemvalue[]",baseValue:function(){return x.surveyLocalization.getString("matrix_row")}},{name:"cells:cells",serializationProperty:"cells"},{name:"rowsOrder",default:"initial",choices:["initial","random"]},"isAllRowRequired:boolean","hideIfRowsEmpty:boolean"],function(){return new R("")},"matrixbase"),u.QuestionFactory.Instance.registerQuestion("matrix",function(b){var c=new R(b);return c.rows=u.QuestionFactory.DefaultRows,c.columns=u.QuestionFactory.DefaultColums,c})},"./src/question_matrixdropdown.ts":function(a,r,t){t.r(r),t.d(r,"MatrixDropdownRowModel",function(){return x}),t.d(r,"QuestionMatrixDropdownModel",function(){return h});var d=t("./src/question_matrixdropdownbase.ts"),C=t("./src/jsonobject.ts"),M=t("./src/itemvalue.ts"),w=t("./src/questionfactory.ts"),S=function(){var u=function(g,f){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,p){i.__proto__=p}||function(i,p){for(var P in p)Object.prototype.hasOwnProperty.call(p,P)&&(i[P]=p[P])},u(g,f)};return function(g,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");u(g,f);function i(){this.constructor=g}g.prototype=f===null?Object.create(f):(i.prototype=f.prototype,new i)}}(),x=function(u){S(g,u);function g(f,i,p,P){var m=u.call(this,p,P)||this;return m.name=f,m.item=i,m.buildCells(P),m}return Object.defineProperty(g.prototype,"rowName",{get:function(){return this.name},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"text",{get:function(){return this.item.text},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"locText",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),g}(d.MatrixDropdownRowModelBase),h=function(u){S(g,u);function g(f){var i=u.call(this,f)||this;i.createLocalizableString("totalText",i,!0);var p=i;return i.registerFunctionOnPropertyValueChanged("rows",function(){p.clearGeneratedRows(),p.resetRenderedTable(),p.filterItems()}),i}return g.prototype.getType=function(){return"matrixdropdown"},Object.defineProperty(g.prototype,"totalText",{get:function(){return this.getLocalizableStringText("totalText","")},set:function(f){this.setLocalizableStringText("totalText",f)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"locTotalText",{get:function(){return this.getLocalizableString("totalText")},enumerable:!1,configurable:!0}),g.prototype.getFooterText=function(){return this.locTotalText},Object.defineProperty(g.prototype,"rowTitleWidth",{get:function(){return this.getPropertyValue("rowTitleWidth","")},set:function(f){this.setPropertyValue("rowTitleWidth",f)},enumerable:!1,configurable:!0}),g.prototype.getRowTitleWidth=function(){return this.rowTitleWidth},g.prototype.getDisplayValueCore=function(f,i){if(!i)return i;var p=this.visibleRows,P={};if(!p)return P;for(var m=0;m<p.length;m++){var y=p[m].rowName,R=i[y];if(R){if(f){var b=M.ItemValue.getTextOrHtmlByValue(this.rows,y);b&&(y=b)}P[y]=this.getRowDisplayValue(f,p[m],R)}}return P},g.prototype.getConditionObjectRowName=function(f){return"."+this.rows[f].value},g.prototype.getConditionObjectRowText=function(f){return"."+this.rows[f].calculatedText},g.prototype.getConditionObjectsRowIndeces=function(){for(var f=[],i=0;i<this.rows.length;i++)f.push(i);return f},g.prototype.clearIncorrectValues=function(){var f=this.value;if(f){var i=null,p=!1,P=this.filteredRows?this.filteredRows:this.rows;for(var m in f)M.ItemValue.getItemByValue(P,m)?(i==null&&(i={}),i[m]=f[m]):p=!0;p&&(this.value=i),u.prototype.clearIncorrectValues.call(this)}},g.prototype.clearValueIfInvisibleCore=function(){u.prototype.clearValueIfInvisibleCore.call(this),this.clearInvisibleValuesInRows()},g.prototype.generateRows=function(){var f=new Array,i=this.filteredRows?this.filteredRows:this.rows;if(!i||i.length===0)return f;var p=this.value;p||(p={});for(var P=0;P<i.length;P++)i[P].value&&f.push(this.createMatrixRow(i[P],p[i[P].value]));return f},g.prototype.createMatrixRow=function(f,i){return new x(f.value,f,this,i)},g.prototype.getSearchableItemValueKeys=function(f){f.push("rows")},g.prototype.updateProgressInfoByValues=function(f){var i=this.value;i||(i={});for(var p=0;p<this.rows.length;p++){var P=this.rows[p],m=i[P.value];this.updateProgressInfoByRow(f,m||{})}},g}(d.QuestionMatrixDropdownModelBase);C.Serializer.addClass("matrixdropdown",[{name:"rows:itemvalue[]"},"rowsVisibleIf:condition","rowTitleWidth",{name:"totalText",serializationProperty:"locTotalText"}],function(){return new h("")},"matrixdropdownbase"),w.QuestionFactory.Instance.registerQuestion("matrixdropdown",function(u){var g=new h(u);return g.choices=[1,2,3,4,5],g.rows=w.QuestionFactory.DefaultRows,d.QuestionMatrixDropdownModelBase.addDefaultColumns(g),g})},"./src/question_matrixdropdownbase.ts":function(a,r,t){t.r(r),t.d(r,"MatrixDropdownCell",function(){return R}),t.d(r,"MatrixDropdownTotalCell",function(){return b}),t.d(r,"MatrixDropdownRowModelBase",function(){return E}),t.d(r,"MatrixDropdownTotalRowModel",function(){return I}),t.d(r,"QuestionMatrixDropdownModelBase",function(){return A});var d=t("./src/jsonobject.ts"),C=t("./src/martixBase.ts"),M=t("./src/helpers.ts"),w=t("./src/base.ts"),S=t("./src/survey-element.ts"),x=t("./src/textPreProcessor.ts"),h=t("./src/itemvalue.ts"),u=t("./src/questionfactory.ts"),g=t("./src/functionsfactory.ts"),f=t("./src/settings.ts"),i=t("./src/error.ts"),p=t("./src/utils/cssClassBuilder.ts"),P=t("./src/question_matrixdropdowncolumn.ts"),m=t("./src/question_matrixdropdownrendered.ts"),y=function(){var D=function(O,l){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,v){o.__proto__=v}||function(o,v){for(var T in v)Object.prototype.hasOwnProperty.call(v,T)&&(o[T]=v[T])},D(O,l)};return function(O,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");D(O,l);function o(){this.constructor=O}O.prototype=l===null?Object.create(l):(o.prototype=l.prototype,new o)}}(),R=function(){function D(O,l,o){this.column=O,this.row=l,this.data=o,this.questionValue=this.createQuestion(O,l,o),this.questionValue.updateCustomWidget()}return D.prototype.locStrsChanged=function(){this.question.locStrsChanged()},D.prototype.createQuestion=function(O,l,o){var v=o.createQuestion(this.row,this.column);return v.validateValueCallback=function(){return o.validateCell(l,O.name,l.value)},d.CustomPropertiesCollection.getProperties(O.getType()).forEach(function(T){var L=T.name;O[L]!==void 0&&(v[L]=O[L])}),v},Object.defineProperty(D.prototype,"question",{get:function(){return this.questionValue},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"value",{get:function(){return this.question.value},set:function(O){this.question.value=O},enumerable:!1,configurable:!0}),D.prototype.runCondition=function(O,l){this.question.runCondition(O,l)},D}(),b=function(D){y(O,D);function O(l,o,v){var T=D.call(this,l,o,v)||this;return T.column=l,T.row=o,T.data=v,T.updateCellQuestion(),T}return O.prototype.createQuestion=function(l,o,v){var T=d.Serializer.createClass("expression");return T.setSurveyImpl(o),T},O.prototype.locStrsChanged=function(){this.updateCellQuestion(),D.prototype.locStrsChanged.call(this)},O.prototype.updateCellQuestion=function(){this.question.locCalculation(),this.column.updateCellQuestion(this.question,null,function(l){delete l.defaultValue}),this.question.expression=this.getTotalExpression(),this.question.format=this.column.totalFormat,this.question.currency=this.column.totalCurrency,this.question.displayStyle=this.column.totalDisplayStyle,this.question.maximumFractionDigits=this.column.totalMaximumFractionDigits,this.question.minimumFractionDigits=this.column.totalMinimumFractionDigits,this.question.unlocCalculation(),this.question.runIfReadOnly=!0},O.prototype.getTotalExpression=function(){if(this.column.totalExpression)return this.column.totalExpression;if(this.column.totalType=="none")return"";var l=this.column.totalType+"InArray";return g.FunctionFactory.Instance.hasFunction(l)?l+"({self}, '"+this.column.name+"')":""},O}(R),c=function(D){y(O,D);function O(l,o,v){var T=D.call(this,o)||this;return T.row=l,T.variableName=o,T.parentTextProcessor=v,T}return O.prototype.getParentTextProcessor=function(){return this.parentTextProcessor},Object.defineProperty(O.prototype,"survey",{get:function(){return this.row.getSurvey()},enumerable:!1,configurable:!0}),O.prototype.getValues=function(){return this.row.value},O.prototype.getQuestionByName=function(l){return this.row.getQuestionByName(l)},O.prototype.onCustomProcessText=function(l){return l.name==E.IndexVariableName?(l.isExists=!0,l.value=this.row.rowIndex,!0):l.name==E.RowValueVariableName?(l.isExists=!0,l.value=this.row.rowName,!0):!1},O}(x.QuestionTextProcessor),E=function(){function D(O,l){var o=this;this.isSettingValue=!1,this.detailPanelValue=null,this.cells=[],this.isCreatingDetailPanel=!1,this.data=O,this.subscribeToChanges(l),this.textPreProcessor=new c(this,D.RowVariableName,O?O.getParentTextProcessor():null),this.showHideDetailPanelClick=function(){if(o.getSurvey().isDesignMode)return!0;o.showHideDetailPanel()},this.idValue=D.getId()}return D.getId=function(){return"srow_"+D.idCounter++},Object.defineProperty(D.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"rowName",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"text",{get:function(){return this.rowName},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"value",{get:function(){for(var O={},l=this.questions,o=0;o<l.length;o++){var v=l[o];v.isEmpty()||(O[v.getValueName()]=v.value),v.comment&&this.getSurvey()&&this.getSurvey().storeOthersAsComment&&(O[v.getValueName()+f.settings.commentPrefix]=v.comment)}return O},set:function(O){this.isSettingValue=!0,this.subscribeToChanges(O);for(var l=this.questions,o=0;o<l.length;o++){var v=l[o],T=this.getCellValue(O,v.getValueName()),L=v.comment,V=O?O[v.getValueName()+f.settings.commentPrefix]:"";V==null&&(V=""),v.updateValueFromSurvey(T),(V||this.isTwoValueEquals(L,v.comment))&&v.updateCommentFromSurvey(V),v.onSurveyValueChanged(T)}this.isSettingValue=!1},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"locText",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"hasPanel",{get:function(){return this.data?this.data.hasDetailPanel(this):!1},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"detailPanel",{get:function(){return this.detailPanelValue},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"detailPanelId",{get:function(){return this.detailPanel?this.detailPanel.id:""},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"isDetailPanelShowing",{get:function(){return this.data?this.data.getIsDetailPanelShowing(this):!1},enumerable:!1,configurable:!0}),D.prototype.setIsDetailPanelShowing=function(O){this.data&&this.data.setIsDetailPanelShowing(this,O),this.onDetailPanelShowingChanged&&this.onDetailPanelShowingChanged()},D.prototype.showHideDetailPanel=function(){this.isDetailPanelShowing?this.hideDetailPanel():this.showDetailPanel()},D.prototype.showDetailPanel=function(){this.ensureDetailPanel(),this.detailPanelValue&&this.setIsDetailPanelShowing(!0)},D.prototype.hideDetailPanel=function(O){O===void 0&&(O=!1),this.setIsDetailPanelShowing(!1),O&&(this.detailPanelValue=null)},D.prototype.ensureDetailPanel=function(){if(!this.isCreatingDetailPanel&&!(this.detailPanelValue||!this.hasPanel||!this.data)){this.isCreatingDetailPanel=!0,this.detailPanelValue=this.data.createRowDetailPanel(this);var O=this.detailPanelValue.questions,l=this.data.getRowValue(this.data.getRowIndex(this));if(!M.Helpers.isValueEmpty(l))for(var o=0;o<O.length;o++){var v=O[o].getValueName();M.Helpers.isValueEmpty(l[v])||(O[o].value=l[v])}this.detailPanelValue.setSurveyImpl(this),this.isCreatingDetailPanel=!1}},D.prototype.getAllValues=function(){return this.value},D.prototype.getFilteredValues=function(){var O=this.getAllValues(),l={row:O};for(var o in O)l[o]=O[o];return l},D.prototype.getFilteredProperties=function(){return{survey:this.getSurvey(),row:this}},D.prototype.runCondition=function(O,l){this.data&&(O[D.OwnerVariableName]=this.data.value),O[D.IndexVariableName]=this.rowIndex,O[D.RowValueVariableName]=this.rowName,l||(l={}),l[D.RowVariableName]=this;for(var o=0;o<this.cells.length;o++)O[D.RowVariableName]=this.value,this.cells[o].runCondition(O,l);this.detailPanel&&this.detailPanel.runCondition(O,l)},D.prototype.clearValue=function(){for(var O=this.questions,l=0;l<O.length;l++)O[l].clearValue()},D.prototype.onAnyValueChanged=function(O){for(var l=this.questions,o=0;o<l.length;o++)l[o].onAnyValueChanged(O)},D.prototype.getDataValueCore=function(O,l){var o=this.getSurvey();return o?o.getDataValueCore(O,l):O[l]},D.prototype.getValue=function(O){var l=this.getQuestionByName(O);return l?l.value:null},D.prototype.setValue=function(O,l){this.setValueCore(O,l,!1)},D.prototype.getVariable=function(O){},D.prototype.setVariable=function(O,l){},D.prototype.getComment=function(O){var l=this.getQuestionByName(O);return l?l.comment:""},D.prototype.setComment=function(O,l,o){this.setValueCore(O,l,!0)},D.prototype.setValueCore=function(O,l,o){if(!this.isSettingValue){this.updateQuestionsValue(O,l,o);var v=this.value,T=o?O+f.settings.commentPrefix:O,L=o?this.getComment(O):this.getValue(O),V=this.getQuestionByName(O),_=this.data.onRowChanging(this,T,v);if(V&&!this.isTwoValueEquals(_,L))o?V.comment=_:V.value=_;else{if(this.data.isValidateOnValueChanging&&this.hasQuestonError(V))return;this.data.onRowChanged(this,T,v,l==null&&!V),this.onAnyValueChanged(D.RowVariableName)}}},D.prototype.updateQuestionsValue=function(O,l,o){if(this.detailPanel){var v=this.getQuestionByColumnName(O),T=this.detailPanel.getQuestionByName(O);if(!(!v||!T)){var L=this.isTwoValueEquals(l,o?v.comment:v.value),V=L?T:v;this.isSettingValue=!0,o?V.comment=l:V.value=l,this.isSettingValue=!1}}},D.prototype.hasQuestonError=function(O){if(!O)return!1;if(O.hasErrors(!0,{isOnValueChanged:!this.data.isValidateOnValueChanging}))return!0;if(O.isEmpty())return!1;var l=this.getCellByColumnName(O.name);return!l||!l.column||!l.column.isUnique?!1:this.data.checkIfValueInRowDuplicated(this,O)},Object.defineProperty(D.prototype,"isEmpty",{get:function(){var O=this.value;if(M.Helpers.isValueEmpty(O))return!0;for(var l in O)if(O[l]!==void 0&&O[l]!==null)return!1;return!0},enumerable:!1,configurable:!0}),D.prototype.getQuestionByColumn=function(O){var l=this.getCellByColumn(O);return l?l.question:null},D.prototype.getCellByColumn=function(O){for(var l=0;l<this.cells.length;l++)if(this.cells[l].column==O)return this.cells[l];return null},D.prototype.getCellByColumnName=function(O){for(var l=0;l<this.cells.length;l++)if(this.cells[l].column.name==O)return this.cells[l];return null},D.prototype.getQuestionByColumnName=function(O){var l=this.getCellByColumnName(O);return l?l.question:null},Object.defineProperty(D.prototype,"questions",{get:function(){for(var O=[],l=0;l<this.cells.length;l++)O.push(this.cells[l].question);for(var o=this.detailPanel?this.detailPanel.questions:[],l=0;l<o.length;l++)O.push(o[l]);return O},enumerable:!1,configurable:!0}),D.prototype.getQuestionByName=function(O){var l=this.getQuestionByColumnName(O);return l||(this.detailPanel?this.detailPanel.getQuestionByName(O):null)},D.prototype.getQuestionsByName=function(O){var l=[],o=this.getQuestionByColumnName(O);return o&&l.push(o),this.detailPanel&&(o=this.detailPanel.getQuestionByName(O),o&&l.push(o)),l},D.prototype.getSharedQuestionByName=function(O){return this.data?this.data.getSharedQuestionByName(O,this):null},D.prototype.clearIncorrectValues=function(O){for(var l in O){var o=this.getQuestionByName(l);if(o){var v=o.value;o.clearIncorrectValues(),this.isTwoValueEquals(v,o.value)||this.setValue(l,o.value)}else!this.getSharedQuestionByName(l)&&l.indexOf(f.settings.matrixTotalValuePostFix)<0&&this.setValue(l,null)}},D.prototype.getLocale=function(){return this.data?this.data.getLocale():""},D.prototype.getMarkdownHtml=function(O,l){return this.data?this.data.getMarkdownHtml(O,l):null},D.prototype.getRenderer=function(O){return this.data?this.data.getRenderer(O):null},D.prototype.getRendererContext=function(O){return this.data?this.data.getRendererContext(O):O},D.prototype.getProcessedText=function(O){return this.data?this.data.getProcessedText(O):O},D.prototype.locStrsChanged=function(){for(var O=0;O<this.cells.length;O++)this.cells[O].locStrsChanged();this.detailPanel&&this.detailPanel.locStrsChanged()},D.prototype.updateCellQuestionOnColumnChanged=function(O,l,o){var v=this.getCellByColumn(O);v&&this.updateCellOnColumnChanged(v,l,o)},D.prototype.updateCellQuestionOnColumnItemValueChanged=function(O,l,o,v,T,L){var V=this.getCellByColumn(O);V&&this.updateCellOnColumnItemValueChanged(V,l,o,v,T,L)},D.prototype.onQuestionReadOnlyChanged=function(O){for(var l=this.questions,o=0;o<l.length;o++){var v=l[o];v.setPropertyValue("isReadOnly",v.isReadOnly)}this.detailPanel&&(this.detailPanel.readOnly=O)},D.prototype.hasErrors=function(O,l,o){var v=!1,T=this.cells;if(!T)return v;for(var L=0;L<T.length;L++)if(T[L]){var V=T[L].question;!V||!V.visible||(V.onCompletedAsyncValidators=function(B){o()},!(l&&l.isOnValueChanged===!0&&V.isEmpty())&&(v=V.hasErrors(O,l)||v))}if(this.hasPanel){this.ensureDetailPanel();var _=this.detailPanel.hasErrors(O,!1,l);!l.hideErroredPanel&&_&&O&&(l.isSingleDetailPanel&&(l.hideErroredPanel=!0),this.showDetailPanel()),v=_||v}return v},D.prototype.updateCellOnColumnChanged=function(O,l,o){O.question[l]=o},D.prototype.updateCellOnColumnItemValueChanged=function(O,l,o,v,T,L){var V=O.question[l];if(Array.isArray(V)){var _=v==="value"?L:o.value,B=h.ItemValue.getItemByValue(V,_);B&&(B[v]=T)}},D.prototype.buildCells=function(O){this.isSettingValue=!0;for(var l=this.data.columns,o=0;o<l.length;o++){var v=l[o];if(v.isVisible){var T=this.createCell(v);this.cells.push(T);var L=this.getCellValue(O,v.name);if(!M.Helpers.isValueEmpty(L)){T.question.value=L;var V=v.name+f.settings.commentPrefix;O&&!M.Helpers.isValueEmpty(O[V])&&(T.question.comment=O[V])}}}this.isSettingValue=!1},D.prototype.isTwoValueEquals=function(O,l){return M.Helpers.isTwoValueEquals(O,l,!1,!0,!1)},D.prototype.getCellValue=function(O,l){return this.editingObj?d.Serializer.getObjPropertyValue(this.editingObj,l):O?O[l]:void 0},D.prototype.createCell=function(O){return new R(O,this,this.data)},D.prototype.getSurveyData=function(){return this},D.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},D.prototype.getTextProcessor=function(){return this.textPreProcessor},Object.defineProperty(D.prototype,"rowIndex",{get:function(){return this.data?this.data.getRowIndex(this)+1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"editingObj",{get:function(){return this.editingObjValue},enumerable:!1,configurable:!0}),D.prototype.dispose=function(){this.editingObj&&(this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged),this.editingObjValue=null)},D.prototype.subscribeToChanges=function(O){var l=this;!O||!O.getType||!O.onPropertyChanged||O!==this.editingObj&&(this.editingObjValue=O,this.onEditingObjPropertyChanged=function(o,v){l.updateOnSetValue(v.name,v.newValue)},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))},D.prototype.updateOnSetValue=function(O,l){this.isSettingValue=!0;for(var o=this.getQuestionsByName(O),v=0;v<o.length;v++)o[v].value=l;this.isSettingValue=!1},D.RowVariableName="row",D.OwnerVariableName="self",D.IndexVariableName="rowIndex",D.RowValueVariableName="rowValue",D.idCounter=1,D}(),I=function(D){y(O,D);function O(l){var o=D.call(this,l,null)||this;return o.buildCells(null),o}return O.prototype.createCell=function(l){return new b(l,this,this.data)},O.prototype.setValue=function(l,o){this.data&&!this.isSettingValue&&this.data.onTotalValueChanged()},O.prototype.runCondition=function(l,o){var v=0,T;do T=M.Helpers.getUnbindValue(this.value),D.prototype.runCondition.call(this,l,o),v++;while(!M.Helpers.isTwoValueEquals(T,this.value)&&v<3)},O.prototype.updateCellOnColumnChanged=function(l,o,v){l.updateCellQuestion()},O}(E),A=function(D){y(O,D);function O(l){var o=D.call(this,l)||this;return o.isRowChanging=!1,o.lockResetRenderedTable=!1,o.isDoingonAnyValueChanged=!1,o.createItemValues("choices"),o.createLocalizableString("optionsCaption",o,!1,!0),o.createLocalizableString("keyDuplicationError",o,!1,!0),o.detailPanelValue=o.createNewDetailPanel(),o.detailPanel.selectedElementInDesign=o,o.detailPanel.renderWidth="100%",o.detailPanel.isInteractiveDesignElement=!1,o.detailPanel.showTitle=!1,o.registerFunctionOnPropertyValueChanged("columns",function(v){o.updateColumnsAndRows()}),o.registerFunctionOnPropertyValueChanged("cellType",function(){o.updateColumnsAndRows()}),o.registerFunctionOnPropertiesValueChanged(["optionsCaption","columnColCount","rowTitleWidth","choices"],function(){o.clearRowsAndResetRenderedTable()}),o.registerFunctionOnPropertiesValueChanged(["columnLayout","addRowLocation","hideColumnsIfEmpty","showHeader","minRowCount","isReadOnly","rowCount","hasFooter","detailPanelMode"],function(){o.resetRenderedTable()}),o.registerFunctionOnPropertiesValueChanged(["isMobile"],function(){o.columnLayout==="vertical"&&o.resetRenderedTable()}),o}return Object.defineProperty(O,"defaultCellType",{get:function(){return f.settings.matrixDefaultCellType},set:function(l){f.settings.matrixDefaultCellType=l},enumerable:!1,configurable:!0}),O.addDefaultColumns=function(l){for(var o=u.QuestionFactory.DefaultColums,v=0;v<o.length;v++)l.addColumn(o[v])},O.prototype.createColumnValues=function(){var l=this;return this.createNewArray("columns",function(o){o.colOwner=l},function(o){o.colOwner=null})},O.prototype.getType=function(){return"matrixdropdownbase"},O.prototype.dispose=function(){D.prototype.dispose.call(this),this.clearGeneratedRows()},Object.defineProperty(O.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isRowsDynamic",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isUpdateLocked",{get:function(){return this.isLoadingFromJson||this.isUpdating},enumerable:!1,configurable:!0}),O.prototype.beginUpdate=function(){this.isUpdating=!0},O.prototype.endUpdate=function(){this.isUpdating=!1,this.updateColumnsAndRows()},O.prototype.updateColumnsAndRows=function(){this.updateColumnsIndexes(this.columns),this.updateColumnsCellType(),this.generatedTotalRow=null,this.clearRowsAndResetRenderedTable()},O.prototype.itemValuePropertyChanged=function(l,o,v,T){D.prototype.itemValuePropertyChanged.call(this,l,o,v,T),l.ownerPropertyName==="choices"&&this.clearRowsAndResetRenderedTable()},Object.defineProperty(O.prototype,"columnLayout",{get:function(){return this.getPropertyValue("columnLayout")},set:function(l){this.setPropertyValue("columnLayout",l)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"columnsLocation",{get:function(){return this.columnLayout},set:function(l){this.columnLayout=l},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isColumnLayoutHorizontal",{get:function(){return this.isMobile?!0:this.columnLayout!="vertical"},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"detailPanelMode",{get:function(){return this.getPropertyValue("detailPanelMode")},set:function(l){this.setPropertyValue("detailPanelMode",l)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"detailPanel",{get:function(){return this.detailPanelValue},enumerable:!1,configurable:!0}),O.prototype.getPanel=function(){return this.detailPanel},Object.defineProperty(O.prototype,"detailElements",{get:function(){return this.detailPanel.elements},enumerable:!1,configurable:!0}),O.prototype.createNewDetailPanel=function(){return d.Serializer.createClass("panel")},Object.defineProperty(O.prototype,"hasRowText",{get:function(){return!0},enumerable:!1,configurable:!0}),O.prototype.getFooterText=function(){return null},Object.defineProperty(O.prototype,"canAddRow",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"canRemoveRows",{get:function(){return!1},enumerable:!1,configurable:!0}),O.prototype.canRemoveRow=function(l){return!0},O.prototype.onPointerDown=function(l,o){},O.prototype.onRowsChanged=function(){this.resetRenderedTable(),D.prototype.onRowsChanged.call(this)},O.prototype.onStartRowAddingRemoving=function(){this.lockResetRenderedTable=!0},O.prototype.onEndRowAdding=function(){this.lockResetRenderedTable=!1,this.renderedTable&&(this.renderedTable.isRequireReset()?this.resetRenderedTable():this.renderedTable.onAddedRow())},O.prototype.onEndRowRemoving=function(l){this.lockResetRenderedTable=!1,this.renderedTable.isRequireReset()?this.resetRenderedTable():l&&this.renderedTable.onRemovedRow(l)},Object.defineProperty(O.prototype,"renderedTableValue",{get:function(){return this.getPropertyValue("renderedTable",null)},set:function(l){this.setPropertyValue("renderedTable",l)},enumerable:!1,configurable:!0}),O.prototype.clearRowsAndResetRenderedTable=function(){this.clearGeneratedRows(),this.resetRenderedTable(),this.fireCallback(this.columnsChangedCallback)},O.prototype.resetRenderedTable=function(){this.lockResetRenderedTable||this.isUpdateLocked||(this.renderedTableValue=null,this.fireCallback(this.onRenderedTableResetCallback))},O.prototype.clearGeneratedRows=function(){if(this.generatedVisibleRows){for(var l=0;l<this.generatedVisibleRows.length;l++)this.generatedVisibleRows[l].dispose();D.prototype.clearGeneratedRows.call(this)}},Object.defineProperty(O.prototype,"renderedTable",{get:function(){return this.renderedTableValue||(this.renderedTableValue=this.createRenderedTable(),this.onRenderedTableCreatedCallback&&this.onRenderedTableCreatedCallback(this.renderedTableValue)),this.renderedTableValue},enumerable:!1,configurable:!0}),O.prototype.createRenderedTable=function(){return new m.QuestionMatrixDropdownRenderedTable(this)},O.prototype.onMatrixRowCreated=function(l){if(this.survey)for(var o={rowValue:l.value,row:l,column:null,columnName:null,cell:null,cellQuestion:null,value:null},v=0;v<this.visibleColumns.length;v++){o.column=this.visibleColumns[v],o.columnName=o.column.name;var T=l.cells[v];o.cell=T,o.cellQuestion=T.question,o.value=T.value,this.onCellCreatedCallback&&this.onCellCreatedCallback(o),this.survey.matrixCellCreated(this,o)}},Object.defineProperty(O.prototype,"cellType",{get:function(){return this.getPropertyValue("cellType",f.settings.matrixDefaultCellType)},set:function(l){l=l.toLowerCase(),this.setPropertyValue("cellType",l)},enumerable:!1,configurable:!0}),O.prototype.updateColumnsCellType=function(){for(var l=0;l<this.columns.length;l++)this.columns[l].defaultCellTypeChanged()},O.prototype.updateColumnsIndexes=function(l){for(var o=0;o<l.length;o++)l[o].setIndex(o)},Object.defineProperty(O.prototype,"columnColCount",{get:function(){return this.getPropertyValue("columnColCount")},set:function(l){l<0||l>4||this.setPropertyValue("columnColCount",l)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"columnMinWidth",{get:function(){return this.getPropertyValue("columnMinWidth","")},set:function(l){this.setPropertyValue("columnMinWidth",l)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"horizontalScroll",{get:function(){return this.getPropertyValue("horizontalScroll",!1)},set:function(l){this.setPropertyValue("horizontalScroll",l)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"allowAdaptiveActions",{get:function(){return this.getPropertyValue("allowAdaptiveActions")},set:function(l){this.setPropertyValue("allowAdaptiveActions",l),this.detailPanel&&(this.detailPanel.allowAdaptiveActions=l)},enumerable:!1,configurable:!0}),O.prototype.getRequiredText=function(){return this.survey?this.survey.requiredText:""},O.prototype.onColumnPropertyChanged=function(l,o,v){if(this.updateHasFooter(),!!this.generatedVisibleRows){for(var T=0;T<this.generatedVisibleRows.length;T++)this.generatedVisibleRows[T].updateCellQuestionOnColumnChanged(l,o,v);this.generatedTotalRow&&this.generatedTotalRow.updateCellQuestionOnColumnChanged(l,o,v),this.onColumnsChanged(),o=="isRequired"&&this.resetRenderedTable(),l.isShowInMultipleColumns&&this.onShowInMultipleColumnsChanged(l)}},O.prototype.onColumnItemValuePropertyChanged=function(l,o,v,T,L,V){if(this.generatedVisibleRows)for(var _=0;_<this.generatedVisibleRows.length;_++)this.generatedVisibleRows[_].updateCellQuestionOnColumnItemValueChanged(l,o,v,T,L,V)},O.prototype.onShowInMultipleColumnsChanged=function(l){this.clearGeneratedRows(),this.resetRenderedTable()},O.prototype.onColumnCellTypeChanged=function(l){this.clearGeneratedRows(),this.resetRenderedTable()},O.prototype.getRowTitleWidth=function(){return""},Object.defineProperty(O.prototype,"hasFooter",{get:function(){return this.getPropertyValue("hasFooter",!1)},enumerable:!1,configurable:!0}),O.prototype.getAddRowLocation=function(){return"default"},O.prototype.getShowColumnsIfEmpty=function(){return!1},O.prototype.updateShowTableAndAddRow=function(){this.renderedTable&&this.renderedTable.updateShowTableAndAddRow()},O.prototype.updateHasFooter=function(){this.setPropertyValue("hasFooter",this.hasTotal)},Object.defineProperty(O.prototype,"hasTotal",{get:function(){for(var l=0;l<this.columns.length;l++)if(this.columns[l].hasTotal)return!0;return!1},enumerable:!1,configurable:!0}),O.prototype.getCellType=function(){return this.cellType},O.prototype.getCustomCellType=function(l,o,v){if(!this.survey)return v;var T={rowValue:o.value,row:o,column:l,columnName:l.name,cellType:v};return this.survey.matrixCellCreating(this,T),T.cellType},O.prototype.getConditionJson=function(l,o){if(l===void 0&&(l=null),o===void 0&&(o=null),!o)return D.prototype.getConditionJson.call(this);for(var v="",T=o.length-1;T>=0&&o[T]!=".";T--)v=o[T]+v;var L=this.getColumnByName(v);if(!L)return null;var V=L.createCellQuestion(null);return V?V.getConditionJson(l):null},O.prototype.clearIncorrectValues=function(){var l=this.visibleRows;if(l)for(var o=0;o<l.length;o++)l[o].clearIncorrectValues(this.getRowValue(o))},O.prototype.clearErrors=function(){D.prototype.clearErrors.call(this),this.runFuncForCellQuestions(function(l){l.clearErrors()})},O.prototype.localeChanged=function(){D.prototype.localeChanged.call(this),this.runFuncForCellQuestions(function(l){l.localeChanged()})},O.prototype.runFuncForCellQuestions=function(l){if(this.generatedVisibleRows)for(var o=0;o<this.generatedVisibleRows.length;o++)for(var v=this.generatedVisibleRows[o],T=0;T<v.cells.length;T++)l(v.cells[T].question)},O.prototype.runCondition=function(l,o){D.prototype.runCondition.call(this,l,o);var v=0,T;do T=M.Helpers.getUnbindValue(this.totalValue),this.runCellsCondition(l,o),this.runTotalsCondition(l,o),v++;while(!M.Helpers.isTwoValueEquals(T,this.totalValue)&&v<3)},O.prototype.shouldRunColumnExpression=function(){return!1},O.prototype.runCellsCondition=function(l,o){if(this.generatedVisibleRows){for(var v=this.getRowConditionValues(l),T=this.generatedVisibleRows,L=0;L<T.length;L++)T[L].runCondition(v,o);this.checkColumnsVisibility()}},O.prototype.checkColumnsVisibility=function(){for(var l=!1,o=0;o<this.visibleColumns.length;o++)this.visibleColumns[o].visibleIf&&(l=this.isColumnVisibilityChanged(this.visibleColumns[o])||l);l&&this.resetRenderedTable()},O.prototype.isColumnVisibilityChanged=function(l){for(var o=l.hasVisibleCell,v=!1,T=this.generatedVisibleRows,L=0;L<T.length;L++){var V=T[L].cells[l.index];if(V&&V.question&&V.question.isVisible){v=!0;break}}return o!=v&&(l.hasVisibleCell=v),o!=v},O.prototype.runTotalsCondition=function(l,o){this.generatedTotalRow&&this.generatedTotalRow.runCondition(this.getRowConditionValues(l),o)},O.prototype.getRowConditionValues=function(l){var o=l;o||(o={});var v={};return this.isValueEmpty(this.totalValue)||(v=JSON.parse(JSON.stringify(this.totalValue))),o.row={},o.totalRow=v,o},O.prototype.locStrsChanged=function(){D.prototype.locStrsChanged.call(this);for(var l=this.columns,o=0;o<l.length;o++)l[o].locStrsChanged();var v=this.generatedVisibleRows;if(v){for(var o=0;o<v.length;o++)v[o].locStrsChanged();this.generatedTotalRow&&this.generatedTotalRow.locStrsChanged()}},O.prototype.getColumnByName=function(l){for(var o=0;o<this.columns.length;o++)if(this.columns[o].name==l)return this.columns[o];return null},O.prototype.getColumnName=function(l){return this.getColumnByName(l)},O.prototype.getColumnWidth=function(l){return l.minWidth?l.minWidth:this.columnMinWidth},Object.defineProperty(O.prototype,"choices",{get:function(){return this.getPropertyValue("choices")},set:function(l){this.setPropertyValue("choices",l)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"optionsCaption",{get:function(){return this.getLocalizableStringText("optionsCaption")},set:function(l){this.setLocalizableStringText("optionsCaption",l)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"locOptionsCaption",{get:function(){return this.getLocalizableString("optionsCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"keyDuplicationError",{get:function(){return this.getLocalizableStringText("keyDuplicationError")},set:function(l){this.setLocalizableStringText("keyDuplicationError",l)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"locKeyDuplicationError",{get:function(){return this.getLocalizableString("keyDuplicationError")},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"storeOthersAsComment",{get:function(){return this.survey?this.survey.storeOthersAsComment:!1},enumerable:!1,configurable:!0}),O.prototype.addColumn=function(l,o){o===void 0&&(o=null);var v=new P.MatrixDropdownColumn(l,o);return this.columns.push(v),v},O.prototype.getVisibleRows=function(){var l=this;return this.isUpdateLocked?null:(this.generatedVisibleRows||(this.generatedVisibleRows=this.generateRows(),this.generatedVisibleRows.forEach(function(o){return l.onMatrixRowCreated(o)}),this.data&&this.runCellsCondition(this.data.getFilteredValues(),this.data.getFilteredProperties()),this.updateValueOnRowsGeneration(this.generatedVisibleRows),this.updateIsAnswered()),this.generatedVisibleRows)},O.prototype.updateValueOnRowsGeneration=function(l){for(var o=this.createNewValue(!0),v=this.createNewValue(),T=0;T<l.length;T++){var L=l[T];if(!L.editingObj){var V=this.getRowValue(T),_=L.value;this.isTwoValueEquals(V,_)||(v=this.getNewValueOnRowChanged(L,"",_,!1,v).value)}}this.isTwoValueEquals(o,v)||(this.isRowChanging=!0,this.setNewValue(v),this.isRowChanging=!1)},Object.defineProperty(O.prototype,"totalValue",{get:function(){return!this.hasTotal||!this.visibleTotalRow?{}:this.visibleTotalRow.value},enumerable:!1,configurable:!0}),O.prototype.getVisibleTotalRow=function(){if(this.isUpdateLocked)return null;if(this.hasTotal){if(!this.generatedTotalRow&&(this.generatedTotalRow=this.generateTotalRow(),this.data)){var l={survey:this.survey};this.runTotalsCondition(this.data.getAllValues(),l)}}else this.generatedTotalRow=null;return this.generatedTotalRow},Object.defineProperty(O.prototype,"visibleTotalRow",{get:function(){return this.getVisibleTotalRow()},enumerable:!1,configurable:!0}),O.prototype.onSurveyLoad=function(){D.prototype.onSurveyLoad.call(this),this.updateColumnsIndexes(this.columns),this.clearGeneratedRows(),this.generatedTotalRow=null,this.updateHasFooter()},O.prototype.getRowValue=function(l){if(l<0)return null;var o=this.visibleRows;if(l>=o.length)return null;var v=this.createNewValue();return this.getRowValueCore(o[l],v)},O.prototype.checkIfValueInRowDuplicated=function(l,o){if(!this.generatedVisibleRows)return!1;for(var v=!1,T=0;T<this.generatedVisibleRows.length;T++){var L=this.generatedVisibleRows[T];if(l!==L&&L.getValue(o.name)==o.value){v=!0;break}}return v?this.addDuplicationError(o):o.clearErrors(),v},O.prototype.setRowValue=function(l,o){if(l<0)return null;var v=this.visibleRows;if(l>=v.length)return null;v[l].value=o,this.onRowChanged(v[l],"",o,!1)},O.prototype.generateRows=function(){return null},O.prototype.generateTotalRow=function(){return new I(this)},O.prototype.createNewValue=function(l){l===void 0&&(l=!1);var o=this.value?this.createValueCopy():{};return l&&this.isMatrixValueEmpty(o)?null:o},O.prototype.getRowValueCore=function(l,o,v){v===void 0&&(v=!1);var T=o&&o[l.rowName]?o[l.rowName]:null;return!T&&v&&(T={},o&&(o[l.rowName]=T)),T},O.prototype.getRowObj=function(l){var o=this.getRowValueCore(l,this.value);return o&&o.getType?o:null},O.prototype.getRowDisplayValue=function(l,o,v){if(!v||o.editingObj)return v;for(var T=Object.keys(v),L=0;L<T.length;L++){var V=T[L],_=o.getQuestionByName(V);if(_||(_=this.getSharedQuestionByName(V,o)),_){var B=_.getDisplayValue(l,v[V]);l&&_.title&&_.title!==V?(v[_.title]=B,delete v[V]):v[V]=B}}return v},O.prototype.getPlainData=function(l){var o=this;l===void 0&&(l={includeEmpty:!0});var v=D.prototype.getPlainData.call(this,l);return v&&(v.isNode=!0,v.data=this.visibleRows.map(function(T){var L={name:T.rowName,title:T.text,value:T.value,displayValue:o.getRowDisplayValue(!1,T,T.value),getString:function(V){return typeof V=="object"?JSON.stringify(V):V},isNode:!0,data:T.cells.map(function(V){return V.question.getPlainData(l)}).filter(function(V){return!!V})};return(l.calculations||[]).forEach(function(V){L[V.propertyName]=T[V.propertyName]}),L})),v},O.prototype.addConditionObjectsByContext=function(l,o){var v=o?o===!0||this.columns.indexOf(o)>-1:!1,T=this.getConditionObjectsRowIndeces();v&&T.push(-1);for(var L=0;L<T.length;L++){var V=T[L],_=V>-1?this.getConditionObjectRowName(V):"row";if(_)for(var B=V>-1?this.getConditionObjectRowText(V):"row",k=V>-1||o===!0,U=k&&V===-1?".":"",K=(k?this.getValueName():"")+U+_+".",q=(k?this.processedTitle:"")+U+B+".",Z=0;Z<this.columns.length;Z++){var j=this.columns[Z];if(!(V===-1&&o===j)){var G={name:K+j.name,text:q+j.fullTitle,question:this};V===-1&&o===!0&&(G.context=this),l.push(G)}}}},O.prototype.getConditionObjectRowName=function(l){return""},O.prototype.getConditionObjectRowText=function(l){return this.getConditionObjectRowName(l)},O.prototype.getConditionObjectsRowIndeces=function(){return[]},O.prototype.getProgressInfo=function(){if(this.generatedVisibleRows)return S.SurveyElement.getProgressInfoByElements(this.getCellQuestions(),this.isRequired);var l=w.Base.createProgressInfo();return this.updateProgressInfoByValues(l),l},O.prototype.updateProgressInfoByValues=function(l){},O.prototype.updateProgressInfoByRow=function(l,o){l.questionCount+=this.columns.length;for(var v=0;v<this.columns.length;v++){var T=this.columns[v];l.requiredQuestionCount+=T.isRequired;var L=!M.Helpers.isValueEmpty(o[T.name]);l.answeredQuestionCount+=L?1:0,l.requiredAnsweredQuestionCount+=L&&T.isRequired?1:0}},O.prototype.getCellQuestions=function(){var l=[];return this.runFuncForCellQuestions(function(o){l.push(o)}),l},O.prototype.onBeforeValueChanged=function(l){},O.prototype.onSetQuestionValue=function(){if(!this.isRowChanging&&(this.onBeforeValueChanged(this.value),!(!this.generatedVisibleRows||this.generatedVisibleRows.length==0))){this.isRowChanging=!0;for(var l=this.createNewValue(),o=0;o<this.generatedVisibleRows.length;o++){var v=this.generatedVisibleRows[o];this.generatedVisibleRows[o].value=this.getRowValueCore(v,l)}this.isRowChanging=!1}},O.prototype.setQuestionValue=function(l){D.prototype.setQuestionValue.call(this,l,!1),this.onSetQuestionValue(),this.updateIsAnswered()},O.prototype.supportGoNextPageAutomatic=function(){var l=this.generatedVisibleRows;if(l||(l=this.visibleRows),!l)return!0;for(var o=0;o<l.length;o++){var v=this.generatedVisibleRows[o].cells;if(v)for(var T=0;T<v.length;T++){var L=v[T].question;if(L&&(!L.supportGoNextPageAutomatic()||!L.value))return!1}}return!0},O.prototype.getContainsErrors=function(){return D.prototype.getContainsErrors.call(this)||this.checkForAnswersOrErrors(function(l){return l.containsErrors},!1)},O.prototype.getIsAnswered=function(){return D.prototype.getIsAnswered.call(this)&&this.checkForAnswersOrErrors(function(l){return l.isAnswered},!0)},O.prototype.checkForAnswersOrErrors=function(l,o){o===void 0&&(o=!1);var v=this.generatedVisibleRows;if(!v)return!1;for(var T=0;T<v.length;T++){var L=v[T].cells;if(L){for(var V=0;V<L.length;V++)if(L[V]){var _=L[V].question;if(_&&_.isVisible){if(l(_)){if(!o)return!0}else if(o)return!1}}}}return!!o},O.prototype.hasErrors=function(l,o){l===void 0&&(l=!0),o===void 0&&(o=null);var v=this.hasErrorInRows(l,o),T=this.isValueDuplicated();return D.prototype.hasErrors.call(this,l,o)||v||T},O.prototype.getIsRunningValidators=function(){if(D.prototype.getIsRunningValidators.call(this))return!0;if(!this.generatedVisibleRows)return!1;for(var l=0;l<this.generatedVisibleRows.length;l++){var o=this.generatedVisibleRows[l].cells;if(o){for(var v=0;v<o.length;v++)if(o[v]){var T=o[v].question;if(T&&T.isRunningValidators)return!0}}}return!1},O.prototype.getAllErrors=function(){var l=D.prototype.getAllErrors.call(this),o=this.generatedVisibleRows;if(o===null)return l;for(var v=0;v<o.length;v++)for(var T=o[v],L=0;L<T.cells.length;L++){var V=T.cells[L].question.getAllErrors();V&&V.length>0&&(l=l.concat(V))}return l},O.prototype.hasErrorInRows=function(l,o){var v=this,T=this.generatedVisibleRows;this.generatedVisibleRows||(T=this.visibleRows);var L=!1;if(o||(o={}),!T)return o;o.isSingleDetailPanel=this.detailPanelMode==="underRowSingle";for(var V=0;V<T.length;V++)L=T[V].hasErrors(l,o,function(){v.raiseOnCompletedAsyncValidators()})||L;return L},O.prototype.isValueDuplicated=function(){if(!this.generatedVisibleRows)return!1;for(var l=this.getUniqueColumns(),o=!1,v=0;v<l.length;v++)o=this.isValueInColumnDuplicated(l[v])||o;return o},O.prototype.isValueInColumnDuplicated=function(l){for(var o=[],v=!1,T=0;T<this.generatedVisibleRows.length;T++)v=this.isValueDuplicatedInRow(this.generatedVisibleRows[T],l,o)||v;return v},O.prototype.getUniqueColumns=function(){for(var l=new Array,o=0;o<this.columns.length;o++)this.columns[o].isUnique&&l.push(this.columns[o]);return l},O.prototype.isValueDuplicatedInRow=function(l,o,v){var T=l.getQuestionByColumn(o);if(!T||T.isEmpty())return!1;for(var L=T.value,V=0;V<v.length;V++)if(L==v[V])return this.addDuplicationError(T),!0;return v.push(L),!1},O.prototype.addDuplicationError=function(l){l.addError(new i.KeyDuplicationError(this.keyDuplicationError,this))},O.prototype.getFirstInputElementId=function(){var l=this.getFirstCellQuestion(!1);return l?l.inputId:D.prototype.getFirstInputElementId.call(this)},O.prototype.getFirstErrorInputElementId=function(){var l=this.getFirstCellQuestion(!0);return l?l.inputId:D.prototype.getFirstErrorInputElementId.call(this)},O.prototype.getFirstCellQuestion=function(l){if(!this.generatedVisibleRows)return null;for(var o=0;o<this.generatedVisibleRows.length;o++)for(var v=this.generatedVisibleRows[o].cells,T=0;T<v.length;T++)if(!l||v[T].question.currentErrorCount>0)return v[T].question;return null},O.prototype.onReadOnlyChanged=function(){if(D.prototype.onReadOnlyChanged.call(this),!!this.generateRows)for(var l=0;l<this.visibleRows.length;l++)this.visibleRows[l].onQuestionReadOnlyChanged(this.isReadOnly)},O.prototype.createQuestion=function(l,o){return this.createQuestionCore(l,o)},O.prototype.createQuestionCore=function(l,o){var v=o.createCellQuestion(l);return v.setSurveyImpl(l),v.setParentQuestion(this),v},O.prototype.deleteRowValue=function(l,o){return l&&(delete l[o.rowName],this.isObject(l)&&Object.keys(l).length==0?null:l)},O.prototype.onAnyValueChanged=function(l){if(!(this.isUpdateLocked||this.isDoingonAnyValueChanged||!this.generatedVisibleRows)){this.isDoingonAnyValueChanged=!0;for(var o=this.visibleRows,v=0;v<o.length;v++)o[v].onAnyValueChanged(l);var T=this.visibleTotalRow;T&&T.onAnyValueChanged(l),this.isDoingonAnyValueChanged=!1}},O.prototype.isObject=function(l){return l!==null&&typeof l=="object"},O.prototype.getOnCellValueChangedOptions=function(l,o,v){var T=function(L){for(var V=0;V<l.cells.length;V++){var _=l.cells[V].column;if(_&&_.name===L)return l.cells[V].question}return null};return{row:l,columnName:o,rowValue:v,value:v?v[o]:null,getCellQuestion:T}},O.prototype.onCellValueChanged=function(l,o,v){if(this.survey){var T=this.getOnCellValueChangedOptions(l,o,v);this.onCellValueChangedCallback&&this.onCellValueChangedCallback(T),this.survey.matrixCellValueChanged(this,T)}},O.prototype.validateCell=function(l,o,v){if(this.survey){var T=this.getOnCellValueChangedOptions(l,o,v);return this.survey.matrixCellValidate(this,T)}},Object.defineProperty(O.prototype,"isValidateOnValueChanging",{get:function(){return this.survey?this.survey.isValidateOnValueChanging:!1},enumerable:!1,configurable:!0}),O.prototype.onRowChanging=function(l,o,v){if(!this.survey)return v?v[o]:null;var T=this.getOnCellValueChangedOptions(l,o,v),L=this.getRowValueCore(l,this.createNewValue(),!0);return T.oldValue=L?L[o]:null,this.survey.matrixCellValueChanging(this,T),T.value},O.prototype.onRowChanged=function(l,o,v,T){var L=o?this.getRowObj(l):null;if(L){var V=null;v&&!T&&(V=v[o]),this.isRowChanging=!0,L[o]=V,this.isRowChanging=!1,this.onCellValueChanged(l,o,L)}else{var _=this.createNewValue(!0),B=this.getNewValueOnRowChanged(l,o,v,T,this.createNewValue());if(this.isTwoValueEquals(_,B.value))return;this.isRowChanging=!0,this.setNewValue(B.value),this.isRowChanging=!1,o&&this.onCellValueChanged(l,o,B.rowValue)}},O.prototype.getNewValueOnRowChanged=function(l,o,v,T,L){var V=this.getRowValueCore(l,L,!0);T&&delete V[o];for(var _=0;_<l.cells.length;_++){var B=l.cells[_].question.getValueName();delete V[B]}if(v){v=JSON.parse(JSON.stringify(v));for(var B in v)this.isValueEmpty(v[B])||(V[B]=v[B])}return this.isObject(V)&&Object.keys(V).length===0&&(L=this.deleteRowValue(L,l)),{value:L,rowValue:V}},O.prototype.getRowIndex=function(l){return this.generatedVisibleRows?this.visibleRows.indexOf(l):-1},O.prototype.getElementsInDesign=function(l){return l===void 0&&(l=!1),this.detailPanelMode=="none"?D.prototype.getElementsInDesign.call(this,l):l?[this.detailPanel]:this.detailElements},O.prototype.hasDetailPanel=function(l){return this.detailPanelMode=="none"?!1:this.isDesignMode?!0:this.onHasDetailPanelCallback?this.onHasDetailPanelCallback(l):this.detailElements.length>0},O.prototype.getIsDetailPanelShowing=function(l){if(this.detailPanelMode=="none")return!1;if(this.isDesignMode){var o=this.visibleRows.indexOf(l)==0;return o&&(l.detailPanel||l.showDetailPanel()),o}return this.getPropertyValue("isRowShowing"+l.id,!1)},O.prototype.setIsDetailPanelShowing=function(l,o){if(o!=this.getIsDetailPanelShowing(l)&&(this.setPropertyValue("isRowShowing"+l.id,o),this.updateDetailPanelButtonCss(l),this.renderedTable&&this.renderedTable.onDetailPanelChangeVisibility(l,o),o&&this.detailPanelMode==="underRowSingle"))for(var v=this.visibleRows,T=0;T<v.length;T++)v[T].id!==l.id&&v[T].isDetailPanelShowing&&v[T].hideDetailPanel()},O.prototype.getDetailPanelButtonCss=function(l){var o=new p.CssClassBuilder().append(this.getPropertyValue("detailButtonCss"+l.id));return o.append(this.cssClasses.detailButton,o.toString()==="").toString()},O.prototype.getDetailPanelIconCss=function(l){var o=new p.CssClassBuilder().append(this.getPropertyValue("detailIconCss"+l.id));return o.append(this.cssClasses.detailIcon,o.toString()==="").toString()},O.prototype.getDetailPanelIconId=function(l){return this.getIsDetailPanelShowing(l)?this.cssClasses.detailIconExpandedId:this.cssClasses.detailIconId},O.prototype.updateDetailPanelButtonCss=function(l){var o=this.cssClasses,v=this.getIsDetailPanelShowing(l),T=new p.CssClassBuilder().append(o.detailIcon).append(o.detailIconExpanded,v);this.setPropertyValue("detailIconCss"+l.id,T.toString());var L=new p.CssClassBuilder().append(o.detailButton).append(o.detailButtonExpanded,v);this.setPropertyValue("detailButtonCss"+l.id,L.toString())},O.prototype.createRowDetailPanel=function(l){if(this.isDesignMode)return this.detailPanel;var o=this.createNewDetailPanel();o.readOnly=this.isReadOnly;var v=this.detailPanel.toJSON();return new d.JsonObject().toObject(v,o),o.renderWidth="100%",o.updateCustomWidgets(),this.onCreateDetailPanelCallback&&this.onCreateDetailPanelCallback(l,o),o},O.prototype.getSharedQuestionByName=function(l,o){if(!this.survey||!this.valueName)return null;var v=this.getRowIndex(o);return v<0?null:this.survey.getQuestionByValueNameFromArray(this.valueName,l,v)},O.prototype.onTotalValueChanged=function(){this.data&&this.visibleTotalRow&&!this.isUpdateLocked&&!this.isSett&&!this.isReadOnly&&this.data.setValue(this.getValueName()+f.settings.matrixTotalValuePostFix,this.totalValue,!1)},O.prototype.getParentTextProcessor=function(){if(!this.parentQuestion||!this.parent)return null;var l=this.parent.data;return l&&l.getTextProcessor?l.getTextProcessor():null},O.prototype.getQuestionFromArray=function(l,o){return o>=this.visibleRows.length?null:this.visibleRows[o].getQuestionByName(l)},O.prototype.isMatrixValueEmpty=function(l){if(l){if(Array.isArray(l)){for(var o=0;o<l.length;o++)if(this.isObject(l[o])&&Object.keys(l[o]).length>0)return!1;return!0}return Object.keys(l).length==0}},Object.defineProperty(O.prototype,"SurveyModel",{get:function(){return this.survey},enumerable:!1,configurable:!0}),O.prototype.getCellTemplateData=function(l){return this.SurveyModel.getMatrixCellTemplateData(l)},O.prototype.getCellWrapperComponentName=function(l){return this.SurveyModel.getElementWrapperComponentName(l,"cell")},O.prototype.getCellWrapperComponentData=function(l){return this.SurveyModel.getElementWrapperComponentData(l,"cell")},O.prototype.getColumnHeaderWrapperComponentName=function(l){return this.SurveyModel.getElementWrapperComponentName(l,"column-header")},O.prototype.getColumnHeaderWrapperComponentData=function(l){return this.SurveyModel.getElementWrapperComponentData(l,"column-header")},O.prototype.getRowHeaderWrapperComponentName=function(l){return this.SurveyModel.getElementWrapperComponentName(l,"row-header")},O.prototype.getRowHeaderWrapperComponentData=function(l){return this.SurveyModel.getElementWrapperComponentData(l,"row-header")},Object.defineProperty(O.prototype,"showHorizontalScroll",{get:function(){return!this.isDefaultV2Theme&&this.horizontalScroll},enumerable:!1,configurable:!0}),O.prototype.getRootCss=function(){return new p.CssClassBuilder().append(D.prototype.getRootCss.call(this)).append(this.cssClasses.rootScroll,this.horizontalScroll).toString()},O}(C.QuestionMatrixBaseModel);d.Serializer.addClass("matrixdropdownbase",[{name:"columns:matrixdropdowncolumns",className:"matrixdropdowncolumn"},{name:"columnLayout",alternativeName:"columnsLocation",default:"horizontal",choices:["horizontal","vertical"]},{name:"detailElements",visible:!1,isLightSerializable:!1},{name:"detailPanelMode",choices:["none","underRow","underRowSingle"],default:"none"},"horizontalScroll:boolean",{name:"choices:itemvalue[]"},{name:"optionsCaption",serializationProperty:"locOptionsCaption"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"cellType",default:"dropdown",choices:function(){return P.MatrixDropdownColumn.getColumnTypes()}},{name:"columnColCount",default:0,choices:[0,1,2,3,4]},"columnMinWidth",{name:"allowAdaptiveActions:boolean",default:!1,visible:!1}],function(){return new A("")},"matrixbase")},"./src/question_matrixdropdowncolumn.ts":function(a,r,t){t.r(r),t.d(r,"matrixDropdownColumnTypes",function(){return h}),t.d(r,"MatrixDropdownColumn",function(){return u});var d=t("./src/jsonobject.ts"),C=t("./src/base.ts"),M=t("./src/question_expression.ts"),w=t("./src/settings.ts"),S=function(){var g=function(f,i){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,P){p.__proto__=P}||function(p,P){for(var m in P)Object.prototype.hasOwnProperty.call(P,m)&&(p[m]=P[m])},g(f,i)};return function(f,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");g(f,i);function p(){this.constructor=f}f.prototype=i===null?Object.create(i):(p.prototype=i.prototype,new p)}}();function x(g,f,i,p){g.storeOthersAsComment=i?i.storeOthersAsComment:!1,(!g.choices||g.choices.length==0)&&g.choicesByUrl.isEmpty&&(g.choices=i.choices),g.choicesByUrl.isEmpty||g.choicesByUrl.run(p.getTextProcessor())}var h={dropdown:{onCellQuestionUpdate:function(g,f,i,p){x(g,f,i,p),g.locOptionsCaption&&g.locOptionsCaption.isEmpty&&!i.locOptionsCaption.isEmpty&&(g.optionsCaption=i.optionsCaption)}},checkbox:{onCellQuestionUpdate:function(g,f,i,p){x(g,f,i,p),g.colCount=f.colCount>-1?f.colCount:i.columnColCount}},radiogroup:{onCellQuestionUpdate:function(g,f,i,p){x(g,f,i,p),g.colCount=f.colCount>-1?f.colCount:i.columnColCount}},text:{},comment:{},boolean:{onCellQuestionUpdate:function(g,f,i,p){g.showTitle=!0,g.renderAs=f.renderAs}},expression:{},rating:{}},u=function(g){S(f,g);function f(i,p){p===void 0&&(p=null);var P=g.call(this)||this;P.colOwnerValue=null,P.indexValue=-1,P._isVisible=!0,P._hasVisibleCell=!0,P.previousChoicesId=void 0;var m=P;return P.createLocalizableString("totalFormat",P),P.registerFunctionOnPropertyValueChanged("showInMultipleColumns",function(){m.doShowInMultipleColumnsChanged()}),P.updateTemplateQuestion(),P.name=i,p?P.title=p:P.templateQuestion.locTitle.strChanged(),P}return f.getColumnTypes=function(){var i=[];for(var p in h)i.push(p);return i},f.prototype.getOriginalObj=function(){return this.templateQuestion},f.prototype.getClassNameProperty=function(){return"cellType"},f.prototype.getSurvey=function(i){return this.colOwner?this.colOwner.survey:null},f.prototype.endLoadingFromJson=function(){var i=this;g.prototype.endLoadingFromJson.call(this),this.templateQuestion.endLoadingFromJson(),this.templateQuestion.onGetSurvey=function(){return i.getSurvey()}},f.prototype.getDynamicPropertyName=function(){return"cellType"},f.prototype.getDynamicType=function(){return this.calcCellQuestionType(null)},Object.defineProperty(f.prototype,"colOwner",{get:function(){return this.colOwnerValue},set:function(i){this.colOwnerValue=i,i&&this.updateTemplateQuestion()},enumerable:!1,configurable:!0}),f.prototype.locStrsChanged=function(){g.prototype.locStrsChanged.call(this),this.locTitle.strChanged()},f.prototype.addUsedLocales=function(i){g.prototype.addUsedLocales.call(this,i),this.templateQuestion.addUsedLocales(i)},Object.defineProperty(f.prototype,"index",{get:function(){return this.indexValue},enumerable:!1,configurable:!0}),f.prototype.setIndex=function(i){this.indexValue=i},f.prototype.getType=function(){return"matrixdropdowncolumn"},Object.defineProperty(f.prototype,"cellType",{get:function(){return this.getPropertyValue("cellType")},set:function(i){i=i.toLocaleLowerCase(),this.updateTemplateQuestion(i),this.setPropertyValue("cellType",i),this.colOwner&&this.colOwner.onColumnCellTypeChanged(this)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"templateQuestion",{get:function(){return this.templateQuestionValue},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"value",{get:function(){return this.templateQuestion.name},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isVisible",{get:function(){return this._isVisible},enumerable:!1,configurable:!0}),f.prototype.setIsVisible=function(i){this._isVisible=i},Object.defineProperty(f.prototype,"hasVisibleCell",{get:function(){return this._hasVisibleCell},set:function(i){this._hasVisibleCell=i},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"name",{get:function(){return this.templateQuestion.name},set:function(i){this.templateQuestion.name=i},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"title",{get:function(){return this.templateQuestion.title},set:function(i){this.templateQuestion.title=i},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locTitle",{get:function(){return this.templateQuestion.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"fullTitle",{get:function(){return this.locTitle.textOrHtml},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isRequired",{get:function(){return this.templateQuestion.isRequired},set:function(i){this.templateQuestion.isRequired=i},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"requiredText",{get:function(){return this.templateQuestion.requiredText},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"requiredErrorText",{get:function(){return this.templateQuestion.requiredErrorText},set:function(i){this.templateQuestion.requiredErrorText=i},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locRequiredErrorText",{get:function(){return this.templateQuestion.locRequiredErrorText},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"readOnly",{get:function(){return this.templateQuestion.readOnly},set:function(i){this.templateQuestion.readOnly=i},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasOther",{get:function(){return this.templateQuestion.hasOther},set:function(i){this.templateQuestion.hasOther=i},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"visibleIf",{get:function(){return this.templateQuestion.visibleIf},set:function(i){this.templateQuestion.visibleIf=i},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"enableIf",{get:function(){return this.templateQuestion.enableIf},set:function(i){this.templateQuestion.enableIf=i},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"requiredIf",{get:function(){return this.templateQuestion.requiredIf},set:function(i){this.templateQuestion.requiredIf=i},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isUnique",{get:function(){return this.getPropertyValue("isUnique")},set:function(i){this.setPropertyValue("isUnique",i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"showInMultipleColumns",{get:function(){return this.getPropertyValue("showInMultipleColumns",!1)},set:function(i){this.setPropertyValue("showInMultipleColumns",i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isSupportMultipleColumns",{get:function(){return["checkbox","radiogroup"].indexOf(this.cellType)>-1},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isShowInMultipleColumns",{get:function(){return this.showInMultipleColumns&&this.isSupportMultipleColumns},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"validators",{get:function(){return this.templateQuestion.validators},set:function(i){this.templateQuestion.validators=i},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"totalType",{get:function(){return this.getPropertyValue("totalType")},set:function(i){this.setPropertyValue("totalType",i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"totalExpression",{get:function(){return this.getPropertyValue("totalExpression")},set:function(i){this.setPropertyValue("totalExpression",i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasTotal",{get:function(){return this.totalType!="none"||!!this.totalExpression},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"totalFormat",{get:function(){return this.getLocalizableStringText("totalFormat","")},set:function(i){this.setLocalizableStringText("totalFormat",i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locTotalFormat",{get:function(){return this.getLocalizableString("totalFormat")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"renderAs",{get:function(){return this.getPropertyValue("renderAs")},set:function(i){this.setPropertyValue("renderAs",i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"totalMaximumFractionDigits",{get:function(){return this.getPropertyValue("totalMaximumFractionDigits")},set:function(i){i<-1||i>20||this.setPropertyValue("totalMaximumFractionDigits",i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"totalMinimumFractionDigits",{get:function(){return this.getPropertyValue("totalMinimumFractionDigits")},set:function(i){i<-1||i>20||this.setPropertyValue("totalMinimumFractionDigits",i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"totalDisplayStyle",{get:function(){return this.getPropertyValue("totalDisplayStyle")},set:function(i){this.setPropertyValue("totalDisplayStyle",i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"totalCurrency",{get:function(){return this.getPropertyValue("totalCurrency")},set:function(i){Object(M.getCurrecyCodes)().indexOf(i)<0||this.setPropertyValue("totalCurrency",i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth","")},set:function(i){this.setPropertyValue("minWidth",i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"width",{get:function(){return this.getPropertyValue("width","")},set:function(i){this.setPropertyValue("width",i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount")},set:function(i){i<-1||i>4||this.setPropertyValue("colCount",i)},enumerable:!1,configurable:!0}),f.prototype.getLocale=function(){return this.colOwner?this.colOwner.getLocale():""},f.prototype.getMarkdownHtml=function(i,p){return this.colOwner?this.colOwner.getMarkdownHtml(i,p):null},f.prototype.getRenderer=function(i){return this.colOwner?this.colOwner.getRenderer(i):null},f.prototype.getRendererContext=function(i){return this.colOwner?this.colOwner.getRendererContext(i):i},f.prototype.getProcessedText=function(i){return this.colOwner?this.colOwner.getProcessedText(i):i},f.prototype.createCellQuestion=function(i){var p=this.calcCellQuestionType(i),P=this.createNewQuestion(p);return this.callOnCellQuestionUpdate(P,i),P},f.prototype.updateCellQuestion=function(i,p,P){P===void 0&&(P=null),this.setQuestionProperties(i,P)},f.prototype.callOnCellQuestionUpdate=function(i,p){var P=i.getType(),m=h[P];m&&m.onCellQuestionUpdate&&m.onCellQuestionUpdate(i,this,this.colOwner,p)},f.prototype.defaultCellTypeChanged=function(){this.updateTemplateQuestion()},f.prototype.calcCellQuestionType=function(i){var p=this.getDefaultCellQuestionType();return i&&this.colOwner&&(p=this.colOwner.getCustomCellType(this,i,p)),p},f.prototype.getDefaultCellQuestionType=function(i){return i||(i=this.cellType),i!=="default"?i:this.colOwner?this.colOwner.getCellType():w.settings.matrixDefaultCellType},f.prototype.updateTemplateQuestion=function(i){var p=this,P=this.getDefaultCellQuestionType(i),m=this.templateQuestion?this.templateQuestion.getType():"";P!==m&&(this.templateQuestion&&this.removeProperties(m),this.templateQuestionValue=this.createNewQuestion(P),this.templateQuestion.locOwner=this,this.addProperties(P),this.templateQuestion.onPropertyChanged.add(function(y,R){p.propertyValueChanged(R.name,R.oldValue,R.newValue)}),this.templateQuestion.onItemValuePropertyChanged.add(function(y,R){p.doItemValuePropertyChanged(R.propertyName,R.obj,R.name,R.newValue,R.oldValue)}),this.templateQuestion.isContentElement=!0,this.isLoadingFromJson||(this.templateQuestion.onGetSurvey=function(){return p.getSurvey()}),this.templateQuestion.locTitle.strChanged())},f.prototype.createNewQuestion=function(i){var p=d.Serializer.createClass(i);return p||(p=d.Serializer.createClass("text")),p.loadingOwner=this,p.isEditableTemplateElement=!0,this.setQuestionProperties(p),p},f.prototype.setQuestionProperties=function(i,p){var P=this;if(p===void 0&&(p=null),this.templateQuestion){var m=new d.JsonObject().toJsonObject(this.templateQuestion,!0);p&&p(m),m.type=i.getType(),new d.JsonObject().toObject(m,i),i.isContentElement=this.templateQuestion.isContentElement,this.previousChoicesId=void 0,i.loadedChoicesFromServerCallback=function(){if(P.isShowInMultipleColumns&&!(P.previousChoicesId&&P.previousChoicesId!==i.id)){P.previousChoicesId=i.id;var y=i.visibleChoices;P.templateQuestion.choices=y,P.propertyValueChanged("choices",y,y)}}}},f.prototype.propertyValueChanged=function(i,p,P){g.prototype.propertyValueChanged.call(this,i,p,P),d.Serializer.hasOriginalProperty(this,i)&&this.colOwner!=null&&!this.isLoadingFromJson&&this.colOwner.onColumnPropertyChanged(this,i,P)},f.prototype.doItemValuePropertyChanged=function(i,p,P,m,y){d.Serializer.hasOriginalProperty(p,P)&&this.colOwner!=null&&!this.isLoadingFromJson&&this.colOwner.onColumnItemValuePropertyChanged(this,i,p,P,m,y)},f.prototype.doShowInMultipleColumnsChanged=function(){this.colOwner!=null&&!this.isLoadingFromJson&&this.colOwner.onShowInMultipleColumnsChanged(this)},f.prototype.getProperties=function(i){return d.Serializer.getDynamicPropertiesByObj(this,i)},f.prototype.removeProperties=function(i){for(var p=this.getProperties(i),P=0;P<p.length;P++){var m=p[P];delete this[m.name],m.serializationProperty&&delete this[m.serializationProperty]}},f.prototype.addProperties=function(i){for(var p=this.templateQuestion,P=this.getProperties(i),m=0;m<P.length;m++){var y=P[m];this.addProperty(p,y.name,!1),y.serializationProperty&&this.addProperty(p,y.serializationProperty,!0)}},f.prototype.addProperty=function(i,p,P){var m={configurable:!0,get:function(){return i[p]}};P||(m.set=function(y){i[p]=y}),Object.defineProperty(this,p,m)},f}(C.Base);d.Serializer.addClass("matrixdropdowncolumn",[{name:"!name",isUnique:!0},{name:"title",serializationProperty:"locTitle"},{name:"cellType",default:"default",choices:function(){var g=u.getColumnTypes();return g.splice(0,0,"default"),g}},{name:"colCount",default:-1,choices:[-1,0,1,2,3,4]},"isRequired:boolean","isUnique:boolean",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},"readOnly:boolean","minWidth","width","visibleIf:condition","enableIf:condition","requiredIf:condition",{name:"showInMultipleColumns:boolean",dependsOn:"cellType",visibleIf:function(g){return g?g.isSupportMultipleColumns:!1}},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"totalType",default:"none",choices:["none","sum","count","min","max","avg"]},"totalExpression:expression",{name:"totalFormat",serializationProperty:"locTotalFormat"},{name:"totalDisplayStyle",default:"none",choices:["none","decimal","currency","percent"]},{name:"totalCurrency",choices:function(){return Object(M.getCurrecyCodes)()},default:"USD"},{name:"totalMaximumFractionDigits:number",default:-1},{name:"totalMinimumFractionDigits:number",default:-1},{name:"renderAs",default:"default",visible:!1}],function(){return new u("")})},"./src/question_matrixdropdownrendered.ts":function(a,r,t){t.r(r),t.d(r,"QuestionMatrixDropdownRenderedCell",function(){return p}),t.d(r,"QuestionMatrixDropdownRenderedRow",function(){return P}),t.d(r,"QuestionMatrixDropdownRenderedTable",function(){return m});var d=t("./src/jsonobject.ts"),C=t("./src/base.ts"),M=t("./src/itemvalue.ts"),w=t("./src/surveyStrings.ts"),S=t("./src/actions/action.ts"),x=t("./src/actions/adaptive-container.ts"),h=t("./src/utils/cssClassBuilder.ts"),u=t("./src/actions/container.ts"),g=t("./src/settings.ts"),f=function(){var y=function(R,b){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,E){c.__proto__=E}||function(c,E){for(var I in E)Object.prototype.hasOwnProperty.call(E,I)&&(c[I]=E[I])},y(R,b)};return function(R,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");y(R,b);function c(){this.constructor=R}R.prototype=b===null?Object.create(b):(c.prototype=b.prototype,new c)}}(),i=function(y,R,b,c){var E=arguments.length,I=E<3?R:c===null?c=Object.getOwnPropertyDescriptor(R,b):c,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(y,R,b,c);else for(var D=y.length-1;D>=0;D--)(A=y[D])&&(I=(E<3?A(I):E>3?A(R,b,I):A(R,b))||I);return E>3&&I&&Object.defineProperty(R,b,I),I},p=function(){function y(){this.minWidth="",this.width="",this.colSpans=1,this.isActionsCell=!1,this.isDragHandlerCell=!1,this.classNameValue="",this.idValue=y.counter++}return Object.defineProperty(y.prototype,"hasQuestion",{get:function(){return!!this.question},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"hasTitle",{get:function(){return!!this.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"hasPanel",{get:function(){return!!this.panel},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"showErrorOnTop",{get:function(){return this.showErrorOnCore("top")},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"showErrorOnBottom",{get:function(){return this.showErrorOnCore("bottom")},enumerable:!1,configurable:!0}),y.prototype.showErrorOnCore=function(R){return this.getShowErrorLocation()==R&&(!this.isChoice||this.isFirstChoice)},y.prototype.getShowErrorLocation=function(){return this.hasQuestion?this.question.survey.questionErrorLocation:""},Object.defineProperty(y.prototype,"item",{get:function(){return this.itemValue},set:function(R){this.itemValue=R,R&&(R.hideCaption=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isChoice",{get:function(){return!!this.item},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"choiceValue",{get:function(){return this.isChoice?this.item.value:null},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isCheckbox",{get:function(){return this.isChoice&&this.question.getType()=="checkbox"},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isFirstChoice",{get:function(){return this.choiceIndex===0},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"className",{get:function(){var R=new h.CssClassBuilder().append(this.classNameValue);return this.hasQuestion&&R.append(this.question.cssClasses.hasError,this.question.errors.length>0).append(this.question.cssClasses.answered,this.question.isAnswered),R.toString()},set:function(R){this.classNameValue=R},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"headers",{get:function(){return this.cell&&this.cell.column&&this.cell.column.isShowInMultipleColumns?this.item.locText.renderedHtml:this.question&&this.question.isVisible?this.question.locTitle.renderedHtml:this.hasTitle&&this.locTitle.renderedHtml||""},enumerable:!1,configurable:!0}),y.prototype.getTitle=function(){return this.matrix&&this.matrix.showHeader?this.headers:""},y.prototype.calculateFinalClassName=function(R){var b=this.cell.question.cssClasses,c=new h.CssClassBuilder().append(b.itemValue,!!b).append(b.asCell,!!b);return c.append(R.cell,c.isEmpty()&&!!R).append(R.choiceCell,this.isChoice).toString()},y.counter=1,y}(),P=function(y){f(R,y);function R(b,c){c===void 0&&(c=!1);var E=y.call(this)||this;return E.cssClasses=b,E.isDetailRow=c,E.cells=[],E.onCreating(),E.idValue=R.counter++,E}return R.prototype.onCreating=function(){},Object.defineProperty(R.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"attributes",{get:function(){return this.row?{"data-sv-drop-target-matrix-row":this.row.id}:{}},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"className",{get:function(){return new h.CssClassBuilder().append(this.cssClasses.row).append(this.cssClasses.detailRow,this.isDetailRow).append(this.cssClasses.ghostRow,this.isGhostRow).append(this.cssClasses.rowAdditional,this.isAdditionalClasses).toString()},enumerable:!1,configurable:!0}),R.counter=1,i([Object(d.property)({defaultValue:null})],R.prototype,"isGhostRow",void 0),i([Object(d.property)({defaultValue:!1})],R.prototype,"isAdditionalClasses",void 0),R}(C.Base),m=function(y){f(R,y);function R(b){var c=y.call(this)||this;return c.matrix=b,c.renderedRowsChangedCallback=function(){},c.hasActionCellInRowsValues={},c.build(),c}return Object.defineProperty(R.prototype,"showTable",{get:function(){return this.getPropertyValue("showTable",!0)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"showHeader",{get:function(){return this.getPropertyValue("showHeader")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"showAddRowOnTop",{get:function(){return this.getPropertyValue("showAddRowOnTop",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"showAddRowOnBottom",{get:function(){return this.getPropertyValue("showAddRowOnBottom",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"showFooter",{get:function(){return this.matrix.hasFooter&&this.matrix.isColumnLayoutHorizontal},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"hasFooter",{get:function(){return!!this.footerRow},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"hasRemoveRows",{get:function(){return this.hasRemoveRowsValue},enumerable:!1,configurable:!0}),R.prototype.isRequireReset=function(){return this.hasRemoveRows!=this.matrix.canRemoveRows||!this.matrix.isColumnLayoutHorizontal},Object.defineProperty(R.prototype,"headerRow",{get:function(){return this.headerRowValue},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"footerRow",{get:function(){return this.footerRowValue},enumerable:!1,configurable:!0}),R.prototype.build=function(){this.hasRemoveRowsValue=this.matrix.canRemoveRows,this.matrix.visibleRows,this.cssClasses=this.matrix.cssClasses,this.buildRowsActions(),this.buildHeader(),this.buildRows(),this.buildFooter(),this.updateShowTableAndAddRow()},R.prototype.updateShowTableAndAddRow=function(){var b=this.rows.length>0||this.matrix.isDesignMode||!this.matrix.getShowColumnsIfEmpty();this.setPropertyValue("showTable",b);var c=this.matrix.canAddRow&&b,E=c,I=c;E&&(this.matrix.getAddRowLocation()==="default"?E=!this.matrix.isColumnLayoutHorizontal:E=this.matrix.getAddRowLocation()!=="bottom"),I&&this.matrix.getAddRowLocation()!=="topBottom"&&(I=!E),this.setPropertyValue("showAddRowOnTop",E),this.setPropertyValue("showAddRowOnBottom",I)},R.prototype.onAddedRow=function(){if(!(this.getRenderedDataRowCount()>=this.matrix.visibleRows.length)){var b=this.matrix.visibleRows[this.matrix.visibleRows.length-1];this.rowsActions.push(this.buildRowActions(b)),this.addHorizontalRow(this.rows,b,this.matrix.visibleRows.length==1&&!this.matrix.showHeader),this.updateShowTableAndAddRow()}},R.prototype.getRenderedDataRowCount=function(){for(var b=0,c=0;c<this.rows.length;c++)this.rows[c].isDetailRow||b++;return b},R.prototype.onRemovedRow=function(b){var c=this.getRenderedRowIndex(b);if(!(c<0)){this.rowsActions.splice(c,1);var E=1;c<this.rows.length-1&&this.rows[c+1].isDetailRow&&E++,this.rows.splice(c,E),this.updateShowTableAndAddRow()}},R.prototype.onDetailPanelChangeVisibility=function(b,c){var E=this.getRenderedRowIndex(b);if(!(E<0)){var I=E<this.rows.length-1&&this.rows[E+1].isDetailRow?E+1:-1;if(!(c&&I>-1||!c&&I<0))if(c){var A=this.createDetailPanelRow(b,this.rows[E]);this.rows.splice(E+1,0,A)}else this.rows.splice(I,1)}},R.prototype.getRenderedRowIndex=function(b){for(var c=0;c<this.rows.length;c++)if(this.rows[c].row==b)return c;return-1},R.prototype.buildRowsActions=function(){this.rowsActions=[];for(var b=this.matrix.visibleRows,c=0;c<b.length;c++)this.rowsActions.push(this.buildRowActions(b[c]))},R.prototype.buildHeader=function(){var b=this.matrix.isColumnLayoutHorizontal&&this.matrix.showHeader,c=b||this.matrix.hasRowText&&!this.matrix.isColumnLayoutHorizontal;if(this.setPropertyValue("showHeader",c),!!c){if(this.headerRowValue=new P(this.cssClasses),this.matrix.allowRowsDragAndDrop&&this.headerRow.cells.push(this.createHeaderCell(null)),this.hasActionCellInRows("start")&&this.headerRow.cells.push(this.createHeaderCell(null)),this.matrix.hasRowText&&this.matrix.showHeader&&this.headerRow.cells.push(this.createHeaderCell(null)),this.matrix.isColumnLayoutHorizontal)for(var E=0;E<this.matrix.visibleColumns.length;E++){var I=this.matrix.visibleColumns[E];I.hasVisibleCell&&(I.isShowInMultipleColumns?this.createMutlipleColumnsHeader(I):this.headerRow.cells.push(this.createHeaderCell(I)))}else{for(var A=this.matrix.visibleRows,E=0;E<A.length;E++){var D=this.createTextCell(A[E].locText);D.row=A[E],this.headerRow.cells.push(D)}this.matrix.hasFooter&&this.headerRow.cells.push(this.createTextCell(this.matrix.getFooterText()))}this.hasActionCellInRows("end")&&this.headerRow.cells.push(this.createHeaderCell(null))}},R.prototype.buildFooter=function(){if(this.showFooter){this.footerRowValue=new P(this.cssClasses),this.matrix.allowRowsDragAndDrop&&this.footerRow.cells.push(this.createHeaderCell(null)),this.hasActionCellInRows("start")&&this.footerRow.cells.push(this.createHeaderCell(null)),this.matrix.hasRowText&&this.footerRow.cells.push(this.createTextCell(this.matrix.getFooterText()));for(var b=this.matrix.visibleTotalRow.cells,c=0;c<b.length;c++){var E=b[c];if(E.column.hasVisibleCell)if(E.column.isShowInMultipleColumns)this.createMutlipleColumnsFooter(this.footerRow,E);else{var I=this.createEditCell(E);E.column&&this.setHeaderCellWidth(E.column,I),this.footerRow.cells.push(I)}}this.hasActionCellInRows("end")&&this.footerRow.cells.push(this.createHeaderCell(null))}},R.prototype.buildRows=function(){var b=this.matrix.isColumnLayoutHorizontal?this.buildHorizontalRows():this.buildVerticalRows();this.rows=b},R.prototype.hasActionCellInRows=function(b){if(this.hasActionCellInRowsValues[b]===void 0){var c=this.matrix.visibleRows;this.hasActionCellInRowsValues[b]=!1;for(var E=0;E<c.length;E++)if(!this.isValueEmpty(this.getRowActions(E,b))){this.hasActionCellInRowsValues[b]=!0;break}}return this.hasActionCellInRowsValues[b]},R.prototype.canRemoveRow=function(b){return this.matrix.canRemoveRow(b)},R.prototype.buildHorizontalRows=function(){for(var b=this.matrix.visibleRows,c=[],E=0;E<b.length;E++)this.addHorizontalRow(c,b[E],E==0&&!this.matrix.showHeader);return c},R.prototype.addHorizontalRow=function(b,c,E){var I=this.createHorizontalRow(c,E);I.row=c,b.push(I),c.isDetailPanelShowing&&b.push(this.createDetailPanelRow(c,I))},R.prototype.getRowDragCell=function(b){var c=new p;return c.isDragHandlerCell=!0,c.className=this.getActionsCellClassName(),c.row=this.matrix.visibleRows[b],c},R.prototype.getActionsCellClassName=function(){return new h.CssClassBuilder().append(this.cssClasses.actionsCell).append(this.cssClasses.verticalCell,!this.matrix.isColumnLayoutHorizontal).toString()},R.prototype.getRowActionsCell=function(b,c){var E=this.getRowActions(b,c);if(!this.isValueEmpty(E)){var I=new p,A=this.matrix.allowAdaptiveActions?new x.AdaptiveActionContainer:new u.ActionContainer;this.matrix.survey&&this.matrix.survey.getCss().actionBar&&(A.cssClasses=this.matrix.survey.getCss().actionBar),A.setItems(E);var D=new M.ItemValue(A);return I.item=D,I.isActionsCell=!0,I.className=this.getActionsCellClassName(),I.row=this.matrix.visibleRows[b],I}return null},R.prototype.getRowActions=function(b,c){var E=this.rowsActions[b];return Array.isArray(E)?E.filter(function(I){return I.location||(I.location="start"),I.location===c}):[]},R.prototype.buildRowActions=function(b){var c=[];return this.setDefaultRowActions(b,c),this.matrix.survey&&(c=this.matrix.survey.getUpdatedMatrixRowActions(this.matrix,b,c)),c},Object.defineProperty(R.prototype,"showRemoveButtonAsIcon",{get:function(){return g.settings.matrixRenderRemoveAsIcon&&this.matrix.survey&&this.matrix.survey.css.root==="sd-root-modern"},enumerable:!1,configurable:!0}),R.prototype.setDefaultRowActions=function(b,c){var E=this.matrix;this.hasRemoveRows&&this.canRemoveRow(b)&&(this.showRemoveButtonAsIcon?c.push(new S.Action({id:"remove-row",iconName:"icon-delete",component:"sv-action-bar-item",innerCss:new h.CssClassBuilder().append(this.matrix.cssClasses.button).append(this.matrix.cssClasses.buttonRemove).toString(),location:"end",showTitle:!1,title:E.removeRowText,enabled:!E.isInputReadOnly,data:{row:b,question:E},action:function(){E.removeRowUI(b)}})):c.push(new S.Action({id:"remove-row",location:"end",enabled:!this.matrix.isInputReadOnly,component:"sv-matrix-remove-button",data:{row:b,question:this.matrix}}))),b.hasPanel&&c.push(new S.Action({id:"show-detail",title:w.surveyLocalization.getString("editText"),showTitle:!1,location:"start",component:"sv-matrix-detail-button",data:{row:b,question:this.matrix}}))},R.prototype.createHorizontalRow=function(b,c){var E=new P(this.cssClasses);if(this.matrix.allowRowsDragAndDrop){var I=this.matrix.visibleRows.indexOf(b);E.cells.push(this.getRowDragCell(I))}if(this.addRowActionsCell(b,E,"start"),this.matrix.hasRowText){var A=this.createTextCell(b.locText);A.row=b,E.cells.push(A),c&&this.setHeaderCellWidth(null,A),A.className=new h.CssClassBuilder().append(A.className).append(this.cssClasses.rowTextCell).append(this.cssClasses.detailRowText,b.hasPanel).toString()}for(var D=0;D<b.cells.length;D++){var O=b.cells[D];if(O.column.hasVisibleCell)if(O.column.isShowInMultipleColumns)this.createMutlipleEditCells(E,O);else{var A=this.createEditCell(O);E.cells.push(A),c&&this.setHeaderCellWidth(O.column,A)}}return this.addRowActionsCell(b,E,"end"),E},R.prototype.addRowActionsCell=function(b,c,E){var I=this.matrix.visibleRows.indexOf(b);if(this.hasActionCellInRows(E)){var A=this.getRowActionsCell(I,E);if(A)c.cells.push(A);else{var D=new p;D.isEmpty=!0,c.cells.push(D)}}},R.prototype.createDetailPanelRow=function(b,c){var E=this.matrix.isDesignMode,I=new P(this.cssClasses,!0);I.row=b;var A=new p;this.matrix.hasRowText&&(A.colSpans=2),A.isEmpty=!0,E||I.cells.push(A);var D=null;this.hasActionCellInRows("end")&&(D=new p,D.isEmpty=!0);var O=new p;return O.panel=b.detailPanel,O.colSpans=c.cells.length-(E?0:A.colSpans)-(D?D.colSpans:0),O.className=this.cssClasses.detailPanelCell,I.cells.push(O),D&&I.cells.push(D),typeof this.matrix.onCreateDetailPanelRenderedRowCallback=="function"&&this.matrix.onCreateDetailPanelRenderedRowCallback(I),I},R.prototype.buildVerticalRows=function(){for(var b=this.matrix.columns,c=[],E=0;E<b.length;E++){var I=b[E];I.isVisible&&I.hasVisibleCell&&(I.isShowInMultipleColumns?this.createMutlipleVerticalRows(c,I,E):c.push(this.createVerticalRow(I,E)))}return this.hasActionCellInRows("end")&&c.push(this.createEndVerticalActionRow()),c},R.prototype.createMutlipleVerticalRows=function(b,c,E){var I=this.getMultipleColumnChoices(c);if(I)for(var A=0;A<I.length;A++)b.push(this.createVerticalRow(c,E,I[A],A))},R.prototype.createVerticalRow=function(b,c,E,I){E===void 0&&(E=null),I===void 0&&(I=-1);var A=new P(this.cssClasses);if(this.matrix.showHeader){var D=E?E.locText:b.locTitle,O=this.createTextCell(D);O.column=b,O.className=new h.CssClassBuilder().append(O.className).append(this.cssClasses.rowTextCell).toString(),E||this.setRequriedToHeaderCell(b,O),A.cells.push(O)}for(var l=this.matrix.visibleRows,o=0;o<l.length;o++){var v=E,T=I>=0?I:o,L=l[o].cells[c],V=E?L.question.visibleChoices:void 0;V&&T<V.length&&(v=V[T]);var _=this.createEditCell(L,v);_.item=v,_.choiceIndex=T,A.cells.push(_)}return this.matrix.hasTotal&&A.cells.push(this.createEditCell(this.matrix.visibleTotalRow.cells[c])),A},R.prototype.createEndVerticalActionRow=function(){var b=new P(this.cssClasses);this.matrix.showHeader&&b.cells.push(this.createEmptyCell());for(var c=this.matrix.visibleRows,E=0;E<c.length;E++)b.cells.push(this.getRowActionsCell(E,"end"));return this.matrix.hasTotal&&b.cells.push(this.createEmptyCell()),b},R.prototype.createMutlipleEditCells=function(b,c,E){E===void 0&&(E=!1);var I=E?this.getMultipleColumnChoices(c.column):c.question.visibleChoices;if(I)for(var A=0;A<I.length;A++){var D=this.createEditCell(c,E?void 0:I[A]);E||(D.choiceIndex=A),b.cells.push(D)}},R.prototype.createEditCell=function(b,c){c===void 0&&(c=void 0);var E=new p;return E.cell=b,E.row=b.row,E.question=b.question,E.matrix=this.matrix,E.item=c,E.className=E.calculateFinalClassName(this.cssClasses),E},R.prototype.createMutlipleColumnsFooter=function(b,c){this.createMutlipleEditCells(b,c,!0)},R.prototype.createMutlipleColumnsHeader=function(b){var c=this.getMultipleColumnChoices(b);if(c)for(var E=0;E<c.length;E++){var I=this.createTextCell(c[E].locText);this.setHeaderCell(b,I),this.headerRow.cells.push(I)}},R.prototype.getMultipleColumnChoices=function(b){var c=b.templateQuestion.choices;return c&&Array.isArray(c)&&c.length==0?this.matrix.choices:(c=b.templateQuestion.visibleChoices,!c||!Array.isArray(c)?null:c)},R.prototype.createHeaderCell=function(b){var c=b?this.createTextCell(b.locTitle):this.createEmptyCell();return c.column=b,this.setHeaderCell(b,c),c.className=new h.CssClassBuilder().append(this.cssClasses.headerCell).append(this.cssClasses.emptyCell,!!c.isEmpty).toString(),c},R.prototype.setHeaderCell=function(b,c){this.setHeaderCellWidth(b,c),this.setRequriedToHeaderCell(b,c)},R.prototype.setHeaderCellWidth=function(b,c){c.minWidth=b!=null?this.matrix.getColumnWidth(b):"",c.width=b!=null?b.width:this.matrix.getRowTitleWidth()},R.prototype.setRequriedToHeaderCell=function(b,c){b&&b.isRequired&&this.matrix.survey&&(c.requiredText=this.matrix.survey.requiredText)},R.prototype.createRemoveRowCell=function(b){var c=new p;return c.row=b,c.isRemoveRow=this.canRemoveRow(b),this.cssClasses.cell&&(c.className=this.cssClasses.cell),c},R.prototype.createTextCell=function(b){var c=new p;return c.locTitle=b,this.cssClasses.cell&&(c.className=this.cssClasses.cell),c},R.prototype.createEmptyCell=function(){var b=this.createTextCell(null);return b.isEmpty=!0,b},i([Object(d.propertyArray)({onPush:function(b,c,E){E.renderedRowsChangedCallback()}})],R.prototype,"rows",void 0),R}(C.Base)},"./src/question_matrixdynamic.ts":function(a,r,t){t.r(r),t.d(r,"MatrixDynamicRowModel",function(){return P}),t.d(r,"QuestionMatrixDynamicModel",function(){return m});var d=t("./src/jsonobject.ts"),C=t("./src/questionfactory.ts"),M=t("./src/question_matrixdropdownbase.ts"),w=t("./src/surveyStrings.ts"),S=t("./src/error.ts"),x=t("./src/settings.ts"),h=t("./src/utils/utils.ts"),u=t("./src/dragdrop/matrix-rows.ts"),g=t("./src/utils/cssClassBuilder.ts"),f=t("./src/question_matrixdropdownrendered.ts"),i=t("./src/utils/dragOrClickHelper.ts"),p=function(){var R=function(b,c){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,I){E.__proto__=I}||function(E,I){for(var A in I)Object.prototype.hasOwnProperty.call(I,A)&&(E[A]=I[A])},R(b,c)};return function(b,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");R(b,c);function E(){this.constructor=b}b.prototype=c===null?Object.create(c):(E.prototype=c.prototype,new E)}}(),P=function(R){p(b,R);function b(c,E,I){var A=R.call(this,E,I)||this;return A.index=c,A.buildCells(I),A}return Object.defineProperty(b.prototype,"rowName",{get:function(){return this.id},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"shortcutText",{get:function(){var c=this.data,E=c.visibleRows.indexOf(this)+1,I=this.cells.length>1?this.cells[1].questionValue:void 0,A=this.cells.length>0?this.cells[0].questionValue:void 0;return I&&I.value||A&&A.value||""+E},enumerable:!1,configurable:!0}),b}(M.MatrixDropdownRowModelBase),m=function(R){p(b,R);function b(c){var E=R.call(this,c)||this;E.rowCounter=0,E.initialRowCount=2,E.setRowCountValueFromData=!1,E.startDragMatrixRow=function(A,D){E.dragDropMatrixRows.startDrag(A,E.draggedRow,E,A.target)},E.moveRowByIndex=function(A,D){var O=E.createNewValue();if(O){var l=O[A];l&&(O.splice(A,1),O.splice(D,0,l),E.value=O)}},E.createLocalizableString("confirmDeleteText",E,!1,"confirmDelete");var I=E.createLocalizableString("addRowText",E);return I.onGetTextCallback=function(A){return A||E.defaultAddRowText},E.createLocalizableString("removeRowText",E,!1,"removeRow"),E.createLocalizableString("emptyRowsText",E,!1,!0),E.registerFunctionOnPropertiesValueChanged(["hideColumnsIfEmpty","allowAddRows"],function(){E.updateShowTableAndAddRow()}),E.registerFunctionOnPropertyValueChanged("allowRowsDragAndDrop",function(){E.clearRowsAndResetRenderedTable()}),E.dragOrClickHelper=new i.DragOrClickHelper(E.startDragMatrixRow),E}return b.prototype.setSurveyImpl=function(c,E){R.prototype.setSurveyImpl.call(this,c,E),this.dragDropMatrixRows=new u.DragDropMatrixRows(this.survey)},b.prototype.isBanStartDrag=function(c){var E=c.target;return E.getAttribute("contenteditable")==="true"||E.nodeName==="INPUT"},b.prototype.onPointerDown=function(c,E){this.allowRowsDragAndDrop&&(this.isBanStartDrag(c)||E.isDetailPanelShowing||(this.draggedRow=E,this.dragOrClickHelper.onPointerDown(c)))},b.prototype.getType=function(){return"matrixdynamic"},Object.defineProperty(b.prototype,"isRowsDynamic",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"confirmDelete",{get:function(){return this.getPropertyValue("confirmDelete",!1)},set:function(c){this.setPropertyValue("confirmDelete",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"keyName",{get:function(){return this.getPropertyValue("keyName","")},set:function(c){this.setPropertyValue("keyName",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"defaultRowValue",{get:function(){return this.getPropertyValue("defaultRowValue")},set:function(c){this.setPropertyValue("defaultRowValue",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"defaultValueFromLastRow",{get:function(){return this.getPropertyValue("defaultValueFromLastRow",!1)},set:function(c){this.setPropertyValue("defaultValueFromLastRow",c)},enumerable:!1,configurable:!0}),b.prototype.isDefaultValueEmpty=function(){return R.prototype.isDefaultValueEmpty.call(this)&&this.isValueEmpty(this.defaultRowValue)},b.prototype.valueFromData=function(c){if(this.minRowCount<1)return R.prototype.valueFromData.call(this,c);Array.isArray(c)||(c=[]);for(var E=c.length;E<this.minRowCount;E++)c.push({});return c},b.prototype.setDefaultValue=function(){if(this.isValueEmpty(this.defaultRowValue)||!this.isValueEmpty(this.defaultValue)){R.prototype.setDefaultValue.call(this);return}if(!(!this.isEmpty()||this.rowCount==0)){for(var c=[],E=0;E<this.rowCount;E++)c.push(this.defaultRowValue);this.value=c}},Object.defineProperty(b.prototype,"rowCount",{get:function(){return this.rowCountValue},set:function(c){if(!(c<0||c>x.settings.matrixMaximumRowCount)){this.setRowCountValueFromData=!1;var E=this.rowCountValue;if(this.rowCountValue=c,this.value&&this.value.length>c){var I=this.value;I.splice(c),this.value=I}if(this.isUpdateLocked){this.initialRowCount=c;return}if(this.generatedVisibleRows||E==0){this.generatedVisibleRows||(this.generatedVisibleRows=[]),this.generatedVisibleRows.splice(c);for(var A=E;A<c;A++){var D=this.createMatrixRow(this.getValueForNewRow());this.generatedVisibleRows.push(D),this.onMatrixRowCreated(D)}}this.onRowsChanged()}},enumerable:!1,configurable:!0}),b.prototype.updateProgressInfoByValues=function(c){var E=this.value;Array.isArray(E)||(E=[]);for(var I=0;I<this.rowCount;I++){var A=I<E.length?E[I]:{};this.updateProgressInfoByRow(c,A)}},b.prototype.getValueForNewRow=function(){var c=null;return this.onGetValueForNewRowCallBack&&(c=this.onGetValueForNewRowCallBack(this)),c},Object.defineProperty(b.prototype,"allowRowsDragAndDrop",{get:function(){return this.readOnly?!1:this.getPropertyValue("allowRowsDragAndDrop")},set:function(c){this.setPropertyValue("allowRowsDragAndDrop",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"iconDragElement",{get:function(){return this.cssClasses.iconDragElement},enumerable:!1,configurable:!0}),b.prototype.createRenderedTable=function(){return new y(this)},Object.defineProperty(b.prototype,"rowCountValue",{get:function(){return this.getPropertyValue("rowCount")},set:function(c){this.setPropertyValue("rowCount",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"minRowCount",{get:function(){return this.getPropertyValue("minRowCount")},set:function(c){c<0&&(c=0),this.setPropertyValue("minRowCount",c),c>this.maxRowCount&&(this.maxRowCount=c),this.rowCount<c&&(this.rowCount=c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"maxRowCount",{get:function(){return this.getPropertyValue("maxRowCount")},set:function(c){c<=0||(c>x.settings.matrixMaximumRowCount&&(c=x.settings.matrixMaximumRowCount),c!=this.maxRowCount&&(this.setPropertyValue("maxRowCount",c),c<this.minRowCount&&(this.minRowCount=c),this.rowCount>c&&(this.rowCount=c)))},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"allowAddRows",{get:function(){return this.getPropertyValue("allowAddRows")},set:function(c){this.setPropertyValue("allowAddRows",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"allowRemoveRows",{get:function(){return this.getPropertyValue("allowRemoveRows")},set:function(c){this.setPropertyValue("allowRemoveRows",c),this.isUpdateLocked||this.resetRenderedTable()},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"canAddRow",{get:function(){return this.allowAddRows&&!this.isReadOnly&&this.rowCount<this.maxRowCount},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"canRemoveRows",{get:function(){var c=this.allowRemoveRows&&!this.isReadOnly&&this.rowCount>this.minRowCount;return this.canRemoveRowsCallback?this.canRemoveRowsCallback(c):c},enumerable:!1,configurable:!0}),b.prototype.canRemoveRow=function(c){return this.survey?this.survey.matrixAllowRemoveRow(this,c.index,c):!0},b.prototype.addRowUI=function(){var c=this.rowCount;if(this.addRow(),c!==this.rowCount){var E=this.getQuestionToFocusOnAddingRow();E&&E.focus()}},b.prototype.getQuestionToFocusOnAddingRow=function(){for(var c=this.visibleRows[this.visibleRows.length-1],E=0;E<c.cells.length;E++){var I=c.cells[E].question;if(I&&I.isVisible&&!I.isReadOnly)return I}return null},b.prototype.addRow=function(){var c={question:this,canAddRow:this.canAddRow};this.survey&&this.survey.matrixBeforeRowAdded(c),c.canAddRow&&(this.onStartRowAddingRemoving(),this.addRowCore(),this.onEndRowAdding(),this.detailPanelShowOnAdding&&this.visibleRows.length>0&&this.visibleRows[this.visibleRows.length-1].showDetailPanel())},Object.defineProperty(b.prototype,"detailPanelShowOnAdding",{get:function(){return this.getPropertyValue("detailPanelShowOnAdding")},set:function(c){this.setPropertyValue("detailPanelShowOnAdding",c)},enumerable:!1,configurable:!0}),b.prototype.hasRowsAsItems=function(){return!1},b.prototype.unbindValue=function(){this.clearGeneratedRows(),this.clearPropertyValue("value"),this.rowCountValue=0,R.prototype.unbindValue.call(this)},b.prototype.isValueSurveyElement=function(c){return this.isEditingSurveyElement||R.prototype.isValueSurveyElement.call(this,c)},b.prototype.addRowCore=function(){var c=this.rowCount;this.rowCount=this.rowCount+1;var E=this.getDefaultRowValue(!0),I=null;if(this.isValueEmpty(E)||(I=this.createNewValue(),I.length==this.rowCount&&(I[I.length-1]=E,this.value=I)),this.data){this.runCellsCondition(this.getDataFilteredValues(),this.getDataFilteredProperties());var A=this.visibleRows[this.rowCount-1];this.isValueEmpty(A.value)||(I||(I=this.createNewValue()),!this.isValueSurveyElement(I)&&!this.isTwoValueEquals(I[I.length-1],A.value)&&(I[I.length-1]=A.value,this.value=I))}this.survey&&c+1==this.rowCount&&(this.survey.matrixRowAdded(this,this.visibleRows[this.visibleRows.length-1]),this.onRowsChanged())},b.prototype.getDefaultRowValue=function(c){for(var E=null,I=0;I<this.columns.length;I++){var A=this.columns[I].templateQuestion;A&&!this.isValueEmpty(A.getDefaultValue())&&(E=E||{},E[this.columns[I].name]=A.getDefaultValue())}if(!this.isValueEmpty(this.defaultRowValue))for(var D in this.defaultRowValue)E=E||{},E[D]=this.defaultRowValue[D];if(c&&this.defaultValueFromLastRow){var O=this.value;if(O&&Array.isArray(O)&&O.length>=this.rowCount-1){var l=O[this.rowCount-2];for(var D in l)E=E||{},E[D]=l[D]}}return E},b.prototype.removeRowUI=function(c){if(c&&c.rowName){var E=this.visibleRows.indexOf(c);if(E<0)return;c=E}(!this.isRequireConfirmOnRowDelete(c)||Object(h.confirmAction)(this.confirmDeleteText))&&this.removeRow(c)},b.prototype.isRequireConfirmOnRowDelete=function(c){if(!this.confirmDelete||c<0||c>=this.rowCount)return!1;var E=this.createNewValue();return this.isValueEmpty(E)||!Array.isArray(E)||c>=E.length?!1:!this.isValueEmpty(E[c])},b.prototype.removeRow=function(c){if(this.canRemoveRows&&!(c<0||c>=this.rowCount)){var E=this.visibleRows&&c<this.visibleRows.length?this.visibleRows[c]:null;E&&this.survey&&!this.survey.matrixRowRemoving(this,c,E)||(this.onStartRowAddingRemoving(),this.removeRowCore(c),this.onEndRowRemoving(E))}},b.prototype.removeRowCore=function(c){var E=this.generatedVisibleRows?this.generatedVisibleRows[c]:null;if(this.generatedVisibleRows&&c<this.generatedVisibleRows.length&&this.generatedVisibleRows.splice(c,1),this.rowCountValue--,this.value){var I=[];Array.isArray(this.value)&&c<this.value.length?I=this.createValueCopy():I=this.createNewValue(),I.splice(c,1),I=this.deleteRowValue(I,null),this.isRowChanging=!0,this.value=I,this.isRowChanging=!1}this.onRowsChanged(),this.survey&&this.survey.matrixRowRemoved(this,c,E)},Object.defineProperty(b.prototype,"confirmDeleteText",{get:function(){return this.getLocalizableStringText("confirmDeleteText")},set:function(c){this.setLocalizableStringText("confirmDeleteText",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"locConfirmDeleteText",{get:function(){return this.getLocalizableString("confirmDeleteText")},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"addRowText",{get:function(){return this.getLocalizableStringText("addRowText",this.defaultAddRowText)},set:function(c){this.setLocalizableStringText("addRowText",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"locAddRowText",{get:function(){return this.getLocalizableString("addRowText")},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"defaultAddRowText",{get:function(){return w.surveyLocalization.getString(this.isColumnLayoutHorizontal?"addRow":"addColumn")},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"addRowLocation",{get:function(){return this.getPropertyValue("addRowLocation")},set:function(c){this.setPropertyValue("addRowLocation",c)},enumerable:!1,configurable:!0}),b.prototype.getAddRowLocation=function(){return this.addRowLocation},Object.defineProperty(b.prototype,"hideColumnsIfEmpty",{get:function(){return this.getPropertyValue("hideColumnsIfEmpty")},set:function(c){this.setPropertyValue("hideColumnsIfEmpty",c)},enumerable:!1,configurable:!0}),b.prototype.getShowColumnsIfEmpty=function(){return this.hideColumnsIfEmpty},Object.defineProperty(b.prototype,"removeRowText",{get:function(){return this.getLocalizableStringText("removeRowText")},set:function(c){this.setLocalizableStringText("removeRowText",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"locRemoveRowText",{get:function(){return this.getLocalizableString("removeRowText")},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"emptyRowsText",{get:function(){return this.getLocalizableStringText("emptyRowsText")},set:function(c){this.setLocalizableStringText("emptyRowsText",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"locEmptyRowsText",{get:function(){return this.getLocalizableString("emptyRowsText")},enumerable:!1,configurable:!0}),b.prototype.getDisplayValueCore=function(c,E){if(!E||!Array.isArray(E))return E;for(var I=this.getUnbindValue(E),A=this.visibleRows,D=0;D<A.length&&D<I.length;D++){var O=I[D];O&&(I[D]=this.getRowDisplayValue(c,A[D],O))}return I},b.prototype.getConditionObjectRowName=function(c){return"["+c.toString()+"]"},b.prototype.getConditionObjectsRowIndeces=function(){for(var c=[],E=Math.max(this.rowCount,1),I=0;I<Math.min(x.settings.matrixMaxRowCountInCondition,E);I++)c.push(I);return c},b.prototype.supportGoNextPageAutomatic=function(){return!1},Object.defineProperty(b.prototype,"hasRowText",{get:function(){return!1},enumerable:!1,configurable:!0}),b.prototype.onCheckForErrors=function(c,E){R.prototype.onCheckForErrors.call(this,c,E),!E&&this.hasErrorInMinRows()&&c.push(new S.MinRowCountError(this.minRowCount,this))},b.prototype.hasErrorInMinRows=function(){if(this.minRowCount<=0||!this.isRequired||!this.generatedVisibleRows)return!1;for(var c=0,E=0;E<this.generatedVisibleRows.length;E++){var I=this.generatedVisibleRows[E];I.isEmpty||c++}return c<this.minRowCount},b.prototype.getUniqueColumns=function(){var c=R.prototype.getUniqueColumns.call(this);if(this.keyName){var E=this.getColumnByName(this.keyName);E&&c.indexOf(E)<0&&c.push(E)}return c},b.prototype.generateRows=function(){var c=new Array;if(this.rowCount===0)return c;for(var E=this.createNewValue(),I=0;I<this.rowCount;I++)c.push(this.createMatrixRow(this.getRowValueByIndex(E,I)));return this.isValueEmpty(this.getDefaultRowValue(!1))||(this.value=E),c},b.prototype.createMatrixRow=function(c){return new P(this.rowCounter++,this,c)},b.prototype.onBeforeValueChanged=function(c){if(!(!c||!Array.isArray(c))){var E=c.length;E!=this.rowCount&&(!this.setRowCountValueFromData&&E<this.initialRowCount||(this.setRowCountValueFromData=!0,this.rowCountValue=E,this.generatedVisibleRows&&(this.clearGeneratedRows(),this.generatedVisibleRows=this.visibleRows,this.onRowsChanged())))}},b.prototype.createNewValue=function(){var c=this.createValueCopy();(!c||!Array.isArray(c))&&(c=[]),c.length>this.rowCount&&c.splice(this.rowCount);var E=this.getDefaultRowValue(!1);E=E||{};for(var I=c.length;I<this.rowCount;I++)c.push(this.getUnbindValue(E));return c},b.prototype.deleteRowValue=function(c,E){for(var I=!0,A=0;A<c.length;A++)if(this.isObject(c[A])&&Object.keys(c[A]).length>0){I=!1;break}return I?null:c},b.prototype.getRowValueByIndex=function(c,E){return Array.isArray(c)&&E>=0&&E<c.length?c[E]:null},b.prototype.getRowValueCore=function(c,E,I){if(I===void 0&&(I=!1),!this.generatedVisibleRows)return{};var A=this.getRowValueByIndex(E,this.generatedVisibleRows.indexOf(c));return!A&&I&&(A={}),A},b.prototype.getAddRowButtonCss=function(c){return c===void 0&&(c=!1),new g.CssClassBuilder().append(this.cssClasses.button).append(this.cssClasses.buttonAdd).append(this.cssClasses.emptyRowsButton,c).toString()},b.prototype.getRemoveRowButtonCss=function(){return new g.CssClassBuilder().append(this.cssClasses.button).append(this.cssClasses.buttonRemove).toString()},b.prototype.getRootCss=function(){return new g.CssClassBuilder().append(R.prototype.getRootCss.call(this)).append(this.cssClasses.empty,!this.renderedTable.showTable).toString()},b}(M.QuestionMatrixDropdownModelBase),y=function(R){p(b,R);function b(){return R!==null&&R.apply(this,arguments)||this}return b.prototype.setDefaultRowActions=function(c,E){R.prototype.setDefaultRowActions.call(this,c,E)},b}(f.QuestionMatrixDropdownRenderedTable);d.Serializer.addClass("matrixdynamic",[{name:"rowsVisibleIf:condition",visible:!1},{name:"allowAddRows:boolean",default:!0},{name:"allowRemoveRows:boolean",default:!0},{name:"rowCount:number",default:2,minValue:0,isBindable:!0},{name:"minRowCount:number",default:0,minValue:0},{name:"maxRowCount:number",default:x.settings.matrixMaximumRowCount},{name:"keyName"},"defaultRowValue:rowvalue","defaultValueFromLastRow:boolean",{name:"confirmDelete:boolean"},{name:"confirmDeleteText",dependsOn:"confirmDelete",visibleIf:function(R){return!R||R.confirmDelete},serializationProperty:"locConfirmDeleteText"},{name:"addRowLocation",default:"default",choices:["default","top","bottom","topBottom"]},{name:"addRowText",serializationProperty:"locAddRowText"},{name:"removeRowText",serializationProperty:"locRemoveRowText"},"hideColumnsIfEmpty:boolean",{name:"emptyRowsText:text",serializationProperty:"locEmptyRowsText",dependsOn:"hideColumnsIfEmpty",visibleIf:function(R){return!R||R.hideColumnsIfEmpty}},{name:"detailPanelShowOnAdding:boolean",dependsOn:"detailPanelMode",visibleIf:function(R){return R.detailPanelMode!=="none"}},"allowRowsDragAndDrop:switch"],function(){return new m("")},"matrixdropdownbase"),C.QuestionFactory.Instance.registerQuestion("matrixdynamic",function(R){var b=new m(R);return b.choices=[1,2,3,4,5],M.QuestionMatrixDropdownModelBase.addDefaultColumns(b),b})},"./src/question_multipletext.ts":function(a,r,t){t.r(r),t.d(r,"MultipleTextItemModel",function(){return f}),t.d(r,"QuestionMultipleTextModel",function(){return i});var d=t("./src/base.ts"),C=t("./src/survey-element.ts"),M=t("./src/question.ts"),w=t("./src/question_text.ts"),S=t("./src/jsonobject.ts"),x=t("./src/questionfactory.ts"),h=t("./src/helpers.ts"),u=t("./src/utils/cssClassBuilder.ts"),g=function(){var p=function(P,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,R){y.__proto__=R}||function(y,R){for(var b in R)Object.prototype.hasOwnProperty.call(R,b)&&(y[b]=R[b])},p(P,m)};return function(P,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");p(P,m);function y(){this.constructor=P}P.prototype=m===null?Object.create(m):(y.prototype=m.prototype,new y)}}(),f=function(p){g(P,p);function P(m,y){m===void 0&&(m=null),y===void 0&&(y=null);var R=p.call(this)||this;return R.editorValue=R.createEditor(m),R.editor.questionTitleTemplateCallback=function(){return""},R.editor.titleLocation="left",y&&(R.title=y),R}return P.prototype.getType=function(){return"multipletextitem"},Object.defineProperty(P.prototype,"id",{get:function(){return this.editor.id},enumerable:!1,configurable:!0}),P.prototype.getOriginalObj=function(){return this.editor},Object.defineProperty(P.prototype,"name",{get:function(){return this.editor.name},set:function(m){this.editor.name=m},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"question",{get:function(){return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"editor",{get:function(){return this.editorValue},enumerable:!1,configurable:!0}),P.prototype.createEditor=function(m){return new w.QuestionTextModel(m)},P.prototype.addUsedLocales=function(m){p.prototype.addUsedLocales.call(this,m),this.editor.addUsedLocales(m)},P.prototype.locStrsChanged=function(){p.prototype.locStrsChanged.call(this),this.editor.locStrsChanged()},P.prototype.setData=function(m){this.data=m,m&&(this.editor.defaultValue=m.getItemDefaultValue(this.name),this.editor.setSurveyImpl(this),this.editor.parent=m)},Object.defineProperty(P.prototype,"isRequired",{get:function(){return this.editor.isRequired},set:function(m){this.editor.isRequired=m},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"inputType",{get:function(){return this.editor.inputType},set:function(m){this.editor.inputType=m},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"title",{get:function(){return this.editor.title},set:function(m){this.editor.title=m},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"locTitle",{get:function(){return this.editor.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"fullTitle",{get:function(){return this.editor.fullTitle},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"maxLength",{get:function(){return this.editor.maxLength},set:function(m){this.editor.maxLength=m},enumerable:!1,configurable:!0}),P.prototype.getMaxLength=function(){var m=this.getSurvey();return h.Helpers.getMaxLength(this.maxLength,m?m.maxTextLength:-1)},Object.defineProperty(P.prototype,"placeHolder",{get:function(){return this.editor.placeHolder},set:function(m){this.editor.placeHolder=m},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"locPlaceHolder",{get:function(){return this.editor.locPlaceHolder},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"requiredErrorText",{get:function(){return this.editor.requiredErrorText},set:function(m){this.editor.requiredErrorText=m},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"locRequiredErrorText",{get:function(){return this.editor.locRequiredErrorText},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"size",{get:function(){return this.editor.size},set:function(m){this.editor.size=m},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"validators",{get:function(){return this.editor.validators},set:function(m){this.editor.validators=m},enumerable:!1,configurable:!0}),P.prototype.getValidators=function(){return this.validators},Object.defineProperty(P.prototype,"value",{get:function(){return this.data?this.data.getMultipleTextValue(this.name):null},set:function(m){this.data!=null&&this.data.setMultipleTextValue(this.name,m)},enumerable:!1,configurable:!0}),P.prototype.isEmpty=function(){return this.editor.isEmpty()},P.prototype.onValueChanged=function(m){this.valueChangedCallback&&this.valueChangedCallback(m)},P.prototype.getSurveyData=function(){return this},P.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},P.prototype.getTextProcessor=function(){return this.data?this.data.getTextProcessor():null},P.prototype.getValue=function(m){return this.data?this.data.getMultipleTextValue(m):null},P.prototype.setValue=function(m,y){this.data&&this.data.setMultipleTextValue(m,y)},P.prototype.getVariable=function(m){},P.prototype.setVariable=function(m,y){},P.prototype.getComment=function(m){return null},P.prototype.setComment=function(m,y){},P.prototype.getAllValues=function(){return this.data?this.data.getAllValues():this.value},P.prototype.getFilteredValues=function(){return this.getAllValues()},P.prototype.getFilteredProperties=function(){return{survey:this.getSurvey()}},P.prototype.getValidatorTitle=function(){return this.title},Object.defineProperty(P.prototype,"validatedValue",{get:function(){return this.value},set:function(m){this.value=m},enumerable:!1,configurable:!0}),P.prototype.getDataFilteredValues=function(){return this.getFilteredValues()},P.prototype.getDataFilteredProperties=function(){return this.getFilteredProperties()},P}(d.Base),i=function(p){g(P,p);function P(m){var y=p.call(this,m)||this;return y.isMultipleItemValueChanging=!1,y.createNewArray("items",function(R){R.setData(y)}),y.registerFunctionOnPropertyValueChanged("items",function(){y.fireCallback(y.colCountChangedCallback)}),y.registerFunctionOnPropertyValueChanged("colCount",function(){y.fireCallback(y.colCountChangedCallback)}),y.registerFunctionOnPropertyValueChanged("itemSize",function(){y.updateItemsSize()}),y}return P.addDefaultItems=function(m){for(var y=x.QuestionFactory.DefaultMutlipleTextItems,R=0;R<y.length;R++)m.addItem(y[R])},P.prototype.getType=function(){return"multipletext"},P.prototype.setSurveyImpl=function(m,y){p.prototype.setSurveyImpl.call(this,m,y);for(var R=0;R<this.items.length;R++)this.items[R].setData(this)},Object.defineProperty(P.prototype,"isAllowTitleLeft",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),P.prototype.onSurveyLoad=function(){this.editorsOnSurveyLoad(),p.prototype.onSurveyLoad.call(this),this.fireCallback(this.colCountChangedCallback)},P.prototype.setQuestionValue=function(m,y){y===void 0&&(y=!0),p.prototype.setQuestionValue.call(this,m,y),this.performForEveryEditor(function(R){R.editor.updateValueFromSurvey(R.value)}),this.updateIsAnswered()},P.prototype.onSurveyValueChanged=function(m){p.prototype.onSurveyValueChanged.call(this,m),this.performForEveryEditor(function(y){y.editor.onSurveyValueChanged(y.value)})},P.prototype.updateItemsSize=function(){this.performForEveryEditor(function(m){m.editor.updateInputSize()})},P.prototype.editorsOnSurveyLoad=function(){this.performForEveryEditor(function(m){m.editor.onSurveyLoad()})},P.prototype.performForEveryEditor=function(m){for(var y=0;y<this.items.length;y++){var R=this.items[y];R.editor&&m(R)}},Object.defineProperty(P.prototype,"items",{get:function(){return this.getPropertyValue("items")},set:function(m){this.setPropertyValue("items",m)},enumerable:!1,configurable:!0}),P.prototype.addItem=function(m,y){y===void 0&&(y=null);var R=this.createTextItem(m,y);return this.items.push(R),R},P.prototype.getItemByName=function(m){for(var y=0;y<this.items.length;y++)if(this.items[y].name==m)return this.items[y];return null},P.prototype.addConditionObjectsByContext=function(m,y){for(var R=0;R<this.items.length;R++){var b=this.items[R];m.push({name:this.getValueName()+"."+b.name,text:this.processedTitle+"."+b.fullTitle,question:this})}},P.prototype.getConditionJson=function(m,y){if(y===void 0&&(y=null),!y)return p.prototype.getConditionJson.call(this);var R=this.getItemByName(y);if(!R)return null;var b=new S.JsonObject().toJsonObject(R);return b.type="text",b},P.prototype.locStrsChanged=function(){p.prototype.locStrsChanged.call(this);for(var m=0;m<this.items.length;m++)this.items[m].locStrsChanged()},P.prototype.supportGoNextPageAutomatic=function(){for(var m=0;m<this.items.length;m++)if(this.items[m].isEmpty())return!1;return!0},Object.defineProperty(P.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount")},set:function(m){m<1||m>5||this.setPropertyValue("colCount",m)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"itemSize",{get:function(){return this.getPropertyValue("itemSize")},set:function(m){this.setPropertyValue("itemSize",m)},enumerable:!1,configurable:!0}),P.prototype.getRows=function(){for(var m=this.colCount,y=this.items,R=[],b=0,c=0;c<y.length;c++)b==0&&R.push([]),R[R.length-1].push(y[c]),b++,b>=m&&(b=0);return R},P.prototype.onValueChanged=function(){p.prototype.onValueChanged.call(this),this.onItemValueChanged()},P.prototype.createTextItem=function(m,y){return new f(m,y)},P.prototype.onItemValueChanged=function(){if(!this.isMultipleItemValueChanging)for(var m=0;m<this.items.length;m++){var y=null;this.value&&this.items[m].name in this.value&&(y=this.value[this.items[m].name]),this.items[m].onValueChanged(y)}},P.prototype.getIsRunningValidators=function(){if(p.prototype.getIsRunningValidators.call(this))return!0;for(var m=0;m<this.items.length;m++)if(this.items[m].editor.isRunningValidators)return!0;return!1},P.prototype.hasErrors=function(m,y){var R=this;m===void 0&&(m=!0),y===void 0&&(y=null);for(var b=!1,c=0;c<this.items.length;c++)this.items[c].editor.onCompletedAsyncValidators=function(E){R.raiseOnCompletedAsyncValidators()},!(y&&y.isOnValueChanged===!0&&this.items[c].editor.isEmpty())&&(b=this.items[c].editor.hasErrors(m,y)||b);return p.prototype.hasErrors.call(this,m)||b},P.prototype.getAllErrors=function(){for(var m=p.prototype.getAllErrors.call(this),y=0;y<this.items.length;y++){var R=this.items[y].editor.getAllErrors();R&&R.length>0&&(m=m.concat(R))}return m},P.prototype.clearErrors=function(){p.prototype.clearErrors.call(this);for(var m=0;m<this.items.length;m++)this.items[m].editor.clearErrors()},P.prototype.getContainsErrors=function(){var m=p.prototype.getContainsErrors.call(this);if(m)return m;for(var y=this.items,R=0;R<y.length;R++)if(y[R].editor.containsErrors)return!0;return!1},P.prototype.getIsAnswered=function(){if(!p.prototype.getIsAnswered.call(this))return!1;for(var m=0;m<this.items.length;m++){var y=this.items[m].editor;if(y.isVisible&&!y.isAnswered)return!1}return!0},P.prototype.getProgressInfo=function(){for(var m=[],y=0;y<this.items.length;y++)m.push(this.items[y].editor);return C.SurveyElement.getProgressInfoByElements(m,this.isRequired)},P.prototype.getDisplayValueCore=function(m,y){if(!y)return y;for(var R={},b=0;b<this.items.length;b++){var c=this.items[b],E=y[c.name];if(!h.Helpers.isValueEmpty(E)){var I=c.name;m&&c.title&&(I=c.title),R[I]=c.editor.getDisplayValue(m,E)}}return R},P.prototype.getMultipleTextValue=function(m){return this.value?this.value[m]:null},P.prototype.setMultipleTextValue=function(m,y){this.isMultipleItemValueChanging=!0,this.isValueEmpty(y)&&(y=void 0);var R=this.value;R||(R={}),R[m]=y,this.setNewValue(R),this.isMultipleItemValueChanging=!1},P.prototype.getItemDefaultValue=function(m){return this.defaultValue?this.defaultValue[m]:null},P.prototype.getTextProcessor=function(){return this.textProcessor},P.prototype.getAllValues=function(){return this.data?this.data.getAllValues():null},P.prototype.getIsRequiredText=function(){return this.survey?this.survey.requiredText:""},P.prototype.addElement=function(m,y){},P.prototype.removeElement=function(m){return!1},P.prototype.getQuestionTitleLocation=function(){return"left"},P.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},P.prototype.getChildrenLayoutType=function(){return"row"},P.prototype.elementWidthChanged=function(m){},Object.defineProperty(P.prototype,"elements",{get:function(){return[]},enumerable:!1,configurable:!0}),P.prototype.indexOf=function(m){return-1},P.prototype.ensureRowsVisibility=function(){},P.prototype.getItemLabelCss=function(m){return new u.CssClassBuilder().append(this.cssClasses.itemLabel).append(this.cssClasses.itemLabelOnError,m.editor.errors.length>0).toString()},P.prototype.getItemCss=function(){return new u.CssClassBuilder().append(this.cssClasses.item).toString()},P.prototype.getItemTitleCss=function(){return new u.CssClassBuilder().append(this.cssClasses.itemTitle).toString()},P}(M.Question);S.Serializer.addClass("multipletextitem",["name","isRequired:boolean",{name:"placeHolder",serializationProperty:"locPlaceHolder"},{name:"inputType",default:"text",choices:["color","date","datetime","datetime-local","email","month","number","password","range","tel","text","time","url","week"]},{name:"title",serializationProperty:"locTitle"},{name:"maxLength:number",default:-1},{name:"size:number",minValue:0},{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"}],function(){return new f("")}),S.Serializer.addClass("multipletext",[{name:"!items:textitems",className:"multipletextitem"},{name:"itemSize:number",minValue:0},{name:"colCount:number",default:1,choices:[1,2,3,4,5]}],function(){return new i("")},"question"),x.QuestionFactory.Instance.registerQuestion("multipletext",function(p){var P=new i(p);return i.addDefaultItems(P),P})},"./src/question_paneldynamic.ts":function(a,r,t){t.r(r),t.d(r,"QuestionPanelDynamicItem",function(){return b}),t.d(r,"QuestionPanelDynamicTemplateSurveyImpl",function(){return c}),t.d(r,"QuestionPanelDynamicModel",function(){return E});var d=t("./src/helpers.ts"),C=t("./src/survey-element.ts"),M=t("./src/surveyStrings.ts"),w=t("./src/textPreProcessor.ts"),S=t("./src/question.ts"),x=t("./src/jsonobject.ts"),h=t("./src/questionfactory.ts"),u=t("./src/error.ts"),g=t("./src/settings.ts"),f=t("./src/utils/utils.ts"),i=t("./src/utils/cssClassBuilder.ts"),p=t("./src/actions/action.ts"),P=function(){var I=function(A,D){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,l){O.__proto__=l}||function(O,l){for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(O[o]=l[o])},I(A,D)};return function(A,D){if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");I(A,D);function O(){this.constructor=A}A.prototype=D===null?Object.create(D):(O.prototype=D.prototype,new O)}}(),m=function(I,A,D,O){var l=arguments.length,o=l<3?A:O===null?O=Object.getOwnPropertyDescriptor(A,D):O,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(I,A,D,O);else for(var T=I.length-1;T>=0;T--)(v=I[T])&&(o=(l<3?v(o):l>3?v(A,D,o):v(A,D))||o);return l>3&&o&&Object.defineProperty(A,D,o),o},y=function(I,A,D){if(D||arguments.length===2)for(var O=0,l=A.length,o;O<l;O++)(o||!(O in A))&&(o||(o=Array.prototype.slice.call(A,0,O)),o[O]=A[O]);return I.concat(o||Array.prototype.slice.call(A))},R=function(I){P(A,I);function A(D,O,l){var o=I.call(this,l)||this;return o.data=D,o.panelItem=O,o.variableName=l,o}return Object.defineProperty(A.prototype,"survey",{get:function(){return this.panelItem.getSurvey()},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"panel",{get:function(){return this.panelItem.panel},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"panelIndex",{get:function(){return this.data?this.data.getItemIndex(this.panelItem):-1},enumerable:!1,configurable:!0}),A.prototype.getValues=function(){return this.panelItem.getAllValues()},A.prototype.getQuestionByName=function(D){var O=I.prototype.getQuestionByName.call(this,D);if(O)return O;var l=this.panelIndex;return l>-1?this.data.getSharedQuestionFromArray(D,l):null},A.prototype.onCustomProcessText=function(D){if(D.name==b.IndexVariableName){var O=this.panelIndex;if(O>-1)return D.isExists=!0,D.value=O+1,!0}if(D.name.toLowerCase().indexOf(b.ParentItemVariableName+".")==0){var l=this.data;if(l&&l.parentQuestion&&l.parent&&l.parent.data){var o=new A(l.parentQuestion,l.parent.data,b.ItemVariableName),v=b.ItemVariableName+D.name.substring(b.ParentItemVariableName.length),T=o.processValue(v,D.returnDisplayValue);D.isExists=T.isExists,D.value=T.value}return!0}return!1},A}(w.QuestionTextProcessor),b=function(){function I(A,D){this.data=A,this.panelValue=D,this.textPreProcessor=new R(A,this,I.ItemVariableName),this.setSurveyImpl()}return Object.defineProperty(I.prototype,"panel",{get:function(){return this.panelValue},enumerable:!1,configurable:!0}),I.prototype.setSurveyImpl=function(){this.panel.setSurveyImpl(this)},I.prototype.getValue=function(A){var D=this.getAllValues();return D[A]},I.prototype.setValue=function(A,D){var O=this.data.getPanelItemData(this),l=O?O[A]:void 0;if(!(typeof l!="object"&&d.Helpers.isTwoValueEquals(D,l))){this.data.setPanelItemData(this,A,D);for(var o=this.panel.questions,v=0;v<o.length;v++)o[v].getValueName()!==A&&o[v].checkBindings(A,D)}},I.prototype.getVariable=function(A){},I.prototype.setVariable=function(A,D){},I.prototype.getComment=function(A){var D=this.getValue(A+g.settings.commentPrefix);return D||""},I.prototype.setComment=function(A,D,O){this.setValue(A+g.settings.commentPrefix,D)},I.prototype.getAllValues=function(){return this.data.getPanelItemData(this)},I.prototype.getFilteredValues=function(){var A={},D=this.data&&this.data.getRootData()?this.data.getRootData().getFilteredValues():{};for(var O in D)A[O]=D[O];if(A[I.ItemVariableName]=this.getAllValues(),this.data){A[I.IndexVariableName.toLowerCase()]=this.data.getItemIndex(this);var l=this.data;l&&l.parentQuestion&&l.parent&&(A[I.ParentItemVariableName]=l.parent.getValue())}return A},I.prototype.getFilteredProperties=function(){return this.data&&this.data.getRootData()?this.data.getRootData().getFilteredProperties():{survey:this.getSurvey()}},I.prototype.getSurveyData=function(){return this},I.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},I.prototype.getTextProcessor=function(){return this.textPreProcessor},I.ItemVariableName="panel",I.ParentItemVariableName="parentpanel",I.IndexVariableName="panelIndex",I}(),c=function(){function I(A){this.data=A}return I.prototype.getSurveyData=function(){return null},I.prototype.getSurvey=function(){return this.data.getSurvey()},I.prototype.getTextProcessor=function(){return null},I}(),E=function(I){P(A,I);function A(D){var O=I.call(this,D)||this;return O.loadingPanelCount=0,O.currentIndexValue=-1,O.isAddingNewPanels=!1,O.createNewArray("panels"),O.templateValue=O.createAndSetupNewPanelObject(),O.template.renderWidth="100%",O.template.selectedElementInDesign=O,O.template.addElementCallback=function(l){O.addOnPropertyChangedCallback(l),O.rebuildPanels()},O.template.removeElementCallback=function(){O.rebuildPanels()},O.createLocalizableString("confirmDeleteText",O,!1,"confirmDelete"),O.createLocalizableString("keyDuplicationError",O,!1,!0),O.createLocalizableString("panelAddText",O,!1,"addPanel"),O.createLocalizableString("panelRemoveText",O,!1,"removePanel"),O.createLocalizableString("panelPrevText",O,!1,"pagePrevText"),O.createLocalizableString("panelNextText",O,!1,"pageNextText"),O.createLocalizableString("noEntriesText",O,!1,"noEntriesText"),O.registerFunctionOnPropertyValueChanged("panelsState",function(){O.setPanelsState()}),O.registerFunctionOnPropertiesValueChanged(["isMobile"],function(){O.updateFooterActions()}),O}return Object.defineProperty(A.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),A.prototype.setSurveyImpl=function(D,O){I.prototype.setSurveyImpl.call(this,D,O),this.setTemplatePanelSurveyImpl(),this.setPanelsSurveyImpl()},A.prototype.assignOnPropertyChangedToTemplate=function(){for(var D=this.template.elements,O=0;O<D.length;O++)this.addOnPropertyChangedCallback(D[O])},A.prototype.addOnPropertyChangedCallback=function(D){var O=this;D.isQuestion&&D.setParentQuestion(this),D.onPropertyChanged.add(function(l,o){O.onTemplateElementPropertyChanged(l,o)}),D.isPanel&&(D.addElementCallback=function(l){O.addOnPropertyChangedCallback(l)})},A.prototype.onTemplateElementPropertyChanged=function(D,O){if(!(this.isLoadingFromJson||this.useTemplatePanel||this.panels.length==0)){var l=x.Serializer.findProperty(D.getType(),O.name);if(l)for(var o=this.panels,v=0;v<o.length;v++){var T=o[v].getQuestionByName(D.name);T&&T[O.name]!==O.newValue&&(T[O.name]=O.newValue)}}},Object.defineProperty(A.prototype,"useTemplatePanel",{get:function(){return this.isDesignMode&&!this.isContentElement},enumerable:!1,configurable:!0}),A.prototype.getType=function(){return"paneldynamic"},Object.defineProperty(A.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),A.prototype.clearOnDeletingContainer=function(){this.panels.forEach(function(D){D.clearOnDeletingContainer()})},Object.defineProperty(A.prototype,"isAllowTitleLeft",{get:function(){return!1},enumerable:!1,configurable:!0}),A.prototype.removeElement=function(D){return this.template.removeElement(D)},Object.defineProperty(A.prototype,"template",{get:function(){return this.templateValue},enumerable:!1,configurable:!0}),A.prototype.getPanel=function(){return this.template},Object.defineProperty(A.prototype,"templateElements",{get:function(){return this.template.elements},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"templateTitle",{get:function(){return this.template.title},set:function(D){this.template.title=D},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"locTemplateTitle",{get:function(){return this.template.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"templateDescription",{get:function(){return this.template.description},set:function(D){this.template.description=D},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"locTemplateDescription",{get:function(){return this.template.locDescription},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"items",{get:function(){for(var D=[],O=0;O<this.panels.length;O++)D.push(this.panels[O].data);return D},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"panels",{get:function(){return this.getPropertyValue("panels")},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"currentIndex",{get:function(){return this.isRenderModeList?-1:this.useTemplatePanel?0:(this.currentIndexValue<0&&this.panelCount>0&&(this.currentIndexValue=0),this.currentIndexValue>=this.panelCount&&(this.currentIndexValue=this.panelCount-1),this.currentIndexValue)},set:function(D){this.currentIndexValue!==D&&(D>=this.panelCount&&(D=this.panelCount-1),this.currentIndexValue=D,this.updateFooterActions(),this.fireCallback(this.currentIndexChangedCallback))},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"currentPanel",{get:function(){var D=this.currentIndex;return D<0||D>=this.panels.length?null:this.panels[D]},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"confirmDelete",{get:function(){return this.getPropertyValue("confirmDelete",!1)},set:function(D){this.setPropertyValue("confirmDelete",D)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"keyName",{get:function(){return this.getPropertyValue("keyName","")},set:function(D){this.setPropertyValue("keyName",D)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"confirmDeleteText",{get:function(){return this.getLocalizableStringText("confirmDeleteText")},set:function(D){this.setLocalizableStringText("confirmDeleteText",D)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"locConfirmDeleteText",{get:function(){return this.getLocalizableString("confirmDeleteText")},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"keyDuplicationError",{get:function(){return this.getLocalizableStringText("keyDuplicationError")},set:function(D){this.setLocalizableStringText("keyDuplicationError",D)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"locKeyDuplicationError",{get:function(){return this.getLocalizableString("keyDuplicationError")},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"panelPrevText",{get:function(){return this.getLocalizableStringText("panelPrevText")},set:function(D){this.setLocalizableStringText("panelPrevText",D)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"locPanelPrevText",{get:function(){return this.getLocalizableString("panelPrevText")},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"panelNextText",{get:function(){return this.getLocalizableStringText("panelNextText")},set:function(D){this.setLocalizableStringText("panelNextText",D)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"locPanelNextText",{get:function(){return this.getLocalizableString("panelNextText")},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"panelAddText",{get:function(){return this.getLocalizableStringText("panelAddText")},set:function(D){this.setLocalizableStringText("panelAddText",D)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"locPanelAddText",{get:function(){return this.getLocalizableString("panelAddText")},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"panelRemoveText",{get:function(){return this.getLocalizableStringText("panelRemoveText")},set:function(D){this.setLocalizableStringText("panelRemoveText",D)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"locPanelRemoveText",{get:function(){return this.getLocalizableString("panelRemoveText")},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"isProgressTopShowing",{get:function(){return this.renderMode==="progressTop"||this.renderMode==="progressTopBottom"},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"isProgressBottomShowing",{get:function(){return this.renderMode==="progressBottom"||this.renderMode==="progressTopBottom"},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"isPrevButtonShowing",{get:function(){return this.currentIndex>0},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"isNextButtonShowing",{get:function(){return this.currentIndex>=0&&this.currentIndex<this.panelCount-1},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"isRangeShowing",{get:function(){return this.showRangeInProgress&&this.currentIndex>=0&&this.panelCount>1},enumerable:!1,configurable:!0}),A.prototype.getElementsInDesign=function(D){return D===void 0&&(D=!1),D?[this.template]:this.templateElements},A.prototype.prepareValueForPanelCreating=function(){this.addingNewPanelsValue=this.value,this.isAddingNewPanels=!0,this.isNewPanelsValueChanged=!1},A.prototype.setValueAfterPanelsCreating=function(){this.isAddingNewPanels=!1,this.isNewPanelsValueChanged&&(this.isValueChangingInternally=!0,this.value=this.addingNewPanelsValue,this.isValueChangingInternally=!1)},A.prototype.getValueCore=function(){return this.isAddingNewPanels?this.addingNewPanelsValue:I.prototype.getValueCore.call(this)},A.prototype.setValueCore=function(D){this.isAddingNewPanels?(this.isNewPanelsValueChanged=!0,this.addingNewPanelsValue=D):I.prototype.setValueCore.call(this,D)},Object.defineProperty(A.prototype,"panelCount",{get:function(){return this.isLoadingFromJson||this.useTemplatePanel?this.loadingPanelCount:this.panels.length},set:function(D){if(!(D<0)){if(this.isLoadingFromJson||this.useTemplatePanel){this.loadingPanelCount=D;return}if(!(D==this.panels.length||this.useTemplatePanel)){this.updateBindings("panelCount",D),this.prepareValueForPanelCreating();for(var O=this.panelCount;O<D;O++){var l=this.createNewPanel();this.panels.push(l),this.renderMode=="list"&&this.panelsState!="default"&&(this.panelsState==="expand"?l.expand():l.title&&l.collapse())}D<this.panelCount&&this.panels.splice(D,this.panelCount-D),this.setValueAfterPanelsCreating(),this.setValueBasedOnPanelCount(),this.reRunCondition(),this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback)}}},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"panelsState",{get:function(){return this.getPropertyValue("panelsState")},set:function(D){this.setPropertyValue("panelsState",D)},enumerable:!1,configurable:!0}),A.prototype.setTemplatePanelSurveyImpl=function(){this.template.setSurveyImpl(this.useTemplatePanel?this.surveyImpl:new c(this))},A.prototype.setPanelsSurveyImpl=function(){for(var D=0;D<this.panels.length;D++){var O=this.panels[D];O!=this.template&&O.setSurveyImpl(O.data)}},A.prototype.setPanelsState=function(){if(!(this.useTemplatePanel||this.renderMode!="list"||!this.templateTitle))for(var D=0;D<this.panels.length;D++){var O=this.panelsState;O==="firstExpanded"&&(O=D===0?"expanded":"collapsed"),this.panels[D].state=O}},A.prototype.setValueBasedOnPanelCount=function(){var D=this.value;if((!D||!Array.isArray(D))&&(D=[]),D.length!=this.panelCount){for(var O=D.length;O<this.panelCount;O++)D.push({});D.length>this.panelCount&&D.splice(this.panelCount,D.length-this.panelCount),this.isValueChangingInternally=!0,this.value=D,this.isValueChangingInternally=!1}},Object.defineProperty(A.prototype,"minPanelCount",{get:function(){return this.getPropertyValue("minPanelCount")},set:function(D){D<0&&(D=0),D!=this.minPanelCount&&(this.setPropertyValue("minPanelCount",D),D>this.maxPanelCount&&(this.maxPanelCount=D),this.panelCount<D&&(this.panelCount=D))},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"maxPanelCount",{get:function(){return this.getPropertyValue("maxPanelCount")},set:function(D){D<=0||(D>g.settings.panelMaximumPanelCount&&(D=g.settings.panelMaximumPanelCount),D!=this.maxPanelCount&&(this.setPropertyValue("maxPanelCount",D),D<this.minPanelCount&&(this.minPanelCount=D),this.panelCount>D&&(this.panelCount=D)))},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"allowAddPanel",{get:function(){return this.getPropertyValue("allowAddPanel")},set:function(D){this.setPropertyValue("allowAddPanel",D)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"allowRemovePanel",{get:function(){return this.getPropertyValue("allowRemovePanel")},set:function(D){this.setPropertyValue("allowRemovePanel",D)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"templateTitleLocation",{get:function(){return this.getPropertyValue("templateTitleLocation")},set:function(D){this.setPropertyValue("templateTitleLocation",D.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(D){this.setPropertyValue("showQuestionNumbers",D),!this.isLoadingFromJson&&this.survey&&this.survey.questionVisibilityChanged(this,this.visible)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"panelRemoveButtonLocation",{get:function(){return this.getPropertyValue("panelRemoveButtonLocation")},set:function(D){this.setPropertyValue("panelRemoveButtonLocation",D)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"showRangeInProgress",{get:function(){return this.getPropertyValue("showRangeInProgress")},set:function(D){this.setPropertyValue("showRangeInProgress",D),this.updateFooterActions(),this.fireCallback(this.currentIndexChangedCallback)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"renderMode",{get:function(){return this.getPropertyValue("renderMode")},set:function(D){this.setPropertyValue("renderMode",D),this.updateFooterActions(),this.fireCallback(this.renderModeChangedCallback)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"isRenderModeList",{get:function(){return this.renderMode==="list"},enumerable:!1,configurable:!0}),A.prototype.setVisibleIndex=function(D){if(!this.isVisible)return 0;for(var O=this.showQuestionNumbers=="onSurvey"?D:0,l=0;l<this.panels.length;l++){var o=this.setPanelVisibleIndex(this.panels[l],O,this.showQuestionNumbers!="off");this.showQuestionNumbers=="onSurvey"&&(O+=o)}return I.prototype.setVisibleIndex.call(this,this.showQuestionNumbers!="onSurvey"?D:-1),this.showQuestionNumbers!="onSurvey"?1:O-D},A.prototype.setPanelVisibleIndex=function(D,O,l){return l?D.setVisibleIndex(O):(D.setVisibleIndex(-1),0)},Object.defineProperty(A.prototype,"canAddPanel",{get:function(){return this.isDesignMode||this.isDefaultV2Theme&&!this.legacyNavigation&&!this.isRenderModeList&&this.currentIndex<this.panelCount-1?!1:this.allowAddPanel&&!this.isReadOnly&&this.panelCount<this.maxPanelCount},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"canRemovePanel",{get:function(){return this.isDesignMode?!1:this.allowRemovePanel&&!this.isReadOnly&&this.panelCount>this.minPanelCount},enumerable:!1,configurable:!0}),A.prototype.rebuildPanels=function(){var D;if(!this.isLoadingFromJson){this.prepareValueForPanelCreating();var O=[];if(this.useTemplatePanel)new b(this,this.template),O.push(this.template);else for(var l=0;l<this.panelCount;l++)O.push(this.createNewPanel());(D=this.panels).splice.apply(D,y([0,this.panels.length],O,!1)),this.setValueAfterPanelsCreating(),this.setPanelsState(),this.reRunCondition(),this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback)}},Object.defineProperty(A.prototype,"defaultPanelValue",{get:function(){return this.getPropertyValue("defaultPanelValue")},set:function(D){this.setPropertyValue("defaultPanelValue",D)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"defaultValueFromLastPanel",{get:function(){return this.getPropertyValue("defaultValueFromLastPanel",!1)},set:function(D){this.setPropertyValue("defaultValueFromLastPanel",D)},enumerable:!1,configurable:!0}),A.prototype.isDefaultValueEmpty=function(){return I.prototype.isDefaultValueEmpty.call(this)&&this.isValueEmpty(this.defaultPanelValue)},A.prototype.setDefaultValue=function(){if(this.isValueEmpty(this.defaultPanelValue)||!this.isValueEmpty(this.defaultValue)){I.prototype.setDefaultValue.call(this);return}if(!(!this.isEmpty()||this.panelCount==0)){for(var D=[],O=0;O<this.panelCount;O++)D.push(this.defaultPanelValue);this.value=D}},A.prototype.isEmpty=function(){var D=this.value;if(!D||!Array.isArray(D))return!0;for(var O=0;O<D.length;O++)if(!this.isRowEmpty(D[O]))return!1;return!0},A.prototype.getProgressInfo=function(){return C.SurveyElement.getProgressInfoByElements(this.panels,this.isRequired)},A.prototype.isRowEmpty=function(D){for(var O in D)if(D.hasOwnProperty(O))return!1;return!0},A.prototype.addPanelUI=function(){if(!this.canAddPanel||!this.canLeaveCurrentPanel())return null;var D=this.addPanel();return this.renderMode==="list"&&this.panelsState!=="default"&&D.expand(),D},A.prototype.addPanel=function(){this.panelCount++,this.isRenderModeList||(this.currentIndex=this.panelCount-1);var D=this.value,O=!1;return this.isValueEmpty(this.defaultPanelValue)||D&&Array.isArray(D)&&D.length==this.panelCount&&(O=!0,this.copyValue(D[D.length-1],this.defaultPanelValue)),this.defaultValueFromLastPanel&&D&&Array.isArray(D)&&D.length>1&&D.length==this.panelCount&&(O=!0,this.copyValue(D[D.length-1],D[D.length-2])),O&&(this.value=D),this.survey&&this.survey.dynamicPanelAdded(this),this.panels[this.panelCount-1]},A.prototype.canLeaveCurrentPanel=function(){return!(this.renderMode!=="list"&&this.currentPanel&&this.currentPanel.hasErrors())},A.prototype.copyValue=function(D,O){for(var l in O)D[l]=O[l]},A.prototype.removePanelUI=function(D){this.canRemovePanel&&(!this.confirmDelete||Object(f.confirmAction)(this.confirmDeleteText))&&this.removePanel(D)},A.prototype.goToNextPanel=function(){return this.currentIndex<0||!this.canLeaveCurrentPanel()?!1:(this.currentIndex++,!0)},A.prototype.goToPrevPanel=function(){this.currentIndex<0||this.currentIndex--},A.prototype.removePanel=function(o){var O=this.getPanelIndex(o);if(!(O<0||O>=this.panelCount)){var l=this.panels[O];this.panels.splice(O,1),this.updateBindings("panelCount",this.panelCount);var o=this.value;!o||!Array.isArray(o)||O>=o.length||(this.isValueChangingInternally=!0,o.splice(O,1),this.value=o,this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.survey&&this.survey.dynamicPanelRemoved(this,O,l),this.isValueChangingInternally=!1)}},A.prototype.getPanelIndex=function(D){if(d.Helpers.isNumber(D))return D;for(var O=this.items,l=0;l<this.panels.length;l++)if(this.panels[l]===D||O[l]===D)return l;return-1},A.prototype.locStrsChanged=function(){I.prototype.locStrsChanged.call(this);for(var D=this.panels,O=0;O<D.length;O++)D[O].locStrsChanged()},A.prototype.clearIncorrectValues=function(){for(var D=0;D<this.panels.length;D++)this.clearIncorrectValuesInPanel(D)},A.prototype.clearErrors=function(){I.prototype.clearErrors.call(this);for(var D=0;D<this.panels.length;D++)this.panels[D].clearErrors()},A.prototype.getQuestionFromArray=function(D,O){return O>=this.panelCount?null:this.panels[O].getQuestionByName(D)},A.prototype.clearIncorrectValuesInPanel=function(D){var O=this.panels[D];O.clearIncorrectValues();var l=this.value,o=l&&D<l.length?l[D]:null;if(o){var v=!1;for(var T in o)if(!this.getSharedQuestionFromArray(T,D)){var L=O.getQuestionByName(T);L||this.iscorrectValueWithPostPrefix(O,T,g.settings.commentPrefix)||this.iscorrectValueWithPostPrefix(O,T,g.settings.matrixTotalValuePostFix)||(delete o[T],v=!0)}v&&(l[D]=o,this.value=l)}},A.prototype.iscorrectValueWithPostPrefix=function(D,O,l){return O.indexOf(l)!==O.length-l.length?!1:!!D.getQuestionByName(O.substr(0,O.indexOf(l)))},A.prototype.getSharedQuestionFromArray=function(D,O){return this.survey&&this.valueName?this.survey.getQuestionByValueNameFromArray(this.valueName,D,O):null},A.prototype.addConditionObjectsByContext=function(D,O){for(var l=O?O===!0||this.template.questions.indexOf(O)>-1:!1,o=this.getValueName()+"[0].",v=this.processedTitle+"[0].",T=new Array,L=this.template.questions,V=0;V<L.length;V++)L[V].addConditionObjectsByContext(T,O);for(var V=0;V<T.length;V++)D.push({name:o+T[V].name,text:v+T[V].text,question:T[V].question});if(l){for(var _=O===!0?this.getValueName()+".":"",B=O===!0?this.processedTitle+".":"",V=0;V<T.length;V++)if(T[V].question!=O){var k={name:_+"panel."+T[V].name,text:B+"panel."+T[V].text,question:T[V].question};O===!0&&(k.context=this),D.push(k)}}},A.prototype.getConditionJson=function(D,O){if(D===void 0&&(D=null),O===void 0&&(O=null),!O)return I.prototype.getConditionJson.call(this,D,O);var l=O,o=O.indexOf(".");o>-1&&(l=O.substr(0,o),O=O.substr(o+1));var v=this.template.getQuestionByName(l);return v?v.getConditionJson(D,O):null},A.prototype.onReadOnlyChanged=function(){var D=this.isReadOnly;this.template.readOnly=D;for(var O=0;O<this.panels.length;O++)this.panels[O].readOnly=D;I.prototype.onReadOnlyChanged.call(this)},A.prototype.onSurveyLoad=function(){this.template.readOnly=this.isReadOnly,this.template.onSurveyLoad(),this.loadingPanelCount>0&&(this.panelCount=this.loadingPanelCount),this.useTemplatePanel&&this.rebuildPanels(),this.setPanelsSurveyImpl(),this.setPanelsState(),this.assignOnPropertyChangedToTemplate(),I.prototype.onSurveyLoad.call(this)},A.prototype.onFirstRendering=function(){this.template.onFirstRendering();for(var D=0;D<this.panels.length;D++)this.panels[D].onFirstRendering();I.prototype.onFirstRendering.call(this)},A.prototype.localeChanged=function(){I.prototype.localeChanged.call(this);for(var D=0;D<this.panels.length;D++)this.panels[D].localeChanged()},A.prototype.runCondition=function(D,O){I.prototype.runCondition.call(this,D,O),this.runPanelsCondition(D,O)},A.prototype.reRunCondition=function(){this.data&&this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())},A.prototype.runPanelsCondition=function(D,O){var l={};D&&D instanceof Object&&(l=JSON.parse(JSON.stringify(D))),this.parentQuestion&&this.parent&&(l[b.ParentItemVariableName]=this.parent.getValue());for(var o=0;o<this.panels.length;o++){var v=this.getPanelItemData(this.panels[o].data),T=d.Helpers.createCopy(l);T[b.ItemVariableName.toLowerCase()]=v,T[b.IndexVariableName.toLowerCase()]=o,this.panels[o].runCondition(T,O)}},A.prototype.onAnyValueChanged=function(D){I.prototype.onAnyValueChanged.call(this,D);for(var O=0;O<this.panels.length;O++)this.panels[O].onAnyValueChanged(D),this.panels[O].onAnyValueChanged(b.ItemVariableName)},A.prototype.hasKeysDuplicated=function(D,O){O===void 0&&(O=null);for(var l=[],o,v=0;v<this.panels.length;v++)o=this.isValueDuplicated(this.panels[v],l,O,D)||o;return o},A.prototype.updatePanelsContainsErrors=function(){for(var D=this.changingValueQuestion,O=D.parent;O;)O.updateContainsErrors(),O=O.parent;this.updateContainsErrors()},A.prototype.hasErrors=function(D,O){if(D===void 0&&(D=!0),O===void 0&&(O=null),this.isValueChangingInternally)return!1;var l=!1;if(this.changingValueQuestion){var l=this.changingValueQuestion.hasErrors(D,O);return l=this.hasKeysDuplicated(D,O)||l,this.updatePanelsContainsErrors(),l}else{var o=this.hasErrorInPanels(D,O);return I.prototype.hasErrors.call(this,D)||o}},A.prototype.getContainsErrors=function(){var D=I.prototype.getContainsErrors.call(this);if(D)return D;for(var O=this.panels,l=0;l<O.length;l++)if(O[l].containsErrors)return!0;return!1},A.prototype.getIsAnswered=function(){if(!I.prototype.getIsAnswered.call(this))return!1;for(var D=this.panels,O=0;O<D.length;O++){var l=[];D[O].addQuestionsToList(l,!0);for(var o=0;o<l.length;o++)if(!l[o].isAnswered)return!1}return!0},A.prototype.clearValueIfInvisibleCore=function(){for(var D=0;D<this.panels.length;D++)for(var O=this.panels[D].questions,l=0;l<O.length;l++)O[l].clearValueIfInvisible();I.prototype.clearValueIfInvisibleCore.call(this)},A.prototype.getIsRunningValidators=function(){if(I.prototype.getIsRunningValidators.call(this))return!0;for(var D=0;D<this.panels.length;D++)for(var O=this.panels[D].questions,l=0;l<O.length;l++)if(O[l].isRunningValidators)return!0;return!1},A.prototype.getAllErrors=function(){for(var D=I.prototype.getAllErrors.call(this),O=0;O<this.panels.length;O++)for(var l=this.panels[O].questions,o=0;o<l.length;o++){var v=l[o].getAllErrors();v&&v.length>0&&(D=D.concat(v))}return D},A.prototype.getDisplayValueCore=function(D,O){var l=this.getUnbindValue(O);if(!l||!Array.isArray(l))return l;for(var o=0;o<this.panels.length&&o<l.length;o++){var v=l[o];v&&(l[o]=this.getPanelDisplayValue(o,v,D))}return l},A.prototype.getPanelDisplayValue=function(D,O,l){if(!O)return O;for(var o=this.panels[D],v=Object.keys(O),T=0;T<v.length;T++){var L=v[T],V=o.getQuestionByValueName(L);if(V||(V=this.getSharedQuestionFromArray(L,D)),V){var _=V.getDisplayValue(l,O[L]);O[L]=_,l&&V.title&&V.title!==L&&(O[V.title]=_,delete O[L])}}return O},A.prototype.hasErrorInPanels=function(D,O){for(var l=!1,o=this.panels,v=[],T=0;T<o.length;T++)this.setOnCompleteAsyncInPanel(o[T]);for(var T=0;T<o.length;T++){var L=o[T].hasErrors(D,!!O&&O.focuseOnFirstError,O);L=this.isValueDuplicated(o[T],v,O,D)||L,!this.isRenderModeList&&L&&!l&&(this.currentIndex=T),l=L||l}return l},A.prototype.setOnCompleteAsyncInPanel=function(D){for(var O=this,l=D.questions,o=0;o<l.length;o++)l[o].onCompletedAsyncValidators=function(v){O.raiseOnCompletedAsyncValidators()}},A.prototype.isValueDuplicated=function(D,O,l,o){if(!this.keyName)return!1;var v=D.getQuestionByValueName(this.keyName);if(!v||v.isEmpty())return!1;var T=v.value;this.changingValueQuestion&&v!=this.changingValueQuestion&&v.hasErrors(o,l);for(var L=0;L<O.length;L++)if(T==O[L])return o&&v.addError(new u.KeyDuplicationError(this.keyDuplicationError,this)),l&&!l.firstErrorQuestion&&(l.firstErrorQuestion=v),!0;return O.push(T),!1},A.prototype.createNewPanel=function(){var D=this.createAndSetupNewPanelObject(),O=this.template.toJSON();new x.JsonObject().toObject(O,D),D.renderWidth="100%",D.updateCustomWidgets(),new b(this,D),D.onFirstRendering();for(var l=D.questions,o=0;o<l.length;o++)l[o].setParentQuestion(this);return D.locStrsChanged(),D},A.prototype.createAndSetupNewPanelObject=function(){var D=this.createNewPanelObject();D.isInteractiveDesignElement=!1;var O=this;return D.onGetQuestionTitleLocation=function(){return O.getTemplateQuestionTitleLocation()},D},A.prototype.getTemplateQuestionTitleLocation=function(){return this.templateTitleLocation!="default"?this.templateTitleLocation:this.getTitleLocationCore()},A.prototype.createNewPanelObject=function(){return x.Serializer.createClass("panel")},A.prototype.setPanelCountBasedOnValue=function(){if(!(this.isValueChangingInternally||this.useTemplatePanel)){var D=this.value,O=D&&Array.isArray(D)?D.length:0;O==0&&this.loadingPanelCount>0&&(O=this.loadingPanelCount),this.panelCount=O}},A.prototype.setQuestionValue=function(D){I.prototype.setQuestionValue.call(this,D,!1),this.setPanelCountBasedOnValue();for(var O=0;O<this.panels.length;O++)this.panelUpdateValueFromSurvey(this.panels[O]);this.updateIsAnswered()},A.prototype.onSurveyValueChanged=function(D){I.prototype.onSurveyValueChanged.call(this,D);for(var O=0;O<this.panels.length;O++)this.panelSurveyValueChanged(this.panels[O]);D===void 0&&this.setValueBasedOnPanelCount()},A.prototype.panelUpdateValueFromSurvey=function(D){for(var O=D.questions,l=this.getPanelItemData(D.data),o=0;o<O.length;o++){var v=O[o];v.updateValueFromSurvey(l[v.getValueName()]),v.updateCommentFromSurvey(l[v.getValueName()+g.settings.commentPrefix])}},A.prototype.panelSurveyValueChanged=function(D){for(var O=D.questions,l=this.getPanelItemData(D.data),o=0;o<O.length;o++){var v=O[o];v.onSurveyValueChanged(l[v.getValueName()])}},A.prototype.onSetData=function(){I.prototype.onSetData.call(this),this.useTemplatePanel&&(this.setTemplatePanelSurveyImpl(),this.rebuildPanels())},A.prototype.getItemIndex=function(D){var O=this.items.indexOf(D);return O>-1?O:this.items.length},A.prototype.getPanelItemData=function(D){var O=this.items,l=O.indexOf(D),o=this.value;return l<0&&Array.isArray(o)&&o.length>O.length&&(l=O.length),l<0?{}:!o||!Array.isArray(o)||o.length<=l?{}:o[l]},A.prototype.setPanelItemData=function(D,O,l){if(!(this.isSetPanelItemData&&this.isSetPanelItemData.indexOf(O)>-1)){this.isSetPanelItemData||(this.isSetPanelItemData=[]),this.isSetPanelItemData.push(O);var o=this.items,V=o.indexOf(D);V<0&&(V=o.length);var v=this.getUnbindValue(this.value);if((!v||!Array.isArray(v))&&(v=[]),v.length<=V)for(var T=v.length;T<=V;T++)v.push({});if(v[V]||(v[V]={}),this.isValueEmpty(l)?delete v[V][O]:v[V][O]=l,V>=0&&V<this.panels.length&&(this.changingValueQuestion=this.panels[V].getQuestionByValueName(O)),this.value=v,this.changingValueQuestion=null,this.survey){var L={question:this,panel:D.panel,name:O,itemIndex:V,itemValue:v[V],value:l};this.survey.dynamicPanelItemValueChanged(this,L)}var V=this.isSetPanelItemData.indexOf(O);V>-1&&this.isSetPanelItemData.splice(V,1)}},A.prototype.getRootData=function(){return this.data},A.prototype.getPlainData=function(D){D===void 0&&(D={includeEmpty:!0});var O=I.prototype.getPlainData.call(this,D);return O&&(O.isNode=!0,O.data=this.panels.map(function(l,o){var v={name:l.name||o,title:l.title||"Panel",value:l.getValue(),displayValue:l.getValue(),getString:function(T){return typeof T=="object"?JSON.stringify(T):T},isNode:!0,data:l.questions.map(function(T){return T.getPlainData(D)}).filter(function(T){return!!T})};return(D.calculations||[]).forEach(function(T){v[T.propertyName]=l[T.propertyName]}),v})),O},A.prototype.updateElementCss=function(D){I.prototype.updateElementCss.call(this,D);for(var O=0;O<this.panels.length;O++){var l=this.panels[O];l.updateElementCss(D)}},Object.defineProperty(A.prototype,"progressText",{get:function(){var D=this.panelCount;return M.surveyLocalization.getString("panelDynamicProgressText").format(this.currentIndex+1,D)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"progress",{get:function(){return(this.currentIndex+1)/this.panelCount*100+"%"},enumerable:!1,configurable:!0}),A.prototype.getRootCss=function(){return new i.CssClassBuilder().append(I.prototype.getRootCss.call(this)).append(this.cssClasses.empty,this.getShowNoEntriesPlaceholder()).toString()},A.prototype.getPanelWrapperCss=function(){return new i.CssClassBuilder().append(this.cssClasses.panelWrapper).append(this.cssClasses.panelWrapperInRow,this.panelRemoveButtonLocation==="right").toString()},A.prototype.getPanelRemoveButtonCss=function(){return new i.CssClassBuilder().append(this.cssClasses.button).append(this.cssClasses.buttonRemove).append(this.cssClasses.buttonRemoveRight,this.panelRemoveButtonLocation==="right").toString()},A.prototype.getAddButtonCss=function(){return new i.CssClassBuilder().append(this.cssClasses.button).append(this.cssClasses.buttonAdd).append(this.cssClasses.buttonAdd+"--list-mode",this.renderMode==="list").toString()},A.prototype.getPrevButtonCss=function(){return new i.CssClassBuilder().append(this.cssClasses.buttonPrev).append(this.cssClasses.buttonPrevDisabled,!this.isPrevButtonShowing).toString()},A.prototype.getNextButtonCss=function(){return new i.CssClassBuilder().append(this.cssClasses.buttonNext).append(this.cssClasses.buttonNextDisabled,!this.isNextButtonShowing).toString()},Object.defineProperty(A.prototype,"noEntriesText",{get:function(){return this.getLocalizableStringText("noEntriesText")},set:function(D){this.setLocalizableStringText("noEntriesText",D)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"locNoEntriesText",{get:function(){return this.getLocalizableString("noEntriesText")},enumerable:!1,configurable:!0}),A.prototype.getShowNoEntriesPlaceholder=function(){return!!this.cssClasses.noEntriesPlaceholder&&!this.isDesignMode&&this.panelCount===0},A.prototype.needResponsiveWidth=function(){var D=this.getPanel();return!!(D&&D.needResponsiveWidth())},Object.defineProperty(A.prototype,"footerToolbar",{get:function(){return this.footerToolbarValue||this.initFooterToolbar(),this.footerToolbarValue},enumerable:!1,configurable:!0}),A.prototype.updateFooterActions=function(){this.updateFooterActionsCallback&&this.updateFooterActionsCallback()},A.prototype.initFooterToolbar=function(){var D=this;this.footerToolbarValue=this.createActionContainer();var O=[],l=new p.Action({id:"sv-pd-prev-btn",title:this.panelPrevText,action:function(){D.goToPrevPanel()}}),o=new p.Action({id:"sv-pd-next-btn",title:this.panelNextText,action:function(){D.goToNextPanel()}}),v=new p.Action({id:"sv-pd-add-btn",component:"sv-paneldynamic-add-btn",data:{question:this}}),T=new p.Action({id:"sv-prev-btn-icon",component:"sv-paneldynamic-prev-btn",data:{question:this}}),L=new p.Action({id:"sv-pd-progress-text",component:"sv-paneldynamic-progress-text",data:{question:this}}),V=new p.Action({id:"sv-pd-next-btn-icon",component:"sv-paneldynamic-next-btn",data:{question:this}});O.push(l,o,v,T,L,V),this.updateFooterActionsCallback=function(){var _=D.legacyNavigation,B=D.isRenderModeList,k=D.isMobile,U=!_&&!B;l.visible=U&&D.currentIndex>0,o.visible=U&&D.currentIndex<D.panelCount-1,o.needSpace=k&&o.visible&&l.visible,v.needSpace=D.isMobile&&!o.visible&&l.visible,L.visible=!D.isRenderModeList&&!k,L.needSpace=!_&&!D.isMobile;var K=_&&!B;T.visible=K,V.visible=K,T.needSpace=K},this.updateFooterActionsCallback(),this.footerToolbarValue.setItems(O)},Object.defineProperty(A.prototype,"showLegacyNavigation",{get:function(){return!this.isDefaultV2Theme},enumerable:!1,configurable:!0}),m([Object(x.property)({defaultValue:!1,onSet:function(D,O){O.updateFooterActions()}})],A.prototype,"legacyNavigation",void 0),A}(S.Question);x.Serializer.addClass("paneldynamic",[{name:"templateElements",alternativeName:"questions",visible:!1,isLightSerializable:!1},{name:"templateTitle:text",serializationProperty:"locTemplateTitle"},{name:"templateDescription:text",serializationProperty:"locTemplateDescription"},{name:"noEntriesText:text",serializationProperty:"locNoEntriesText"},{name:"allowAddPanel:boolean",default:!0},{name:"allowRemovePanel:boolean",default:!0},{name:"panelCount:number",isBindable:!0,default:0,choices:[0,1,2,3,4,5,6,7,8,9,10]},{name:"minPanelCount:number",default:0,minValue:0},{name:"maxPanelCount:number",default:g.settings.panelMaximumPanelCount},"defaultPanelValue:panelvalue","defaultValueFromLastPanel:boolean",{name:"panelsState",default:"default",choices:["default","collapsed","expanded","firstExpanded"]},{name:"keyName"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"confirmDelete:boolean"},{name:"confirmDeleteText",serializationProperty:"locConfirmDeleteText"},{name:"panelAddText",serializationProperty:"locPanelAddText"},{name:"panelRemoveText",serializationProperty:"locPanelRemoveText"},{name:"panelPrevText",serializationProperty:"locPanelPrevText"},{name:"panelNextText",serializationProperty:"locPanelNextText"},{name:"showQuestionNumbers",default:"off",choices:["off","onPanel","onSurvey"]},{name:"showRangeInProgress:boolean",default:!0},{name:"renderMode",default:"list",choices:["list","progressTop","progressBottom","progressTopBottom"]},{name:"templateTitleLocation",default:"default",choices:["default","top","bottom","left"]},{name:"panelRemoveButtonLocation",default:"bottom",choices:["bottom","right"]}],function(){return new E("")},"question"),h.QuestionFactory.Instance.registerQuestion("paneldynamic",function(I){return new E(I)})},"./src/question_radiogroup.ts":function(a,r,t){t.r(r),t.d(r,"QuestionRadiogroupModel",function(){return h});var d=t("./src/jsonobject.ts"),C=t("./src/questionfactory.ts"),M=t("./src/question_baseselect.ts"),w=t("./src/surveyStrings.ts"),S=t("./src/itemvalue.ts"),x=function(){var u=function(g,f){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,p){i.__proto__=p}||function(i,p){for(var P in p)Object.prototype.hasOwnProperty.call(p,P)&&(i[P]=p[P])},u(g,f)};return function(g,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");u(g,f);function i(){this.constructor=g}g.prototype=f===null?Object.create(f):(i.prototype=f.prototype,new i)}}(),h=function(u){x(g,u);function g(f){return u.call(this,f)||this}return g.prototype.getType=function(){return"radiogroup"},Object.defineProperty(g.prototype,"ariaRole",{get:function(){return"radiogroup"},enumerable:!1,configurable:!0}),g.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},Object.defineProperty(g.prototype,"selectedItem",{get:function(){return this.isEmpty()?null:S.ItemValue.getItemByValue(this.visibleChoices,this.value)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"showClearButton",{get:function(){return this.getPropertyValue("showClearButton")},set:function(f){this.setPropertyValue("showClearButton",f)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"canShowClearButton",{get:function(){return this.showClearButton&&!this.isReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"clearButtonCaption",{get:function(){return w.surveyLocalization.getString("clearCaption")},enumerable:!1,configurable:!0}),g.prototype.supportGoNextPageAutomatic=function(){return!0},g}(M.QuestionCheckboxBase);d.Serializer.addClass("radiogroup",[{name:"showClearButton:boolean",default:!1},{name:"separateSpecialChoices",visible:!0}],function(){return new h("")},"checkboxbase"),C.QuestionFactory.Instance.registerQuestion("radiogroup",function(u){var g=new h(u);return g.choices=C.QuestionFactory.DefaultChoices,g})},"./src/question_ranking.ts":function(a,r,t){t.r(r),t.d(r,"QuestionRankingModel",function(){return f});var d=t("./src/dragdrop/ranking-choices.ts"),C=t("./src/jsonobject.ts"),M=t("./src/questionfactory.ts"),w=t("./src/question_checkbox.ts"),S=t("./src/utils/cssClassBuilder.ts"),x=t("./src/utils/devices.ts"),h=t("./src/helpers.ts"),u=function(){var i=function(p,P){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var R in y)Object.prototype.hasOwnProperty.call(y,R)&&(m[R]=y[R])},i(p,P)};return function(p,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");i(p,P);function m(){this.constructor=p}p.prototype=P===null?Object.create(P):(m.prototype=P.prototype,new m)}}(),g=function(i,p,P,m){var y=arguments.length,R=y<3?p:m===null?m=Object.getOwnPropertyDescriptor(p,P):m,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(i,p,P,m);else for(var c=i.length-1;c>=0;c--)(b=i[c])&&(R=(y<3?b(R):y>3?b(p,P,R):b(p,P))||R);return y>3&&R&&Object.defineProperty(p,P,R),R},f=function(i){u(p,i);function p(P){var m=i.call(this,P)||this;return m.domNode=null,m.onVisibleChoicesChanged=function(){if(i.prototype.onVisibleChoicesChanged.call(m),m.visibleChoices.length===1){m.value=[],m.updateRankingChoices();return}if(m.isEmpty()){m.updateRankingChoices();return}m.visibleChoices.length>m.value.length&&m.addToValueByVisibleChoices(),m.visibleChoices.length<m.value.length&&m.removeFromValueByVisibleChoices(),m.updateRankingChoices()},m.localeChanged=function(){i.prototype.localeChanged.call(m),m.updateRankingChoices()},m.handlePointerDown=function(y,R,b){m.allowStartDrag&&m.dragDropRankingChoices.startDrag(y,R,m,b)},m.handleKeydown=function(y,R){var b=y.key,c=m.rankingChoices.indexOf(R);b==="ArrowUp"&&c&&m.handleArrowUp(c,R),b==="ArrowDown"&&c!==m.rankingChoices.length-1&&m.handleArrowDown(c,R)},m.handleArrowUp=function(y,R){var b=m.rankingChoices;b.splice(y,1),b.splice(y-1,0,R),m.setValue(),setTimeout(function(){m.focusItem(y-1)},1)},m.handleArrowDown=function(y,R){var b=m.rankingChoices;b.splice(y,1),b.splice(y+1,0,R),m.setValue(),setTimeout(function(){m.focusItem(y+1)},1)},m.focusItem=function(y){var R=m.domNode.querySelectorAll("."+m.cssClasses.item);R[y].focus()},m.setValue=function(){var y=[];m.rankingChoices.forEach(function(R){y.push(R.value)}),m.value=y},m.setValueFromUI=function(){var y=[],R=m.domNode.querySelectorAll("."+m.cssClasses.controlLabel);R.forEach(function(b,c){var E=b.innerText;m.visibleChoices.forEach(function(I){E===I.text&&y.push(I.value)})}),m.value=y},m.syncNumbers=function(){if(m.domNode){var y="."+m.cssClasses.item+":not(."+m.cssClasses.itemDragMod+") ."+m.cssClasses.itemIndex,R=m.domNode.querySelectorAll(y);R.forEach(function(b,c){b.innerText=m.getNumberByIndex(c)})}},m.setGhostText=function(y){var R=m.domNode.querySelectorAll("."+m.cssClasses.itemIndex),b=R[R.length-1];b.innerText=y},m.createNewArray("rankingChoices"),m}return p.prototype.getType=function(){return"ranking"},Object.defineProperty(p.prototype,"rootClass",{get:function(){return new S.CssClassBuilder().append(this.cssClasses.root).append(this.cssClasses.rootMobileMod,x.IsMobile).append(this.cssClasses.rootDisabled,!this.allowStartDrag).append(this.cssClasses.itemOnError,this.errors.length>0).toString()},enumerable:!1,configurable:!0}),p.prototype.getItemClassCore=function(P,m){var y=this.rankingChoices.indexOf(P),R=this.rankingChoices.indexOf(this.currentDropTarget);return new S.CssClassBuilder().append(i.prototype.getItemClassCore.call(this,P,m)).append(this.cssClasses.itemGhostMod,this.currentDropTarget===P).append("sv-dragdrop-movedown",y===R+1&&this.dropTargetNodeMove==="down").append("sv-dragdrop-moveup",y===R-1&&this.dropTargetNodeMove==="up").toString()},p.prototype.isItemCurrentDropTarget=function(P){return this.dragDropRankingChoices.dropTarget===P},Object.defineProperty(p.prototype,"ghostPositionCssClass",{get:function(){return this.ghostPosition==="top"?this.cssClasses.dragDropGhostPositionTop:this.ghostPosition==="bottom"?this.cssClasses.dragDropGhostPositionBottom:""},enumerable:!1,configurable:!0}),p.prototype.getNumberByIndex=function(P){return this.isEmpty()?"":P+1+""},p.prototype.setSurveyImpl=function(P,m){i.prototype.setSurveyImpl.call(this,P,m),this.updateRankingChoices()},p.prototype.isAnswerCorrect=function(){return h.Helpers.isArraysEqual(this.value,this.correctAnswer,!1)},p.prototype.onSurveyValueChanged=function(P){i.prototype.onSurveyValueChanged.call(this,P),!this.isLoadingFromJson&&this.updateRankingChoices()},p.prototype.addToValueByVisibleChoices=function(){var P=this.value.slice();this.visibleChoices.forEach(function(m){P.indexOf(m.value)===-1&&P.push(m.value)}),this.value=P},p.prototype.removeFromValueByVisibleChoices=function(){var P=this,m=this.value.slice();this.value.forEach(function(y,R){var b=!0;P.visibleChoices.forEach(function(c){c.value===y&&(b=!1)}),b&&m.splice(R,1)}),this.value=m},Object.defineProperty(p.prototype,"rankingChoices",{get:function(){return this.getPropertyValue("rankingChoices",[])},enumerable:!1,configurable:!0}),p.prototype.updateRankingChoices=function(){var P=this,m=[];if(this.visibleChoices.length===1){this.setPropertyValue("rankingChoices",m);return}if(this.isEmpty()){this.setPropertyValue("rankingChoices",this.visibleChoices);return}this.value.forEach(function(y){P.visibleChoices.forEach(function(R){R.value===y&&m.push(R)})}),this.setPropertyValue("rankingChoices",m)},p.prototype.endLoadingFromJson=function(){i.prototype.endLoadingFromJson.call(this),this.dragDropRankingChoices=new d.DragDropRankingChoices(this.survey)},Object.defineProperty(p.prototype,"allowStartDrag",{get:function(){return!this.isReadOnly&&!this.isDesignMode},enumerable:!1,configurable:!0}),p.prototype.afterRenderQuestionElement=function(P){this.domNode=P,i.prototype.afterRenderQuestionElement.call(this,P)},p.prototype.beforeDestroyQuestionElement=function(P){i.prototype.beforeDestroyQuestionElement.call(this,P)},p.prototype.supportSelectAll=function(){return!1},p.prototype.supportOther=function(){return!1},p.prototype.supportNone=function(){return!1},p.prototype.getIconHoverCss=function(){return new S.CssClassBuilder().append(this.cssClasses.itemIcon).append(this.cssClasses.itemIconHoverMod).toString()},p.prototype.getIconFocusCss=function(){return new S.CssClassBuilder().append(this.cssClasses.itemIcon).append(this.cssClasses.itemIconFocusMod).toString()},g([Object(C.property)({defaultValue:null})],p.prototype,"currentDropTarget",void 0),g([Object(C.property)({defaultValue:null})],p.prototype,"dropTargetNodeMove",void 0),p}(w.QuestionCheckboxModel);C.Serializer.addClass("ranking",[{name:"hasOther",visible:!1,isSerializable:!1},{name:"otherText",visible:!1,isSerializable:!1},{name:"otherErrorText",visible:!1,isSerializable:!1},{name:"storeOthersAsComment",visible:!1,isSerializable:!1},{name:"hasNone",visible:!1,isSerializable:!1},{name:"noneText",visible:!1,isSerializable:!1},{name:"hasSelectAll",visible:!1,isSerializable:!1},{name:"selectAllText",visible:!1,isSerializable:!1},{name:"colCount:number",visible:!1,isSerializable:!1},{name:"maxSelectedChoices",visible:!1,isSerializable:!1}],function(){return new f("")},"checkbox"),M.QuestionFactory.Instance.registerQuestion("ranking",function(i){var p=new f(i);return p.choices=M.QuestionFactory.DefaultChoices,p})},"./src/question_rating.ts":function(a,r,t){t.r(r),t.d(r,"RenderedRatingItem",function(){return i}),t.d(r,"QuestionRatingModel",function(){return p});var d=t("./src/itemvalue.ts"),C=t("./src/question.ts"),M=t("./src/jsonobject.ts"),w=t("./src/questionfactory.ts"),S=t("./src/settings.ts"),x=t("./src/surveyStrings.ts"),h=t("./src/utils/cssClassBuilder.ts"),u=t("./src/base.ts"),g=function(){var P=function(m,y){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,b){R.__proto__=b}||function(R,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(R[c]=b[c])},P(m,y)};return function(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");P(m,y);function R(){this.constructor=m}m.prototype=y===null?Object.create(y):(R.prototype=y.prototype,new R)}}(),f=function(P,m,y,R){var b=arguments.length,c=b<3?m:R===null?R=Object.getOwnPropertyDescriptor(m,y):R,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(P,m,y,R);else for(var I=P.length-1;I>=0;I--)(E=P[I])&&(c=(b<3?E(c):b>3?E(m,y,c):E(m,y))||c);return b>3&&c&&Object.defineProperty(m,y,c),c},i=function(P){g(m,P);function m(y,R){R===void 0&&(R=null);var b=P.call(this)||this;return b.itemValue=y,b.locString=R,b}return Object.defineProperty(m.prototype,"value",{get:function(){return this.itemValue.getPropertyValue("value")},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"locText",{get:function(){return this.locString||this.itemValue.locText},enumerable:!1,configurable:!0}),m}(u.Base),p=function(P){g(m,P);function m(y){var R=P.call(this,y)||this;R.createItemValues("rateValues");var b=R;return R.registerFunctionOnPropertyValueChanged("rateValues",function(){b.fireCallback(b.rateValuesChangedCallback)}),R.createLocalizableString("ratingOptionsCaption",R,!1,!0),R.onPropertyChanged.add(function(c,E){(E.name=="rateMin"||E.name=="rateMax"||E.name=="minRateDescription"||E.name=="maxRateDescription"||E.name=="rateStep"||E.name=="displayRateDescriptionsAsExtremeItems"||E.name=="value")&&b.fireCallback(b.rateValuesChangedCallback)}),R.createLocalizableString("minRateDescription",R,!0),R.createLocalizableString("maxRateDescription",R,!0),R}return m.prototype.endLoadingFromJson=function(){P.prototype.endLoadingFromJson.call(this),this.hasMinRateDescription=!!this.minRateDescription,this.hasMaxRateDescription=!!this.maxRateDescription},m.prototype.onSurveyLoad=function(){P.prototype.onSurveyLoad.call(this),this.fireCallback(this.rateValuesChangedCallback)},Object.defineProperty(m.prototype,"rateValues",{get:function(){return this.getPropertyValue("rateValues")},set:function(y){this.setPropertyValue("rateValues",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"rateMin",{get:function(){return this.getPropertyValue("rateMin")},set:function(y){!this.isLoadingFromJson&&y>this.rateMax-this.rateStep&&(y=this.rateMax-this.rateStep),this.setPropertyValue("rateMin",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"rateMax",{get:function(){return this.getPropertyValue("rateMax")},set:function(y){!this.isLoadingFromJson&&y<this.rateMin+this.rateStep&&(y=this.rateMin+this.rateStep),this.setPropertyValue("rateMax",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"rateStep",{get:function(){return this.getPropertyValue("rateStep")},set:function(y){y<=0&&(y=1),!this.isLoadingFromJson&&y>this.rateMax-this.rateMin&&(y=this.rateMax-this.rateMin),this.setPropertyValue("rateStep",y)},enumerable:!1,configurable:!0}),m.prototype.getDisplayValueCore=function(y,R){var b=d.ItemValue.getTextOrHtmlByValue(this.visibleRateValues,R);return b||R},Object.defineProperty(m.prototype,"visibleRateValues",{get:function(){if(this.rateValues.length>0)return this.rateValues;for(var y=[],R=this.rateMin,b=this.rateStep;R<=this.rateMax&&y.length<S.settings.ratingMaximumRateValueCount;){var c=new d.ItemValue(R);c.locOwner=this,c.ownerPropertyName="rateValues",y.push(c),R=this.correctValue(R+b,b)}return y},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"renderedRateItems",{get:function(){var y=this;return this.visibleRateValues.map(function(R,b){if(y.displayRateDescriptionsAsExtremeItems){if(b==0)return new i(R,y.minRateDescription&&y.locMinRateDescription||R.locText);if(b==y.visibleRateValues.length-1)return new i(R,y.maxRateDescription&&y.locMaxRateDescription||R.locText)}return new i(R)})},enumerable:!1,configurable:!0}),m.prototype.correctValue=function(y,R){if(!y||Math.round(y)==y)return y;for(var b=0;Math.round(R)!=R;)R*=10,b++;return parseFloat(y.toFixed(b))},m.prototype.getType=function(){return"rating"},m.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},m.prototype.supportGoNextPageAutomatic=function(){return!0},m.prototype.supportComment=function(){return!0},m.prototype.supportOther=function(){return!1},Object.defineProperty(m.prototype,"minRateDescription",{get:function(){return this.getLocalizableStringText("minRateDescription")},set:function(y){this.setLocalizableStringText("minRateDescription",y),this.hasMinRateDescription=!!this.minRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"locMinRateDescription",{get:function(){return this.getLocalizableString("minRateDescription")},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"maxRateDescription",{get:function(){return this.getLocalizableStringText("maxRateDescription")},set:function(y){this.setLocalizableStringText("maxRateDescription",y),this.hasMaxRateDescription=!!this.maxRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"locMaxRateDescription",{get:function(){return this.getLocalizableString("maxRateDescription")},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"hasMinLabel",{get:function(){return!this.displayRateDescriptionsAsExtremeItems&&!!this.hasMinRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"hasMaxLabel",{get:function(){return!this.displayRateDescriptionsAsExtremeItems&&!!this.hasMaxRateDescription},enumerable:!1,configurable:!0}),m.prototype.valueToData=function(y){if(this.rateValues.length>0){var R=d.ItemValue.getItemByValue(this.rateValues,y);return R?R.value:y}return isNaN(y)?y:parseFloat(y)},m.prototype.setValueFromClick=function(y){this.value===parseFloat(y)?this.clearValue():this.value=y},Object.defineProperty(m.prototype,"ratingRootCss",{get:function(){return(this.useDropdown=="never"||this.survey&&this.survey.isDesignMode)&&this.cssClasses.rootWrappable?this.cssClasses.rootWrappable:this.cssClasses.root},enumerable:!1,configurable:!0}),m.prototype.getItemClass=function(y){var R=this.value==y.value,b=this.isReadOnly||!y.isEnabled,c=!b&&!R&&!(this.survey&&this.survey.isDesignMode);return new h.CssClassBuilder().append(this.cssClasses.item).append(this.cssClasses.selected,this.value==y.value).append(this.cssClasses.itemDisabled,this.isReadOnly).append(this.cssClasses.itemHover,c).append(this.cssClasses.itemOnError,this.errors.length>0).toString()},m.prototype.getControlClass=function(){return this.isEmpty(),new h.CssClassBuilder().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.errors.length>0).append(this.cssClasses.controlDisabled,this.isReadOnly).toString()},Object.defineProperty(m.prototype,"optionsCaption",{get:function(){return this.getLocalizableStringText("ratingOptionsCaption")},set:function(y){this.setLocalizableStringText("ratingOptionsCaption",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"locOptionsCaption",{get:function(){return this.getLocalizableString("ratingOptionsCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"showOptionsCaption",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"renderedValue",{get:function(){return this.value},set:function(y){this.value=y},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"visibleChoices",{get:function(){return this.visibleRateValues},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"readOnlyText",{get:function(){return this.displayValue||this.showOptionsCaption&&this.optionsCaption},enumerable:!1,configurable:!0}),m.prototype.needResponsiveWidth=function(){var y=this.getPropertyValue("rateValues"),R=this.getPropertyValue("rateStep"),b=this.getPropertyValue("rateMax"),c=this.getPropertyValue("rateMin");return this.useDropdown!="always"&&!!(this.hasMinRateDescription||this.hasMaxRateDescription||y.length>0||R&&(b-c)/R>9)},m.prototype.supportResponsiveness=function(){return!0},m.prototype.getCompactRenderAs=function(){return this.useDropdown=="never"?"default":"dropdown"},m.prototype.getDesktopRenderAs=function(){return this.useDropdown=="always"?"dropdown":"default"},f([Object(M.property)({defaultValue:!1})],m.prototype,"hasMinRateDescription",void 0),f([Object(M.property)({defaultValue:!1})],m.prototype,"hasMaxRateDescription",void 0),f([Object(M.property)({defaultValue:!1})],m.prototype,"displayRateDescriptionsAsExtremeItems",void 0),f([Object(M.property)({defaultValue:"auto",onSet:function(y,R){}})],m.prototype,"useDropdown",void 0),m}(C.Question);M.Serializer.addClass("rating",[{name:"hasComment:switch",layout:"row"},{name:"commentText",dependsOn:"hasComment",visibleIf:function(P){return P.hasComment},serializationProperty:"locCommentText",layout:"row"},{name:"commentPlaceHolder",serializationProperty:"locCommentPlaceHolder",dependsOn:"hasComment",visibleIf:function(P){return P.hasComment}},{name:"rateValues:itemvalue[]",baseValue:function(){return x.surveyLocalization.getString("choices_Item")}},{name:"rateMin:number",default:1},{name:"rateMax:number",default:5},{name:"rateStep:number",default:1,minValue:.1},{name:"minRateDescription",alternativeName:"mininumRateDescription",serializationProperty:"locMinRateDescription"},{name:"maxRateDescription",alternativeName:"maximumRateDescription",serializationProperty:"locMaxRateDescription"},{name:"displayRateDescriptionsAsExtremeItems:boolean",default:!1},{name:"useDropdown",default:"auto",choices:["auto","never","always"]}],function(){return new p("")},"question"),w.QuestionFactory.Instance.registerQuestion("rating",function(P){return new p(P)})},"./src/question_signaturepad.ts":function(a,r,t){t.r(r),t.d(r,"QuestionSignaturePadModel",function(){return p});var d=t("./src/jsonobject.ts"),C=t("./src/surveyStrings.ts"),M=t("./src/questionfactory.ts"),w=t("./src/question.ts"),S=t("./node_modules/signature_pad/dist/signature_pad.mjs"),x=t("./src/utils/cssClassBuilder.ts"),h=function(){var P=function(m,y){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,b){R.__proto__=b}||function(R,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(R[c]=b[c])},P(m,y)};return function(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");P(m,y);function R(){this.constructor=m}m.prototype=y===null?Object.create(y):(R.prototype=y.prototype,new R)}}(),u=function(P,m,y,R){var b=arguments.length,c=b<3?m:R===null?R=Object.getOwnPropertyDescriptor(m,y):R,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(P,m,y,R);else for(var I=P.length-1;I>=0;I--)(E=P[I])&&(c=(b<3?E(c):b>3?E(m,y,c):E(m,y))||c);return b>3&&c&&Object.defineProperty(m,y,c),c},g=300,f=200;function i(P){var m=P.getContext("2d"),y=window.devicePixelRatio||1,R=m.webkitBackingStorePixelRatio||m.mozBackingStorePixelRatio||m.msBackingStorePixelRatio||m.oBackingStorePixelRatio||m.backingStorePixelRatio||1,b=y/R,c=P.width,E=P.height;P.width=c*b,P.height=E*b,P.style.width=c+"px",P.style.height=E+"px",m.scale(b,b)}var p=function(P){h(m,P);function m(y){return P.call(this,y)||this}return m.prototype.getCssRoot=function(y){return new x.CssClassBuilder().append(P.prototype.getCssRoot.call(this,y)).append(y.small,this.width.toString()==="300").toString()},m.prototype.updateValue=function(){if(this.signaturePad){var y=this.signaturePad.toDataURL(this.dataFormat);this.value=y}},m.prototype.getType=function(){return"signaturepad"},m.prototype.afterRenderQuestionElement=function(y){y&&this.initSignaturePad(y),P.prototype.afterRenderQuestionElement.call(this,y)},m.prototype.beforeDestroyQuestionElement=function(y){y&&this.destroySignaturePad(y)},m.prototype.initSignaturePad=function(y){var R=this,b=y.getElementsByTagName("canvas")[0],c=new S.default(b,{backgroundColor:"#ffffff"});this.isInputReadOnly&&c.off(),this.readOnlyChangedCallback=function(){R.isInputReadOnly?c.off():c.on()},c.penColor=this.penColor,c.backgroundColor=this.backgroundColor,c.onBegin=function(){R.isDrawingValue=!0,b.focus()},c.onEnd=function(){R.isDrawingValue=!1,R.updateValue()};var E=function(){var A=R.value;b.width=R.width||g,b.height=R.height||f,i(b),A?c.fromDataURL(A):c.clear()};E(),this.readOnlyChangedCallback(),this.signaturePad=c;var I=function(A,D){(D.name==="width"||D.name==="height")&&E(),D.name==="value"&&E()};this.onPropertyChanged.add(I),this.signaturePad.propertyChangedHandler=I},m.prototype.destroySignaturePad=function(y){this.signaturePad&&(this.onPropertyChanged.remove(this.signaturePad.propertyChangedHandler),this.signaturePad.off()),this.readOnlyChangedCallback=null,this.signaturePad=null},Object.defineProperty(m.prototype,"width",{get:function(){return this.getPropertyValue("width")},set:function(y){this.setPropertyValue("width",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"height",{get:function(){return this.getPropertyValue("height")},set:function(y){this.setPropertyValue("height",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"allowClear",{get:function(){return this.getPropertyValue("allowClear")},set:function(y){this.setPropertyValue("allowClear",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"canShowClearButton",{get:function(){return!this.isInputReadOnly&&this.allowClear},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"penColor",{get:function(){return this.getPropertyValue("penColor")},set:function(y){this.setPropertyValue("penColor",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"backgroundColor",{get:function(){return this.getPropertyValue("backgroundColor")},set:function(y){this.setPropertyValue("backgroundColor",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"clearButtonCaption",{get:function(){return C.surveyLocalization.getString("clearCaption")},enumerable:!1,configurable:!0}),m.prototype.needShowPlaceholder=function(){return!this.isDrawingValue&&this.isEmpty()},Object.defineProperty(m.prototype,"placeHolderText",{get:function(){return C.surveyLocalization.getString("signaturePlaceHolder")},enumerable:!1,configurable:!0}),u([Object(d.property)({defaultValue:!1})],m.prototype,"isDrawingValue",void 0),u([Object(d.property)({defaultValue:""})],m.prototype,"dataFormat",void 0),m}(w.Question);d.Serializer.addClass("signaturepad",[{name:"width:number",category:"general",default:300},{name:"height:number",category:"general",default:200},{name:"allowClear:boolean",category:"general",default:!0},{name:"penColor:color",category:"general",default:"#1ab394"},{name:"backgroundColor:color",category:"general",default:"#ffffff"},{name:"dataFormat",category:"general",default:"",choices:[{value:"",text:"PNG"},{value:"image/jpeg",text:"JPEG"},{value:"image/svg+xml",text:"SVG"}]},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1}],function(){return new p("")},"question"),M.QuestionFactory.Instance.registerQuestion("signaturepad",function(P){return new p(P)})},"./src/question_text.ts":function(a,r,t){t.r(r),t.d(r,"QuestionTextModel",function(){return f});var d=t("./src/questionfactory.ts"),C=t("./src/jsonobject.ts"),M=t("./src/localizablestring.ts"),w=t("./src/helpers.ts"),S=t("./src/validator.ts"),x=t("./src/error.ts"),h=t("./src/settings.ts"),u=t("./src/question_textbase.ts"),g=function(){var P=function(m,y){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,b){R.__proto__=b}||function(R,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(R[c]=b[c])},P(m,y)};return function(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");P(m,y);function R(){this.constructor=m}m.prototype=y===null?Object.create(y):(R.prototype=y.prototype,new R)}}(),f=function(P){g(m,P);function m(y){var R=P.call(this,y)||this;return R.createLocalizableString("minErrorText",R,!0,"minError"),R.createLocalizableString("maxErrorText",R,!0,"maxError"),R.locDataListValue=new M.LocalizableStrings(R),R.locDataListValue.onValueChanged=function(b,c){R.propertyValueChanged("dataList",b,c)},R.registerFunctionOnPropertiesValueChanged(["min","max","inputType","minValueExpression","maxValueExpression"],function(){R.setRenderedMinMax()}),R.registerFunctionOnPropertiesValueChanged(["inputType","size"],function(){R.updateInputSize(),R.calcRenderedPlaceHolder()}),R}return m.prototype.isTextValue=function(){return["text","number","password"].indexOf(this.inputType)>-1},m.prototype.getType=function(){return"text"},m.prototype.onSurveyLoad=function(){P.prototype.onSurveyLoad.call(this),this.setRenderedMinMax(),this.updateInputSize()},Object.defineProperty(m.prototype,"inputType",{get:function(){return this.getPropertyValue("inputType")},set:function(y){y=y.toLowerCase(),y=="datetime_local"&&(y="datetime-local"),this.setPropertyValue("inputType",y.toLowerCase()),this.isLoadingFromJson||(this.min=void 0,this.max=void 0,this.step=void 0)},enumerable:!1,configurable:!0}),m.prototype.runCondition=function(y,R){P.prototype.runCondition.call(this,y,R),(this.minValueExpression||this.maxValueExpression)&&this.setRenderedMinMax(y,R)},m.prototype.getValidators=function(){var y=P.prototype.getValidators.call(this);return this.inputType==="email"&&!this.validators.some(function(R){return R.getType()==="emailvalidator"})&&y.push(new S.EmailValidator),y},m.prototype.isLayoutTypeSupported=function(y){return!0},Object.defineProperty(m.prototype,"size",{get:function(){return this.getPropertyValue("size")},set:function(y){this.setPropertyValue("size",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"isTextInput",{get:function(){return["text","search","tel","url","email","password"].indexOf(this.inputType)>-1},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"inputSize",{get:function(){return this.getPropertyValue("inputSize",0)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"renderedInputSize",{get:function(){return this.getPropertyValue("inputSize")||null},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"inputWidth",{get:function(){return this.getPropertyValue("inputWidth")},enumerable:!1,configurable:!0}),m.prototype.updateInputSize=function(){var y=this.isTextInput&&this.size>0?this.size:0;this.isTextInput&&y<1&&this.parent&&this.parent.itemSize&&(y=this.parent.itemSize),this.setPropertyValue("inputSize",y),this.setPropertyValue("inputWidth",y>0?"auto":"")},Object.defineProperty(m.prototype,"autoComplete",{get:function(){return this.getPropertyValue("autoComplete","")},set:function(y){this.setPropertyValue("autoComplete",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"min",{get:function(){return this.getPropertyValue("min")},set:function(y){if(this.isValueExpression(y)){this.minValueExpression=y.substr(1);return}this.setPropertyValue("min",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"max",{get:function(){return this.getPropertyValue("max")},set:function(y){if(this.isValueExpression(y)){this.maxValueExpression=y.substr(1);return}this.setPropertyValue("max",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"minValueExpression",{get:function(){return this.getPropertyValue("minValueExpression","")},set:function(y){this.setPropertyValue("minValueExpression",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"maxValueExpression",{get:function(){return this.getPropertyValue("maxValueExpression","")},set:function(y){this.setPropertyValue("maxValueExpression",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"renderedMin",{get:function(){return this.getPropertyValue("renderedMin")},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"renderedMax",{get:function(){return this.getPropertyValue("renderedMax")},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"minErrorText",{get:function(){return this.getLocalizableStringText("minErrorText")},set:function(y){this.setLocalizableStringText("minErrorText",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"locMinErrorText",{get:function(){return this.getLocalizableString("minErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"maxErrorText",{get:function(){return this.getLocalizableStringText("maxErrorText")},set:function(y){this.setLocalizableStringText("maxErrorText",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"locMaxErrorText",{get:function(){return this.getLocalizableString("maxErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"isMinMaxType",{get:function(){return p(this)},enumerable:!1,configurable:!0}),m.prototype.onCheckForErrors=function(y,R){P.prototype.onCheckForErrors.call(this,y,R),!R&&(this.isValueLessMin&&y.push(new x.CustomError(this.getMinMaxErrorText(this.minErrorText,this.getCalculatedMinMax(this.renderedMin)),this)),this.isValueGreaterMax&&y.push(new x.CustomError(this.getMinMaxErrorText(this.maxErrorText,this.getCalculatedMinMax(this.renderedMax)),this)))},m.prototype.canSetValueToSurvey=function(){if(!this.isMinMaxType)return!0;var y=!this.isValueLessMin&&!this.isValueGreaterMax;return this.inputType==="number"&&this.survey&&(this.survey.isValidateOnValueChanging||this.survey.isValidateOnValueChanged)&&this.hasErrors(),y},m.prototype.getMinMaxErrorText=function(y,R){return R?y.replace("{0}",R.toString()):y},Object.defineProperty(m.prototype,"isValueLessMin",{get:function(){return!this.isValueEmpty(this.renderedMin)&&this.getCalculatedMinMax(this.value)<this.getCalculatedMinMax(this.renderedMin)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"isValueGreaterMax",{get:function(){return!this.isValueEmpty(this.renderedMax)&&this.getCalculatedMinMax(this.value)>this.getCalculatedMinMax(this.renderedMax)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"isDateInputType",{get:function(){return this.inputType==="date"||this.inputType==="datetime-local"},enumerable:!1,configurable:!0}),m.prototype.getCalculatedMinMax=function(y){return this.isValueEmpty(y)?y:this.isDateInputType?new Date(y):y},m.prototype.setRenderedMinMax=function(y,R){var b=this;y===void 0&&(y=null),R===void 0&&(R=null),this.minValueRunner=this.getDefaultRunner(this.minValueRunner,this.minValueExpression),this.setValueAndRunExpression(this.minValueRunner,this.min,function(c){!c&&b.isDateInputType&&h.settings.minDate&&(c=h.settings.minDate),b.setPropertyValue("renderedMin",c)},y,R),this.maxValueRunner=this.getDefaultRunner(this.maxValueRunner,this.maxValueExpression),this.setValueAndRunExpression(this.maxValueRunner,this.max,function(c){!c&&b.isDateInputType&&(c=h.settings.maxDate?h.settings.maxDate:"2999-12-31"),b.setPropertyValue("renderedMax",c)},y,R)},Object.defineProperty(m.prototype,"step",{get:function(){return this.getPropertyValue("step")},set:function(y){this.setPropertyValue("step",y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"renderedStep",{get:function(){return this.isValueEmpty(this.step)?"any":this.step},enumerable:!1,configurable:!0}),m.prototype.supportGoNextPageAutomatic=function(){return["date","datetime","datetime-local"].indexOf(this.inputType)<0},m.prototype.supportGoNextPageError=function(){return["date","datetime","datetime-local"].indexOf(this.inputType)<0},Object.defineProperty(m.prototype,"dataList",{get:function(){return this.locDataList.value},set:function(y){this.locDataList.value=y},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"locDataList",{get:function(){return this.locDataListValue},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"dataListId",{get:function(){return this.locDataList.hasValue()?this.id+"_datalist":""},enumerable:!1,configurable:!0}),m.prototype.canRunValidators=function(y){return this.errors.length>0||!y||this.supportGoNextPageError()},m.prototype.setNewValue=function(y){y=this.correctValueType(y),P.prototype.setNewValue.call(this,y)},m.prototype.correctValueType=function(y){return y&&(this.inputType=="number"||this.inputType=="range"?w.Helpers.isNumber(y)?parseFloat(y):"":y)},m.prototype.hasPlaceHolder=function(){return!this.isReadOnly&&this.inputType!=="range"},m.prototype.isReadOnlyRenderDiv=function(){return this.isReadOnly&&h.settings.readOnlyTextRenderMode==="div"},Object.defineProperty(m.prototype,"inputStyle",{get:function(){var y={};return this.inputWidth&&(y.width=this.inputWidth),y},enumerable:!1,configurable:!0}),m}(u.QuestionTextBase),i=["number","date","datetime","datetime-local","month","time","week"];function p(P){var m=P?P.inputType:"";return m?i.indexOf(m)>-1:!1}C.Serializer.addClass("text",[{name:"inputType",default:"text",choices:["color","date","datetime","datetime-local","email","month","number","password","range","tel","text","time","url","week"]},{name:"size:number",minValue:0,dependsOn:"inputType",visibleIf:function(P){return P?P.isTextInput:!1}},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"],dependsOn:"inputType",visibleIf:function(P){return P?P.isTextInput:!1}},{name:"autoComplete",dataList:["name","honorific-prefix","given-name","additional-name","family-name","honorific-suffix","nickname","organization-title","username","new-password","current-password","organization","street-address","address-line1","address-line2","address-line3","address-level4","address-level3","address-level2","address-level1","country","country-name","postal-code","cc-name","cc-given-name","cc-additional-name","cc-family-name","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc","cc-type","transaction-currency","transaction-amount","language","bday","bday-day","bday-month","bday-year","sex","url","photo","tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-local-prefix","tel-local-suffix","tel-extension","email","impp"]},{name:"min",dependsOn:"inputType",visibleIf:function(P){return p(P)},onPropertyEditorUpdate:function(P,m){P&&P.inputType&&(m.inputType=P.inputType)}},{name:"max",dependsOn:"inputType",nextToProperty:"*min",visibleIf:function(P){return p(P)},onPropertyEditorUpdate:function(P,m){P&&P.inputType&&(m.inputType=P.inputType)}},{name:"minValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(P){return p(P)}},{name:"maxValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(P){return p(P)}},{name:"minErrorText",serializationProperty:"locMinErrorText",dependsOn:"inputType",visibleIf:function(P){return p(P)}},{name:"maxErrorText",serializationProperty:"locMaxErrorText",dependsOn:"inputType",visibleIf:function(P){return p(P)}},{name:"step:number",dependsOn:"inputType",visibleIf:function(P){return P?P.inputType==="number":!1}},{name:"maxLength:number",default:-1,dependsOn:"inputType",visibleIf:function(P){return P?P.isTextInput:!1}},{name:"placeHolder",serializationProperty:"locPlaceHolder",dependsOn:"inputType",visibleIf:function(P){return P?P.isTextInput:!1}},{name:"dataList:string[]",serializationProperty:"locDataList",dependsOn:"inputType",visibleIf:function(P){return P?P.inputType==="text":!1}}],function(){return new f("")},"textbase"),d.QuestionFactory.Instance.registerQuestion("text",function(P){return new f(P)})},"./src/question_textbase.ts":function(a,r,t){t.r(r),t.d(r,"QuestionTextBase",function(){return h});var d=t("./src/question.ts"),C=t("./src/jsonobject.ts"),M=t("./src/helpers.ts"),w=t("./src/utils/cssClassBuilder.ts"),S=function(){var u=function(g,f){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,p){i.__proto__=p}||function(i,p){for(var P in p)Object.prototype.hasOwnProperty.call(p,P)&&(i[P]=p[P])},u(g,f)};return function(g,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");u(g,f);function i(){this.constructor=g}g.prototype=f===null?Object.create(f):(i.prototype=f.prototype,new i)}}(),x=function(u,g,f,i){var p=arguments.length,P=p<3?g:i===null?i=Object.getOwnPropertyDescriptor(g,f):i,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(u,g,f,i);else for(var y=u.length-1;y>=0;y--)(m=u[y])&&(P=(p<3?m(P):p>3?m(g,f,P):m(g,f))||P);return p>3&&P&&Object.defineProperty(g,f,P),P},h=function(u){S(g,u);function g(f){return u.call(this,f)||this}return g.prototype.isTextValue=function(){return!0},Object.defineProperty(g.prototype,"maxLength",{get:function(){return this.getPropertyValue("maxLength")},set:function(f){this.setPropertyValue("maxLength",f)},enumerable:!1,configurable:!0}),g.prototype.getMaxLength=function(){return M.Helpers.getMaxLength(this.maxLength,this.survey?this.survey.maxTextLength:-1)},g.prototype.getType=function(){return"textbase"},g.prototype.isEmpty=function(){return u.prototype.isEmpty.call(this)||this.value===""},Object.defineProperty(g.prototype,"textUpdateMode",{get:function(){return this.getPropertyValue("textUpdateMode")},set:function(f){this.setPropertyValue("textUpdateMode",f)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isSurveyInputTextUpdate",{get:function(){return this.textUpdateMode=="default"?this.survey?this.survey.isUpdateValueTextOnTyping:!1:this.textUpdateMode=="onTyping"},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"renderedPlaceHolder",{get:function(){return this.getPropertyValue("renderedPlaceHolder")},enumerable:!1,configurable:!0}),g.prototype.setRenderedPlaceHolder=function(f){this.setPropertyValue("renderedPlaceHolder",f)},g.prototype.onReadOnlyChanged=function(){u.prototype.onReadOnlyChanged.call(this),this.calcRenderedPlaceHolder()},g.prototype.onSurveyLoad=function(){this.calcRenderedPlaceHolder(),u.prototype.onSurveyLoad.call(this)},g.prototype.localeChanged=function(){u.prototype.localeChanged.call(this),this.calcRenderedPlaceHolder()},g.prototype.calcRenderedPlaceHolder=function(){var f=this.placeHolder;f&&!this.hasPlaceHolder()&&(f=void 0),this.setRenderedPlaceHolder(f)},g.prototype.hasPlaceHolder=function(){return!this.isReadOnly},g.prototype.getControlClass=function(){return new w.CssClassBuilder().append(this.cssClasses.root).append(this.cssClasses.onError,this.errors.length>0).append(this.cssClasses.controlDisabled,this.isReadOnly).toString()},x([Object(C.property)({localizable:!0,onSet:function(f,i){return i.calcRenderedPlaceHolder()}})],g.prototype,"placeHolder",void 0),g}(d.Question);C.Serializer.addClass("textbase",[],function(){return new h("")},"question")},"./src/questionfactory.ts":function(a,r,t){t.r(r),t.d(r,"QuestionFactory",function(){return M}),t.d(r,"ElementFactory",function(){return w});var d=t("./src/surveyStrings.ts"),C=t("./src/jsonobject.ts"),M=function(){function S(){this.creatorHash={}}return Object.defineProperty(S,"DefaultChoices",{get:function(){return[d.surveyLocalization.getString("choices_Item")+"1",d.surveyLocalization.getString("choices_Item")+"2",d.surveyLocalization.getString("choices_Item")+"3"]},enumerable:!1,configurable:!0}),Object.defineProperty(S,"DefaultColums",{get:function(){var x=d.surveyLocalization.getString("matrix_column")+" ";return[x+"1",x+"2",x+"3"]},enumerable:!1,configurable:!0}),Object.defineProperty(S,"DefaultRows",{get:function(){var x=d.surveyLocalization.getString("matrix_row")+" ";return[x+"1",x+"2"]},enumerable:!1,configurable:!0}),Object.defineProperty(S,"DefaultMutlipleTextItems",{get:function(){var x=d.surveyLocalization.getString("multipletext_itemname");return[x+"1",x+"2"]},enumerable:!1,configurable:!0}),S.prototype.registerQuestion=function(x,h){this.creatorHash[x]=h},S.prototype.unregisterElement=function(x){delete this.creatorHash[x]},S.prototype.clear=function(){this.creatorHash={}},S.prototype.getAllTypes=function(){var x=new Array;for(var h in this.creatorHash)x.push(h);return x.sort()},S.prototype.createQuestion=function(x,h){var u=this.creatorHash[x];return u==null?null:u(h)},S.Instance=new S,S}(),w=function(){function S(){this.creatorHash={}}return S.prototype.registerElement=function(x,h){this.creatorHash[x]=h},S.prototype.clear=function(){this.creatorHash={}},S.prototype.unregisterElement=function(x,h){h===void 0&&(h=!1),delete this.creatorHash[x],M.Instance.unregisterElement(x),h&&C.Serializer.removeClass(x)},S.prototype.getAllTypes=function(){var x=M.Instance.getAllTypes();for(var h in this.creatorHash)x.push(h);return x.sort()},S.prototype.createElement=function(x,h){var u=this.creatorHash[x];return u==null?M.Instance.createQuestion(x,h):u(h)},S.Instance=new S,S}()},"./src/questionnonvalue.ts":function(a,r,t){t.r(r),t.d(r,"QuestionNonValue",function(){return w});var d=t("./src/question.ts"),C=t("./src/jsonobject.ts"),M=function(){var S=function(x,h){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var f in g)Object.prototype.hasOwnProperty.call(g,f)&&(u[f]=g[f])},S(x,h)};return function(x,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");S(x,h);function u(){this.constructor=x}x.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}(),w=function(S){M(x,S);function x(h){return S.call(this,h)||this}return x.prototype.getType=function(){return"nonvalue"},Object.defineProperty(x.prototype,"hasInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"hasTitle",{get:function(){return!1},enumerable:!1,configurable:!0}),x.prototype.getTitleLocation=function(){return""},Object.defineProperty(x.prototype,"hasComment",{get:function(){return!1},enumerable:!1,configurable:!0}),x.prototype.hasErrors=function(h,u){return!1},x.prototype.getAllErrors=function(){return[]},x.prototype.supportGoNextPageAutomatic=function(){return!1},x.prototype.addConditionObjectsByContext=function(h,u){},x.prototype.getConditionJson=function(h,u){return null},x}(d.Question);C.Serializer.addClass("nonvalue",[{name:"title",visible:!1},{name:"description",visible:!1},{name:"valueName",visible:!1},{name:"enableIf",visible:!1},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"clearIfInvisible",visible:!1},{name:"isRequired",visible:!1,isSerializable:!1},{name:"requiredErrorText",visible:!1},{name:"readOnly",visible:!1},{name:"requiredIf",visible:!1},{name:"validators",visible:!1},{name:"titleLocation",visible:!1},{name:"useDisplayValuesInTitle",visible:!1}],function(){return new w("")},"question")},"./src/rendererFactory.ts":function(a,r,t){t.r(r),t.d(r,"RendererFactory",function(){return d});var d=function(){function C(){this.renderersHash={}}return C.prototype.unregisterRenderer=function(M,w){delete this.renderersHash[M][w]},C.prototype.registerRenderer=function(M,w,S){this.renderersHash[M]||(this.renderersHash[M]={}),this.renderersHash[M][w]=S},C.prototype.getRenderer=function(M,w){return this.renderersHash[M]&&this.renderersHash[M][w]||"default"},C.prototype.getRendererByQuestion=function(M){return this.getRenderer(M.getType(),M.renderAs)},C.prototype.clear=function(){this.renderersHash={}},C.Instance=new C,C}()},"./src/settings.ts":function(a,r,t){t.r(r),t.d(r,"settings",function(){return d});var d={comparator:{trimStrings:!0,caseSensitive:!1},commentPrefix:"-Comment",webserviceEncodeParameters:!0,useCachingForChoicesRestful:!0,get useCachingForChoicesRestfull(){return d.useCachingForChoicesRestful},set useCachingForChoicesRestfull(C){d.useCachingForChoicesRestful=C},surveyServiceUrl:"https://api.surveyjs.io/public/v1/Survey",itemValueSeparator:"|",itemValueAlwaysSerializeAsObject:!1,itemValueAlwaysSerializeText:!1,defaultLocaleName:"default",matrixDefaultRowName:"default",matrixDefaultCellType:"dropdown",matrixTotalValuePostFix:"-total",matrixMaximumRowCount:1e3,matrixMaxRowCountInCondition:1,matrixRenderRemoveAsIcon:!0,panelMaximumPanelCount:100,ratingMaximumRateValueCount:20,disableOnGettingChoicesFromWeb:!1,serializeLocalizableStringAsObject:!1,allowShowEmptyTitleInDesignMode:!0,allowShowEmptyDescriptionInDesignMode:!0,executeCompleteTriggerOnValueChanged:!1,executeSkipTriggerOnValueChanged:!0,readOnlyCommentRenderMode:"textarea",readOnlyTextRenderMode:"input",confirmActionFunc:function(C){return confirm(C)},minWidth:"300px",maxWidth:"initial",maximumConditionRunCountOnValueChanged:10,setQuestionVisibleIndexForHiddenTitle:!1,setQuestionVisibleIndexForHiddenNumber:!1,lazyRowsRendering:!1,lazyRowsRenderingStartRow:3,showItemsInOrder:"default",supportedValidators:{question:["expression"],comment:["text","regex"],text:["numeric","text","regex","email"],checkbox:["answercount"],imagepicker:["answercount"]},minDate:"",maxDate:"",showModal:void 0,supportCreatorV2:!1,showDefaultItemsInCreatorV2:!0,customIcons:{},titleTags:{survey:"h3",page:"h4",panel:"h4",question:"h5"}}},"./src/stylesmanager.ts":function(a,r,t){t.r(r),t.d(r,"StylesManager",function(){return C});var d=t("./src/defaultCss/cssstandard.ts"),C=function(){function M(){this.sheet=null,M.Enabled&&(this.sheet=M.findSheet(M.SurveyJSStylesSheetId),this.sheet||(this.sheet=M.createSheet(M.SurveyJSStylesSheetId),this.initializeStyles(this.sheet)))}return M.findSheet=function(w){if(typeof document>"u")return null;for(var S=0;S<document.styleSheets.length;S++)if(document.styleSheets[S].ownerNode&&document.styleSheets[S].ownerNode.id===w)return document.styleSheets[S];return null},M.createSheet=function(w){var S=document.createElement("style");return S.id=w,S.appendChild(document.createTextNode("")),document.head.appendChild(S),S.sheet},M.applyTheme=function(w,S){w===void 0&&(w="default"),S===void 0&&(S=".sv_main");var x;if(w==="modern"&&(S=".sv-root-modern "),w==="defaultV2"){d.surveyCss.currentType=w;return}if(["bootstrap","bootstrapmaterial","modern"].indexOf(w)!==-1?(x=M[w+"ThemeCss"],d.surveyCss.currentType=w):(x=M.ThemeCss,d.surveyCss.currentType="standard"),M.Enabled){var h=(w+S).trim(),u=M.findSheet(h);if(!u){u=M.createSheet(h);var g=M.ThemeColors[w]||M.ThemeColors.default;Object.keys(x).forEach(function(f){var i=x[f];Object.keys(g).forEach(function(p){return i=i.replace(new RegExp("\\"+p,"g"),g[p])});try{u.insertRule(S+f+" { "+i+" }",0)}catch{}})}}},M.prototype.initializeStyles=function(w){M.Enabled&&(Object.keys(M.Styles).forEach(function(S){try{w.insertRule(S+" { "+M.Styles[S]+" }",0)}catch{}}),Object.keys(M.Media).forEach(function(S){try{w.insertRule(M.Media[S].media+" { "+S+" { "+M.Media[S].style+" } }",0)}catch{}}))},M.SurveyJSStylesSheetId="surveyjs-styles",M.Styles={".sv_main span":"word-break: break-word;",".sv_main legend":"border: none; margin: 0;",".sv_bootstrap_css .sv_qstn":"padding: 0.5em 1em 1.5em 1em;",".sv_bootstrap_css .sv_qcbc input[type=checkbox], .sv_bootstrap_css .sv_qcbc input[type=radio]":"vertical-align: middle; margin-top: -1px",".sv_bootstrap_css .sv_qstn fieldset":"display: block;",".sv_bootstrap_css .sv_qstn  .sv_q_checkbox_inline, .sv_bootstrap_css .sv_qstn .sv_q_radiogroup_inline":"display: inline-block;",".sv_bootstrap_css .sv-paneldynamic__progress-container ":"position: relative; margin-right: 250px; margin-left: 40px; margin-top: 10px;",".sv_main.sv_bootstrapmaterial_css .sv_q_radiogroup_control_label":"display: inline; position: static;",".sv_main.sv_bootstrapmaterial_css .checkbox":"margin-top:10px;margin-bottom:10px;",".sv_row":"clear: both; min-width:300px;",".sv_row .sv_qstn":"float: left",".sv_row .sv_qstn:last-child":"float: none",".sv_qstn":"display: vertical-align: top; overflow: auto; min-width:300px;",".sv_p_container":"display: vertical-align: top; min-width:300px;",".sv_q_title .sv_question_icon":"float: right; margin-right: 1em;",".sv_q_title .sv_question_icon::before":"content: ''; background-repeat: no-repeat; background-position: center; padding: 0.5em; display: inline-block; background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMi4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxMCAxMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTAgMTA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsOiM2RDcwNzI7fQ0KPC9zdHlsZT4NCjxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iMiwyIDAsNCA1LDkgMTAsNCA4LDIgNSw1ICIvPg0KPC9zdmc+DQo=);",".sv_q_title .sv_question_icon.sv_expanded::before":"transform: rotate(180deg);",".sv_qbln .checkbox-material":"margin-right: 3px;",".sv_qcbx .checkbox-material":"margin-right: 5px;",".sv_qcbx .checkbox label":"justify-content: left; display: inline-block;",".sv_qstn .radio label":"justify-content: left; display: inline-block;",".sv_qstn .sv_q_imgsel > label img":"pointer-events: none;",".sv_qstn .sv_q_imgsel.sv_q_imagepicker_inline":"display: inline-block;",".sv_qstn label.sv_q_m_label":"position: absolute; margin: 0; display: block; width: 100%;",".sv_qstn td":"position: relative;",".sv_q_mt":"table-layout: fixed;",".sv_q_mt_label":"display: flex; align-items: center; font-weight: inherit;",".sv_q_mt_title":"margin-right: 0.5em; width: 33%;",".sv_q_mt_item":"flex: 1;",".sv_q_mt_item_value":"float: left;",'[dir="rtl"] .sv_q_mt_item_value':"float: right;",".sv_qstn.sv_qstn_left":"margin-top: 0.75em;",".sv_qstn .title-left":"float: left; margin-right: 1em; max-width: 50%",'[dir="rtl"] .sv_qstn .title-left':"float: right; margin-left: 1em;",".sv_qstn .content-left":"overflow: hidden",".sv_q_radiogroup_inline .sv_q_radiogroup_other":"display: inline-block;",".sv_q_checkbox_inline .sv_q_checkbox_other":"display: inline-block;",".sv_q_checkbox_inline, .sv_q_radiogroup_inline, .sv_q_imagepicker_inline":"line-height: 2.5em;",".form-inline .sv_q_checkbox_inline:not(:last-child)":"margin-right: 1em;",".form-inline .sv_q_radiogroup_inline:not(:last-child)":"margin-right: 1em;",".sv_imgsel .sv_q_imagepicker_inline:not(:last-child)":"margin-right: 1em;",".sv_qstn fieldset":"border: none; margin: 0; padding: 0;",".sv_qstn .sv_q_file_placeholder":"display:none",".sv_p_title":"padding-left: 1em; padding-bottom: 0.3em;",".sv_p_title_expandable, .sv_q_title_expandable":"cursor: pointer; position: relative; display: flex; align-items: center; padding-right: 24px;",".sv_p_title_expandable::after, .sv_q_title_expandable::after":`content: ""; display: block;background-image: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 21.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 10 10' style='enable-background:new 0 0 10 10;' xml:space='preserve'%3E%3Cstyle type='text/css'%3E .st0%7Bfill:%23404040;%7D%0A%3C/style%3E%3Cpolygon class='st0' points='2,2 0,4 5,9 10,4 8,2 5,5 '/%3E%3C/svg%3E%0A"); background-repeat: no-repeat; background-position: center center; background-size: 10px 12px; width: 24px; height: 24px; position: absolute; right: 0;`,".sv_p_title_expanded::after, .sv_q_title_expanded::after":"transform: rotate(180deg);",".sv_p_title .sv_panel_icon":"float: right; margin-right: 1em;",".sv_p_title .sv_panel_icon::before":"content: ''; background-repeat: no-repeat; background-position: center; padding: 0.5em; display: inline-block; background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMi4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxMCAxMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTAgMTA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsOiM2RDcwNzI7fQ0KPC9zdHlsZT4NCjxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iMiwyIDAsNCA1LDkgMTAsNCA4LDIgNSw1ICIvPg0KPC9zdmc+DQo=);",".sv_p_title .sv_panel_icon.sv_expanded::before":"transform: rotate(180deg);",".sv_p_footer":"padding-left: 1em; padding-bottom: 1em;padding-top: 1em;",".sv_matrix_cell_detail_button":"position: relative",".sv_detail_panel_icon":"display: block; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: 14px; height: 14px;",".sv_detail_panel_icon::before":`content: ''; background-repeat: no-repeat; background-position: center; width: 14px; height: 14px; display: block; transform: rotate(270deg); background-image: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 21.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 15 15' style='enable-background:new 0 0 15 15;' xml:space='preserve'%3E%3Cstyle type='text/css'%3E .st0%7Bfill:%23FFFFFF;%7D%0A%3C/style%3E%3Cpolygon class='st0' points='14,5.5 12.6,4.1 7.5,9.1 2.4,4.1 1,5.5 7.5,12 '/%3E%3C/svg%3E%0A");`,".sv_detail_panel_icon.sv_detail_expanded::before":"transform: rotate(0deg)",".sv_matrix_empty_rows_section":"text-align: center; vertical-align: middle;",".sv_matrix_empty_rows_text":"padding:20px",".sv_q_file > input[type=file], .sv_q_file > button":"display: inline-block;",".sv_q_file_preview":"display: inline-block; vertical-align: top; border: 1px solid lightgray; padding: 5px; margin-top: 10px;",".sv_q_file_preview > a":"display: block; overflow: hidden; vertical-align: top; white-space: nowrap; text-overflow: ellipsis;",".sv_q_file_remove_button":"line-height: normal;",".sv_q_file_remove":"display: block; cursor: pointer;",".sv_q_m_cell_text":"cursor: pointer;",".sv_q_dd_other":"margin-top: 1em;",".sv_q_dd_other input":"width: 100%;",".sv_qstn .sv-q-col-1, .sv-question .sv-q-col-1":"width: 100%; display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv-q-col-2, .sv-question .sv-q-col-2":"width: calc(50% - 1em); display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv-q-col-3, .sv-question .sv-q-col-3":"width: calc(33.33333% - 1em); display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv-q-col-4, .sv-question .sv-q-col-4":"width: calc(25% - 1em); display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv-q-col-5, .sv-question .sv-q-col-5":"width: calc(20% - 1em); display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv-q-column-1, .sv-question .sv-q-column-1":"width: 100%; max-width: 100%; display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv-q-column-2, .sv-question .sv-q-column-2":"max-width: 50%; display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv-q-column-3, .sv-question .sv-q-column-3":"max-width: 33.33333%; display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv-q-column-4, .sv-question .sv-q-column-4":"max-width: 25%; display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv-q-column-5, .sv-question .sv-q-column-5":"max-width: 20%; display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv_q_file_input":"color: transparent;",".sv_qstn .sv_q_imgsel label > div":"overflow: hidden; white-space: nowrap; text-overflow: ellipsis; padding: 4px; border: 1px solid lightgray; border-radius: 4px;",".sv_qstn .sv_q_imgsel label > div > img, .sv_qstn .sv_q_imgsel label > div > embed":"display: block;",".sv_qstn table tr td .sv_q_m_cell_label":"position: absolute; left: 0; right: 0; top: 0; bottom: 0;","f-panel":"padding: 0.5em 1em; display: inline-block; line-height: 2em;",".sv_progress_bar > span":"white-space: nowrap;",".sv_progress-buttons__container-center":"text-align: center;",".sv_progress-buttons__container":"display: inline-block; font-size: 0; width: 100%; max-width: 1100px; white-space: nowrap; overflow: hidden;",".sv_progress-buttons__image-button-left":"display: inline-block; vertical-align: top; margin-top: 22px; font-size: 14px; width: 16px; height: 16px; cursor: pointer; background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMi4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTYgMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwb2x5Z29uIHBvaW50cz0iMTEsMTIgOSwxNCAzLDggOSwyIDExLDQgNyw4ICIvPg0KPC9zdmc+DQo=);",".sv_progress-buttons__image-button-right":"display: inline-block; vertical-align: top; margin-top: 22px; font-size: 14px; width: 16px; height: 16px; cursor: pointer; background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMi4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTYgMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwb2x5Z29uIHBvaW50cz0iNSw0IDcsMiAxMyw4IDcsMTQgNSwxMiA5LDggIi8+DQo8L3N2Zz4NCg==);",".sv_progress-buttons__image-button--hidden":"visibility: hidden;",".sv_progress-buttons__list-container":"max-width: calc(100% - 36px); display: inline-block; overflow: hidden;",".sv_progress-buttons__list":"display: inline-block; width: max-content; padding-left: 28px; padding-right: 28px; margin-top: 14px; margin-bottom: 14px;",".sv_progress-buttons__list li":"width: 138px; font-size: 14px; font-family: 'Segoe UI', 'Helvetica Neue', Helvetica, Arial, sans-serif; position: relative; text-align: center; vertical-align: top; display: inline-block;",".sv_progress-buttons__list li:before":"width: 24px; height: 24px; content: ''; line-height: 30px; display: block; margin: 0 auto 10px auto; border: 3px solid; border-radius: 50%; box-sizing: content-box; cursor: pointer;",".sv_progress-buttons__list li:after":"width: 73%; height: 3px; content: ''; position: absolute; top: 15px; left: -36.5%;",".sv_progress-buttons__list li:first-child:after":"content: none;",".sv_progress-buttons__list .sv_progress-buttons__page-title":"width: 100%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; font-weight: bold;",".sv_progress-buttons__list .sv_progress-buttons__page-description":"width: 100%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;",".sv_progress-buttons__list li.sv_progress-buttons__list-element--nonclickable:before":"cursor: not-allowed;",".sv-ranking":"outline: none; user-select: none;",".sv-ranking-item":"cursor: pointer; position: relative;",".sv-ranking-item:focus .sv-ranking-item__icon--hover":"visibility: hidden;",".sv-ranking-item:hover .sv-ranking-item__icon--hover":"visibility: visible;",".sv-question--disabled .sv-ranking-item:hover .sv-ranking-item__icon--hover":"visibility: hidden;",".sv-ranking-item:focus":"outline: none;",".sv-ranking-item:focus .sv-ranking-item__icon--focus":"visibility: visible; top: 15px;",".sv-ranking-item:focus .sv-ranking-item__index":"background: white; border: 2px solid #19b394;",".sv-ranking-item__content":"display: flex; align-items: center; line-height: 1em; background-color: white;padding: 5px 0px; border-radius: 100px;",".sv-ranking-item__icon-container":"left: 0;top: 0;bottom: 0;width: 25px; flex-shrink: 0;",".sv-ranking-item__icon":"visibility: hidden;top:20px;fill:#19b394;position: absolute;",".sv-ranking-item__index":"display: flex; flex-shrink: 0; align-items: center; justify-content: center; background: rgba(25, 179, 148, 0.1);border-radius: 100%; border:2px solid transparent; margin-right: 16px; width: 40px; height: 40px; line-height: 1em;",".sv-ranking-item__text":"display: inline-block;",".sv-ranking-item__ghost":"display: none;background: #f3f3f3;border-radius: 100px;width: 200px;height: 55px;z-index: 1;position: absolute;left: 25px;",".sv-ranking-item--ghost .sv-ranking-item__ghost":"display: block;",".sv-ranking-item--ghost .sv-ranking-item__content":"visibility: hidden;",".sv-ranking-item--drag .sv-ranking-item__content":"box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.1);border-radius: 100px;",".sv-ranking--drag .sv-ranking-item:hover .sv-ranking-item__icon":"visibility: hidden;",".sv-ranking-item--drag .sv-ranking-item__icon--hover":"visibility: visible;",".sv-ranking--mobile .sv-ranking-item__icon--hover":"visibility:visible; fill:#9f9f9f;",".sv-ranking--mobile.sv-ranking--drag .sv-ranking-item--ghost .sv-ranking-item__icon.sv-ranking-item__icon--hover":"visibility:hidden;",".sv-ranking--disabled .sv-ranking-item:hover .sv-ranking-item__icon":"visibility: hidden;",".sv-ranking--disabled":"opacity: 0.8;",".sv-dragged-element-shortcut":"height: 24px; min-width: 100px; border-radius: 36px; background-color: white; padding: 16px; cursor: grabbing; position: absolute; z-index: 1000; box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.1); font-family: 'Open Sans'; font-size: 16px; padding-left: 20px;line-height: 24px;",".sv-matrixdynamic__drag-icon":"padding-top:14px",".sv-matrixdynamic__drag-icon:after":"content: ' '; display: block; height: 6px; width: 20px; border: 1px solid #e7e7e7; box-sizing: border-box; border-radius: 10px; cursor: move; margin-top: 12px;",".sv-matrix-row--drag-drop-ghost-mod td":"background-color: #f3f3f3;",".sv-matrix-row--drag-drop-ghost-mod td > *":"visibility: hidden",".sv_qstn .sv_q_select_column":"display: inline-block; vertical-align: top; min-width: 10%;",".sv_qstn .sv_q_select_column > *:not(.sv_technical)":"display: block;",".sv_main .sv_container .sv_body .sv_p_root .sv_qstn .sv_q_select_column textarea":"margin-left: 0; padding-left: 0; line-height: initial;",".sv_main .sv-hidden":"display: none !important;",".sv_main .sv-visuallyhidden":"position: absolute; height: 1px !important; width: 1px !important; overflow: hidden; clip: rect(1px 1px 1px 1px); clip: rect(1px, 1px, 1px, 1px);",".sv_main .sv-progress":"height: 0.19em; background-color: $header-background-color; position: relative;",".sv_main .sv-progress__bar":"background-color: $main-color; height: 100%; position: relative;",".sv_main .sv-paneldynamic__progress-container":"position: relative; display: inline-block; width: calc(100% - 250px); margin-top: 20px;",".sv_main .sv-paneldynamic__add-btn":"float: right;",".sv_main .sv-paneldynamic__add-btn--list-mode":"float: none; margin-top: 0;",".sv_main .sv-paneldynamic__remove-btn":"margin-top: 1.25em;",".sv_main .sv-paneldynamic__remove-btn--right":"margin-top: 0; margin-left: 1.25em;",".sv_main .sv-paneldynamic__prev-btn, .sv_main .sv-paneldynamic__next-btn":"box-sizing: border-box; display: inline-block; cursor: pointer; width: 0.7em; top: -0.28em; position: absolute;",".sv_main .sv-paneldynamic__prev-btn svg, .sv_main .sv-paneldynamic__next-btn svg":"width: 0.7em; height: 0.7em; display: block;",".sv_main .sv-paneldynamic__prev-btn":"left: -1.3em; transform: rotate(90deg);",".sv_main .sv-paneldynamic__next-btn ":"right: -1.3em; transform: rotate(270deg);",".sv_main .sv-paneldynamic__prev-btn.sv-paneldynamic__prev-btn--disabled, .sv_main .sv-paneldynamic__next-btn.sv-paneldynamic__next-btn--disabled":"cursor: auto;",".sv_main .sv-paneldynamic__progress-text":"font-weight: bold; font-size: 0.87em; margin-top: 0.69em; margin-left: 4em",".sv_main .sv-boolean__switch":"display: inline-block; box-sizing: border-box; width: 63px; height: 24px; margin-right: 17px; margin-left: 21px; padding: 2px 3px; vertical-align: middle; border-radius: 12px; cursor: pointer;",".sv_main .sv-boolean__slider":"display: inline-block; width: 20px; height: 20px; transition-duration: .4s; transition-property: margin-left; border: none; border-radius: 100%;",".sv_main .sv-boolean__label":"vertical-align: middle; cursor: pointer;",".sv_main .sv-boolean--indeterminate  .sv-boolean__slider":"margin-left: calc(50% - 10px);",".sv_main .sv-boolean--checked  .sv-boolean__slider":"margin-left: calc(100% - 20px);","[dir='rtl'] .sv-boolean__label ":"float: right;","[dir='rtl'] .sv-boolean--indeterminate .sv-boolean__slider":"margin-right: calc(50% - 0.625em);","[dir='rtl'] .sv-boolean--checked .sv-boolean__slider":"margin-right: calc(100% - 1.25em);","[dir='rtl'] .sv-boolean__switch":"float: right;","[style*='direction:rtl'] .sv-boolean__label ":"float: right;","[style*='direction:rtl'] .sv-boolean--indeterminate .sv-boolean__slider":"margin-right: calc(50% - 0.625em);","[style*='direction:rtl'] .sv-boolean--checked .sv-boolean__slider":"margin-right: calc(100% - 1.25em);","[style*='direction:rtl'] .sv-boolean__switch":"float: right;",".sv_main .sv_q_num":"",".sv_main .sv_q_num + span":"",".sv_main .sjs_sp_container":"position: relative; box-sizing: content-box;",".sv_main .sjs_sp_controls":"position: absolute; left: 0; bottom: 0;",".sv_main .sjs_sp_controls > button":"user-select: none;",".sv_main .sjs_sp_container>div>canvas:focus":"outline: none;",".sv_main .sjs_sp_placeholder":"display: flex;  align-items: center; justify-content: center; position: absolute; z-index: 0; user-select: none; pointer-events: none; width: 100%; height: 100%;",".sv_main .sv_logo":"",".sv_main .sv-logo--left":"display: inline-block; vertical-align: top; margin-right: 2em;",".sv_main .sv-logo--right":"display: inline-block; vertical-align: top; margin-left: 2em; ",".sv_main .sv-logo--top":"display: block; width: 100%; text-align: center;",".sv_main .sv-logo--bottom":"display: block; width: 100%; text-align: center;",".sv_main .sv_header__text":"display: inline-block; vertical-align: top; max-width: 100%; width: 100%",".sv_main .sv-expand-action:before":`content: ""; display: inline-block; background-image: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 21.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 10 10' style='enable-background:new 0 0 10 10;' xml:space='preserve'%3E%3Cstyle type='text/css'%3E .st0%7Bfill:%23404040;%7D%0A%3C/style%3E%3Cpolygon class='st0' points='2,2 0,4 5,9 10,4 8,2 5,5 '/%3E%3C/svg%3E%0A"); background-repeat: no-repeat; background-position: center center; height: 10px; width: 12px; margin: auto 8px;`,".sv_main .sv-expand-action--expanded:before":"transform: rotate(180deg);",".sv_main .sv-action-bar":"display: flex; position: relative; align-items: center; margin-left: auto; padding: 0 0 0 16px; overflow: hidden; white-space: nowrap;",".sv_main .sv-action-bar-separator":"display: inline-block; width: 1px; height: 24px; vertical-align: middle; margin-right: 16px; background-color: #d6d6d6;",".sv_main .sv-action-bar-item":"-webkit-appearance: none; -moz-appearance: none; appearance: none; display: flex; height: 40px; padding: 8px; box-sizing: border-box; margin-right: 16px; border: none; border-radius: 2px; background-color: transparent; cursor: pointer; line-height: 24px; font-size: 16px; overflow-x: hidden; white-space: nowrap; min-width: auto; font-weight: normal",".sv_main .sv-action-bar-item__title":"vertical-align: middle; white-space: nowrap;",".sv_main .sv-action-bar-item__title--with-icon":"margin-left: 8px;",".sv_main .sv-action__content":"display: flex; flex-direction: row; align-items: center;",".sv_main .sv-action__content > *":"flex: 0 0 auto;",".sv_main .sv-action--hidden":"width: 0px; height: 0px; overflow: hidden;",".sv_main .sv-action-bar-item__icon svg":"display: block;",".sv_main .sv-action-bar-item:active":"opacity: 0.5;",".sv_main .sv-action-bar-item:focus":"outline: none;",".sv_main .sv-title-actions":"display: flex;align-items: center; width: 100%;",".sv_main .sv-title-actions__title":"flex-wrap: wrap; max-width: 90%; min-width: 50%;",".sv_main .sv-title-actions__bar":"min-width: 56px;",".sv_main .sv_matrix_cell_actions .sv-action-bar":"margin-left: 0; padding-left: 0;",".sv_main .sv_p_wrapper_in_row":"display: flex; flex-direction: row; align-items: center;",".sv_main  .sv_p_remove_btn_right":"margin-left: 1em;",".sv_main .sv-button-group":"display: flex; align-items: center; flex-direction: row; font-size: 16px; height: 48px; overflow: auto;",".sv_main .sv-button-group__item":"display: flex; box-sizing: border-box; flex-direction: row; justify-content: center; align-items: center; width: 100%; padding: 11px 16px; line-height: 24px; border-width: 1px; border-style: solid; outline: none; font-size: 16px; font-weight: 400; cursor: pointer; overflow: hidden;",".sv_main .sv-button-group__item:not(:first-of-type)":"margin-left: -1px;",".sv_main .sv-button-group__item-icon":"display: block; height: 24px;",".sv_main .sv-button-group__item--selected":"font-weight: 600;",".sv_main .sv-button-group__item-decorator":"display: flex; align-items: center; max-width: 100%;",".sv_main  .sv-button-group__item-icon + .sv-button-group__item-caption":"margin-left: 8px",".sv_main .sv-button-group__item-caption":"display: block; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;",".sv_main .sv-button-group__item--disabled":"color: cursor: default;","sv-popup":"display: block; position: absolute; z-index: -1;",".sv-popup":"position: fixed; left: 0; top: 0; width: 100vw; height: 100vh; outline: none; z-index: 2;",".sv-popup__container":"filter: drop-shadow(0px 2px 6px rgba(0, 0, 0, 0.1)); position: absolute; padding: 0;",".sv-popup__body-content":"background-color: var(--background, #fff); border-radius: calc(0.5 * var(--base-unit, 8px)); width: 100%; height: 100%; box-sizing: border-box; display: flex; flex-direction: column; max-height: 90vh; max-width: 90vw;",".sv-popup--modal":"display: flex; align-items: center; justify-content: center;",".sv-popup--modal .sv-popup__container":"position: static;",".sv-popup--modal .sv-popup__body-content":"padding: calc(4 * var(--base-unit, 8px));",".sv-popup--overlay":"width: 100%;",".sv-popup--overlay .sv-popup__container":"background: rgba(144, 144, 144, 0.5); max-width: 100vw; max-height: calc(100vh - 1 * var(--base-unit, 8px)); height: calc(100vh - 1 * var(--base-unit, 8px)); width: 100%; padding-top: calc(2 * var(--base-unit, 8px)); border: unset;",".sv-popup__shadow":"width: 100%; height: 100%;",".sv-popup--overlay .sv-popup__body-content":"border-radius: calc(2 * var(--base-unit, 8px)) calc(2 * var(--base-unit, 8px)) 0px 0px; background: var(--background, #fff); box-shadow: 0px calc(1 * var(--base-unit, 8px)) calc(2 * var(--base-unit, 8px)) rgba(0, 0, 0, 0.1); padding: calc(3 * var(--base-unit, 8px)) calc(2 * var(--base-unit, 8px)) calc(2 * var(--base-unit, 8px)); height: calc(100% - calc(1 * var(--base-unit, 8px))); max-height: 100vh; max-width: 100vw;",".sv-popup--overlay .sv-popup__scrolling-content":"height: calc(100% - (10 * var(--base-unit, 8px)));",".sv-popup--overlay .sv-popup__body-footer":"margin-top: calc(2 * var(--base-unit, 8px));",".sv-popup--overlay .sv-popup__body-footer-item":"width: 100%;",".sv-popup--overlay .sv-popup__button--cancel":"background-color: var(--primary, #19b394); border: 2px solid var(--primary, #19b394); color: var(--primary-foreground, #fff);",".sv-popup__scrolling-content":"height: 100%; overflow: auto;",".sv-popup__scrolling-content::-webkit-scrollbar":"height: 6px; width: 6px; background-color: var(--background-dim, #f3f3f3);",".sv-popup__scrolling-content::-webkit-scrollbar-thumb":"background: var(--primary-light, rgba(25, 179, 148, 0.1));",".sv-popup__content":"min-width: 100%;",".sv-popup--show-pointer.sv-popup--top .sv-popup__pointer":"transform: translate(calc(-1 * var(--base-unit, 8px))) rotate(180deg);",".sv-popup--show-pointer.sv-popup--bottom .sv-popup__pointer":"transform: translate(calc(-1 * var(--base-unit, 8px)), calc(-1 * var(--base-unit, 8px)));",".sv-popup--show-pointer.sv-popup--right":"transform: translate(calc(1 * var(--base-unit, 8px)));",".sv-popup--show-pointer.sv-popup--right .sv-popup__pointer":"transform: translate(-12px, -4px) rotate(-90deg);",".sv-popup--show-pointer.sv-popup--left":"transform: translate(calc(-1 * var(--base-unit, 8px)));",".sv-popup--show-pointer.sv-popup--left .sv-popup__pointer":"transform: translate(-4px, -4px) rotate(90deg);",".sv-popup__pointer":"display: block; position: absolute;",".sv-popup__pointer:after":"content: ' '; display: block; width: 0; height: 0; border-left: calc(1 * var(--base-unit, 8px)) solid transparent; border-right: calc(1 * var(--base-unit, 8px)) solid transparent; border-bottom: calc(1 * var(--base-unit, 8px)) solid var(--background, #fff); align-self: center;",".sv-popup__body-header":"font-family: Open Sans; font-size: calc(3 * var(--base-unit, 8px)); line-height: calc(4 * var(--base-unit, 8px)); font-style: normal; font-weight: 700; margin-bottom: calc(2 * var(--base-unit, 8px)); color: var(--foreground, #161616);",".sv-popup__body-footer":"display: flex; margin-top: calc(4 * var(--base-unit, 8px));",".sv-popup__body-footer-item:first-child":"margin-left: auto;",".sv-popup__body-footer-item + .sv-popup__body-footer-item":"margin-left: calc(1 * var(--base-unit, 8px));",".sv-popup__button":"padding: calc(2 * var(--base-unit, 8px)) calc(6 * var(--base-unit, 8px)); background: var(--background, #fff); box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.15); border-radius: 4px; margin: 2px; cursor: pointer; font-family: 'Segoe UI', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-style: normal; font-weight: 600; font-size: calc(2 * var(--base-unit, 8px)); line-height: calc(3 * var(--base-unit, 8px)); text-align: center; color: var(--primary, #19b394); border: none; outline: none;",".sv-popup__button:hover":"box-shadow: 0 0 0 2px var(--primary, #19b394);",".sv-popup__button:disabled":"color: var(--foreground-disabled, rgba(#161616, 0.16)); cursor: default;",".sv-popup__button:disabled:hover":"box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.15);",".sv-popup__button.sv-popup__button--apply":"background-color: var(--primary, #19b394); color: var(--primary-foreground, #fff);",".sv-popup__button.sv-popup__button--apply:disabled":"background-color: var(--background-dim, #f3f3f3);",".sv-list":"padding: 0; margin: 0; background: var(--background, #fff); font-family: 'Open Sans'; list-style-type: none;",".sv-list__item":"width: 100%; box-sizing: border-box; padding: calc(1 * 8px) calc(2 * 8px); cursor: pointer; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;",".sv-list__item-icon":"float: left; width: calc(3 * 8px); height: calc(3 * 8px); margin-right: calc(2 * 8px);",".sv-list__item-icon svg":"display: block;",".sv-list__item-icon use":"fill: #909090;",".sv-list__item:not(.sv-list__item--selected):hover":"background-color: var(--background-dim, #f3f3f3);",".sv-list__item--selected":"background-color: var(--primary, #19b394); color: var(--primary-foreground, #fff);",".sv-list__item--selected .sv-list__item-icon use":"fill: var(--primary-foreground, #fff);",".sv-list__item--disabled":"color: var(--foreground-disabled, rgba(#161616, 0.16)); cursor: default; pointer-events: none;",".sv-list__item span":"white-space: nowrap;",".sv-list__container":"position: relative;",".sv-list__filter":"position: sticky; top: 0; border-bottom: 1px solid rgba(0, 0, 0, 0.16); background: var(--background, #fff);",".sv-list__input":"-webkit-appearance: none; -moz-appearance: none; appearance: none; display: block; box-sizing: border-box; width: 100%; line-height: 24px; padding-left: 56px; padding-right: 24px; padding-top: 16px; padding-bottom: 16px; outline: none; font-size: 1em; border: 1px solid transparent;",".sv-list__filter-icon":"display: block; position: absolute; top: 16px; left: 16px;",".sv-list__filter-icon .sv-svg-icon":"width: 24px; height: 24px;",".sv-skeleton-element":"min-height: 50px;"},M.Media={".sv_qstn fieldset .sv-q-col-1":{style:"width: 100%;",media:"@media only screen and (max-width: 480px)"},".sv_qstn fieldset .sv-q-col-2":{style:"width: 100%;",media:"@media only screen and (max-width: 480px)"},".sv_qstn fieldset .sv-q-col-3":{style:"width: 100%;",media:"@media only screen and (max-width: 480px)"},".sv_qstn fieldset .sv-q-col-4":{style:"width: 100%;",media:"@media only screen and (max-width: 480px)"},".sv_qstn fieldset .sv-q-col-5":{style:"width: 100%;",media:"@media only screen and (max-width: 480px)"},".sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn":{style:"display: block; width: 100% !important;",media:"@media (max-width: 600px)"},".sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn .title-left":{style:"float: none;",media:"@media (max-width: 600px)"},".sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn .sv_q_radiogroup_inline, .sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn .sv_q_checkbox_inline, .sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn .sv_q_imagepicker_inline":{style:"display: block;",media:"@media (max-width: 600px)"},".sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn table.table":{style:"display: block;",media:"@media (max-width: 600px)"},".sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn table.table thead":{style:"display: none;",media:"@media (max-width: 600px)"},".sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn table.table tbody, .sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn table.table tr, .sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn table.table td":{style:"display: block;",media:"@media (max-width: 600px)"},".sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn table.table:not(.sv_q_matrix) td:before":{style:"content: attr(data-responsive-title);",media:"@media (max-width: 600px)"},".sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn table.sv_q_matrix td:after":{style:"content: attr(data-responsive-title); padding-left: 1em",media:"@media (max-width: 600px)"},".sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn .radio label, .sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn .checkbox label":{style:"line-height: 12px; vertical-align: top;",media:"@media (max-width: 600px)"},".sv_qstn label.sv_q_m_label":{style:"display: inline;",media:"@media (max-width: 600px)"},".sv_main .sv_custom_header":{style:"display: none;",media:"@media (max-width: 1300px)"},".sv_main .sv_container .sv_header h3":{style:"font-size: 1.5em;",media:"@media (max-width: 1300px)"},".sv_main .sv_container .sv_header h3 span":{style:"font-size: 0.75em;",media:"@media (max-width: 700px)"},".sv_main.sv_bootstrap_css .sv-progress__text":{style:"margin-left: 8em;",media:"@media (min-width: 768px)"},".sv_row":{style:" display: flex; flex-wrap: wrap;",media:"@supports (display: flex)"},".sv-row > .sv-row__panel, .sv-row__question:not(:last-child)":{style:"float: left;",media:"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)"},"[dir='rtl'],[style*='direction:rtl'] .sv-row__question:not(:last-child)":{style:"float: right;",media:"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)"},".sv-row > .sv-row__panel, .sv-row__question":{style:"width: 100% !important; padding-right: 0 !important;",media:"@media only screen and (max-width: 600px)"}},M.ThemeColors={default:{"$header-background-color":"#e7e7e7","$body-container-background-color":"#f4f4f4","$main-color":"#1ab394","$main-hover-color":"#0aa384","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#6d7072","$text-input-color":"#6d7072","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fd6575","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#8dd9ca","$progress-buttons-line-color":"#d4d4d4"},orange:{"$header-background-color":"#4a4a4a","$body-container-background-color":"#f8f8f8","$main-color":"#f78119","$main-hover-color":"#e77109","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#f78119","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fd6575","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#f7b781","$progress-buttons-line-color":"#d4d4d4"},darkblue:{"$header-background-color":"#d9d8dd","$body-container-background-color":"#f6f7f2","$main-color":"#3c4f6d","$main-hover-color":"#2c3f5d","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fd6575","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#839ec9","$progress-buttons-line-color":"#d4d4d4"},darkrose:{"$header-background-color":"#ddd2ce","$body-container-background-color":"#f7efed","$main-color":"#68656e","$main-hover-color":"#58555e","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fd6575","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#c6bed4","$progress-buttons-line-color":"#d4d4d4"},stone:{"$header-background-color":"#cdccd2","$body-container-background-color":"#efedf4","$main-color":"#0f0f33","$main-hover-color":"#191955","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#0f0f33","$text-input-color":"#0f0f33","$header-color":"#0f0f33","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fd6575","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#747491","$progress-buttons-line-color":"#d4d4d4"},winter:{"$header-background-color":"#82b8da","$body-container-background-color":"#dae1e7","$main-color":"#3c3b40","$main-hover-color":"#1e1d20","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#000","$text-input-color":"#000","$header-color":"#000","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fd6575","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#d1c9f5","$progress-buttons-line-color":"#d4d4d4"},winterstone:{"$header-background-color":"#323232","$body-container-background-color":"#f8f8f8","$main-color":"#5ac8fa","$main-hover-color":"#06a1e7","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#000","$text-input-color":"#000","$header-color":"#000","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fd6575","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#acdcf2","$progress-buttons-line-color":"#d4d4d4"},modern:{"$main-color":"#1ab394","$add-button-color":"#1948b3","$remove-button-color":"#ff1800","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$error-color":"#d52901","$text-color":"#404040","$light-text-color":"#fff","$button-text-color":"#fff","$checkmark-color":"#fff","$matrix-text-checked-color":"#fff","$progress-buttons-color":"#8dd9ca","$progress-buttons-line-color":"#d4d4d4","$text-input-color":"#404040","$inputs-background-color":"transparent","$main-hover-color":"#9f9f9f","$body-container-background-color":"#f4f4f4","$text-border-color":"#d4d4d4","$disabled-text-color":"rgba(64, 64, 64, 0.5)","$border-color":"rgb(64, 64, 64, 0.5)","$dropdown-border-color":"#d4d4d4","$header-background-color":"#e7e7e7","$answer-background-color":"rgba(26, 179, 148, 0.2)","$error-background-color":"rgba(213, 41, 1, 0.2)","$radio-checked-color":"#404040","$clean-button-color":"#1948b3","$body-background-color":"#ffffff","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3"},bootstrap:{"$main-color":"#18a689","$text-color":"#404040;","$text-input-color":"#404040;","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$header-background-color":"#e7e7e7","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#8dd6c7","$progress-buttons-line-color":"#d4d4d4"},bootstrapmaterial:{"$main-color":"#18a689","$text-color":"#404040;","$text-input-color":"#404040;","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$header-background-color":"#e7e7e7","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$body-background-color":"#ffffff","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#8dd6c7","$progress-buttons-line-color":"#d4d4d4"}},M.ThemeCss={".sv_default_css":"background-color: $body-container-background-color;",".sv_default_css hr":"border-color: $border-color;",".sv_default_css input[type='button'], .sv_default_css button":"color: $body-background-color; background-color: $main-color;",".sv_default_css input[type='button']:hover, .sv_default_css button:hover":"background-color: $main-hover-color;",".sv_default_css .sv_header":"color: $header-color;",".sv_default_css .sv_custom_header":"background-color: $header-background-color;",".sv_default_css .sv_container":"color: $text-color;",".sv_default_css .sv_body":"background-color: $body-background-color; border-color: $main-color;",".sv_default_css .sv_progress":"background-color: $border-color;",".sv_default_css .sv_progress_bar":"background-color: $main-color;",".sv_default_css .sv_progress-buttons__list li:before":"border-color: $progress-buttons-color; background-color: $progress-buttons-color;",".sv_default_css .sv_progress-buttons__list li:after":"background-color: $progress-buttons-line-color;",".sv_default_css .sv_progress-buttons__list .sv_progress-buttons__page-title":"color: $text-color;",".sv_default_css .sv_progress-buttons__list .sv_progress-buttons__page-description":"color: $text-color;",".sv_default_css .sv_progress-buttons__list li.sv_progress-buttons__list-element--passed:before":"border-color: $main-color; background-color: $main-color;",".sv_default_css .sv_progress-buttons__list li.sv_progress-buttons__list-element--passed + li:after":"background-color: $progress-buttons-color",".sv_default_css .sv_progress-buttons__list li.sv_progress-buttons__list-element--current:before":"border-color: $main-color; background-color: white;",".sv_default_css .sv_progress-buttons__list li.sv_progress-buttons__list-element--passed.sv_progress-buttons__list-element--current:before":"border-color: $main-color; background-color: white;",".sv_default_css .sv_p_root > .sv_row":"border-color: $border-color;",".sv_default_css .sv_p_root > .sv_row:nth-child(odd)":"background-color: $body-background-color;",".sv_default_css .sv_p_root > .sv_row:nth-child(even)":"background-color: $body-container-background-color;",".sv_default_css .sv_q_other input":"color: $text-color; -webkit-text-fill-color: $text-color; border-color: $border-color; background-color: $inputs-background-color;",".sv_default_css .sv_q_text_root":"color: $text-color; -webkit-text-fill-color: $text-color; border-color: $border-color; background-color: $inputs-background-color;",".sv_default_css .sv_q_dropdown_control":"color: $text-input-color; border-color: $border-color; background-color: $inputs-background-color;",".sv_default_css input[type='text']":"color: $text-color; -webkit-text-fill-color: $text-color; border-color: $border-color; background-color: $inputs-background-color;",".sv_default_css select":"color: $text-color; border-color: $border-color; background-color: $inputs-background-color;",".sv_default_css textarea":"color: $text-input-color; -webkit-text-fill-color: $text-input-color; border-color: $border-color; background-color: $inputs-background-color;",".sv_default_css input:not([type='button']):not([type='reset']):not([type='submit']):not([type='image']):not([type='checkbox']):not([type='radio'])":"border: 1px solid $border-color; background-color: $inputs-background-color;color: $text-input-color; -webkit-text-fill-color: $text-input-color;",".sv_default_css input:not([type='button']):not([type='reset']):not([type='submit']):not([type='image']):not([type='checkbox']):not([type='radio']):focus":"border: 1px solid $main-color;",".sv_default_css .sv_container .sv_body .sv_p_root .sv_q .sv_select_wrapper .sv_q_dropdown_control ":"background-color: $inputs-background-color;",".sv_default_css .sv_q_other input:focus":"border-color: $main-color;",".sv_default_css .sv_q_text_root:focus":"border-color: $main-color;",".sv_default_css .sv_q_dropdown_control:focus":"border-color: $main-color;",".sv_default_css input[type='text']:focus":"border-color: $main-color;",'.sv_default_css .sv_container .sv_body .sv_p_root .sv_q input[type="radio"]:focus, .sv_default_css .sv_container .sv_body .sv_p_root .sv_q input[type="checkbox"]:focus':"outline: 1px dotted $main-color;",".sv_default_css select:focus":"border-color: $main-color;",".sv_default_css textarea:focus":"border-color: $main-color;",".sv_default_css .sv_select_wrapper":"background-color: $body-background-color;",".sv_default_css .sv_select_wrapper::before":"background-color: $main-color;",".sv_default_css .sv_q_rating_item.active .sv_q_rating_item_text":"background-color: $main-hover-color; border-color: $main-hover-color; color: $body-background-color;",".sv_default_css .sv_q_rating_item .sv_q_rating_item_text":"border-color: $border-color;",".sv_default_css .sv_q_rating_item .sv_q_rating_item_text:hover":"border-color: $main-hover-color;",".sv_default_css table.sv_q_matrix tr":"border-color: $border-color;",".sv_default_css table.sv_q_matrix_dropdown tr":"border-color: $border-color;",".sv_default_css table.sv_q_matrix_dynamic tr":"border-color: $border-color;",".sv_default_css .sv_q_m_cell_selected":"color: $body-background-color; background-color: $main-hover-color;",".sv_main .sv_q_file_remove:hover":"color: $main-color;",".sv_main .sv_q_file_choose_button":"color: $body-background-color; background-color: $main-color;",".sv_main .sv_q_file_choose_button:hover":"background-color: $main-hover-color;",".sv_main .sv_q_imgsel.checked label>div":"background-color: $main-color",".sv_default_css .sv_p_description":"padding-left: 1.29em;",".sv_main .sv-progress":"background-color: $header-background-color;",".sv_main .sv-progress__bar":"background-color: $main-color;",".sv_main .sv-paneldynamic__prev-btn.sv-paneldynamic__prev-btn--disabled, .sv_main .sv-paneldynamic__next-btn.sv-paneldynamic__next-btn--disabled":"fill: $disable-color;",".sv_main .sv-paneldynamic__progress-text":"color: $progress-text-color;",".sv_main .sv-paneldynamic__prev-btn, .sv_main .sv-paneldynamic__next-btn":"fill: $text-color",".sv_main .sv-boolean__switch":"background-color: $main-color;",".sv_main .sv-boolean__slider":"background-color: $slider-color;",".sv_main .sv-boolean__label--disabled":"color: $disabled-label-color;",".sv_main .sv-boolean--disabled .sv-boolean__switch":"background-color: $disabled-switch-color;",".sv_main .sv-boolean--disabled .sv-boolean__slider":"background-color: $disabled-slider-color;",".sv_main .sjs_sp_container":"border: 1px dashed $disable-color;",".sv_main .sjs_sp_placeholder":"color: $foreground-light;",".sv_main .sv_matrix_detail_row":"background-color: #ededed; border-top: 1px solid $header-background-color; border-bottom: 1px solid $header-background-color;",".sv_main .sv-action-bar-item":"color: $text-color;",".sv_main .sv-action-bar-item__icon use":"fill: $foreground-light;",".sv_main .sv-action-bar-item:hover":"background-color: $background-dim;",".sv_main .sv-button-group__item--hover:hover":"background-color: $background-dim;",".sv_main .sv-button-group__item-icon use":"fill: $foreground-light;",".sv_main .sv-button-group__item--selected":"color: $main-color;",".sv_main .sv-button-group__item--selected .sv-button-group__item-icon use":"fill: $main-color;",".sv_main .sv-button-group__item--disabled":"color: $foreground-disabled;",".sv_main .sv-button-group__item--disabled .sv-button-group__item-icon use":"fill: $foreground-disabled;",".sv_main .sv-button-group__item":"background: $body-background-color; border-color: $border-color;",".sv_main .sv_qstn textarea":"max-width: 100%",".sv-list__input":"color: $text-input-color; border-color: $border-color; background-color: $inputs-background-color;",".sv-list__input::placeholder":"color: $foreground-light;",".sv-list__input:focus":"border-color: $main-color;",".sv-list__input:disabled":"color: $foreground-disabled;",".sv-list__input:disabled::placeholder":"color: $foreground-disabled;",".sv-skeleton-element":"background-color: $background-dim;"},M.modernThemeCss={".sv-boolean__switch":"background-color: $main-color;",".sv-boolean__slider":"background-color: $slider-color;",".sv-boolean__label--disabled":"color: $disabled-label-color;",".sv-boolean--disabled .sv-boolean__switch":"background-color: $disabled-switch-color;",".sv-boolean--disabled .sv-boolean__slider":"background-color: $disabled-slider-color;",".sv-btn":"color: $button-text-color;",".sv-btn--navigation":"background-color: $main-color",".sv-checkbox__svg":"border-color: $border-color; fill: transparent;",".sv-checkbox--allowhover:hover .sv-checkbox__svg":"background-color: $main-hover-color; fill: $checkmark-color;",".sv-checkbox--checked .sv-checkbox__svg":"background-color: $main-color; fill: $checkmark-color;",".sv-checkbox--checked.sv-checkbox--disabled .sv-checkbox__svg":"background-color: $disable-color; fill: $checkmark-color;",".sv-checkbox--disabled .sv-checkbox__svg":"border-color: $disable-color;",".sv-comment":"border-color: $text-border-color; max-width: 100%;",".sv-comment:focus":"border-color: $main-color;",".sv-completedpage":"color: $text-color; background-color: $body-container-background-color;",".sv-container-modern":"color: $text-color;",".sv-container-modern__title":"color: $main-color;",".sv-description":"color: $disabled-text-color;",".sv-dropdown":"border-bottom: 0.06em solid $text-border-color;",".sv-dropdown:focus":"border-color: $dropdown-border-color;",".sv-dropdown--error":"border-color: $error-color; color: $error-color;",".sv-dropdown--error::placeholder":"color: $error-color;",".sv-dropdown--error::-ms-input-placeholder":"color: $error-color;",".sv-file__decorator":"background-color: $body-container-background-color;",".sv-file__clean-btn":"background-color: $remove-button-color;",".sv-file__choose-btn:not(.sv-file__choose-btn--disabled)":"background-color: $add-button-color;",".sv-file__choose-btn--disabled":"background-color: $disable-color;",".sv-file__remove-svg":"fill: #ff1800;",".sv-file__sign a":"color: $text-color;",".sv-imagepicker__item--allowhover:hover .sv-imagepicker__image":"background-color: $main-hover-color; border-color: $main-hover-color;",".sv-imagepicker__item--checked .sv-imagepicker__image":"background-color: $main-color; border-color: $main-color;",".sv-imagepicker__item--disabled.sv-imagepicker__item--checked .sv-imagepicker__image":"background-color: $disable-color; border-color: $disable-color;",".sv-item__control:focus + .sv-item__decorator":"border-color: $main-color;",".sv-matrix__text--checked":"color: $matrix-text-checked-color; background-color: $main-color;",".sv-matrix__text--disabled.sv-matrix__text--checked":"background-color: $disable-color;",".sv-matrixdynamic__add-btn":"background-color: $add-button-color;",".sv-matrixdynamic__remove-btn":"background-color: $remove-button-color;",".sv-paneldynamic__add-btn":"background-color: $add-button-color;",".sv-paneldynamic__remove-btn":"background-color: $remove-button-color;",".sv-paneldynamic__prev-btn":"fill: $text-color;",".sv-paneldynamic__next-btn":"fill: $text-color;",".sv-paneldynamic__prev-btn.sv-paneldynamic__prev-btn--disabled":"fill: $disable-color;",".sv-paneldynamic__next-btn.sv-paneldynamic__next-btn--disabled":"fill: $disable-color;",".sv-paneldynamic__progress-text":"color: $progress-text-color;",".sv-progress":"background-color: $header-background-color;",".sv-progress__bar":"background-color: $main-color;",".sv-progress__text":"color: $progress-text-color;",".sv_progress-buttons__list li:before":"border-color: $progress-buttons-color; background-color: $progress-buttons-color;",".sv_progress-buttons__list li:after":"background-color: $progress-buttons-line-color;",".sv_progress-buttons__list .sv_progress-buttons__page-title":"color: $text-color;",".sv_progress-buttons__list .sv_progress-buttons__page-description":"color: $text-color;",".sv_progress-buttons__list li.sv_progress-buttons__list-element--passed:before":"border-color: $main-color; background-color: $main-color;",".sv_progress-buttons__list li.sv_progress-buttons__list-element--passed + li:after":"background-color: $progress-buttons-color",".sv_progress-buttons__list li.sv_progress-buttons__list-element--current:before":"border-color: $main-color; background-color: white;",".sv_progress-buttons__list li.sv_progress-buttons__list-element--passed.sv_progress-buttons__list-element--current:before":"border-color: $main-color; background-color: white;",".sv-question__erbox":"color: $error-color;",".sv-question__title--answer":"background-color: $answer-background-color;",".sv-question__title--error":"background-color: $error-background-color;",".sv-panel__title--error":"background-color: $error-background-color;",".sv-radio__svg":"border-color: $border-color; fill: transparent;",".sv-radio--allowhover:hover .sv-radio__svg":"fill: $border-color;",".sv-radio--checked .sv-radio__svg":"border-color: $radio-checked-color; fill: $radio-checked-color;",".sv-radio--disabled .sv-radio__svg":"border-color: $disable-color;",".sv-radio--disabled.sv-radio--checked .sv-radio__svg":"fill: $disable-color;",".sv-rating":"color: $text-color;",".sv-rating input:focus + .sv-rating__min-text + .sv-rating__item-text, .sv-rating input:focus + .sv-rating__item-text":"outline-color: $main-color;",".sv-rating__item-text":"color: $main-hover-color; border: solid 0.1875em $main-hover-color;",".sv-rating__item-text:hover":"background-color: $main-hover-color; color: $body-background-color;",".sv-rating__item--selected .sv-rating__item-text":"background-color: $main-color; color: $body-background-color; border-color: $main-color;",".sv-rating--disabled .sv-rating__item-text":"color: $disable-color; border-color: $disable-color;",".sv-rating--disabled .sv-rating__item-text:hover":"background-color: transparent;",".sv-rating--disabled .sv-rating__item-text:hover .sv-rating__item--selected .sv-rating__item-text":"background-color: $disable-color; color: $body-background-color;","::-webkit-scrollbar":"background-color: $main-hover-color;","::-webkit-scrollbar-thumb":"background: $main-color;",".sv-selectbase__clear-btn":"background-color: $clean-button-color;",".sv-table":"background-color: rgba($main-hover-color, 0.1);",".sv-text:focus":"border-color: $main-color;",'.sv-text[type="date"]::-webkit-calendar-picker-indicator':"color: transparent; background: transparent;",".sv-text--error":"color: $error-color; border-color: $error-color;",".sv-text--error::placeholder":"color: $error-color;",".sv-text--error::-ms-placeholder":"color: $error-color;",".sv-text--error:-ms-placeholder":"color: $error-color;","input.sv-text, textarea.sv-comment, select.sv-dropdown":"color: $text-input-color; background-color: $inputs-background-color;",".sv-text::placeholder":"color: $text-input-color;",".sv-text::-ms-placeholder":"color: $text-input-color;",".sv-text:-ms-placeholder":"color: $text-input-color;",".sv-table__row--detail":"background-color: $header-background-color;",".sjs_sp_container":"border: 1px dashed $disable-color;",".sjs_sp_placeholder":"color: $foreground-light;",".sv-matrixdynamic__drag-icon":"padding-top:16px",".sv-matrixdynamic__drag-icon:after":"content: ' '; display: block; height: 6px; width: 20px; border: 1px solid $border-color; box-sizing: border-box; border-radius: 10px; cursor: move; margin-top: 12px;",".sv-matrix__drag-drop-ghost-position-top, .sv-matrix__drag-drop-ghost-position-bottom":"position: relative;",".sv-matrix__drag-drop-ghost-position-top::after, .sv-matrix__drag-drop-ghost-position-bottom::after":"content: ''; width: 100%; height: 4px; background-color: var(--primary, #19b394); position: absolute; left: 0;",".sv-matrix__drag-drop-ghost-position-top::after":"top: 0;",".sv-matrix__drag-drop-ghost-position-bottom::after":"bottom: 0;",".sv-skeleton-element":"background-color: $background-dim;"},M.bootstrapThemeCss={".sv_main .sv_q_imgsel.checked label>div":"background-color: $main-color",".sv_main .sv_p_description":"padding-left: 1.66em;",".sv_main .sv_qstn_error_bottom":"margin-top: 20px; margin-bottom: 0;",".sv_main .progress":"width: 60%;",".sv_main .progress-bar":"width: auto; margin-left: 2px; margin-right: 2px;",".sv_main .table>tbody>tr>td":"min-width: 90px;",".sv_main f-panel .sv_qstn":"padding: 0; vertical-align: middle;",".sv_main .sv_q_image":"display: inline-block;",".sv_main .sv_row .sv_qstn:first-child:last-child":"flex: none !important;",".sv_main .sv_row .sv_p_container:first-child:last-child":"flex: none !important;",".sv_main .sv-progress":"background-color: $header-background-color;",".sv_main .sv-progress__bar":"background-color: $main-color;",".sv_main .sv_progress-buttons__list li:before":"border-color: $progress-buttons-color; background-color: $progress-buttons-color;",".sv_main .sv_progress-buttons__list li:after":"background-color: $progress-buttons-line-color;",".sv_main .sv_progress-buttons__list .sv_progress-buttons__page-title":"color: $text-color;",".sv_main .sv_progress-buttons__list .sv_progress-buttons__page-description":"color: $text-color;",".sv_main .sv_progress-buttons__list li.sv_progress-buttons__list-element--passed:before":"border-color: $main-color; background-color: $main-color;",".sv_main .sv_progress-buttons__list li.sv_progress-buttons__list-element--passed + li:after":"background-color: $progress-buttons-color",".sv_main .sv_progress-buttons__list li.sv_progress-buttons__list-element--current:before":"border-color: $main-color; background-color: white;",".sv_main .sv_progress-buttons__list li.sv_progress-buttons__list-element--passed.sv_progress-buttons__list-element--current:before":"border-color: $main-color; background-color: white;",".sv_main .sv-paneldynamic__prev-btn.sv-paneldynamic__prev-btn--disabled, .sv_main .sv-paneldynamic__next-btn.sv-paneldynamic__next-btn--disabled":"fill: $disable-color;",".sv_main .sv-paneldynamic__progress-text":"color: $progress-text-color;",".sv_main .sv-paneldynamic__prev-btn, .sv_main .sv-paneldynamic__next-btn":"fill: $text-color",".sv_main .sv-boolean__switch":"background-color: $main-color;",".sv_main .sv-boolean__slider":"background-color: $slider-color;",".sv_main .sv-boolean__label--disabled":"color: $disabled-label-color;",".sv_main .sv-boolean--disabled .sv-boolean__switch":"background-color: $disabled-switch-color;",".sv_main .sv-boolean--disabled  .sv-boolean__slider":"background-color: $disabled-slider-color;",".sv_main .sjs_sp_container":"border: 1px dashed $disable-color;",".sv_main .sjs_sp_placeholder":"color: $foreground-light;",".sv_main .sv_matrix_detail_row":"background-color: #ededed; border-top: 1px solid $header-background-color; border-bottom: 1px solid $header-background-color;",".sv_main .sv-action-bar-item":"color: $text-color;",".sv_main .sv-action-bar-item__icon use":"fill: $foreground-light;",".sv_main .sv-action-bar-item:hover":"background-color: $background-dim;",".sv-skeleton-element":"background-color: $background-dim;"},M.bootstrapmaterialThemeCss={".sv_main.sv_bootstrapmaterial_css .form-group.is-focused .form-control":"linear-gradient(0deg, $main-color 2px, $main-color 0),linear-gradient(0deg, #D2D2D2 1px, transparent 0);",".sv_main.sv_bootstrapmaterial_css .sv_qstn":"margin-bottom: 1rem;",".sv_main.sv_bootstrapmaterial_css .sv_qstn label.sv_q_m_label":"height: 100%;",".sv_main.sv_bootstrapmaterial_css .sv_q_image":"display: inline-block;",".sv_main .sv_row .sv_qstn:first-child:last-child":"flex: none !important;",".sv_main .sv_row .sv_p_container:first-child:last-child":"flex: none !important;",".sv_main.sv_bootstrapmaterial_css .checkbox input[type=checkbox]:checked + .checkbox-material .check":"border-color: $main-color;",".sv_main.sv_bootstrapmaterial_css label.checkbox-inline input[type=checkbox]:checked + .checkbox-material .check":"border-color: $main-color;",".sv_main.sv_bootstrapmaterial_css .checkbox input[type=checkbox]:checked + .checkbox-material .check:before":"color: $main-color;",".sv_main.sv_bootstrapmaterial_css label.checkbox-inline input[type=checkbox]:checked + .checkbox-material .check:before":"color: $main-color;",".sv_main.sv_bootstrapmaterial_css .radio input[type=radio]:checked ~ .circle":"border-color: $main-color;",".sv_main.sv_bootstrapmaterial_css label.radio-inline input[type=radio]:checked ~ .circle":"border-color: $main-color;",".sv_main.sv_bootstrapmaterial_css .radio input[type=radio]:checked ~ .check":"background-color: $main-color;",".sv_main.sv_bootstrapmaterial_css label.radio-inline input[type=radio]:checked ~ .check":"background-color: $main-color;",".sv_main.sv_bootstrapmaterial_css .btn-default.active":"background-color: $main-color; color: $body-background-color;",".sv_main.sv_bootstrapmaterial_css .btn-default:active":"background-color: $main-color; color: $body-background-color;",".sv_main.sv_bootstrapmaterial_css .btn-secondary.active":"background-color: $main-color; color: $body-background-color;",".sv_main.sv_bootstrapmaterial_css .btn-secondary:active":"background-color: $main-color; color: $body-background-color;",".sv_main.sv_bootstrapmaterial_css .open>.dropdown-toggle.btn-default":"background-color: $main-color; color: $body-background-color;",".sv_main.sv_bootstrapmaterial_css input[type='button'].btn-primary, .sv_main.sv_bootstrapmaterial_css button.btn-primary":"color: $body-background-color; background-color: $main-color;",".sv_main.sv_bootstrapmaterial_css input[type='button'].btn-primary:hover, .sv_main.sv_bootstrapmaterial_css button.btn-primary:hover":"background-color: $main-hover-color;",".sv_main .sv_q_imgsel.checked label>div":"background-color: $main-color;",".sv_main.sv_bootstrapmaterial_css .sv_q_file_remove:hover":"color: $main-color;",".sv_main.sv_bootstrapmaterial_css .form-group input[type=file]":"position: relative; opacity: 1;",".sv_main.sv_bootstrapmaterial_css .progress":"width: 60%; height: 1.5em;",".sv_main.sv_bootstrapmaterial_css .progress-bar":"width: auto; margin-left: 2px; margin-right: 2px;",".sv_main .sv-progress":"background-color: $header-background-color;",".sv_main .sv-progress__bar":"background-color: $main-color;",".sv_main.sv_bootstrapmaterial_css .sv_progress-buttons__list li:before":"border-color: $progress-buttons-color; background-color: $progress-buttons-color;",".sv_main.sv_bootstrapmaterial_css .sv_progress-buttons__list li:after":"background-color: $progress-buttons-line-color;",".sv_main.sv_bootstrapmaterial_css .sv_progress-buttons__list .sv_progress-buttons__page-title":"color: $text-color;",".sv_main.sv_bootstrapmaterial_css .sv_progress-buttons__list .sv_progress-buttons__page-description":"color: $text-color;",".sv_main.sv_bootstrapmaterial_css .sv_progress-buttons__list li.sv_progress-buttons__list-element--passed:before":"border-color: $main-color; background-color: $main-color;",".sv_main.sv_bootstrapmaterial_css .sv_progress-buttons__list li.sv_progress-buttons__list-element--passed + li:after":"background-color: $progress-buttons-color",".sv_main.sv_bootstrapmaterial_css .sv_progress-buttons__list li.sv_progress-buttons__list-element--current:before":"border-color: $main-color; background-color: white;",".sv_main.sv_bootstrapmaterial_css .sv_progress-buttons__list li.sv_progress-buttons__list-element--passed.sv_progress-buttons__list-element--current:before":"border-color: $main-color; background-color: white;",".sv_main .sv-paneldynamic__prev-btn.sv-paneldynamic__prev-btn--disabled, .sv_main .sv-paneldynamic__next-btn.sv-paneldynamic__next-btn--disabled":"fill: $disable-color;",".sv_main .sv-paneldynamic__progress-text":"color: $progress-text-color;",".sv_main .sv-paneldynamic__prev-btn, .sv_main .sv-paneldynamic__next-btn":"fill: $text-color",".sv_main .sv-boolean .checkbox-decorator":"display: none;",".sv_main .sv-boolean__switch":"background-color: $main-color;",".sv_main .sv-boolean__slider":"background-color: $slider-color;",".sv_main .sv-boolean__label.sv-boolean__label--disabled":"color: $disabled-label-color;",".sv_main .sv-boolean__label":"color: $text-color;",".sv_main .sv-boolean--disabled .sv-boolean__switch":"background-color: $disabled-switch-color;",".sv_main .sv-boolean--disabled  .sv-boolean__slider":"background-color: $disabled-slider-color;",".sv_main .sv_matrix_detail_row":"background-color: #ededed; border-top: 1px solid $header-background-color; border-bottom: 1px solid $header-background-color;",".sv_main .sjs_sp_container":"border: 1px dashed $disable-color;",".sv_main .sjs_sp_placeholder":"color: $foreground-light;",".sv_main .sv-action-bar-item":"color: $text-color;",".sv_main .sv-action-bar-item__icon use":"fill: $foreground-light;",".sv_main .sv-action-bar-item:hover":"background-color: $background-dim;",".sv-skeleton-element":"background-color: $background-dim;"},M.Enabled=!0,M}()},"./src/survey-element.ts":function(a,r,t){t.r(r),t.d(r,"SurveyElementCore",function(){return g}),t.d(r,"DragTypeOverMeEnum",function(){return f}),t.d(r,"SurveyElement",function(){return i});var d=t("./src/jsonobject.ts"),C=t("./src/base.ts"),M=t("./src/actions/adaptive-container.ts"),w=t("./src/helpers.ts"),S=t("./src/settings.ts"),x=t("./src/actions/container.ts"),h=function(){var p=function(P,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,R){y.__proto__=R}||function(y,R){for(var b in R)Object.prototype.hasOwnProperty.call(R,b)&&(y[b]=R[b])},p(P,m)};return function(P,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");p(P,m);function y(){this.constructor=P}P.prototype=m===null?Object.create(m):(y.prototype=m.prototype,new y)}}(),u=function(p,P,m,y){var R=arguments.length,b=R<3?P:y===null?y=Object.getOwnPropertyDescriptor(P,m):y,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(p,P,m,y);else for(var E=p.length-1;E>=0;E--)(c=p[E])&&(b=(R<3?c(b):R>3?c(P,m,b):c(P,m))||b);return R>3&&b&&Object.defineProperty(P,m,b),b},g=function(p){h(P,p);function P(){var m=p.call(this)||this;return m.createLocTitleProperty(),m}return P.prototype.createLocTitleProperty=function(){return this.createLocalizableString("title",this,!0)},Object.defineProperty(P.prototype,"title",{get:function(){return this.getLocalizableStringText("title",this.getDefaultTitleValue())},set:function(m){this.setLocalizableStringText("title",m)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"locTitle",{get:function(){return this.getLocalizableString("title")},enumerable:!1,configurable:!0}),P.prototype.getDefaultTitleValue=function(){},P.prototype.updateDescriptionVisibility=function(m){this.hasDescription=!!m},Object.defineProperty(P.prototype,"locDescription",{get:function(){return this.getLocalizableString("description")},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"titleTagName",{get:function(){var m=this.getDefaultTitleTagName(),y=this.getSurvey();return y?y.getElementTitleTagName(this,m):m},enumerable:!1,configurable:!0}),P.prototype.getDefaultTitleTagName=function(){return S.settings.titleTags[this.getType()]},Object.defineProperty(P.prototype,"hasTitle",{get:function(){return this.title.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"hasTitleActions",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"hasTitleEvents",{get:function(){return this.hasTitleActions},enumerable:!1,configurable:!0}),P.prototype.getTitleToolbar=function(){return null},P.prototype.getTitleOwner=function(){},Object.defineProperty(P.prototype,"isTitleOwner",{get:function(){return!!this.getTitleOwner()},enumerable:!1,configurable:!0}),P.prototype.toggleState=function(){},Object.defineProperty(P.prototype,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"cssTitle",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"ariaTitleId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"titleTabIndex",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"titleAriaExpanded",{get:function(){},enumerable:!1,configurable:!0}),u([Object(d.property)()],P.prototype,"hasDescription",void 0),u([Object(d.property)({localizable:!0,onSet:function(m,y){y.updateDescriptionVisibility(y,m)}})],P.prototype,"description",void 0),P}(C.Base),f;(function(p){p[p.InsideEmptyPanel=1]="InsideEmptyPanel",p[p.MultilineRight=2]="MultilineRight",p[p.MultilineLeft=3]="MultilineLeft"})(f||(f={}));var i=function(p){h(P,p);function P(m){var y=p.call(this)||this;return y.selectedElementInDesignValue=y,y.disableDesignActions=P.CreateDisabledDesignElements,y.isContentElement=!1,y.isEditableTemplateElement=!1,y.isInteractiveDesignElement=!0,y.name=m,y.createNewArray("errors"),y.createNewArray("titleActions"),y.registerFunctionOnPropertyValueChanged("isReadOnly",function(){y.onReadOnlyChanged()}),y.registerFunctionOnPropertyValueChanged("errors",function(){y.updateVisibleErrors()}),y}return P.getProgressInfoByElements=function(m,y){for(var R=C.Base.createProgressInfo(),b=0;b<m.length;b++)if(m[b].isVisible){var c=m[b].getProgressInfo();R.questionCount+=c.questionCount,R.answeredQuestionCount+=c.answeredQuestionCount,R.requiredQuestionCount+=c.requiredQuestionCount,R.requiredAnsweredQuestionCount+=c.requiredAnsweredQuestionCount}return y&&R.questionCount>0&&(R.requiredQuestionCount==0&&(R.requiredQuestionCount=1),R.answeredQuestionCount>0&&(R.requiredAnsweredQuestionCount=1)),R},P.ScrollElementToTop=function(m){if(!m||typeof document>"u")return!1;var y=document.getElementById(m);if(!y||!y.scrollIntoView)return!1;var R=y.getBoundingClientRect().top;return R<0&&y.scrollIntoView(),R<0},P.GetFirstNonTextElement=function(m,y){if(y===void 0&&(y=!1),!m||!m.length||m.length==0)return null;if(y){var R=m[0];R.nodeName==="#text"&&(R.data=""),R=m[m.length-1],R.nodeName==="#text"&&(R.data="")}for(var b=0;b<m.length;b++)if(m[b].nodeName!="#text"&&m[b].nodeName!="#comment")return m[b];return null},P.FocusElement=function(m){if(!m||typeof document>"u")return!1;var y=P.focusElementCore(m);return y||setTimeout(function(){P.focusElementCore(m)},10),y},P.focusElementCore=function(m){var y=document.getElementById(m);return y?(y.focus(),!0):!1},P.prototype.onPropertyValueChanged=function(m,y,R){p.prototype.onPropertyValueChanged.call(this,m,y,R),m==="state"&&(y==="default"||R==="default"?this.updateTitleActions():this.updateElementCss(!1),this.stateChangedCallback&&this.stateChangedCallback())},P.prototype.getSkeletonComponentNameCore=function(){return this.survey?this.survey.getSkeletonComponentName(this):""},Object.defineProperty(P.prototype,"skeletonComponentName",{get:function(){return this.getSkeletonComponentNameCore()},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"state",{get:function(){return this.getPropertyValue("state")},set:function(m){this.setPropertyValue("state",m),this.notifyStateChanged()},enumerable:!1,configurable:!0}),P.prototype.notifyStateChanged=function(){this.survey&&this.survey.elementContentVisibilityChanged(this)},Object.defineProperty(P.prototype,"isCollapsed",{get:function(){if(!this.isDesignMode)return this.state==="collapsed"},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isExpanded",{get:function(){return this.state==="expanded"},enumerable:!1,configurable:!0}),P.prototype.collapse=function(){this.isDesignMode||(this.state="collapsed")},P.prototype.expand=function(){this.state="expanded"},P.prototype.toggleState=function(){return this.isCollapsed?(this.expand(),!0):this.isExpanded?(this.collapse(),!1):!0},Object.defineProperty(P.prototype,"hasStateButton",{get:function(){return this.isExpanded||this.isCollapsed},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"shortcutText",{get:function(){return this.title||this.name},enumerable:!1,configurable:!0}),P.prototype.getTitleToolbar=function(){return this.titleToolbarValue||(this.titleToolbarValue=this.createActionContainer(!0),this.titleToolbarValue.setItems(this.getTitleActions())),this.titleToolbarValue},P.prototype.createActionContainer=function(m){var y=m?new M.AdaptiveActionContainer:new x.ActionContainer;return this.survey&&this.survey.getCss().actionBar&&(y.cssClasses=this.survey.getCss().actionBar),y},Object.defineProperty(P.prototype,"titleActions",{get:function(){return this.getPropertyValue("titleActions")},enumerable:!1,configurable:!0}),P.prototype.getTitleActions=function(){return this.isTitleActionRequested||(this.updateTitleActions(),this.isTitleActionRequested=!0),this.titleActions},P.prototype.updateTitleActions=function(){var m=[];this.survey&&(m=this.survey.getUpdatedElementTitleActions(this,m)),this.setPropertyValue("titleActions",m)},Object.defineProperty(P.prototype,"hasTitleActions",{get:function(){return this.getTitleActions().length>0},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"hasTitleEvents",{get:function(){return this.state!==void 0&&this.state!=="default"},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"titleTabIndex",{get:function(){return!this.isPage&&this.state!=="default"?0:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"titleAriaExpanded",{get:function(){if(!(this.isPage||this.state==="default"))return this.state==="expanded"},enumerable:!1,configurable:!0}),P.prototype.setSurveyImpl=function(m,y){this.surveyImplValue=m,this.surveyImplValue?(this.surveyDataValue=this.surveyImplValue.getSurveyData(),this.setSurveyCore(this.surveyImplValue.getSurvey()),this.textProcessorValue=this.surveyImplValue.getTextProcessor(),this.onSetData()):this.setSurveyCore(null),this.survey&&this.clearCssClasses()},P.prototype.canRunConditions=function(){return p.prototype.canRunConditions.call(this)&&!!this.data},P.prototype.getDataFilteredValues=function(){return this.data?this.data.getFilteredValues():null},P.prototype.getDataFilteredProperties=function(){var m=this.data?this.data.getFilteredProperties():{};return m.question=this,m},Object.defineProperty(P.prototype,"surveyImpl",{get:function(){return this.surveyImplValue},enumerable:!1,configurable:!0}),P.prototype.__setData=function(m){S.settings.supportCreatorV2&&(this.surveyDataValue=m)},Object.defineProperty(P.prototype,"data",{get:function(){return this.surveyDataValue},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"survey",{get:function(){return this.getSurvey()},enumerable:!1,configurable:!0}),P.prototype.getSurvey=function(m){return this.surveyValue?this.surveyValue:(this.surveyImplValue&&this.setSurveyCore(this.surveyImplValue.getSurvey()),this.surveyValue)},P.prototype.setSurveyCore=function(m){this.surveyValue=m,this.surveyChangedCallback&&this.surveyChangedCallback()},Object.defineProperty(P.prototype,"isInternal",{get:function(){return this.isContentElement},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"areInvisibleElementsShowing",{get:function(){return!!this.survey&&this.survey.areInvisibleElementsShowing&&!this.isContentElement},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isVisible",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isReadOnly",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"readOnly",{get:function(){return this.getPropertyValue("readOnly",!1)},set:function(m){this.readOnly!=m&&(this.setPropertyValue("readOnly",m),this.isLoadingFromJson||this.setPropertyValue("isReadOnly",this.isReadOnly))},enumerable:!1,configurable:!0}),P.prototype.onReadOnlyChanged=function(){this.readOnlyChangedCallback&&this.readOnlyChangedCallback()},Object.defineProperty(P.prototype,"css",{get:function(){return this.survey?this.survey.getCss():{}},enumerable:!1,configurable:!0}),P.prototype.ensureCssClassesValue=function(){this.cssClassesValue||(this.cssClassesValue=this.calcCssClasses(this.css),this.updateElementCssCore(this.cssClassesValue))},Object.defineProperty(P.prototype,"cssClasses",{get:function(){return this.survey?(this.ensureCssClassesValue(),this.cssClassesValue):this.calcCssClasses(this.css)},enumerable:!1,configurable:!0}),P.prototype.calcCssClasses=function(m){},P.prototype.updateElementCssCore=function(m){},Object.defineProperty(P.prototype,"cssError",{get:function(){return""},enumerable:!1,configurable:!0}),P.prototype.updateElementCss=function(m){this.clearCssClasses()},P.prototype.clearCssClasses=function(){this.cssClassesValue=void 0},P.prototype.getIsLoadingFromJson=function(){return p.prototype.getIsLoadingFromJson.call(this)?!0:this.survey?this.survey.isLoadingFromJson:!1},Object.defineProperty(P.prototype,"name",{get:function(){return this.getPropertyValue("name","")},set:function(m){var y=this.name;this.setPropertyValue("name",this.getValidName(m)),!this.isLoadingFromJson&&y&&this.onNameChanged(y)},enumerable:!1,configurable:!0}),P.prototype.getValidName=function(m){return m},P.prototype.onNameChanged=function(m){},P.prototype.updateBindingValue=function(m,y){this.data&&!this.isTwoValueEquals(y,this.data.getValue(m))&&this.data.setValue(m,y,!1)},Object.defineProperty(P.prototype,"errors",{get:function(){return this.getPropertyValue("errors")},set:function(m){this.setPropertyValue("errors",m)},enumerable:!1,configurable:!0}),P.prototype.updateVisibleErrors=function(){for(var m=0,y=0;y<this.errors.length;y++)this.errors[y].visible&&m++;this.hasVisibleErrors=m>0},Object.defineProperty(P.prototype,"containsErrors",{get:function(){return this.getPropertyValue("containsErrors",!1)},enumerable:!1,configurable:!0}),P.prototype.updateContainsErrors=function(){this.setPropertyValue("containsErrors",this.getContainsErrors())},P.prototype.getContainsErrors=function(){return this.errors.length>0},P.prototype.getElementsInDesign=function(m){return[]},Object.defineProperty(P.prototype,"selectedElementInDesign",{get:function(){return this.selectedElementInDesignValue},set:function(m){this.selectedElementInDesignValue=m},enumerable:!1,configurable:!0}),P.prototype.updateCustomWidgets=function(){},P.prototype.onSurveyLoad=function(){},P.prototype.onFirstRendering=function(){this.ensureCssClassesValue()},P.prototype.endLoadingFromJson=function(){p.prototype.endLoadingFromJson.call(this),this.survey||this.onSurveyLoad()},P.prototype.setVisibleIndex=function(m){return 0},Object.defineProperty(P.prototype,"isPage",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isPanel",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),P.prototype.delete=function(){},P.prototype.getLocale=function(){return this.survey?this.survey.getLocale():this.locOwner?this.locOwner.getLocale():""},P.prototype.getMarkdownHtml=function(m,y){return this.survey?this.survey.getSurveyMarkdownHtml(this,m,y):this.locOwner?this.locOwner.getMarkdownHtml(m,y):null},P.prototype.getRenderer=function(m){return this.survey&&typeof this.survey.getRendererForString=="function"?this.survey.getRendererForString(this,m):this.locOwner&&typeof this.locOwner.getRenderer=="function"?this.locOwner.getRenderer(m):null},P.prototype.getRendererContext=function(m){return this.survey&&typeof this.survey.getRendererContextForString=="function"?this.survey.getRendererContextForString(this,m):this.locOwner&&typeof this.locOwner.getRendererContext=="function"?this.locOwner.getRendererContext(m):m},P.prototype.getProcessedText=function(m){return this.isLoadingFromJson?m:this.textProcessor?this.textProcessor.processText(m,this.getUseDisplayValuesInTitle()):this.locOwner?this.locOwner.getProcessedText(m):m},P.prototype.getUseDisplayValuesInTitle=function(){return!0},P.prototype.removeSelfFromList=function(m){if(!(!m||!Array.isArray(m))){var y=m.indexOf(this);y>-1&&m.splice(y,1)}},Object.defineProperty(P.prototype,"textProcessor",{get:function(){return this.textProcessorValue},enumerable:!1,configurable:!0}),P.prototype.getProcessedHtml=function(m){return!m||!this.textProcessor?m:this.textProcessor.processText(m,!0)},P.prototype.onSetData=function(){},Object.defineProperty(P.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(m){this.setPropertyValue("parent",m)},enumerable:!1,configurable:!0}),P.prototype.getPage=function(m){for(;m&&m.parent;)m=m.parent;return m&&m.getType()=="page"?m:null},P.prototype.moveToBase=function(m,y,R){if(R===void 0&&(R=null),!y)return!1;m.removeElement(this);var b=-1;return w.Helpers.isNumber(R)&&(b=parseInt(R)),b==-1&&R&&R.getType&&(b=y.indexOf(R)),y.addElement(this,b),!0},P.prototype.setPage=function(m,y){var R=this.getPage(m);if(typeof y=="string"){var b=this.getSurvey();b.pages.forEach(function(c){y===c.name&&(y=c)})}R!==y&&(m&&m.removeElement(this),y&&y.addElement(this,-1))},P.prototype.getSearchableLocKeys=function(m){m.push("title"),m.push("description")},Object.defineProperty(P.prototype,"isDefaultV2Theme",{get:function(){return this.survey&&this.survey.getCss().root=="sd-root-modern"},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isErrorsModeTooltip",{get:function(){return this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"hasParent",{get:function(){return this.parent&&!this.parent.isPage||this.parent===void 0},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"hasFrameV2",{get:function(){return!this.hasParent&&this.isDefaultV2Theme&&!this.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"width",{get:function(){return this.getPropertyValue("width","")},set:function(m){this.setPropertyValue("width",m)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(m){this.setPropertyValue("minWidth",m)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"maxWidth",{get:function(){return this.getPropertyValue("maxWidth")},set:function(m){this.setPropertyValue("maxWidth",m)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"renderWidth",{get:function(){return this.getPropertyValue("renderWidth","")},set:function(m){this.setPropertyValue("renderWidth",m)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"indent",{get:function(){return this.getPropertyValue("indent")},set:function(m){this.setPropertyValue("indent",m)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"rightIndent",{get:function(){return this.getPropertyValue("rightIndent",0)},set:function(m){this.setPropertyValue("rightIndent",m)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"paddingLeft",{get:function(){return this.getPropertyValue("paddingLeft","")},set:function(m){this.setPropertyValue("paddingLeft",m)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"paddingRight",{get:function(){return this.getPropertyValue("paddingRight","")},set:function(m){this.setPropertyValue("paddingRight",m)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"rootStyle",{get:function(){var m={};return this.allowRootStyle&&this.renderWidth&&(m.width=this.renderWidth,m.flexGrow=1,m.flexShrink=1,m.flexBasis=this.renderWidth,m.minWidth=this.minWidth,m.maxWidth=this.maxWidth),m},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"clickTitleFunction",{get:function(){var m=this;if(this.needClickTitleFunction())return function(){return m.processTitleClick()}},enumerable:!1,configurable:!0}),P.prototype.needClickTitleFunction=function(){return this.state!=="default"},P.prototype.processTitleClick=function(){this.state!=="default"&&this.toggleState()},P.CreateDisabledDesignElements=!1,u([Object(d.property)({defaultValue:null})],P.prototype,"dragTypeOverMe",void 0),u([Object(d.property)({defaultValue:!1})],P.prototype,"isDragMe",void 0),u([Object(d.property)()],P.prototype,"cssClassesValue",void 0),u([Object(d.property)({defaultValue:!1})],P.prototype,"hasVisibleErrors",void 0),u([Object(d.property)({defaultValue:!0})],P.prototype,"allowRootStyle",void 0),P}(g)},"./src/survey-error.ts":function(a,r,t){t.r(r),t.d(r,"SurveyError",function(){return C});var d=t("./src/localizablestring.ts"),C=function(){function M(w,S){w===void 0&&(w=null),S===void 0&&(S=null),this.text=w,this.errorOwner=S,this.visible=!0}return M.prototype.equalsTo=function(w){return!w||!w.getErrorType||this.getErrorType()!==w.getErrorType()?!1:this.text===w.text&&this.visible===w.visible},Object.defineProperty(M.prototype,"locText",{get:function(){return this.locTextValue||(this.locTextValue=new d.LocalizableString(this.errorOwner,!0),this.locTextValue.text=this.getText()),this.locTextValue},enumerable:!1,configurable:!0}),M.prototype.getText=function(){var w=this.text;return w||(w=this.getDefaultText()),this.errorOwner&&(w=this.errorOwner.getErrorCustomText(w,this)),w},M.prototype.getErrorType=function(){return"base"},M.prototype.getDefaultText=function(){return""},M}()},"./src/survey.ts":function(a,r,t){t.r(r),t.d(r,"SurveyModel",function(){return D});var d=t("./src/helpers.ts"),C=t("./src/jsonobject.ts"),M=t("./src/base.ts"),w=t("./src/survey-element.ts"),S=t("./src/defaultCss/cssstandard.ts"),x=t("./src/textPreProcessor.ts"),h=t("./src/conditionProcessValue.ts"),u=t("./src/dxSurveyService.ts"),g=t("./src/surveyStrings.ts"),f=t("./src/error.ts"),i=t("./src/localizablestring.ts"),p=t("./src/stylesmanager.ts"),P=t("./src/surveyTimerModel.ts"),m=t("./src/conditions.ts"),y=t("./src/settings.ts"),R=t("./src/utils/utils.ts"),b=t("./src/actions/action.ts"),c=t("./src/actions/container.ts"),E=t("./src/utils/cssClassBuilder.ts"),I=function(){var O=function(l,o){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,T){v.__proto__=T}||function(v,T){for(var L in T)Object.prototype.hasOwnProperty.call(T,L)&&(v[L]=T[L])},O(l,o)};return function(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");O(l,o);function v(){this.constructor=l}l.prototype=o===null?Object.create(o):(v.prototype=o.prototype,new v)}}(),A=function(O,l,o,v){var T=arguments.length,L=T<3?l:v===null?v=Object.getOwnPropertyDescriptor(l,o):v,V;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(O,l,o,v);else for(var _=O.length-1;_>=0;_--)(V=O[_])&&(L=(T<3?V(L):T>3?V(l,o,L):V(l,o))||L);return T>3&&L&&Object.defineProperty(l,o,L),L},D=function(O){I(l,O);function l(o,v){o===void 0&&(o=null),v===void 0&&(v=null);var T=O.call(this)||this;T.valuesHash={},T.variablesHash={},T.localeValue="",T.onCompleting=T.addEvent(),T.onComplete=T.addEvent(),T.onShowingPreview=T.addEvent(),T.onNavigateToUrl=T.addEvent(),T.onStarted=T.addEvent(),T.onPartialSend=T.addEvent(),T.onCurrentPageChanging=T.addEvent(),T.onCurrentPageChanged=T.addEvent(),T.onValueChanging=T.addEvent(),T.onValueChanged=T.addEvent(),T.onVariableChanged=T.addEvent(),T.onVisibleChanged=T.addEvent(),T.onPageVisibleChanged=T.addEvent(),T.onPanelVisibleChanged=T.addEvent(),T.onQuestionCreated=T.addEvent(),T.onQuestionAdded=T.addEvent(),T.onQuestionRemoved=T.addEvent(),T.onPanelAdded=T.addEvent(),T.onPanelRemoved=T.addEvent(),T.onPageAdded=T.addEvent(),T.onValidateQuestion=T.addEvent(),T.onSettingQuestionErrors=T.addEvent(),T.onServerValidateQuestions=T.addEvent(),T.onValidatePanel=T.addEvent(),T.onErrorCustomText=T.addEvent(),T.onValidatedErrorsOnCurrentPage=T.addEvent(),T.onProcessHtml=T.addEvent(),T.onGetQuestionTitle=T.addEvent(),T.onGetTitleTagName=T.addEvent(),T.onGetQuestionNo=T.addEvent(),T.onProgressText=T.addEvent(),T.onTextMarkdown=T.addEvent(),T.onTextRenderAs=T.addEvent(),T.onSendResult=T.addEvent(),T.onGetResult=T.addEvent(),T.onUploadFiles=T.addEvent(),T.onDownloadFile=T.addEvent(),T.onClearFiles=T.addEvent(),T.onLoadChoicesFromServer=T.addEvent(),T.onLoadedSurveyFromService=T.addEvent(),T.onProcessTextValue=T.addEvent(),T.onUpdateQuestionCssClasses=T.addEvent(),T.onUpdatePanelCssClasses=T.addEvent(),T.onUpdatePageCssClasses=T.addEvent(),T.onUpdateChoiceItemCss=T.addEvent(),T.onAfterRenderSurvey=T.addEvent(),T.onAfterRenderHeader=T.addEvent(),T.onAfterRenderPage=T.addEvent(),T.onAfterRenderQuestion=T.addEvent(),T.onAfterRenderQuestionInput=T.addEvent(),T.onAfterRenderPanel=T.addEvent(),T.onFocusInQuestion=T.addEvent(),T.onFocusInPanel=T.addEvent(),T.onShowingChoiceItem=T.addEvent(),T.onMatrixRowAdded=T.addEvent(),T.onMatrixBeforeRowAdded=T.addEvent(),T.onMatrixRowRemoving=T.addEvent(),T.onMatrixRowRemoved=T.addEvent(),T.onMatrixAllowRemoveRow=T.addEvent(),T.onMatrixCellCreating=T.addEvent(),T.onMatrixCellCreated=T.addEvent(),T.onMatrixAfterCellRender=T.addEvent(),T.onMatrixCellValueChanged=T.addEvent(),T.onMatrixCellValueChanging=T.addEvent(),T.onMatrixCellValidate=T.addEvent(),T.onDynamicPanelAdded=T.addEvent(),T.onDynamicPanelRemoved=T.addEvent(),T.onTimer=T.addEvent(),T.onTimerPanelInfoText=T.addEvent(),T.onDynamicPanelItemValueChanged=T.addEvent(),T.onIsAnswerCorrect=T.addEvent(),T.onDragDropAllow=T.addEvent(),T.onScrollingElementToTop=T.addEvent(),T.onLocaleChangedEvent=T.addEvent(),T.onGetQuestionTitleActions=T.addEvent(),T.onGetPanelTitleActions=T.addEvent(),T.onGetPageTitleActions=T.addEvent(),T.onGetMatrixRowActions=T.addEvent(),T.onElementContentVisibilityChanged=T.addEvent(),T.onGetExpressionDisplayValue=T.addEvent(),T.jsonErrors=null,T.cssValue=null,T.hideRequiredErrors=!1,T._isMobile=!1,T._isDesignMode=!1,T.ignoreValidation=!1,T.isNavigationButtonPressed=!1,T.mouseDownPage=null,T.isCalculatingProgressText=!1,T.isFirstPageRendering=!0,T.isCurrentPageRendering=!0,T.isTriggerIsRunning=!1,T.triggerValues=null,T.triggerKeys=null,T.conditionValues=null,T.isValueChangedOnRunningCondition=!1,T.conditionRunnerCounter=0,T.conditionUpdateVisibleIndexes=!1,T.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,T.isEndLoadingFromJson=null,T.questionHashes={names:{},namesInsensitive:{},valueNames:{},valueNamesInsensitive:{}},T.needRenderIcons=!0,T.skeletonComponentName="sv-skeleton",typeof document<"u"&&(l.stylesManager=new p.StylesManager);var L=function(V){return"<h3>"+V+"</h3>"};return T.createHtmlLocString("completedHtml","completingSurvey",L),T.createHtmlLocString("completedBeforeHtml","completingSurveyBefore",L),T.createHtmlLocString("loadingHtml","loadingSurvey",L),T.createLocalizableString("logo",T,!1),T.createLocalizableString("startSurveyText",T,!1,!0),T.createLocalizableString("pagePrevText",T,!1,!0),T.createLocalizableString("pageNextText",T,!1,!0),T.createLocalizableString("completeText",T,!1,!0),T.createLocalizableString("previewText",T,!1,!0),T.createLocalizableString("editText",T,!1,!0),T.createLocalizableString("questionTitleTemplate",T,!0),T.textPreProcessor=new x.TextPreProcessor,T.textPreProcessor.onProcess=function(V){T.getProcessedTextValue(V)},T.timerModelValue=new P.SurveyTimerModel(T),T.timerModelValue.onTimer=function(V){T.doTimer(V)},T.createNewArray("pages",function(V){T.doOnPageAdded(V)},function(V){T.doOnPageRemoved(V)}),T.createNewArray("triggers",function(V){V.setOwner(T)}),T.createNewArray("calculatedValues",function(V){V.setOwner(T)}),T.createNewArray("completedHtmlOnCondition",function(V){V.locOwner=T}),T.createNewArray("navigateToUrlOnCondition",function(V){V.locOwner=T}),T.registerFunctionOnPropertyValueChanged("firstPageIsStarted",function(){T.onFirstPageIsStartedChanged()}),T.registerFunctionOnPropertyValueChanged("mode",function(){T.onModeChanged()}),T.registerFunctionOnPropertyValueChanged("progressBarType",function(){T.updateProgressText()}),T.registerFunctionOnPropertiesValueChanged(["questionStartIndex","requiredText","questionTitlePattern"],function(){T.resetVisibleIndexes()}),T.registerFunctionOnPropertiesValueChanged(["isLoading","isCompleted","isCompletedBefore","mode","isStartedState","currentPage"],function(){T.updateState()}),T.registerFunctionOnPropertiesValueChanged(["state","currentPage","showPreviewBeforeComplete"],function(){T.onStateAndCurrentPageChanged()}),T.onGetQuestionNo.onCallbacksChanged=function(){T.resetVisibleIndexes()},T.onProgressText.onCallbacksChanged=function(){T.updateProgressText()},T.onTextMarkdown.onCallbacksChanged=function(){T.locStrsChanged()},T.onProcessHtml.onCallbacksChanged=function(){T.locStrsChanged()},T.onGetQuestionTitle.onCallbacksChanged=function(){T.locStrsChanged()},T.onUpdatePageCssClasses.onCallbacksChanged=function(){T.currentPage&&T.currentPage.updateElementCss()},T.onUpdatePanelCssClasses.onCallbacksChanged=function(){T.currentPage&&T.currentPage.updateElementCss()},T.onUpdateQuestionCssClasses.onCallbacksChanged=function(){T.currentPage&&T.currentPage.updateElementCss()},T.onShowingChoiceItem.onCallbacksChanged=function(){T.rebuildQuestionChoices()},T.navigationBarValue=T.createNavigationBar(),T.onBeforeCreating(),o&&((typeof o=="string"||o instanceof String)&&(o=JSON.parse(o)),o&&o.clientId&&(T.clientId=o.clientId),T.fromJSON(o),T.surveyId&&T.loadSurveyFromService(T.surveyId,T.clientId)),T.onCreating(),v&&T.render(v),T.updateCss(),T}return Object.defineProperty(l,"cssType",{get:function(){return S.surveyCss.currentType},set:function(o){p.StylesManager.applyTheme(o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"platformName",{get:function(){return l.platform},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"commentPrefix",{get:function(){return y.settings.commentPrefix},set:function(o){y.settings.commentPrefix=o},enumerable:!1,configurable:!0}),l.prototype.createHtmlLocString=function(o,v,T){this.createLocalizableString(o,this,!1,v).onGetLocalizationTextCallback=T},l.prototype.getType=function(){return"survey"},l.prototype.onPropertyValueChanged=function(o,v,T){o==="questionsOnPageMode"&&this.onQuestionsOnPageModeChanged(v)},Object.defineProperty(l.prototype,"pages",{get:function(){return this.getPropertyValue("pages")},enumerable:!1,configurable:!0}),l.prototype.render=function(o){this.renderCallback&&this.renderCallback()},l.prototype.updateSurvey=function(o,v){var T=function(){if(V=="model"||V=="children")return"continue";if(V.indexOf("on")==0&&L[V]&&L[V].add){var _=o[V],B=function(k,U){_(k,U)};L[V].add(B)}else L[V]=o[V]},L=this;for(var V in o)T();o&&o.data&&this.onValueChanged.add(function(_,B){o.data[B.name]=B.value})},l.prototype.getCss=function(){return this.css},l.prototype.updateCompletedPageCss=function(){this.containerCss=this.css.container,this.completedCss=new E.CssClassBuilder().append(this.css.body).append(this.css.completedPage).toString()},l.prototype.updateCss=function(){this.rootCss=this.getRootCss(),this.updateNavigationCss(),this.updateCompletedPageCss()},Object.defineProperty(l.prototype,"css",{get:function(){return this.cssValue||(this.cssValue={},this.copyCssClasses(this.cssValue,S.surveyCss.getCss())),this.cssValue},set:function(o){this.mergeValues(o,this.css),this.updateCss(),this.updateElementCss(!1)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"cssTitle",{get:function(){return this.css.title},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"cssNavigationComplete",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.complete)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"cssNavigationPreview",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.preview)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"cssNavigationEdit",{get:function(){return this.getNavigationCss(this.css.navigationButton,this.css.navigation.edit)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"cssNavigationPrev",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.prev)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"cssNavigationStart",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.start)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"cssNavigationNext",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.next)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"cssSurveyNavigationButton",{get:function(){return new E.CssClassBuilder().append(this.css.navigationButton).append(this.css.bodyNavigationButton).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"bodyCss",{get:function(){return new E.CssClassBuilder().append(this.css.body).append(this.css.body+"--"+this.calculateWidthMode()).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"completedStateCss",{get:function(){return this.getPropertyValue("completedStateCss","")},enumerable:!1,configurable:!0}),l.prototype.getCompletedStateCss=function(){return new E.CssClassBuilder().append(this.css.saveData[this.completedState],this.completedState!=="").toString()},l.prototype.getNavigationCss=function(o,v){return new E.CssClassBuilder().append(o).append(v).toString()},Object.defineProperty(l.prototype,"lazyRendering",{get:function(){return this.lazyRenderingValue===!0},set:function(o){if(this.lazyRendering!==o){this.lazyRenderingValue=o;var v=this.currentPage;v&&v.updateRows()}},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isLazyRendering",{get:function(){return this.lazyRendering||y.settings.lazyRowsRendering},enumerable:!1,configurable:!0}),l.prototype.updateLazyRenderingRowsOnRemovingElements=function(){if(this.isLazyRendering){var o=this.currentPage;o&&Object(R.scrollElementByChildId)(o.id)}},Object.defineProperty(l.prototype,"triggers",{get:function(){return this.getPropertyValue("triggers")},set:function(o){this.setPropertyValue("triggers",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"calculatedValues",{get:function(){return this.getPropertyValue("calculatedValues")},set:function(o){this.setPropertyValue("calculatedValues",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"surveyId",{get:function(){return this.getPropertyValue("surveyId","")},set:function(o){this.setPropertyValue("surveyId",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"surveyPostId",{get:function(){return this.getPropertyValue("surveyPostId","")},set:function(o){this.setPropertyValue("surveyPostId",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"clientId",{get:function(){return this.getPropertyValue("clientId","")},set:function(o){this.setPropertyValue("clientId",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"cookieName",{get:function(){return this.getPropertyValue("cookieName","")},set:function(o){this.setPropertyValue("cookieName",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"sendResultOnPageNext",{get:function(){return this.getPropertyValue("sendResultOnPageNext",!1)},set:function(o){this.setPropertyValue("sendResultOnPageNext",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"surveyShowDataSaving",{get:function(){return this.getPropertyValue("surveyShowDataSaving",!1)},set:function(o){this.setPropertyValue("surveyShowDataSaving",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"focusFirstQuestionAutomatic",{get:function(){return this.getPropertyValue("focusFirstQuestionAutomatic")},set:function(o){this.setPropertyValue("focusFirstQuestionAutomatic",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"focusOnFirstError",{get:function(){return this.getPropertyValue("focusOnFirstError")},set:function(o){this.setPropertyValue("focusOnFirstError",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"showNavigationButtons",{get:function(){return this.getPropertyValue("showNavigationButtons")},set:function(o){(o===!0||o===void 0)&&(o="bottom"),o===!1&&(o="none"),this.setPropertyValue("showNavigationButtons",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"showPrevButton",{get:function(){return this.getPropertyValue("showPrevButton")},set:function(o){this.setPropertyValue("showPrevButton",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"showTitle",{get:function(){return this.getPropertyValue("showTitle")},set:function(o){this.setPropertyValue("showTitle",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"showPageTitles",{get:function(){return this.getPropertyValue("showPageTitles")},set:function(o){this.setPropertyValue("showPageTitles",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"showCompletedPage",{get:function(){return this.getPropertyValue("showCompletedPage")},set:function(o){this.setPropertyValue("showCompletedPage",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"navigateToUrl",{get:function(){return this.getPropertyValue("navigateToUrl")},set:function(o){this.setPropertyValue("navigateToUrl",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"navigateToUrlOnCondition",{get:function(){return this.getPropertyValue("navigateToUrlOnCondition")},set:function(o){this.setPropertyValue("navigateToUrlOnCondition",o)},enumerable:!1,configurable:!0}),l.prototype.getNavigateToUrl=function(){var o=this.getExpressionItemOnRunCondition(this.navigateToUrlOnCondition),v=o?o.url:this.navigateToUrl;return v&&(v=this.processText(v,!0)),v},l.prototype.navigateTo=function(){var o=this.getNavigateToUrl(),v={url:o};this.onNavigateToUrl.fire(this,v),!(!v.url||typeof window>"u"||!window.location)&&(window.location.href=v.url)},Object.defineProperty(l.prototype,"requiredText",{get:function(){return this.getPropertyValue("requiredText","*")},set:function(o){this.setPropertyValue("requiredText",o)},enumerable:!1,configurable:!0}),l.prototype.beforeSettingQuestionErrors=function(o,v){this.maakeRequiredErrorsInvisibgle(v),this.onSettingQuestionErrors.fire(this,{question:o,errors:v})},l.prototype.beforeSettingPanelErrors=function(o,v){this.maakeRequiredErrorsInvisibgle(v)},l.prototype.maakeRequiredErrorsInvisibgle=function(o){if(this.hideRequiredErrors)for(var v=0;v<o.length;v++){var T=o[v].getErrorType();(T=="required"||T=="requireoneanswer")&&(o[v].visible=!1)}},Object.defineProperty(l.prototype,"questionStartIndex",{get:function(){return this.getPropertyValue("questionStartIndex","")},set:function(o){this.setPropertyValue("questionStartIndex",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"storeOthersAsComment",{get:function(){return this.getPropertyValue("storeOthersAsComment")},set:function(o){this.setPropertyValue("storeOthersAsComment",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"maxTextLength",{get:function(){return this.getPropertyValue("maxTextLength")},set:function(o){this.setPropertyValue("maxTextLength",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"maxOthersLength",{get:function(){return this.getPropertyValue("maxOthersLength")},set:function(o){this.setPropertyValue("maxOthersLength",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"goNextPageAutomatic",{get:function(){return this.getPropertyValue("goNextPageAutomatic",!1)},set:function(o){this.setPropertyValue("goNextPageAutomatic",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"allowCompleteSurveyAutomatic",{get:function(){return this.getPropertyValue("allowCompleteSurveyAutomatic",!0)},set:function(o){this.setPropertyValue("allowCompleteSurveyAutomatic",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"checkErrorsMode",{get:function(){return this.getPropertyValue("checkErrorsMode")},set:function(o){this.setPropertyValue("checkErrorsMode",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"autoGrowComment",{get:function(){return this.getPropertyValue("autoGrowComment")},set:function(o){this.setPropertyValue("autoGrowComment",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"textUpdateMode",{get:function(){return this.getPropertyValue("textUpdateMode")},set:function(o){this.setPropertyValue("textUpdateMode",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"clearInvisibleValues",{get:function(){return this.getPropertyValue("clearInvisibleValues")},set:function(o){o===!0&&(o="onComplete"),o===!1&&(o="none"),this.setPropertyValue("clearInvisibleValues",o)},enumerable:!1,configurable:!0}),l.prototype.clearIncorrectValues=function(o){o===void 0&&(o=!1);for(var v=0;v<this.pages.length;v++)this.pages[v].clearIncorrectValues();if(o){var T=this.data,L=!1;for(var V in T)if(!this.getQuestionByValueName(V)&&!(this.iscorrectValueWithPostPrefix(V,y.settings.commentPrefix)||this.iscorrectValueWithPostPrefix(V,y.settings.matrixTotalValuePostFix))){var _=this.getCalculatedValueByName(V);_&&_.includeIntoResult||(L=!0,delete T[V])}L&&(this.data=T)}},l.prototype.iscorrectValueWithPostPrefix=function(o,v){return o.indexOf(v)!==o.length-v.length?!1:!!this.getQuestionByValueName(o.substr(0,o.indexOf(v)))},Object.defineProperty(l.prototype,"locale",{get:function(){return this.localeValue},set:function(o){g.surveyLocalization.currentLocale=o,this.localeValue=g.surveyLocalization.currentLocale,this.setPropertyValue("locale",this.localeValue),!this.isLoadingFromJson&&(this.notifyElementsOnAnyValueOrVariableChanged("locale"),this.localeChanged(),this.onLocaleChangedEvent.fire(this,o))},enumerable:!1,configurable:!0}),l.prototype.getUsedLocales=function(){var o=new Array;this.addUsedLocales(o);var v=o.indexOf("default");if(v>-1){var T=g.surveyLocalization.defaultLocale,L=o.indexOf(T);L>-1&&o.splice(L,1),v=o.indexOf("default"),o[v]=T}return o},l.prototype.localeChanged=function(){for(var o=0;o<this.pages.length;o++)this.pages[o].localeChanged()},l.prototype.getLocale=function(){return this.locale},l.prototype.locStrsChanged=function(){if(O.prototype.locStrsChanged.call(this),!!this.currentPage){this.updateProgressText();var o=this.activePage;o&&o.locStrsChanged();for(var v=this.visiblePages,T=0;T<v.length;T++)v[T].navigationLocStrChanged()}},l.prototype.getMarkdownHtml=function(o,v){return this.getSurveyMarkdownHtml(this,o,v)},l.prototype.getRenderer=function(o){return this.getRendererForString(this,o)},l.prototype.getRendererContext=function(o){return this.getRendererContextForString(this,o)},l.prototype.getRendererForString=function(o,v){var T=this.getBuiltInRendererForString(o,v),L={element:o,name:v,renderAs:T};return this.onTextRenderAs.fire(this,L),L.renderAs},l.prototype.getRendererContextForString=function(o,v){return v},l.prototype.getExpressionDisplayValue=function(o,v,T){var L={question:o,value:v,displayValue:T};return this.onGetExpressionDisplayValue.fire(this,L),L.displayValue},l.prototype.getBuiltInRendererForString=function(o,v){if(this.isDesignMode)return i.LocalizableString.editableRenderer},l.prototype.getProcessedText=function(o){return this.processText(o,!0)},l.prototype.getLocString=function(o){return g.surveyLocalization.getString(o)},l.prototype.getErrorCustomText=function(o,v){return this.getSurveyErrorCustomText(this,o,v)},l.prototype.getSurveyErrorCustomText=function(o,v,T){var L={text:v,name:T.getErrorType(),obj:o,error:T};return this.onErrorCustomText.fire(this,L),L.text},Object.defineProperty(l.prototype,"emptySurveyText",{get:function(){return this.getLocString("emptySurvey")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"logo",{get:function(){return this.getLocalizableStringText("logo")},set:function(o){this.setLocalizableStringText("logo",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locLogo",{get:function(){return this.getLocalizableString("logo")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"logoWidth",{get:function(){var o=this.getPropertyValue("logoWidth");return Object(R.getSize)(o)},set:function(o){this.setPropertyValue("logoWidth",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"logoHeight",{get:function(){var o=this.getPropertyValue("logoHeight");return Object(R.getSize)(o)},set:function(o){this.setPropertyValue("logoHeight",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"logoPosition",{get:function(){return this.getPropertyValue("logoPosition")},set:function(o){this.setPropertyValue("logoPosition",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"hasLogo",{get:function(){return!!this.logo&&this.logoPosition!=="none"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isLogoBefore",{get:function(){return this.isDesignMode?!1:this.renderedHasLogo&&(this.logoPosition==="left"||this.logoPosition==="top")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isLogoAfter",{get:function(){return this.isDesignMode?this.renderedHasLogo:this.renderedHasLogo&&(this.logoPosition==="right"||this.logoPosition==="bottom")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"logoClassNames",{get:function(){var o={left:"sv-logo--left",right:"sv-logo--right",top:"sv-logo--top",bottom:"sv-logo--bottom"};return new E.CssClassBuilder().append(this.css.logo).append(o[this.logoPosition]).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"renderedHasTitle",{get:function(){return this.isDesignMode?this.isPropertyVisible("title"):!this.locTitle.isEmpty&&this.showTitle},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"renderedHasDescription",{get:function(){return this.isDesignMode?this.isPropertyVisible("description"):!!this.hasDescription},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"hasTitle",{get:function(){return this.renderedHasTitle},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"renderedHasLogo",{get:function(){return this.isDesignMode?this.isPropertyVisible("logo"):this.hasLogo},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"renderedHasHeader",{get:function(){return this.renderedHasTitle||this.renderedHasLogo},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"logoFit",{get:function(){return this.getPropertyValue("logoFit")},set:function(o){this.setPropertyValue("logoFit",o)},enumerable:!1,configurable:!0}),l.prototype.setIsMobile=function(o){o===void 0&&(o=!0),this.isMobile!==o&&(this._isMobile=o,this.updateCss(),this.getAllQuestions().map(function(v){return v.isMobile=o}))},Object.defineProperty(l.prototype,"isMobile",{get:function(){return this._isMobile},enumerable:!1,configurable:!0}),l.prototype.isLogoImageChoosen=function(){return this.locLogo.renderedHtml},Object.defineProperty(l.prototype,"titleMaxWidth",{get:function(){if(!(Object(R.isMobile)()||this.isMobile)&&!this.isValueEmpty(this.isLogoImageChoosen())&&!y.settings.supportCreatorV2){var o=this.logoWidth;if(this.logoPosition==="left"||this.logoPosition==="right")return"calc(100% - 5px - 2em - "+o+")"}return""},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"completedHtml",{get:function(){return this.getLocalizableStringText("completedHtml")},set:function(o){this.setLocalizableStringText("completedHtml",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locCompletedHtml",{get:function(){return this.getLocalizableString("completedHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"completedHtmlOnCondition",{get:function(){return this.getPropertyValue("completedHtmlOnCondition")},set:function(o){this.setPropertyValue("completedHtmlOnCondition",o)},enumerable:!1,configurable:!0}),l.prototype.runExpression=function(o){if(!o)return null;var v=this.getFilteredValues(),T=this.getFilteredProperties();return new m.ExpressionRunner(o).run(v,T)},l.prototype.runCondition=function(o){if(!o)return!1;var v=this.getFilteredValues(),T=this.getFilteredProperties();return new m.ConditionRunner(o).run(v,T)},l.prototype.runTriggers=function(){this.checkTriggers(this.getFilteredValues(),!1)},Object.defineProperty(l.prototype,"renderedCompletedHtml",{get:function(){var o=this.getExpressionItemOnRunCondition(this.completedHtmlOnCondition);return o?o.html:this.completedHtml},enumerable:!1,configurable:!0}),l.prototype.getExpressionItemOnRunCondition=function(o){if(o.length==0)return null;for(var v=this.getFilteredValues(),T=this.getFilteredProperties(),L=0;L<o.length;L++)if(o[L].runCondition(v,T))return o[L];return null},Object.defineProperty(l.prototype,"completedBeforeHtml",{get:function(){return this.getLocalizableStringText("completedBeforeHtml")},set:function(o){this.setLocalizableStringText("completedBeforeHtml",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locCompletedBeforeHtml",{get:function(){return this.getLocalizableString("completedBeforeHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"loadingHtml",{get:function(){return this.getLocalizableStringText("loadingHtml")},set:function(o){this.setLocalizableStringText("loadingHtml",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locLoadingHtml",{get:function(){return this.getLocalizableString("loadingHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"defaultLoadingHtml",{get:function(){return"<h3>"+this.getLocString("loadingSurvey")+"</h3>"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"navigationBar",{get:function(){return this.navigationBarValue},enumerable:!1,configurable:!0}),l.prototype.addNavigationItem=function(o){return o.component||(o.component="sv-nav-btn"),o.innerCss||(o.innerCss=this.cssSurveyNavigationButton),this.navigationBar.addAction(o)},Object.defineProperty(l.prototype,"startSurveyText",{get:function(){return this.getLocalizableStringText("startSurveyText")},set:function(o){this.setLocalizableStringText("startSurveyText",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locStartSurveyText",{get:function(){return this.getLocalizableString("startSurveyText")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"pagePrevText",{get:function(){return this.getLocalizableStringText("pagePrevText")},set:function(o){this.setLocalizableStringText("pagePrevText",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locPagePrevText",{get:function(){return this.getLocalizableString("pagePrevText")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"pageNextText",{get:function(){return this.getLocalizableStringText("pageNextText")},set:function(o){this.setLocalizableStringText("pageNextText",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locPageNextText",{get:function(){return this.getLocalizableString("pageNextText")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"completeText",{get:function(){return this.getLocalizableStringText("completeText")},set:function(o){this.setLocalizableStringText("completeText",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locCompleteText",{get:function(){return this.getLocalizableString("completeText")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"previewText",{get:function(){return this.getLocalizableStringText("previewText")},set:function(o){this.setLocalizableStringText("previewText",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locPreviewText",{get:function(){return this.getLocalizableString("previewText")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"editText",{get:function(){return this.getLocalizableStringText("editText")},set:function(o){this.setLocalizableStringText("editText",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locEditText",{get:function(){return this.getLocalizableString("editText")},enumerable:!1,configurable:!0}),l.prototype.getElementTitleTagName=function(o,v){if(this.onGetTitleTagName.isEmpty)return v;var T={element:o,tagName:v};return this.onGetTitleTagName.fire(this,T),T.tagName},Object.defineProperty(l.prototype,"questionTitlePattern",{get:function(){return this.getPropertyValue("questionTitlePattern","numTitleRequire")},set:function(o){o!=="numRequireTitle"&&o!=="requireNumTitle"&&o!="numTitle"&&(o="numTitleRequire"),this.setPropertyValue("questionTitlePattern",o)},enumerable:!1,configurable:!0}),l.prototype.getQuestionTitlePatternOptions=function(){var o=new Array,v=this.getLocString("questionTitlePatternText"),T=this.questionStartIndex?this.questionStartIndex:"1.";return o.push({value:"numTitleRequire",text:T+" "+v+" "+this.requiredText}),o.push({value:"numRequireTitle",text:T+" "+this.requiredText+" "+v}),o.push({value:"requireNumTitle",text:this.requiredText+" "+T+" "+v}),o.push({value:"numTitle",text:T+" "+v}),o},Object.defineProperty(l.prototype,"questionTitleTemplate",{get:function(){return this.getLocalizableStringText("questionTitleTemplate")},set:function(o){this.setLocalizableStringText("questionTitleTemplate",o),this.questionTitlePattern=this.getNewTitlePattern(o),this.questionStartIndex=this.getNewQuestionTitleElement(o,"no",this.questionStartIndex,"1"),this.requiredText=this.getNewQuestionTitleElement(o,"require",this.requiredText,"*")},enumerable:!1,configurable:!0}),l.prototype.getNewTitlePattern=function(o){if(o){for(var v=[];o.indexOf("{")>-1;){o=o.substr(o.indexOf("{")+1);var T=o.indexOf("}");if(T<0)break;v.push(o.substr(0,T)),o=o.substr(T+1)}if(v.length>1){if(v[0]=="require")return"requireNumTitle";if(v[1]=="require"&&v.length==3)return"numRequireTitle";if(v.indexOf("require")<0)return"numTitle"}if(v.length==1&&v[0]=="title")return"numTitle"}return"numTitleRequire"},l.prototype.getNewQuestionTitleElement=function(o,v,T,L){if(v="{"+v+"}",!o||o.indexOf(v)<0)return T;for(var V=o.indexOf(v),_="",B="",k=V-1;k>=0&&o[k]!="}";k--);for(k<V-1&&(_=o.substr(k+1,V-k-1)),V+=v.length,k=V;k<o.length&&o[k]!="{";k++);for(k>V&&(B=o.substr(V,k-V)),k=0;k<_.length&&_.charCodeAt(k)<33;)k++;for(_=_.substr(k),k=B.length-1;k>=0&&B.charCodeAt(k)<33;)k--;if(B=B.substr(0,k+1),!_&&!B)return T;var U=T||L;return _+U+B},Object.defineProperty(l.prototype,"locQuestionTitleTemplate",{get:function(){return this.getLocalizableString("questionTitleTemplate")},enumerable:!1,configurable:!0}),l.prototype.getUpdatedQuestionTitle=function(o,v){if(this.onGetQuestionTitle.isEmpty)return v;var T={question:o,title:v};return this.onGetQuestionTitle.fire(this,T),T.title},l.prototype.getUpdatedQuestionNo=function(o,v){if(this.onGetQuestionNo.isEmpty)return v;var T={question:o,no:v};return this.onGetQuestionNo.fire(this,T),T.no},Object.defineProperty(l.prototype,"showPageNumbers",{get:function(){return this.getPropertyValue("showPageNumbers",!1)},set:function(o){o!==this.showPageNumbers&&(this.setPropertyValue("showPageNumbers",o),this.updateVisibleIndexes())},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(o){o=o.toLowerCase(),o=o==="onpage"?"onPage":o,o!==this.showQuestionNumbers&&(this.setPropertyValue("showQuestionNumbers",o),this.updateVisibleIndexes())},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"showProgressBar",{get:function(){return this.getPropertyValue("showProgressBar")},set:function(o){this.setPropertyValue("showProgressBar",o.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"progressBarType",{get:function(){return this.getPropertyValue("progressBarType")},set:function(o){o==="correctquestion"&&(o="correctQuestion"),o==="requiredquestion"&&(o="requiredQuestion"),this.setPropertyValue("progressBarType",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isShowProgressBarOnTop",{get:function(){return this.canShowProresBar()?this.showProgressBar==="top"||this.showProgressBar==="both":!1},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isShowProgressBarOnBottom",{get:function(){return this.canShowProresBar()?this.showProgressBar==="bottom"||this.showProgressBar==="both":!1},enumerable:!1,configurable:!0}),l.prototype.canShowProresBar=function(){return!this.isShowingPreview||this.showPreviewBeforeComplete!="showAllQuestions"},Object.defineProperty(l.prototype,"processedTitle",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"questionTitleLocation",{get:function(){return this.getPropertyValue("questionTitleLocation")},set:function(o){this.setPropertyValue("questionTitleLocation",o.toLowerCase()),this.isLoadingFromJson||this.updateElementCss(!0)},enumerable:!1,configurable:!0}),l.prototype.updateElementCss=function(o){this.startedPage&&this.startedPage.updateElementCss(o);for(var v=this.visiblePages,T=0;T<v.length;T++)v[T].updateElementCss(o)},Object.defineProperty(l.prototype,"questionErrorLocation",{get:function(){return this.getPropertyValue("questionErrorLocation")},set:function(o){this.setPropertyValue("questionErrorLocation",o.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"questionDescriptionLocation",{get:function(){return this.getPropertyValue("questionDescriptionLocation")},set:function(o){this.setPropertyValue("questionDescriptionLocation",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"mode",{get:function(){return this.getPropertyValue("mode")},set:function(o){o=o.toLowerCase(),o!=this.mode&&(o!="edit"&&o!="display"||this.setPropertyValue("mode",o))},enumerable:!1,configurable:!0}),l.prototype.onModeChanged=function(){for(var o=0;o<this.pages.length;o++){var v=this.pages[o];v.setPropertyValue("isReadOnly",v.isReadOnly)}this.updateButtonsVisibility()},Object.defineProperty(l.prototype,"data",{get:function(){for(var o={},v=this.getValuesKeys(),T=0;T<v.length;T++){var L=v[T],V=this.getDataValueCore(this.valuesHash,L);V!==void 0&&(o[L]=V)}return this.setCalcuatedValuesIntoResult(o),o},set:function(o){this.valuesHash={},this.setDataCore(o)},enumerable:!1,configurable:!0}),l.prototype.mergeData=function(o){o&&this.setDataCore(o)},l.prototype.setDataCore=function(o){if(o)for(var v in o)this.setDataValueCore(this.valuesHash,v,o[v]);this.updateAllQuestionsValue(),this.notifyAllQuestionsOnValueChanged(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.runConditions(),this.updateAllQuestionsValue()},Object.defineProperty(l.prototype,"editingObj",{get:function(){return this.editingObjValue},set:function(o){var v=this;if(this.editingObj!=o&&(this.editingObj&&this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged),this.editingObjValue=o,!this.isDisposed)){if(!o)for(var T=this.getAllQuestions(),L=0;L<T.length;L++)T[L].unbindValue();this.editingObj&&(this.setDataCore({}),this.onEditingObjPropertyChanged=function(V,_){C.Serializer.hasOriginalProperty(v.editingObj,_.name)&&v.updateOnSetValue(_.name,v.editingObj[_.name],_.oldValue)},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))}},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isEditingSurveyElement",{get:function(){return!!this.editingObj},enumerable:!1,configurable:!0}),l.prototype.setCalcuatedValuesIntoResult=function(o){for(var v=0;v<this.calculatedValues.length;v++){var T=this.calculatedValues[v];T.includeIntoResult&&T.name&&this.getVariable(T.name)!==void 0&&(o[T.name]=this.getVariable(T.name))}},l.prototype.getAllValues=function(){return this.data},l.prototype.getPlainData=function(o){o||(o={includeEmpty:!0,includeQuestionTypes:!1});var v=[];return this.getAllQuestions().forEach(function(T){var L=T.getPlainData(o);L&&v.push(L)}),v},l.prototype.getFilteredValues=function(){var o={};for(var v in this.variablesHash)o[v]=this.variablesHash[v];this.addCalculatedValuesIntoFilteredValues(o);for(var T=this.getValuesKeys(),L=0;L<T.length;L++){var v=T[L];o[v]=this.getDataValueCore(this.valuesHash,v)}return o},l.prototype.addCalculatedValuesIntoFilteredValues=function(o){for(var v=this.calculatedValues,T=0;T<v.length;T++)o[v[T].name]=v[T].value},l.prototype.getFilteredProperties=function(){return{survey:this}},l.prototype.getValuesKeys=function(){if(!this.editingObj)return Object.keys(this.valuesHash);for(var o=C.Serializer.getPropertiesByObj(this.editingObj),v=[],T=0;T<o.length;T++)v.push(o[T].name);return v},l.prototype.getDataValueCore=function(o,v){return this.editingObj?C.Serializer.getObjPropertyValue(this.editingObj,v):this.getDataFromValueHash(o,v)},l.prototype.setDataValueCore=function(o,v,T){this.editingObj?C.Serializer.setObjPropertyValue(this.editingObj,v,T):this.setDataToValueHash(o,v,T)},l.prototype.deleteDataValueCore=function(o,v){this.editingObj?this.editingObj[v]=null:this.deleteDataFromValueHash(o,v)},l.prototype.getDataFromValueHash=function(o,v){return this.valueHashGetDataCallback?this.valueHashGetDataCallback(o,v):o[v]},l.prototype.setDataToValueHash=function(o,v,T){this.valueHashSetDataCallback?this.valueHashSetDataCallback(o,v,T):o[v]=T},l.prototype.deleteDataFromValueHash=function(o,v){this.valueHashDeleteDataCallback?this.valueHashDeleteDataCallback(o,v):delete o[v]},Object.defineProperty(l.prototype,"comments",{get:function(){for(var o={},v=this.getValuesKeys(),T=0;T<v.length;T++){var L=v[T];L.indexOf(this.commentPrefix)>0&&(o[L]=this.getDataValueCore(this.valuesHash,L))}return o},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"visiblePages",{get:function(){if(this.isDesignMode)return this.pages;for(var o=new Array,v=0;v<this.pages.length;v++)this.isPageInVisibleList(this.pages[v])&&o.push(this.pages[v]);return o},enumerable:!1,configurable:!0}),l.prototype.isPageInVisibleList=function(o){return this.isDesignMode||o.isVisible&&!o.isStarted},Object.defineProperty(l.prototype,"isEmpty",{get:function(){return this.pages.length==0},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"PageCount",{get:function(){return this.pageCount},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"pageCount",{get:function(){return this.pages.length},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"visiblePageCount",{get:function(){return this.visiblePages.length},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"startedPage",{get:function(){var o=this.firstPageIsStarted&&this.pages.length>0?this.pages[0]:null;return o&&(o.onFirstRendering(),o.setWasShown(!0)),o},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"currentPage",{get:function(){return this.getPropertyValue("currentPage",null)},set:function(o){if(!this.isLoadingFromJson){var v=this.getPageByObject(o);if(!(o&&!v)&&!(!v&&this.isCurrentPageAvailable)){var T=this.visiblePages;if(!(v!=null&&T.indexOf(v)<0)&&v!=this.currentPage){var L=this.currentPage;this.currentPageChanging(v,L)&&(this.setPropertyValue("currentPage",v),v&&(v.onFirstRendering(),v.updateCustomWidgets(),v.setWasShown(!0)),this.locStrsChanged(),this.currentPageChanged(v,L))}}}},enumerable:!1,configurable:!0}),l.prototype.updateCurrentPage=function(){this.isCurrentPageAvailable||(this.currentPage=this.firstVisiblePage)},Object.defineProperty(l.prototype,"isCurrentPageAvailable",{get:function(){var o=this.currentPage;return!!o&&this.isPageInVisibleList(o)&&this.isPageExistsInSurvey(o)},enumerable:!1,configurable:!0}),l.prototype.isPageExistsInSurvey=function(o){return this.pages.indexOf(o)>-1?!0:!!this.onContainsPageCallback&&this.onContainsPageCallback(o)},Object.defineProperty(l.prototype,"activePage",{get:function(){return this.getPropertyValue("activePage")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isShowStartingPage",{get:function(){return this.state==="starting"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isShowingPage",{get:function(){return this.state=="running"||this.state=="preview"||this.isShowStartingPage},enumerable:!1,configurable:!0}),l.prototype.updateActivePage=function(){var o=this.isShowStartingPage?this.startedPage:this.currentPage;this.setPropertyValue("activePage",o)},l.prototype.onStateAndCurrentPageChanged=function(){this.updateActivePage(),this.updateButtonsVisibility()},l.prototype.getPageByObject=function(o){if(!o)return null;if(o.getType&&o.getType()=="page")return o;if(typeof o=="string"||o instanceof String)return this.getPageByName(String(o));if(!isNaN(o)){var v=Number(o),T=this.visiblePages;return o<0||o>=T.length?null:T[v]}return o},Object.defineProperty(l.prototype,"currentPageNo",{get:function(){return this.visiblePages.indexOf(this.currentPage)},set:function(o){var v=this.visiblePages;o<0||o>=v.length||(this.currentPage=v[o])},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"questionsOrder",{get:function(){return this.getPropertyValue("questionsOrder")},set:function(o){this.setPropertyValue("questionsOrder",o)},enumerable:!1,configurable:!0}),l.prototype.focusFirstQuestion=function(){if(!this.isFocusingQuestion){var o=this.activePage;o&&(o.scrollToTop(),o.focusFirstQuestion())}},l.prototype.scrollToTopOnPageChange=function(o){o===void 0&&(o=!0);var v=this.activePage;v&&(o&&v.scrollToTop(),this.isCurrentPageRendering&&this.focusFirstQuestionAutomatic&&!this.isFocusingQuestion&&(v.focusFirstQuestion(),this.isCurrentPageRendering=!1))},Object.defineProperty(l.prototype,"state",{get:function(){return this.getPropertyValue("state","empty")},enumerable:!1,configurable:!0}),l.prototype.updateState=function(){this.setPropertyValue("state",this.calcState())},l.prototype.calcState=function(){return this.isLoading?"loading":this.isCompleted?"completed":this.isCompletedBefore?"completedbefore":!this.isDesignMode&&this.isEditMode&&this.isStartedState&&this.startedPage?"starting":this.isShowingPreview?this.currentPage?"preview":"empty":this.currentPage?"running":"empty"},Object.defineProperty(l.prototype,"isCompleted",{get:function(){return this.getPropertyValue("isCompleted",!1)},set:function(o){this.setPropertyValue("isCompleted",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isShowingPreview",{get:function(){return this.getPropertyValue("isShowingPreview",!1)},set:function(o){this.isShowingPreview!=o&&(this.setPropertyValue("isShowingPreview",o),this.onShowingPreviewChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isStartedState",{get:function(){return this.getPropertyValue("isStartedState",!1)},set:function(o){this.setPropertyValue("isStartedState",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isCompletedBefore",{get:function(){return this.getPropertyValue("isCompletedBefore",!1)},set:function(o){this.setPropertyValue("isCompletedBefore",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isLoading",{get:function(){return this.getPropertyValue("isLoading",!1)},set:function(o){this.setPropertyValue("isLoading",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"completedState",{get:function(){return this.getPropertyValue("completedState","")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"completedStateText",{get:function(){return this.getPropertyValue("completedStateText","")},enumerable:!1,configurable:!0}),l.prototype.setCompletedState=function(o,v){this.setPropertyValue("completedState",o),v||(o=="saving"&&(v=this.getLocString("savingData")),o=="error"&&(v=this.getLocString("savingDataError")),o=="success"&&(v=this.getLocString("savingDataSuccess"))),this.setPropertyValue("completedStateText",v),this.setPropertyValue("completedStateCss",this.getCompletedStateCss())},l.prototype.clear=function(o,v){o===void 0&&(o=!0),v===void 0&&(v=!0),this.isCompleted=!1,this.isCompletedBefore=!1,this.isLoading=!1,o&&(this.data=null,this.variablesHash={}),this.timerModel.spent=0;for(var T=0;T<this.pages.length;T++)this.pages[T].timeSpent=0,this.pages[T].setWasShown(!1),this.pages[T].passed=!1;this.isStartedState=this.firstPageIsStarted,v&&(this.currentPage=this.firstVisiblePage),o&&this.updateValuesWithDefaults()},l.prototype.mergeValues=function(o,v){if(!(!v||!o)&&typeof v=="object")for(var T in o){var L=o[T];L&&typeof L=="object"?((!v[T]||typeof v[T]!="object")&&(v[T]={}),this.mergeValues(L,v[T])):v[T]=L}},l.prototype.updateValuesWithDefaults=function(){if(!(this.isDesignMode||this.isLoading))for(var o=0;o<this.pages.length;o++)for(var v=this.pages[o].questions,T=0;T<v.length;T++)v[T].updateValueWithDefaults()},l.prototype.updateCustomWidgets=function(o){o&&o.updateCustomWidgets()},l.prototype.currentPageChanging=function(o,v){var T={oldCurrentPage:v,newCurrentPage:o,allowChanging:!0,isNextPage:this.isNextPage(o,v),isPrevPage:this.isPrevPage(o,v)};return this.onCurrentPageChanging.fire(this,T),T.allowChanging&&(this.isCurrentPageRendering=!0),T.allowChanging},l.prototype.currentPageChanged=function(o,v){var T=this.isNextPage(o,v);T&&(v.passed=!0),this.onCurrentPageChanged.fire(this,{oldCurrentPage:v,newCurrentPage:o,isNextPage:T,isPrevPage:this.isPrevPage(o,v)})},l.prototype.isNextPage=function(o,v){return!o||!v?!1:o.visibleIndex==v.visibleIndex+1},l.prototype.isPrevPage=function(o,v){return!o||!v?!1:o.visibleIndex+1==v.visibleIndex},l.prototype.getProgress=function(){if(this.currentPage==null)return 0;if(this.progressBarType!=="pages"){var o=this.getProgressInfo();return this.progressBarType==="requiredQuestions"?o.requiredQuestionCount>=1?Math.ceil(o.requiredAnsweredQuestionCount*100/o.requiredQuestionCount):100:o.questionCount>=1?Math.ceil(o.answeredQuestionCount*100/o.questionCount):100}var v=this.visiblePages,T=v.indexOf(this.currentPage)+1;return Math.ceil(T*100/v.length)},Object.defineProperty(l.prototype,"progressValue",{get:function(){return this.getPropertyValue("progressValue",0)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isNavigationButtonsShowing",{get:function(){if(this.isDesignMode)return"none";var o=this.currentPage;return o?o.navigationButtonsVisibility==="show"?"bottom":o.navigationButtonsVisibility==="hide"?"none":this.showNavigationButtons:"none"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isNavigationButtonsShowingOnTop",{get:function(){return this.getIsNavigationButtonsShowingOn("top")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isNavigationButtonsShowingOnBottom",{get:function(){return this.getIsNavigationButtonsShowingOn("bottom")},enumerable:!1,configurable:!0}),l.prototype.getIsNavigationButtonsShowingOn=function(o){var v=this.isNavigationButtonsShowing;return v=="both"||v==o},Object.defineProperty(l.prototype,"isEditMode",{get:function(){return this.mode=="edit"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isDisplayMode",{get:function(){return this.mode=="display"||this.state=="preview"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isUpdateValueTextOnTyping",{get:function(){return this.textUpdateMode=="onTyping"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isDesignMode",{get:function(){return this._isDesignMode},enumerable:!1,configurable:!0}),l.prototype.setDesignMode=function(o){this._isDesignMode=o,this.onQuestionsOnPageModeChanged("standard")},Object.defineProperty(l.prototype,"showInvisibleElements",{get:function(){return this.getPropertyValue("showInvisibleElements",!1)},set:function(o){var v=this.visiblePages;this.setPropertyValue("showInvisibleElements",o),!this.isLoadingFromJson&&(this.runConditions(),this.updateAllElementsVisibility(v))},enumerable:!1,configurable:!0}),l.prototype.updateAllElementsVisibility=function(o){for(var v=0;v<this.pages.length;v++){var T=this.pages[v];T.updateElementVisibility(),o.indexOf(T)>-1!=T.isVisible&&this.onPageVisibleChanged.fire(this,{page:T,visible:T.isVisible})}},Object.defineProperty(l.prototype,"areInvisibleElementsShowing",{get:function(){return this.isDesignMode||this.showInvisibleElements},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"areEmptyElementsHidden",{get:function(){return this.isShowingPreview&&this.showPreviewBeforeComplete=="showAnsweredQuestions"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"hasCookie",{get:function(){if(!this.cookieName||typeof document>"u")return!1;var o=document.cookie;return o&&o.indexOf(this.cookieName+"=true")>-1},enumerable:!1,configurable:!0}),l.prototype.setCookie=function(){!this.cookieName||typeof document>"u"||(document.cookie=this.cookieName+"=true; expires=Fri, 31 Dec 9999 0:0:0 GMT")},l.prototype.deleteCookie=function(){this.cookieName&&(document.cookie=this.cookieName+"=;")},l.prototype.nextPage=function(){return this.isLastPage?!1:this.doCurrentPageComplete(!1)},l.prototype.hasErrorsOnNavigate=function(o){var v=this;if(this.ignoreValidation||!this.isEditMode)return!1;var T=function(L){L||v.doCurrentPageCompleteCore(o)};return this.checkErrorsMode==="onComplete"?this.isLastPage?this.hasErrors(!0,!0,T)!==!1:!1:this.hasCurrentPageErrors(T)!==!1},l.prototype.checkForAsyncQuestionValidation=function(o,v){var T=this;this.clearAsyncValidationQuesitons();for(var L=function(){if(o[_].isRunningValidators){var B=o[_];B.onCompletedAsyncValidators=function(k){T.onCompletedAsyncQuestionValidators(B,v,k)},V.asyncValidationQuesitons.push(o[_])}},V=this,_=0;_<o.length;_++)L();return this.asyncValidationQuesitons.length>0},l.prototype.clearAsyncValidationQuesitons=function(){if(this.asyncValidationQuesitons)for(var o=this.asyncValidationQuesitons,v=0;v<o.length;v++)o[v].onCompletedAsyncValidators=null;this.asyncValidationQuesitons=[]},l.prototype.onCompletedAsyncQuestionValidators=function(o,v,T){if(T){if(this.clearAsyncValidationQuesitons(),v(!0),this.focusOnFirstError&&o&&o.page&&o.page===this.currentPage){for(var L=this.currentPage.questions,V=0;V<L.length;V++)if(L[V]!==o&&L[V].errors.length>0)return;o.focus(!0)}return}for(var _=this.asyncValidationQuesitons,B=0;B<_.length;B++)if(_[B].isRunningValidators)return;v(!1)},Object.defineProperty(l.prototype,"isCurrentPageHasErrors",{get:function(){return this.checkIsCurrentPageHasErrors()},enumerable:!1,configurable:!0}),l.prototype.hasCurrentPageErrors=function(o){return this.hasPageErrors(void 0,o)},l.prototype.hasPageErrors=function(o,v){return o||(o=this.activePage),o?this.checkIsPageHasErrors(o)?!0:v&&this.checkForAsyncQuestionValidation(o.questions,function(T){return v(T)})?void 0:!1:!1},l.prototype.hasErrors=function(o,v,T){o===void 0&&(o=!0),v===void 0&&(v=!1),T&&(o=!0);for(var L=this.visiblePages,V=null,_=!1,B=0;B<L.length;B++)L[B].hasErrors(o,!1)&&(V||(V=L[B]),_=!0);if(v&&V){this.currentPage=V;for(var k=V.questions,B=0;B<k.length;B++)if(k[B].errors.length>0){k[B].focus(!0);break}}return _||!T?_:this.checkForAsyncQuestionValidation(this.getAllQuestions(),function(U){return T(U)})?void 0:!1},l.prototype.ensureUniqueNames=function(o){if(o===void 0&&(o=null),o==null)for(var v=0;v<this.pages.length;v++)this.ensureUniqueName(this.pages[v]);else this.ensureUniqueName(o)},l.prototype.ensureUniqueName=function(o){if(o.isPage&&this.ensureUniquePageName(o),o.isPanel&&this.ensureUniquePanelName(o),o.isPage||o.isPanel)for(var v=o.elements,T=0;T<v.length;T++)this.ensureUniqueNames(v[T]);else this.ensureUniqueQuestionName(o)},l.prototype.ensureUniquePageName=function(o){var v=this;return this.ensureUniqueElementName(o,function(T){return v.getPageByName(T)})},l.prototype.ensureUniquePanelName=function(o){var v=this;return this.ensureUniqueElementName(o,function(T){return v.getPanelByName(T)})},l.prototype.ensureUniqueQuestionName=function(o){var v=this;return this.ensureUniqueElementName(o,function(T){return v.getQuestionByName(T)})},l.prototype.ensureUniqueElementName=function(o,v){var T=v(o.name);if(!(!T||T==o)){for(var L=this.getNewName(o.name);v(L);)var L=this.getNewName(o.name);o.name=L}},l.prototype.getNewName=function(o){for(var v=o.length;v>0&&o[v-1]>="0"&&o[v-1]<="9";)v--;var T=o.substr(0,v),L=0;return v<o.length&&(L=parseInt(o.substr(v))),L++,T+L},l.prototype.checkIsCurrentPageHasErrors=function(o){return o===void 0&&(o=void 0),this.checkIsPageHasErrors(this.activePage,o)},l.prototype.checkIsPageHasErrors=function(o,v){if(v===void 0&&(v=void 0),v===void 0&&(v=this.focusOnFirstError),!o)return!0;var T=o.hasErrors(!0,v);return this.fireValidatedErrorsOnPage(o),T},l.prototype.fireValidatedErrorsOnPage=function(o){if(!(this.onValidatedErrorsOnCurrentPage.isEmpty||!o)){for(var v=o.questions,T=new Array,L=new Array,V=0;V<v.length;V++){var _=v[V];if(_.errors.length>0){T.push(_);for(var B=0;B<_.errors.length;B++)L.push(_.errors[B])}}this.onValidatedErrorsOnCurrentPage.fire(this,{questions:T,errors:L,page:o})}},l.prototype.prevPage=function(){if(this.isFirstPage||this.state==="starting")return!1;this.resetNavigationButton();var o=this.visiblePages,v=o.indexOf(this.currentPage);return this.currentPage=o[v-1],!0},l.prototype.completeLastPage=function(){var o=this.doCurrentPageComplete(!0);return o&&this.cancelPreview(),o},l.prototype.navigationMouseDown=function(){return this.isNavigationButtonPressed=!0,!0},l.prototype.resetNavigationButton=function(){this.isNavigationButtonPressed=!1},l.prototype.nextPageUIClick=function(){this.mouseDownPage&&this.mouseDownPage!==this.activePage||(this.mouseDownPage=null,this.nextPage())},l.prototype.nextPageMouseDown=function(){return this.mouseDownPage=this.activePage,this.navigationMouseDown()},l.prototype.showPreview=function(){return this.resetNavigationButton(),this.hasErrorsOnNavigate(!0)||this.doServerValidation(!0,!0)?!1:(this.showPreviewCore(),!0)},l.prototype.showPreviewCore=function(){var o={allowShowPreview:!0};this.onShowingPreview.fire(this,o),this.isShowingPreview=o.allowShowPreview},l.prototype.cancelPreview=function(o){o===void 0&&(o=null),this.isShowingPreview&&(this.isShowingPreview=!1,d.Helpers.isValueEmpty(o)&&this.visiblePageCount>0&&(o=this.visiblePageCount-1),o!==null&&(this.currentPage=o))},l.prototype.cancelPreviewByPage=function(o){this.cancelPreview(o.originalPage)},l.prototype.doCurrentPageComplete=function(o){return this.isValidatingOnServer||(this.resetNavigationButton(),this.hasErrorsOnNavigate(o))?!1:this.doCurrentPageCompleteCore(o)},l.prototype.doCurrentPageCompleteCore=function(o){return this.doServerValidation(o)?!1:o?(this.currentPage.passed=!0,this.doComplete()):(this.doNextPage(),!0)},Object.defineProperty(l.prototype,"isSinglePage",{get:function(){return this.questionsOnPageMode=="singlePage"},set:function(o){this.questionsOnPageMode=o?"singlePage":"standard"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"questionsOnPageMode",{get:function(){return this.getPropertyValue("questionsOnPageMode")},set:function(o){this.setPropertyValue("questionsOnPageMode",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"firstPageIsStarted",{get:function(){return this.getPropertyValue("firstPageIsStarted",!1)},set:function(o){this.setPropertyValue("firstPageIsStarted",o)},enumerable:!1,configurable:!0}),l.prototype.isPageStarted=function(o){return this.firstPageIsStarted&&this.pages.length>0&&this.pages[0]===o},Object.defineProperty(l.prototype,"showPreviewBeforeComplete",{get:function(){return this.getPropertyValue("showPreviewBeforeComplete")},set:function(o){this.setPropertyValue("showPreviewBeforeComplete",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isShowPreviewBeforeComplete",{get:function(){var o=this.showPreviewBeforeComplete;return o=="showAllQuestions"||o=="showAnsweredQuestions"},enumerable:!1,configurable:!0}),l.prototype.onFirstPageIsStartedChanged=function(){this.pages.length!=0&&(this.isStartedState=this.firstPageIsStarted,this.pageVisibilityChanged(this.pages[0],!this.firstPageIsStarted))},l.prototype.onShowingPreviewChanged=function(){this.isDesignMode||(this.isShowingPreview?(this.runningPages=this.pages.slice(0,this.pages.length),this.setupPagesForPageModes(!0)):(this.runningPages&&this.restoreOrigionalPages(this.runningPages),this.runningPages=void 0),this.runConditions(),this.updateAllElementsVisibility(this.pages),this.updateVisibleIndexes(),this.currentPageNo=0)},l.prototype.onQuestionsOnPageModeChanged=function(o){this.isShowingPreview||(this.questionsOnPageMode=="standard"||this.isDesignMode?(this.origionalPages&&this.restoreOrigionalPages(this.origionalPages),this.origionalPages=void 0):((!o||o=="standard")&&(this.origionalPages=this.pages.slice(0,this.pages.length)),this.setupPagesForPageModes(this.isSinglePage)),this.runConditions(),this.updateVisibleIndexes())},l.prototype.restoreOrigionalPages=function(o){this.questionHashesClear(),this.pages.splice(0,this.pages.length);for(var v=0;v<o.length;v++)this.pages.push(o[v])},l.prototype.setupPagesForPageModes=function(o){this.questionHashesClear();var v=this.firstPageIsStarted?1:0;O.prototype.startLoadingFromJson.call(this);var T=this.createPagesForQuestionOnPageMode(o,v),L=this.pages.length-v;this.pages.splice(v,L);for(var V=0;V<T.length;V++)this.pages.push(T[V]);O.prototype.endLoadingFromJson.call(this);for(var V=0;V<T.length;V++)T[V].setSurveyImpl(this,!0);this.doElementsOnLoad(),this.updateCurrentPage()},l.prototype.createPagesForQuestionOnPageMode=function(o,v){return o?[this.createSinglePage(v)]:this.createPagesForEveryQuestion(v)},l.prototype.createSinglePage=function(o){var v=this.createNewPage("all");v.setSurveyImpl(this);for(var T=o;T<this.pages.length;T++){var L=this.pages[T],V=C.Serializer.createClass("panel");V.originalPage=L,v.addPanel(V);var _=new C.JsonObject().toJsonObject(L);new C.JsonObject().toObject(_,V),this.showPageTitles||(V.title="")}return v},l.prototype.createPagesForEveryQuestion=function(o){for(var v=[],T=o;T<this.pages.length;T++){var L=this.pages[T];L.setWasShown(!0);for(var V=0;V<L.elements.length;V++){var _=L.elements[V],B=C.Serializer.createClass(_.getType());if(B){var k=new C.JsonObject;k.lightSerializing=!0;var U=k.toJsonObject(L),K=C.Serializer.createClass(L.getType());K.fromJSON(U),K.name=_.name,K.setSurveyImpl(this),v.push(K);var q=new C.JsonObject().toJsonObject(_);new C.JsonObject().toObject(q,B),K.addElement(B);for(var Z=0;Z<K.questions.length;Z++)this.questionHashesAdded(K.questions[Z])}}}return v},Object.defineProperty(l.prototype,"isFirstPage",{get:function(){return this.getPropertyValue("isFirstPage")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isLastPage",{get:function(){return this.getPropertyValue("isLastPage")},enumerable:!1,configurable:!0}),l.prototype.updateButtonsVisibility=function(){this.updateIsFirstLastPageState(),this.setPropertyValue("isShowPrevButton",this.calcIsShowPrevButton()),this.setPropertyValue("isShowNextButton",this.calcIsShowNextButton()),this.setPropertyValue("isCompleteButtonVisible",this.calcIsCompleteButtonVisible()),this.setPropertyValue("isPreviewButtonVisible",this.calcIsPreviewButtonVisible()),this.setPropertyValue("isCancelPreviewButtonVisible",this.calcIsCancelPreviewButtonVisible())},Object.defineProperty(l.prototype,"isShowPrevButton",{get:function(){return this.getPropertyValue("isShowPrevButton")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isShowNextButton",{get:function(){return this.getPropertyValue("isShowNextButton")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isCompleteButtonVisible",{get:function(){return this.getPropertyValue("isCompleteButtonVisible")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isPreviewButtonVisible",{get:function(){return this.getPropertyValue("isPreviewButtonVisible")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isCancelPreviewButtonVisible",{get:function(){return this.getPropertyValue("isCancelPreviewButtonVisible")},enumerable:!1,configurable:!0}),l.prototype.updateIsFirstLastPageState=function(){var o=this.currentPage;this.setPropertyValue("isFirstPage",!!o&&o===this.firstVisiblePage),this.setPropertyValue("isLastPage",!!o&&o===this.lastVisiblePage)},l.prototype.calcIsShowPrevButton=function(){if(this.isFirstPage||!this.showPrevButton||this.state!=="running")return!1;var o=this.visiblePages[this.currentPageNo-1];return this.getPageMaxTimeToFinish(o)<=0},l.prototype.calcIsShowNextButton=function(){return this.state==="running"&&!this.isLastPage},l.prototype.calcIsCompleteButtonVisible=function(){var o=this.state;return this.isEditMode&&(this.state==="running"&&this.isLastPage&&!this.isShowPreviewBeforeComplete||o==="preview")},l.prototype.calcIsPreviewButtonVisible=function(){return this.isEditMode&&this.isShowPreviewBeforeComplete&&this.state=="running"&&this.isLastPage},l.prototype.calcIsCancelPreviewButtonVisible=function(){return this.isEditMode&&this.isShowPreviewBeforeComplete&&this.state=="preview"},Object.defineProperty(l.prototype,"firstVisiblePage",{get:function(){for(var o=this.pages,v=0;v<o.length;v++)if(this.isPageInVisibleList(o[v]))return o[v];return null},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"lastVisiblePage",{get:function(){for(var o=this.pages,v=o.length-1;v>=0;v--)if(this.isPageInVisibleList(o[v]))return o[v];return null},enumerable:!1,configurable:!0}),l.prototype.doComplete=function(o){o===void 0&&(o=!1);var v={allowComplete:!0,isCompleteOnTrigger:o};if(this.onCompleting.fire(this,v),!v.allowComplete)return this.isCompleted=!1,!1;var T=this.hasCookie;this.stopTimer(),this.setCompleted(),this.clearUnusedValues(),this.setCookie();var L=this,V=!1,_={isCompleteOnTrigger:o,showDataSaving:function(B){V=!0,L.setCompletedState("saving",B)},showDataSavingError:function(B){L.setCompletedState("error",B)},showDataSavingSuccess:function(B){L.setCompletedState("success",B),L.navigateTo()},showDataSavingClear:function(B){L.setCompletedState("","")}};return this.onComplete.fire(this,_),!T&&this.surveyPostId&&this.sendResult(),V||this.navigateTo(),!0},l.prototype.start=function(){return!this.firstPageIsStarted||this.checkIsPageHasErrors(this.startedPage,!0)?!1:(this.isStartedState=!1,this.startTimerFromUI(),this.onStarted.fire(this,{}),this.updateVisibleIndexes(),this.currentPage&&this.currentPage.locStrsChanged(),!0)},Object.defineProperty(l.prototype,"isValidatingOnServer",{get:function(){return this.getPropertyValue("isValidatingOnServer",!1)},enumerable:!1,configurable:!0}),l.prototype.setIsValidatingOnServer=function(o){o!=this.isValidatingOnServer&&(this.setPropertyValue("isValidatingOnServer",o),this.onIsValidatingOnServerChanged())},l.prototype.onIsValidatingOnServerChanged=function(){},l.prototype.doServerValidation=function(o,v){if(v===void 0&&(v=!1),!this.onServerValidateQuestions||this.onServerValidateQuestions.isEmpty||!o&&this.checkErrorsMode==="onComplete")return!1;var T=this,L={data:{},errors:{},survey:this,complete:function(){T.completeServerValidation(L,v)}};if(o&&this.checkErrorsMode==="onComplete")L.data=this.data;else for(var V=this.activePage.questions,_=0;_<V.length;_++){var B=V[_];if(B.visible){var k=this.getValue(B.getValueName());this.isValueEmpty(k)||(L.data[B.getValueName()]=k)}}return this.setIsValidatingOnServer(!0),typeof this.onServerValidateQuestions=="function"?this.onServerValidateQuestions(this,L):this.onServerValidateQuestions.fire(this,L),!0},l.prototype.completeServerValidation=function(o,v){if(this.setIsValidatingOnServer(!1),!(!o&&!o.survey)){var T=o.survey,L=!1;if(o.errors){var V=this.focusOnFirstError;for(var _ in o.errors){var B=T.getQuestionByName(_);B&&B.errors&&(L=!0,B.addError(new f.CustomError(o.errors[_],this)),V&&(V=!1,B.page&&(this.currentPage=B.page),B.focus(!0)))}this.fireValidatedErrorsOnPage(this.currentPage)}L||(v?this.showPreviewCore():T.isLastPage?T.doComplete():T.doNextPage())}},l.prototype.doNextPage=function(){var o=this.currentPage;if(this.checkOnPageTriggers(),this.isCompleted)this.doComplete(!0);else if(this.sendResultOnPageNext&&this.sendResult(this.surveyPostId,this.clientId,!0),o===this.currentPage){var v=this.visiblePages,T=v.indexOf(this.currentPage);this.currentPage=v[T+1]}},l.prototype.setCompleted=function(){this.isCompleted=!0},Object.defineProperty(l.prototype,"processedCompletedHtml",{get:function(){var o=this.renderedCompletedHtml;return o?this.processHtml(o):""},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"processedCompletedBeforeHtml",{get:function(){return this.processHtml(this.completedBeforeHtml)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"processedLoadingHtml",{get:function(){return this.processHtml(this.loadingHtml)},enumerable:!1,configurable:!0}),l.prototype.getProgressInfo=function(){var o=this.isDesignMode?this.pages:this.visiblePages;return w.SurveyElement.getProgressInfoByElements(o,!1)},Object.defineProperty(l.prototype,"progressText",{get:function(){var o=this.getPropertyValue("progressText","");return o||(this.updateProgressText(),o=this.getPropertyValue("progressText","")),o},enumerable:!1,configurable:!0}),l.prototype.updateProgressText=function(o){o===void 0&&(o=!1),!this.isCalculatingProgressText&&(o&&this.progressBarType=="pages"&&this.onProgressText.isEmpty||(this.isCalculatingProgressText=!0,this.setPropertyValue("progressText",this.getProgressText()),this.setPropertyValue("progressValue",this.getProgress()),this.isCalculatingProgressText=!1))},l.prototype.getProgressText=function(){if(!this.isDesignMode&&this.currentPage==null)return"";var o={questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0,text:""},v=this.progressBarType.toLowerCase();if(v==="questions"||v==="requiredquestions"||v==="correctquestions"||!this.onProgressText.isEmpty){var T=this.getProgressInfo();o.questionCount=T.questionCount,o.answeredQuestionCount=T.answeredQuestionCount,o.requiredQuestionCount=T.requiredQuestionCount,o.requiredAnsweredQuestionCount=T.requiredAnsweredQuestionCount}return o.text=this.getProgressTextCore(o),this.onProgressText.fire(this,o),o.text},l.prototype.getProgressTextCore=function(o){var v=this.progressBarType.toLowerCase();if(v==="questions")return this.getLocString("questionsProgressText").format(o.answeredQuestionCount,o.questionCount);if(v==="requiredquestions")return this.getLocString("questionsProgressText").format(o.requiredAnsweredQuestionCount,o.requiredQuestionCount);if(v==="correctquestions"){var T=this.getCorrectedAnswerCount();return this.getLocString("questionsProgressText").format(T,o.questionCount)}var L=this.isDesignMode?this.pages:this.visiblePages,V=L.indexOf(this.currentPage)+1;return this.getLocString("progressText").format(V,L.length)},l.prototype.getRootCss=function(){return new E.CssClassBuilder().append(this.css.root).append(this.css.rootMobile,this.isMobile).toString()},l.prototype.afterRenderSurvey=function(o){var v=this;this.destroyResizeObserver(),Array.isArray(o)&&(o=w.SurveyElement.GetFirstNonTextElement(o));var T=o,L=this.css.variables;if(L){var V=Number.parseFloat(window.getComputedStyle(T).getPropertyValue(L.mobileWidth));if(V){var _=!1;this.resizeObserver=new ResizeObserver(function(){_||!Object(R.isContainerVisible)(T)?_=!1:_=v.processResponsiveness(T.offsetWidth,V)}),this.resizeObserver.observe(T)}}this.onAfterRenderSurvey.fire(this,{survey:this,htmlElement:o})},l.prototype.processResponsiveness=function(o,v){var T=o<v;return this.isMobile===T?!1:(this.setIsMobile(T),!0)},l.prototype.destroyResizeObserver=function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0)},l.prototype.updateQuestionCssClasses=function(o,v){this.onUpdateQuestionCssClasses.fire(this,{question:o,cssClasses:v})},l.prototype.updatePanelCssClasses=function(o,v){this.onUpdatePanelCssClasses.fire(this,{panel:o,cssClasses:v})},l.prototype.updatePageCssClasses=function(o,v){this.onUpdatePageCssClasses.fire(this,{page:o,cssClasses:v})},l.prototype.updateChoiceItemCss=function(o,v){v.question=o,this.onUpdateChoiceItemCss.fire(this,v)},l.prototype.afterRenderPage=function(o){var v=this;this.isDesignMode||setTimeout(function(){return v.scrollToTopOnPageChange(!v.isFirstPageRendering)},1),this.isFirstPageRendering=!1,!this.onAfterRenderPage.isEmpty&&this.onAfterRenderPage.fire(this,{page:this.activePage,htmlElement:o})},l.prototype.afterRenderHeader=function(o){this.onAfterRenderHeader.isEmpty||this.onAfterRenderHeader.fire(this,{htmlElement:o})},l.prototype.afterRenderQuestion=function(o,v){this.onAfterRenderQuestion.fire(this,{question:o,htmlElement:v})},l.prototype.afterRenderQuestionInput=function(o,v){if(!this.onAfterRenderQuestionInput.isEmpty){var T=o.inputId;if(T&&v.id!==T&&typeof document<"u"){var L=document.getElementById(T);L&&(v=L)}this.onAfterRenderQuestionInput.fire(this,{question:o,htmlElement:v})}},l.prototype.afterRenderPanel=function(o,v){this.onAfterRenderPanel.fire(this,{panel:o,htmlElement:v})},l.prototype.whenQuestionFocusIn=function(o){this.onFocusInQuestion.fire(this,{question:o})},l.prototype.whenPanelFocusIn=function(o){this.onFocusInPanel.fire(this,{panel:o})},l.prototype.rebuildQuestionChoices=function(){this.getAllQuestions().forEach(function(o){return o.surveyChoiceItemVisibilityChange()})},l.prototype.canChangeChoiceItemsVisibility=function(){return!this.onShowingChoiceItem.isEmpty},l.prototype.getChoiceItemVisibility=function(o,v,T){var L={question:o,item:v,visible:T};return this.onShowingChoiceItem.fire(this,L),L.visible},l.prototype.matrixBeforeRowAdded=function(o){this.onMatrixBeforeRowAdded.fire(this,o)},l.prototype.matrixRowAdded=function(o,v){this.onMatrixRowAdded.fire(this,{question:o,row:v})},l.prototype.getQuestionByValueNameFromArray=function(o,v,T){var L=this.getQuestionsByValueName(o);if(L){for(var V=0;V<L.length;V++){var _=L[V].getQuestionFromArray(v,T);if(_)return _}return null}},l.prototype.matrixRowRemoved=function(o,v,T){this.onMatrixRowRemoved.fire(this,{question:o,rowIndex:v,row:T})},l.prototype.matrixRowRemoving=function(o,v,T){var L={question:o,rowIndex:v,row:T,allow:!0};return this.onMatrixRowRemoving.fire(this,L),L.allow},l.prototype.matrixAllowRemoveRow=function(o,v,T){var L={question:o,rowIndex:v,row:T,allow:!0};return this.onMatrixAllowRemoveRow.fire(this,L),L.allow},l.prototype.matrixCellCreating=function(o,v){v.question=o,this.onMatrixCellCreating.fire(this,v)},l.prototype.matrixCellCreated=function(o,v){v.question=o,this.onMatrixCellCreated.fire(this,v)},l.prototype.matrixAfterCellRender=function(o,v){v.question=o,this.onMatrixAfterCellRender.fire(this,v)},l.prototype.matrixCellValueChanged=function(o,v){v.question=o,this.onMatrixCellValueChanged.fire(this,v)},l.prototype.matrixCellValueChanging=function(o,v){v.question=o,this.onMatrixCellValueChanging.fire(this,v)},Object.defineProperty(l.prototype,"isValidateOnValueChanging",{get:function(){return this.checkErrorsMode==="onValueChanging"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isValidateOnValueChanged",{get:function(){return this.checkErrorsMode==="onValueChanged"},enumerable:!1,configurable:!0}),l.prototype.matrixCellValidate=function(o,v){return v.question=o,this.onMatrixCellValidate.fire(this,v),v.error?new f.CustomError(v.error,this):null},l.prototype.dynamicPanelAdded=function(o){if(!this.onDynamicPanelAdded.isEmpty){var v=o.panels,T=v[v.length-1];this.onDynamicPanelAdded.fire(this,{question:o,panel:T})}},l.prototype.dynamicPanelRemoved=function(o,v,T){for(var L=T?T.questions:[],V=0;V<L.length;V++)L[V].clearOnDeletingContainer();this.onDynamicPanelRemoved.fire(this,{question:o,panelIndex:v,panel:T})},l.prototype.dynamicPanelItemValueChanged=function(o,v){v.question=o,this.onDynamicPanelItemValueChanged.fire(this,v)},l.prototype.dragAndDropAllow=function(o){return o.allow=!0,this.onDragDropAllow.fire(this,o),o.allow},l.prototype.elementContentVisibilityChanged=function(o){this.currentPage&&this.currentPage.ensureRowsVisibility(),this.onElementContentVisibilityChanged.fire(this,{element:o})},l.prototype.getUpdatedElementTitleActions=function(o,v){return o.isPage?this.getUpdatedPageTitleActions(o,v):o.isPanel?this.getUpdatedPanelTitleActions(o,v):this.getUpdatedQuestionTitleActions(o,v)},l.prototype.getUpdatedQuestionTitleActions=function(o,v){var T={question:o,titleActions:v};return this.onGetQuestionTitleActions.fire(this,T),T.titleActions},l.prototype.getUpdatedPanelTitleActions=function(o,v){var T={panel:o,titleActions:v};return this.onGetPanelTitleActions.fire(this,T),T.titleActions},l.prototype.getUpdatedPageTitleActions=function(o,v){var T={page:o,titleActions:v};return this.onGetPageTitleActions.fire(this,T),T.titleActions},l.prototype.getUpdatedMatrixRowActions=function(o,v,T){var L={question:o,actions:T,row:v};return this.onGetMatrixRowActions.fire(this,L),L.actions},l.prototype.scrollElementToTop=function(o,v,T,L){var V={element:o,question:v,page:T,elementId:L,cancel:!1};this.onScrollingElementToTop.fire(this,V),V.cancel||w.SurveyElement.ScrollElementToTop(V.elementId)},l.prototype.uploadFiles=function(o,v,T,L){this.onUploadFiles.isEmpty?L("error",T):this.onUploadFiles.fire(this,{question:o,name:v,files:T||[],callback:L}),this.surveyPostId&&this.uploadFilesCore(v,T,L)},l.prototype.downloadFile=function(o,v,T){this.onDownloadFile.isEmpty&&T&&T("success",v.content||v),this.onDownloadFile.fire(this,{name:o,content:v.content||v,fileValue:v,callback:T})},l.prototype.clearFiles=function(o,v,T,L,V){this.onClearFiles.isEmpty&&V&&V("success",T),this.onClearFiles.fire(this,{question:o,name:v,value:T,fileName:L,callback:V})},l.prototype.updateChoicesFromServer=function(o,v,T){var L={question:o,choices:v,serverResult:T};return this.onLoadChoicesFromServer.fire(this,L),L.choices},l.prototype.loadedChoicesFromServer=function(o){this.locStrsChanged()},l.prototype.createSurveyService=function(){return new u.dxSurveyService},l.prototype.uploadFilesCore=function(o,v,T){var L=this,V=[];v.forEach(function(_){T&&T("uploading",_),L.createSurveyService().sendFile(L.surveyPostId,_,function(B,k){B?(V.push({content:k,file:_}),V.length===v.length&&T&&T("success",V)):T&&T("error",{response:k,file:_})})})},l.prototype.getPage=function(o){return this.pages[o]},l.prototype.addPage=function(o,v){v===void 0&&(v=-1),o!=null&&(v<0||v>=this.pages.length?this.pages.push(o):this.pages.splice(v,0,o))},l.prototype.addNewPage=function(o,v){o===void 0&&(o=null),v===void 0&&(v=-1);var T=this.createNewPage(o);return this.addPage(T,v),T},l.prototype.removePage=function(o){var v=this.pages.indexOf(o);v<0||(this.pages.splice(v,1),this.currentPage==o&&(this.currentPage=this.pages.length>0?this.pages[0]:null))},l.prototype.getQuestionByName=function(o,v){if(v===void 0&&(v=!1),!o)return null;v&&(o=o.toLowerCase());var T=v?this.questionHashes.namesInsensitive:this.questionHashes.names,L=T[o];return L?L[0]:null},l.prototype.getQuestionByValueName=function(o,v){v===void 0&&(v=!1);var T=this.getQuestionsByValueName(o,v);return T?T[0]:null},l.prototype.getQuestionsByValueName=function(o,v){v===void 0&&(v=!1);var T=v?this.questionHashes.valueNamesInsensitive:this.questionHashes.valueNames,L=T[o];return L||null},l.prototype.getCalculatedValueByName=function(o){for(var v=0;v<this.calculatedValues.length;v++)if(o==this.calculatedValues[v].name)return this.calculatedValues[v];return null},l.prototype.getQuestionsByNames=function(o,v){v===void 0&&(v=!1);var T=[];if(!o)return T;for(var L=0;L<o.length;L++)if(o[L]){var V=this.getQuestionByName(o[L],v);V&&T.push(V)}return T},l.prototype.getPageByElement=function(o){for(var v=0;v<this.pages.length;v++){var T=this.pages[v];if(T.containsElement(o))return T}return null},l.prototype.getPageByQuestion=function(o){return this.getPageByElement(o)},l.prototype.getPageByName=function(o){for(var v=0;v<this.pages.length;v++)if(this.pages[v].name==o)return this.pages[v];return null},l.prototype.getPagesByNames=function(o){var v=[];if(!o)return v;for(var T=0;T<o.length;T++)if(o[T]){var L=this.getPageByName(o[T]);L&&v.push(L)}return v},l.prototype.getAllQuestions=function(o,v){o===void 0&&(o=!1),v===void 0&&(v=!1);for(var T=new Array,L=0;L<this.pages.length;L++)this.pages[L].addQuestionsToList(T,o,v);return T},l.prototype.getQuizQuestions=function(){for(var o=new Array,v=this.firstPageIsStarted?1:0,T=v;T<this.pages.length;T++)if(this.pages[T].isVisible)for(var L=this.pages[T].questions,V=0;V<L.length;V++){var _=L[V];_.quizQuestionCount>0&&o.push(_)}return o},l.prototype.getPanelByName=function(o,v){v===void 0&&(v=!1);var T=this.getAllPanels();v&&(o=o.toLowerCase());for(var L=0;L<T.length;L++){var V=T[L].name;if(v&&(V=V.toLowerCase()),V==o)return T[L]}return null},l.prototype.getAllPanels=function(o,v){o===void 0&&(o=!1),v===void 0&&(v=!1);for(var T=new Array,L=0;L<this.pages.length;L++)this.pages[L].addPanelsIntoList(T,o,v);return T},l.prototype.createNewPage=function(o){var v=C.Serializer.createClass("page");return v.name=o,v},l.prototype.questionOnValueChanging=function(o,v){if(this.onValueChanging.isEmpty)return v;var T={name:o,question:this.getQuestionByValueName(o),value:this.getUnbindValue(v),oldValue:this.getValue(o)};return this.onValueChanging.fire(this,T),T.value},l.prototype.updateQuestionValue=function(o,v){if(!this.isLoadingFromJson){var T=this.getQuestionsByValueName(o);if(T)for(var L=0;L<T.length;L++){var V=T[L].value;(V===v&&Array.isArray(V)&&this.editingObj||!this.isTwoValueEquals(V,v))&&T[L].updateValueFromSurvey(v)}}},l.prototype.checkQuestionErrorOnValueChanged=function(o){!this.isNavigationButtonPressed&&(this.checkErrorsMode==="onValueChanged"||o.getAllErrors().length>0)&&this.checkQuestionErrorOnValueChangedCore(o)},l.prototype.checkQuestionErrorOnValueChangedCore=function(o){var v=o.getAllErrors().length,T=o.hasErrors(!0,{isOnValueChanged:!this.isValidateOnValueChanging});return o.page&&(v>0||o.getAllErrors().length>0)&&this.fireValidatedErrorsOnPage(o.page),T},l.prototype.checkErrorsOnValueChanging=function(o,v){if(this.isLoadingFromJson)return!1;var T=this.getQuestionsByValueName(o);if(!T)return!1;for(var L=!1,V=0;V<T.length;V++){var _=T[V];this.isTwoValueEquals(_.valueForSurvey,v)||(_.value=v),this.checkQuestionErrorOnValueChangedCore(_)&&(L=!0),L=L||_.errors.length>0}return L},l.prototype.notifyQuestionOnValueChanged=function(o,v){if(!this.isLoadingFromJson){var T=this.getQuestionsByValueName(o);if(T)for(var L=0;L<T.length;L++){var V=T[L];this.checkQuestionErrorOnValueChanged(V),V.onSurveyValueChanged(v),this.onValueChanged.fire(this,{name:o,question:V,value:v})}else this.onValueChanged.fire(this,{name:o,question:null,value:v});this.isDisposed||(this.checkElementsBindings(o,v),this.notifyElementsOnAnyValueOrVariableChanged(o))}},l.prototype.checkElementsBindings=function(o,v){this.isRunningElementsBindings=!0;for(var T=0;T<this.pages.length;T++)this.pages[T].checkBindings(o,v);this.isRunningElementsBindings=!1,this.updateVisibleIndexAfterBindings&&(this.updateVisibleIndexes(),this.updateVisibleIndexAfterBindings=!1)},l.prototype.notifyElementsOnAnyValueOrVariableChanged=function(o){if(this.isEndLoadingFromJson!=="processing"){if(this.isRunningConditions){this.conditionNotifyElementsOnAnyValueOrVariableChanged=!0;return}for(var v=0;v<this.pages.length;v++)this.pages[v].onAnyValueChanged(o);this.isEndLoadingFromJson||this.locStrsChanged()}},l.prototype.updateAllQuestionsValue=function(){for(var o=this.getAllQuestions(),v=0;v<o.length;v++){var T=o[v],L=T.getValueName();T.updateValueFromSurvey(this.getValue(L)),T.requireUpdateCommentValue&&T.updateCommentFromSurvey(this.getComment(L))}},l.prototype.notifyAllQuestionsOnValueChanged=function(){for(var o=this.getAllQuestions(),v=0;v<o.length;v++)o[v].onSurveyValueChanged(this.getValue(o[v].getValueName()))},l.prototype.checkOnPageTriggers=function(){for(var o=this.getCurrentPageQuestions(!0),v={},T=0;T<o.length;T++){var L=o[T],V=L.getValueName();v[V]=this.getValue(V)}this.addCalculatedValuesIntoFilteredValues(v),this.checkTriggers(v,!0)},l.prototype.getCurrentPageQuestions=function(o){o===void 0&&(o=!1);var v=[],T=this.currentPage;if(!T)return v;for(var L=0;L<T.questions.length;L++){var V=T.questions[L];!o&&!V.visible||!V.name||v.push(V)}return v},l.prototype.checkTriggers=function(o,v){if(!(this.isCompleted||this.triggers.length==0||this.isDisplayMode)){if(this.isTriggerIsRunning){this.triggerValues=this.getFilteredValues();for(var T in o)this.triggerKeys[T]=o[T];return}this.isTriggerIsRunning=!0,this.triggerKeys=o,this.triggerValues=this.getFilteredValues();for(var L=this.getFilteredProperties(),V=0;V<this.triggers.length;V++){var _=this.triggers[V];_.isOnNextPage==v&&_.checkExpression(this.triggerKeys,this.triggerValues,L)}this.isTriggerIsRunning=!1}},l.prototype.doElementsOnLoad=function(){for(var o=0;o<this.pages.length;o++)this.pages[o].onSurveyLoad()},Object.defineProperty(l.prototype,"isRunningConditions",{get:function(){return!!this.conditionValues},enumerable:!1,configurable:!0}),l.prototype.runConditions=function(){if(!(this.isCompleted||this.isEndLoadingFromJson==="processing"||this.isRunningConditions)){this.conditionValues=this.getFilteredValues();var o=this.getFilteredProperties(),v=this.pages.indexOf(this.currentPage);this.runConditionsCore(o),this.checkIfNewPagesBecomeVisible(v),this.conditionValues=null,this.isValueChangedOnRunningCondition&&this.conditionRunnerCounter<y.settings.maximumConditionRunCountOnValueChanged?(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter++,this.runConditions()):(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter=0,this.conditionUpdateVisibleIndexes&&(this.conditionUpdateVisibleIndexes=!1,this.updateVisibleIndexes()),this.conditionNotifyElementsOnAnyValueOrVariableChanged&&(this.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,this.notifyElementsOnAnyValueOrVariableChanged("")))}},l.prototype.runConditionOnValueChanged=function(o,v){this.isRunningConditions?(this.conditionValues[o]=v,this.isValueChangedOnRunningCondition=!0):this.runConditions()},l.prototype.runConditionsCore=function(o){for(var v=this.pages,T=0;T<this.calculatedValues.length;T++)this.calculatedValues[T].resetCalculation();for(var T=0;T<this.calculatedValues.length;T++)this.calculatedValues[T].doCalculation(this.calculatedValues,this.conditionValues,o);for(var T=0;T<v.length;T++)v[T].runCondition(this.conditionValues,o)},l.prototype.checkIfNewPagesBecomeVisible=function(o){var v=this.pages.indexOf(this.currentPage);if(!(v<=o+1)){for(var T=o+1;T<v;T++)if(this.pages[T].isVisible){this.currentPage=this.pages[T];break}}},l.prototype.sendResult=function(o,v,T){if(o===void 0&&(o=null),v===void 0&&(v=null),T===void 0&&(T=!1),!!this.isEditMode&&(T&&this.onPartialSend&&this.onPartialSend.fire(this,null),!o&&this.surveyPostId&&(o=this.surveyPostId),!!o&&(v&&(this.clientId=v),!(T&&!this.clientId)))){var L=this;this.surveyShowDataSaving&&this.setCompletedState("saving",""),this.createSurveyService().sendResult(o,this.data,function(V,_,B){L.surveyShowDataSaving&&(V?L.setCompletedState("success",""):L.setCompletedState("error",_)),L.onSendResult.fire(L,{success:V,response:_,request:B})},this.clientId,T)}},l.prototype.getResult=function(o,v){var T=this;this.createSurveyService().getResult(o,v,function(L,V,_,B){T.onGetResult.fire(T,{success:L,data:V,dataList:_,response:B})})},l.prototype.loadSurveyFromService=function(o,v){o===void 0&&(o=null),v===void 0&&(v=null),o&&(this.surveyId=o),v&&(this.clientId=v);var T=this;this.isLoading=!0,this.onLoadingSurveyFromService(),v?this.createSurveyService().getSurveyJsonAndIsCompleted(this.surveyId,this.clientId,function(L,V,_,B){T.isLoading=!1,L&&(T.isCompletedBefore=_=="completed",T.loadSurveyFromServiceJson(V))}):this.createSurveyService().loadSurvey(this.surveyId,function(L,V,_){T.isLoading=!1,L&&T.loadSurveyFromServiceJson(V)})},l.prototype.loadSurveyFromServiceJson=function(o){o&&(this.fromJSON(o),this.notifyAllQuestionsOnValueChanged(),this.onLoadSurveyFromService(),this.onLoadedSurveyFromService.fire(this,{}))},l.prototype.onLoadingSurveyFromService=function(){},l.prototype.onLoadSurveyFromService=function(){},l.prototype.resetVisibleIndexes=function(){for(var o=this.getAllQuestions(!0),v=0;v<o.length;v++)o[v].setVisibleIndex(-1);this.updateVisibleIndexes()},l.prototype.updateVisibleIndexes=function(){if(!(this.isLoadingFromJson||this.isEndLoadingFromJson)){if(this.isRunningConditions&&this.onVisibleChanged.isEmpty&&this.onPageVisibleChanged.isEmpty){this.conditionUpdateVisibleIndexes=!0;return}if(this.isRunningElementsBindings){this.updateVisibleIndexAfterBindings=!0;return}if(this.updatePageVisibleIndexes(this.showPageNumbers),this.showQuestionNumbers=="onPage")for(var o=this.visiblePages,v=0;v<o.length;v++)o[v].setVisibleIndex(0);else for(var T=this.showQuestionNumbers=="on"?0:-1,v=0;v<this.pages.length;v++)T+=this.pages[v].setVisibleIndex(T);this.updateProgressText(!0)}},l.prototype.updatePageVisibleIndexes=function(o){this.updateButtonsVisibility();for(var v=0,T=0;T<this.pages.length;T++){var L=this.pages[T],V=L.isVisible&&(T>0||!L.isStarted);L.visibleIndex=V?v++:-1,L.num=V?L.visibleIndex+1:-1}},l.prototype.fromJSON=function(o){if(o){this.questionHashesClear(),this.jsonErrors=null;var v=new C.JsonObject;v.toObject(o,this),v.errors.length>0&&(this.jsonErrors=v.errors),this.onStateAndCurrentPageChanged()}},l.prototype.setJsonObject=function(o){this.fromJSON(o)},l.prototype.endLoadingFromJson=function(){this.isEndLoadingFromJson="processing",this.isStartedState=this.firstPageIsStarted,this.onQuestionsOnPageModeChanged("standard"),O.prototype.endLoadingFromJson.call(this),this.hasCookie&&this.doComplete(),this.doElementsOnLoad(),this.isEndLoadingFromJson="conditions",this.runConditions(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.isEndLoadingFromJson=null,this.updateVisibleIndexes(),this.updateCurrentPage(),this.hasDescription=!!this.description},l.prototype.updateNavigationCss=function(){this.navigationBar&&(this.updateNavigationBarCss(),this.updateNavigationItemCssCallback&&this.updateNavigationItemCssCallback())},l.prototype.updateNavigationBarCss=function(){var o=this.navigationBar,v=this.css.actionBar;v&&(o.cssClasses=v),o.containerCss=this.css.footer},l.prototype.createNavigationBar=function(){var o=new c.ActionContainer;return o.setItems(this.createNavigationActions()),o},l.prototype.createNavigationActions=function(){var o=this,v="sv-nav-btn",T=new b.Action({id:"sv-nav-start",visible:new M.ComputedUpdater(function(){return o.isShowStartingPage}),visibleIndex:10,locTitle:this.locStartSurveyText,action:function(){return o.start()},component:v}),L=new b.Action({id:"sv-nav-prev",visible:new M.ComputedUpdater(function(){return o.isShowPrevButton}),visibleIndex:20,data:{mouseDown:function(){return o.navigationMouseDown()}},locTitle:this.locPagePrevText,action:function(){return o.prevPage()},component:v}),V=new b.Action({id:"sv-nav-next",visible:new M.ComputedUpdater(function(){return o.isShowNextButton}),visibleIndex:30,data:{mouseDown:function(){return o.nextPageMouseDown()}},locTitle:this.locPageNextText,action:function(){return o.nextPageUIClick()},component:v}),_=new b.Action({id:"sv-nav-preview",visible:new M.ComputedUpdater(function(){return o.isPreviewButtonVisible}),visibleIndex:40,data:{mouseDown:function(){return o.navigationMouseDown()}},locTitle:this.locPreviewText,action:function(){return o.showPreview()},component:v}),B=new b.Action({id:"sv-nav-complete",visible:new M.ComputedUpdater(function(){return o.isCompleteButtonVisible}),visibleIndex:50,data:{mouseDown:function(){return o.navigationMouseDown()}},locTitle:this.locCompleteText,action:function(){return o.completeLastPage()},component:v});return this.updateNavigationItemCssCallback=function(){T.innerCss=o.cssNavigationStart,L.innerCss=o.cssNavigationPrev,V.innerCss=o.cssNavigationNext,_.innerCss=o.cssNavigationPreview,B.innerCss=o.cssNavigationComplete},[T,L,V,_,B]},l.prototype.onBeforeCreating=function(){},l.prototype.onCreating=function(){},l.prototype.getProcessedTextValue=function(o){if(this.getProcessedTextValueCore(o),!this.onProcessTextValue.isEmpty){var v=this.isValueEmpty(o.value);this.onProcessTextValue.fire(this,o),o.isExists=o.isExists||v&&!this.isValueEmpty(o.value)}},l.prototype.getBuiltInVariableValue=function(o){if(o==="pageno"){var v=this.currentPage;return v!=null?this.visiblePages.indexOf(v)+1:0}if(o==="pagecount")return this.visiblePageCount;if(o==="correctedanswers"||o==="correctanswers"||o==="correctedanswercount")return this.getCorrectedAnswerCount();if(o==="incorrectedanswers"||o==="incorrectanswers"||o==="incorrectedanswercount")return this.getInCorrectedAnswerCount();if(o==="questioncount")return this.getQuizQuestionCount()},l.prototype.getProcessedTextValueCore=function(o){var v=o.name.toLocaleLowerCase();if(["no","require","title"].indexOf(v)===-1){var T=this.getBuiltInVariableValue(v);if(T!==void 0){o.isExists=!0,o.value=T;return}if(v==="locale"){o.isExists=!0,o.value=this.locale?this.locale:g.surveyLocalization.defaultLocale;return}var L=this.getVariable(v);if(L!==void 0){o.isExists=!0,o.value=L;return}var V=this.getFirstName(v);if(V){o.isExists=!0;var _=V.getValueName().toLowerCase();v=_+v.substr(_.length),v=v.toLocaleLowerCase();var B={};B[_]=o.returnDisplayValue?V.getDisplayValue(!1,void 0):V.value,o.value=new h.ProcessValue().getValue(v,B);return}var k=this.getValue(o.name);k!==void 0&&(o.isExists=!0,o.value=k)}},l.prototype.getFirstName=function(o){o=o.toLowerCase();var v;do v=this.getQuestionByValueName(o,!0),o=this.reduceFirstName(o);while(!v&&o);return v},l.prototype.reduceFirstName=function(o){var v=o.lastIndexOf("."),T=o.lastIndexOf("[");if(v<0&&T<0)return"";var L=Math.max(v,T);return o.substr(0,L)},l.prototype.clearUnusedValues=function(){for(var o=this.getAllQuestions(),v=0;v<o.length;v++)o[v].clearUnusedValues();this.clearInvisibleQuestionValues()},l.prototype.hasVisibleQuestionByValueName=function(o){var v=this.getQuestionsByValueName(o);if(!v)return!1;for(var T=0;T<v.length;T++)if(v[T].isVisible&&v[T].isParentVisible)return!0;return!1},l.prototype.questionCountByValueName=function(o){var v=this.getQuestionsByValueName(o);return v?v.length:0},l.prototype.clearInvisibleQuestionValues=function(){for(var o=this.clearInvisibleValues==="none"?"none":"onComplete",v=this.getAllQuestions(),T=0;T<v.length;T++)v[T].clearValueIfInvisible(o)},l.prototype.getVariable=function(o){if(!o)return null;o=o.toLowerCase();var v=this.variablesHash[o];return this.isValueEmpty(v)&&(o.indexOf(".")>-1||o.indexOf("[")>-1)&&new h.ProcessValue().hasValue(o,this.variablesHash)?new h.ProcessValue().getValue(o,this.variablesHash):v},l.prototype.setVariable=function(o,v){o&&(o=o.toLowerCase(),this.variablesHash[o]=v,this.notifyElementsOnAnyValueOrVariableChanged(o),this.runConditionOnValueChanged(o,v),this.onVariableChanged.fire(this,{name:o,value:v}))},l.prototype.getVariableNames=function(){var o=[];for(var v in this.variablesHash)o.push(v);return o},l.prototype.getUnbindValue=function(o){return this.editingObj?o:d.Helpers.getUnbindValue(o)},l.prototype.getValue=function(o){if(!o||o.length==0)return null;var v=this.getDataValueCore(this.valuesHash,o);return this.getUnbindValue(v)},l.prototype.setValue=function(o,v,T,L){T===void 0&&(T=!1),L===void 0&&(L=!0);var V=v;if(L&&(V=this.questionOnValueChanging(o,v)),!(this.isValidateOnValueChanging&&this.checkErrorsOnValueChanging(o,V))&&!(!this.editingObj&&this.isValueEqual(o,V)&&this.isTwoValueEquals(V,v))){var _=this.getValue(o);this.isValueEmpty(V)?this.deleteDataValueCore(this.valuesHash,o):(V=this.getUnbindValue(V),this.setDataValueCore(this.valuesHash,o,V)),this.updateOnSetValue(o,V,_,T,L)}},l.prototype.updateOnSetValue=function(o,v,T,L,V){if(L===void 0&&(L=!1),V===void 0&&(V=!0),this.updateQuestionValue(o,v),!(L===!0||this.isDisposed||this.isRunningElementsBindings)){var _={};_[o]={newValue:v,oldValue:T},this.runConditionOnValueChanged(o,v),this.checkTriggers(_,!1),V&&this.notifyQuestionOnValueChanged(o,v),L!=="text"&&this.tryGoNextPageAutomatic(o)}},l.prototype.isValueEqual=function(o,v){(v===""||v===void 0)&&(v=null);var T=this.getValue(o);return(T===""||T===void 0)&&(T=null),v===null||T===null?v===T:this.isTwoValueEquals(v,T)},l.prototype.doOnPageAdded=function(o){o.setSurveyImpl(this),o.name||(o.name=this.generateNewName(this.pages,"page")),this.questionHashesPanelAdded(o),this.updateVisibleIndexes(),this.isLoadingFromJson||(this.updateProgressText(),this.updateCurrentPage());var v={page:o};this.onPageAdded.fire(this,v)},l.prototype.doOnPageRemoved=function(o){o.setSurveyImpl(null),o===this.currentPage&&this.updateCurrentPage(),this.updateVisibleIndexes(),this.updateProgressText(),this.updateLazyRenderingRowsOnRemovingElements()},l.prototype.generateNewName=function(o,v){for(var T={},L=0;L<o.length;L++)T[o[L].name]=!0;for(var V=1;T[v+V];)V++;return v+V},l.prototype.tryGoNextPageAutomatic=function(o){if(!(this.isEndLoadingFromJson||!this.goNextPageAutomatic||!this.currentPage)){var v=this.getQuestionByValueName(o);if(!(!v||v&&(!v.visible||!v.supportGoNextPageAutomatic()))&&!(v.hasErrors(!1)&&!v.supportGoNextPageError())){var T=this.getCurrentPageQuestions();if(!(T.indexOf(v)<0)){for(var L=0;L<T.length;L++)if(T[L].hasInput&&T[L].isEmpty())return;this.checkIsCurrentPageHasErrors(!1)||(this.isLastPage?this.goNextPageAutomatic===!0&&this.allowCompleteSurveyAutomatic&&(this.isShowPreviewBeforeComplete?this.showPreview():this.completeLastPage()):this.nextPage())}}}},l.prototype.getComment=function(o){var v=this.getValue(o+this.commentPrefix);return v||""},l.prototype.setComment=function(o,v,T){if(T===void 0&&(T=!1),v||(v=""),!this.isTwoValueEquals(v,this.getComment(o))){var L=o+this.commentPrefix;this.isValueEmpty(v)?this.deleteDataValueCore(this.valuesHash,L):this.setDataValueCore(this.valuesHash,L,v);var V=this.getQuestionsByValueName(o);if(V)for(var _=0;_<V.length;_++)V[_].updateCommentFromSurvey(v),this.checkQuestionErrorOnValueChanged(V[_]);T||this.runConditionOnValueChanged(o,this.getValue(o)),T!=="text"&&this.tryGoNextPageAutomatic(o);var B=this.getQuestionByName(o);B&&this.onValueChanged.fire(this,{name:L,question:B,value:v})}},l.prototype.clearValue=function(o){this.setValue(o,null),this.setComment(o,null)},Object.defineProperty(l.prototype,"clearValueOnDisableItems",{get:function(){return this.getPropertyValue("clearValueOnDisableItems",!1)},set:function(o){this.setPropertyValue("clearValueOnDisableItems",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isClearValueOnHidden",{get:function(){return this.clearInvisibleValues=="onHidden"||this.isClearValueOnHiddenContainer},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isClearValueOnHiddenContainer",{get:function(){return this.clearInvisibleValues=="onHiddenContainer"&&!this.isShowingPreview&&!this.runningPages},enumerable:!1,configurable:!0}),l.prototype.questionVisibilityChanged=function(o,v){this.updateVisibleIndexes(),this.onVisibleChanged.fire(this,{question:o,name:o.name,visible:v})},l.prototype.pageVisibilityChanged=function(o,v){this.isLoadingFromJson||((v&&!this.currentPage||o===this.currentPage)&&this.updateCurrentPage(),this.updateVisibleIndexes(),this.onPageVisibleChanged.fire(this,{page:o,visible:v}))},l.prototype.panelVisibilityChanged=function(o,v){this.updateVisibleIndexes(),this.onPanelVisibleChanged.fire(this,{panel:o,visible:v})},l.prototype.questionCreated=function(o){this.onQuestionCreated.fire(this,{question:o})},l.prototype.questionAdded=function(o,v,T,L){o.name||(o.name=this.generateNewName(this.getAllQuestions(!1,!0),"question")),o.page&&this.questionHashesAdded(o),this.currentPage||this.updateCurrentPage(),this.updateVisibleIndexes(),this.isMovingQuestion||this.onQuestionAdded.fire(this,{question:o,name:o.name,index:v,parentPanel:T,rootPanel:L})},l.prototype.questionRemoved=function(o){this.questionHashesRemoved(o,o.name,o.getValueName()),this.updateVisibleIndexes(),this.onQuestionRemoved.fire(this,{question:o,name:o.name}),this.updateLazyRenderingRowsOnRemovingElements()},l.prototype.questionRenamed=function(o,v,T){this.questionHashesRemoved(o,v,T),this.questionHashesAdded(o)},l.prototype.questionHashesClear=function(){this.questionHashes.names={},this.questionHashes.namesInsensitive={},this.questionHashes.valueNames={},this.questionHashes.valueNamesInsensitive={}},l.prototype.questionHashesPanelAdded=function(o){if(!this.isLoadingFromJson)for(var v=o.questions,T=0;T<v.length;T++)this.questionHashesAdded(v[T])},l.prototype.questionHashesAdded=function(o){this.questionHashAddedCore(this.questionHashes.names,o,o.name),this.questionHashAddedCore(this.questionHashes.namesInsensitive,o,o.name.toLowerCase()),this.questionHashAddedCore(this.questionHashes.valueNames,o,o.getValueName()),this.questionHashAddedCore(this.questionHashes.valueNamesInsensitive,o,o.getValueName().toLowerCase())},l.prototype.questionHashesRemoved=function(o,v,T){v&&(this.questionHashRemovedCore(this.questionHashes.names,o,v),this.questionHashRemovedCore(this.questionHashes.namesInsensitive,o,v.toLowerCase())),T&&(this.questionHashRemovedCore(this.questionHashes.valueNames,o,T),this.questionHashRemovedCore(this.questionHashes.valueNamesInsensitive,o,T.toLowerCase()))},l.prototype.questionHashAddedCore=function(o,v,T){var L=o[T];if(L){var L=o[T];L.indexOf(v)<0&&L.push(v)}else o[T]=[v]},l.prototype.questionHashRemovedCore=function(o,v,T){var L=o[T];if(L){var V=L.indexOf(v);V>-1&&L.splice(V,1),L.length==0&&delete o[T]}},l.prototype.panelAdded=function(o,v,T,L){o.name||(o.name=this.generateNewName(this.getAllPanels(!1,!0),"panel")),this.questionHashesPanelAdded(o),this.updateVisibleIndexes(),this.onPanelAdded.fire(this,{panel:o,name:o.name,index:v,parentPanel:T,rootPanel:L})},l.prototype.panelRemoved=function(o){this.updateVisibleIndexes(),this.onPanelRemoved.fire(this,{panel:o,name:o.name}),this.updateLazyRenderingRowsOnRemovingElements()},l.prototype.validateQuestion=function(o){if(this.onValidateQuestion.isEmpty)return null;var v={name:o.name,question:o,value:o.value,error:null};return this.onValidateQuestion.fire(this,v),v.error?new f.CustomError(v.error,this):null},l.prototype.validatePanel=function(o){if(this.onValidatePanel.isEmpty)return null;var v={name:o.name,panel:o,error:null};return this.onValidatePanel.fire(this,v),v.error?new f.CustomError(v.error,this):null},l.prototype.processHtml=function(o){var v={html:o};return this.onProcessHtml.fire(this,v),this.processText(v.html,!0)},l.prototype.processText=function(o,v){return this.processTextEx(o,v,!1).text},l.prototype.processTextEx=function(o,v,T){var L={text:this.processTextCore(o,v,T),hasAllValuesOnLastRun:!0};return L.hasAllValuesOnLastRun=this.textPreProcessor.hasAllValuesOnLastRun,L},l.prototype.processTextCore=function(o,v,T){return T===void 0&&(T=!1),this.isDesignMode?o:this.textPreProcessor.process(o,v,T)},l.prototype.getSurveyMarkdownHtml=function(o,v,T){var L={element:o,text:v,name:T,html:null};return this.onTextMarkdown.fire(this,L),L.html},l.prototype.getCorrectedAnswerCount=function(){return this.getCorrectedAnswerCountCore(!0)},l.prototype.getCorrectAnswerCount=function(){return this.getCorrectedAnswerCountCore(!0)},l.prototype.getQuizQuestionCount=function(){for(var o=this.getQuizQuestions(),v=0,T=0;T<o.length;T++)v+=o[T].quizQuestionCount;return v},l.prototype.getInCorrectedAnswerCount=function(){return this.getCorrectedAnswerCountCore(!1)},l.prototype.getInCorrectAnswerCount=function(){return this.getCorrectedAnswerCountCore(!1)},l.prototype.getCorrectedAnswerCountCore=function(o){for(var v=this.getQuizQuestions(),T=0,L={question:null,result:!1,correctAnswers:0,incorrectAnswers:0},V=0;V<v.length;V++){var _=v[V],B=_.quizQuestionCount;if(L.question=_,L.correctAnswers=_.correctAnswerCount,L.incorrectAnswers=B-L.correctAnswers,L.result=L.question.isAnswerCorrect(),this.onIsAnswerCorrect.fire(this,L),o){if(L.result||L.correctAnswers<B){var k=L.correctAnswers;k==0&&L.result&&(k=1),T+=k}}else(!L.result||L.incorrectAnswers<B)&&(T+=L.incorrectAnswers)}return T},l.prototype.getCorrectedAnswers=function(){return this.getCorrectedAnswerCount()},l.prototype.getInCorrectedAnswers=function(){return this.getInCorrectedAnswerCount()},Object.defineProperty(l.prototype,"showTimerPanel",{get:function(){return this.getPropertyValue("showTimerPanel")},set:function(o){this.setPropertyValue("showTimerPanel",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isTimerPanelShowingOnTop",{get:function(){return this.timerModel.isRunning&&this.showTimerPanel=="top"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isTimerPanelShowingOnBottom",{get:function(){return this.timerModel.isRunning&&this.showTimerPanel=="bottom"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"showTimerPanelMode",{get:function(){return this.getPropertyValue("showTimerPanelMode")},set:function(o){this.setPropertyValue("showTimerPanelMode",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"widthMode",{get:function(){return this.getPropertyValue("widthMode")},set:function(o){this.setPropertyValue("widthMode",o)},enumerable:!1,configurable:!0}),l.prototype.calculateWidthMode=function(){if(this.widthMode=="auto"){var o=!1;return this.pages.forEach(function(v){v.needResponsiveWidth()&&(o=!0)}),o?"responsive":"static"}return this.widthMode},Object.defineProperty(l.prototype,"timerInfoText",{get:function(){var o={text:this.getTimerInfoText()};this.onTimerPanelInfoText.fire(this,o);var v=new i.LocalizableString(this,!0);return v.text=o.text,v.textOrHtml},enumerable:!1,configurable:!0}),l.prototype.getTimerInfoText=function(){var o=this.currentPage;if(!o)return"";var v=this.getDisplayTime(o.timeSpent),T=this.getDisplayTime(this.timeSpent),L=this.getPageMaxTimeToFinish(o),V=this.getDisplayTime(L),_=this.getDisplayTime(this.maxTimeToFinish);if(this.showTimerPanelMode=="page")return this.getTimerInfoPageText(o,v,V);if(this.showTimerPanelMode=="survey")return this.getTimerInfoSurveyText(T,_);if(this.showTimerPanelMode=="all"){if(L<=0&&this.maxTimeToFinish<=0)return this.getLocString("timerSpentAll").format(v,T);if(L>0&&this.maxTimeToFinish>0)return this.getLocString("timerLimitAll").format(v,V,T,_);var B=this.getTimerInfoPageText(o,v,V),k=this.getTimerInfoSurveyText(T,_);return B+" "+k}return""},l.prototype.getTimerInfoPageText=function(o,v,T){return this.getPageMaxTimeToFinish(o)>0?this.getLocString("timerLimitPage").format(v,T):this.getLocString("timerSpentPage").format(v,T)},l.prototype.getTimerInfoSurveyText=function(o,v){return this.maxTimeToFinish>0?this.getLocString("timerLimitSurvey").format(o,v):this.getLocString("timerSpentSurvey").format(o,v)},l.prototype.getDisplayTime=function(o){var v=Math.floor(o/60),T=o%60,L="";return v>0&&(L+=v+" "+this.getLocString("timerMin")),L&&T==0?L:(L&&(L+=" "),L+T+" "+this.getLocString("timerSec"))},Object.defineProperty(l.prototype,"timerModel",{get:function(){return this.timerModelValue},enumerable:!1,configurable:!0}),l.prototype.startTimer=function(){this.timerModel.start()},l.prototype.startTimerFromUI=function(){this.showTimerPanel!="none"&&this.state==="running"&&this.startTimer()},l.prototype.stopTimer=function(){this.timerModel.stop()},Object.defineProperty(l.prototype,"timeSpent",{get:function(){return this.timerModel.spent},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"maxTimeToFinish",{get:function(){return this.getPropertyValue("maxTimeToFinish",0)},set:function(o){this.setPropertyValue("maxTimeToFinish",o)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"maxTimeToFinishPage",{get:function(){return this.getPropertyValue("maxTimeToFinishPage",0)},set:function(o){this.setPropertyValue("maxTimeToFinishPage",o)},enumerable:!1,configurable:!0}),l.prototype.getPageMaxTimeToFinish=function(o){return!o||o.maxTimeToFinish<0?0:o.maxTimeToFinish>0?o.maxTimeToFinish:this.maxTimeToFinishPage},l.prototype.doTimer=function(o){if(this.onTimer.fire(this,{}),this.maxTimeToFinish>0&&this.maxTimeToFinish==this.timeSpent&&this.completeLastPage(),o){var v=this.getPageMaxTimeToFinish(o);v>0&&v==o.timeSpent&&(this.isLastPage?this.completeLastPage():this.nextPage())}},Object.defineProperty(l.prototype,"inSurvey",{get:function(){return!0},enumerable:!1,configurable:!0}),l.prototype.getSurveyData=function(){return this},l.prototype.getSurvey=function(){return this},l.prototype.getTextProcessor=function(){return this},l.prototype.getObjects=function(o,v){var T=[];return Array.prototype.push.apply(T,this.getPagesByNames(o)),Array.prototype.push.apply(T,this.getQuestionsByNames(v)),T},l.prototype.setTriggerValue=function(o,v,T){if(o)if(T)this.setVariable(o,v);else{var L=this.getQuestionByName(o);if(L)L.value=v;else{var V=new h.ProcessValue,_=V.getFirstName(o);if(_==o)this.setValue(o,v);else{if(!this.getQuestionByName(_))return;var B=this.getUnbindValue(this.getFilteredValues());V.setValue(B,o,v),this.setValue(_,B[_])}}}},l.prototype.copyTriggerValue=function(o,v){if(!(!o||!v)){var T=new h.ProcessValue,L=T.getValue(v,this.getFilteredValues());this.setTriggerValue(o,L,!1)}},l.prototype.startMovingQuestion=function(){this.isMovingQuestion=!0},l.prototype.stopMovingQuestion=function(){this.isMovingQuestion=!1},l.prototype.focusQuestion=function(o){var v=this.getQuestionByName(o,!0);return!v||!v.isVisible||!v.page?!1:(this.isFocusingQuestion=!0,this.currentPage=v.page,v.focus(),this.isFocusingQuestion=!1,this.isCurrentPageRendering=!1,!0)},l.prototype.getElementWrapperComponentName=function(o,v){return v==="logo-image"?"sv-logo-image":l.TemplateRendererComponentName},l.prototype.getQuestionContentWrapperComponentName=function(o){return l.TemplateRendererComponentName},l.prototype.getRowWrapperComponentName=function(o){return l.TemplateRendererComponentName},l.prototype.getElementWrapperComponentData=function(o,v){return o},l.prototype.getRowWrapperComponentData=function(o){return o},l.prototype.getItemValueWrapperComponentName=function(o,v){return l.TemplateRendererComponentName},l.prototype.getItemValueWrapperComponentData=function(o,v){return o},l.prototype.getMatrixCellTemplateData=function(o){return o.question},l.prototype.searchText=function(o){o&&(o=o.toLowerCase());for(var v=[],T=0;T<this.pages.length;T++)this.pages[T].searchText(o,v);return v},l.prototype.getSkeletonComponentName=function(o){return this.skeletonComponentName},l.prototype.dispose=function(){if(this.currentPage=null,this.destroyResizeObserver(),O.prototype.dispose.call(this),this.editingObj=null,!!this.pages){for(var o=0;o<this.pages.length;o++)this.pages[o].dispose();this.pages.splice(0,this.pages.length),this.disposeCallback&&this.disposeCallback()}},l.TemplateRendererComponentName="sv-template-renderer",l.stylesManager=null,l.platform="unknown",A([Object(C.property)()],l.prototype,"completedCss",void 0),A([Object(C.property)()],l.prototype,"containerCss",void 0),A([Object(C.property)()],l.prototype,"_isMobile",void 0),A([Object(C.property)()],l.prototype,"rootCss",void 0),l}(w.SurveyElementCore);C.Serializer.addClass("survey",[{name:"locale",choices:function(){return g.surveyLocalization.getLocales(!0)},onGetValue:function(O){return O.locale==g.surveyLocalization.defaultLocale?null:O.locale}},{name:"title",serializationProperty:"locTitle",dependsOn:"locale"},{name:"description:text",serializationProperty:"locDescription",dependsOn:"locale"},{name:"logo",serializationProperty:"locLogo"},{name:"logoWidth",default:"300px",minValue:0},{name:"logoHeight",default:"200px",minValue:0},{name:"logoFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"logoPosition",default:"left",choices:["none","left","right","top","bottom"]},{name:"focusFirstQuestionAutomatic:boolean",default:!0},{name:"focusOnFirstError:boolean",default:!0},{name:"completedHtml:html",serializationProperty:"locCompletedHtml"},{name:"completedBeforeHtml:html",serializationProperty:"locCompletedBeforeHtml"},{name:"completedHtmlOnCondition:htmlconditions",className:"htmlconditionitem"},{name:"loadingHtml:html",serializationProperty:"locLoadingHtml"},{name:"pages:surveypages",className:"page"},{name:"questions",alternativeName:"elements",baseClassName:"question",visible:!1,isLightSerializable:!1,onGetValue:function(O){return null},onSetValue:function(O,l,o){O.pages.splice(0,O.pages.length);var v=O.addNewPage("");o.toObject({questions:l},v)}},{name:"triggers:triggers",baseClassName:"surveytrigger",classNamePart:"trigger"},{name:"calculatedValues:calculatedvalues",className:"calculatedvalue"},{name:"surveyId",visible:!1},{name:"surveyPostId",visible:!1},{name:"surveyShowDataSaving:boolean",visible:!1},"cookieName","sendResultOnPageNext:boolean",{name:"showNavigationButtons",default:"bottom",choices:["none","top","bottom","both"]},{name:"showPrevButton:boolean",default:!0},{name:"showTitle:boolean",default:!0},{name:"showPageTitles:boolean",default:!0},{name:"showCompletedPage:boolean",default:!0},"navigateToUrl",{name:"navigateToUrlOnCondition:urlconditions",className:"urlconditionitem"},{name:"questionsOrder",default:"initial",choices:["initial","random"]},"showPageNumbers:boolean",{name:"showQuestionNumbers",default:"on",choices:["on","onPage","off"]},{name:"questionTitleLocation",default:"top",choices:["top","bottom","left"]},{name:"questionDescriptionLocation",default:"underTitle",choices:["underInput","underTitle"]},{name:"questionErrorLocation",default:"top",choices:["top","bottom"]},{name:"showProgressBar",default:"off",choices:["off","top","bottom","both"]},{name:"progressBarType",default:"pages",choices:["pages","questions","requiredQuestions","correctQuestions","buttons"]},{name:"mode",default:"edit",choices:["edit","display"]},{name:"storeOthersAsComment:boolean",default:!0},{name:"maxTextLength:number",default:0,minValue:0},{name:"maxOthersLength:number",default:0,minValue:0},"goNextPageAutomatic:boolean",{name:"clearInvisibleValues",default:"onComplete",choices:["none","onComplete","onHidden","onHiddenContainer"]},{name:"checkErrorsMode",default:"onNextPage",choices:["onNextPage","onValueChanged","onValueChanging","onComplete"]},{name:"textUpdateMode",default:"onBlur",choices:["onBlur","onTyping"]},{name:"autoGrowComment:boolean",default:!1},{name:"startSurveyText",serializationProperty:"locStartSurveyText"},{name:"pagePrevText",serializationProperty:"locPagePrevText"},{name:"pageNextText",serializationProperty:"locPageNextText"},{name:"completeText",serializationProperty:"locCompleteText"},{name:"previewText",serializationProperty:"locPreviewText"},{name:"editText",serializationProperty:"locEditText"},{name:"requiredText",default:"*"},{name:"questionStartIndex",dependsOn:["showQuestionNumbers"],visibleIf:function(O){return!O||O.showQuestionNumbers!=="off"}},{name:"questionTitlePattern",default:"numTitleRequire",dependsOn:["questionStartIndex","requiredText"],choices:function(O){return O?O.getQuestionTitlePatternOptions():[]}},{name:"questionTitleTemplate",visible:!1,isSerializable:!1,serializationProperty:"locQuestionTitleTemplate"},{name:"firstPageIsStarted:boolean",default:!1},{name:"isSinglePage:boolean",default:!1,visible:!1,isSerializable:!1},{name:"questionsOnPageMode",default:"standard",choices:["singlePage","standard","questionPerPage"]},{name:"showPreviewBeforeComplete",default:"noPreview",choices:["noPreview","showAllQuestions","showAnsweredQuestions"]},{name:"maxTimeToFinish:number",default:0,minValue:0},{name:"maxTimeToFinishPage:number",default:0,minValue:0},{name:"showTimerPanel",default:"none",choices:["none","top","bottom"]},{name:"showTimerPanelMode",default:"all",choices:["all","page","survey"]},{name:"widthMode",default:"auto",choices:["auto","static","responsive"]}])},"./src/surveyProgress.ts":function(a,r,t){t.r(r),t.d(r,"SurveyProgressModel",function(){return C});var d=t("./src/utils/cssClassBuilder.ts"),C=function(){function M(){}return M.getProgressTextInBarCss=function(w){return new d.CssClassBuilder().append(w.progressText).append(w.progressTextInBar).toString()},M.getProgressTextUnderBarCss=function(w){return new d.CssClassBuilder().append(w.progressText).append(w.progressTextUnderBar).toString()},M}()},"./src/surveyProgressButtons.ts":function(a,r,t){t.r(r),t.d(r,"SurveyProgressButtonsModel",function(){return C});var d=t("./src/utils/cssClassBuilder.ts"),C=function(){function M(w){this.survey=w}return M.prototype.isListElementClickable=function(w){return!this.survey.onServerValidateQuestions||this.survey.onServerValidateQuestions.isEmpty||this.survey.checkErrorsMode==="onComplete"?!0:w<=this.survey.currentPageNo+1},M.prototype.getListElementCss=function(w){if(!(w>=this.survey.visiblePages.length))return new d.CssClassBuilder().append(this.survey.css.progressButtonsListElementPassed,this.survey.visiblePages[w].passed).append(this.survey.css.progressButtonsListElementCurrent,this.survey.currentPageNo===w).append(this.survey.css.progressButtonsListElementNonClickable,!this.isListElementClickable(w)).toString()},M.prototype.getScrollButtonCss=function(w,S){return new d.CssClassBuilder().append(this.survey.css.progressButtonsImageButtonLeft,S).append(this.survey.css.progressButtonsImageButtonRight,!S).append(this.survey.css.progressButtonsImageButtonHidden,!w).toString()},M.prototype.clickListElement=function(w){if(!this.survey.isDesignMode){if(w<this.survey.currentPageNo)this.survey.currentPageNo=w;else if(w>this.survey.currentPageNo)for(var S=this.survey.currentPageNo;S<w&&this.survey.nextPage();S++);}},M}()},"./src/surveyStrings.ts":function(a,r,t){t.r(r),t.d(r,"surveyLocalization",function(){return C}),t.d(r,"surveyStrings",function(){return M});var d=t("./src/localization/english.ts"),C={currentLocaleValue:"",defaultLocaleValue:"en",locales:{},localeNames:{},supportedLocales:[],get currentLocale(){return this.currentLocaleValue===this.defaultLocaleValue?"":this.currentLocaleValue},set currentLocale(w){w==="cz"&&(w="cs"),this.currentLocaleValue=w},get defaultLocale(){return this.defaultLocaleValue},set defaultLocale(w){w==="cz"&&(w="cs"),this.defaultLocaleValue=w},getLocaleStrings:function(w){return this.locales[w]},getCurrentStrings:function(w){var S=w&&this.locales[w];return S||(S=this.currentLocale?this.locales[this.currentLocale]:this.locales[this.defaultLocale]),S||(S=this.locales[this.defaultLocale]),S},getString:function(w,S){S===void 0&&(S=null);var x=this.getCurrentStrings(S);x[w]||(x=this.locales[this.defaultLocale]);var h=x[w];return h===void 0&&(h=this.locales.en[w]),h},getLocales:function(w){w===void 0&&(w=!1);var S=[];S.push("");var x=this.locales;if(this.supportedLocales&&this.supportedLocales.length>0){x={};for(var h=0;h<this.supportedLocales.length;h++)x[this.supportedLocales[h]]=!0}for(var u in x)w&&u==this.defaultLocale||S.push(u);var g=function(f){if(!f)return"";var i=C.localeNames[f];return i||(i=f),i.toLowerCase()};return S.sort(function(f,i){var p=g(f),P=g(i);return p===P?0:p<P?-1:1}),S}},M=d.englishStrings;C.locales.en=d.englishStrings,C.localeNames.en="english"},"./src/surveyTimerModel.ts":function(a,r,t){t.r(r),t.d(r,"SurveyTimerModel",function(){return x});var d=t("./src/base.ts"),C=t("./src/surveytimer.ts"),M=t("./src/jsonobject.ts"),w=function(){var h=function(u,g){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,i){f.__proto__=i}||function(f,i){for(var p in i)Object.prototype.hasOwnProperty.call(i,p)&&(f[p]=i[p])},h(u,g)};return function(u,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");h(u,g);function f(){this.constructor=u}u.prototype=g===null?Object.create(g):(f.prototype=g.prototype,new f)}}(),S=function(h,u,g,f){var i=arguments.length,p=i<3?u:f===null?f=Object.getOwnPropertyDescriptor(u,g):f,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(h,u,g,f);else for(var m=h.length-1;m>=0;m--)(P=h[m])&&(p=(i<3?P(p):i>3?P(u,g,p):P(u,g))||p);return i>3&&p&&Object.defineProperty(u,g,p),p},x=function(h){w(u,h);function u(g){var f=h.call(this)||this;return f.timerFunc=null,f.surveyValue=g,f.onCreating(),f}return Object.defineProperty(u.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!1,configurable:!0}),u.prototype.onCreating=function(){},u.prototype.start=function(){var g=this;this.survey&&(this.isRunning||this.isDesignMode||(this.timerFunc=function(){g.doTimer()},this.setIsRunning(!0),this.updateText(),C.SurveyTimer.instance.start(this.timerFunc)))},u.prototype.stop=function(){this.isRunning&&(this.setIsRunning(!1),C.SurveyTimer.instance.stop(this.timerFunc))},Object.defineProperty(u.prototype,"isRunning",{get:function(){return this.getPropertyValue("isRunning",!1)},enumerable:!1,configurable:!0}),u.prototype.setIsRunning=function(g){this.setPropertyValue("isRunning",g)},u.prototype.doTimer=function(){var g=this.survey.currentPage;g&&(g.timeSpent=g.timeSpent+1),this.spent=this.spent+1,this.updateText(),this.onTimer&&this.onTimer(g)},u.prototype.updateText=function(){this.text=this.survey.timerInfoText},S([Object(M.property)()],u.prototype,"text",void 0),S([Object(M.property)({defaultValue:0})],u.prototype,"spent",void 0),u}(d.Base)},"./src/surveyWindow.ts":function(a,r,t){t.r(r),t.d(r,"SurveyWindowModel",function(){return w});var d=t("./src/base.ts"),C=t("./src/survey.ts"),M=function(){var S=function(x,h){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var f in g)Object.prototype.hasOwnProperty.call(g,f)&&(u[f]=g[f])},S(x,h)};return function(x,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");S(x,h);function u(){this.constructor=x}x.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}(),w=function(S){M(x,S);function x(h,u){u===void 0&&(u=null);var g=S.call(this)||this;return g.closeOnCompleteTimeout=0,u?g.surveyValue=u:g.surveyValue=g.createSurvey(h),g.surveyValue.showTitle=!1,typeof document<"u"&&(g.windowElement=document.createElement("div")),g.survey.onComplete.add(function(f,i){g.onSurveyComplete()}),g.registerFunctionOnPropertyValueChanged("isShowing",function(){g.showingChangedCallback&&g.showingChangedCallback()}),g.registerFunctionOnPropertyValueChanged("isExpanded",function(){g.onExpandedChanged()}),g.updateCss(),g.onCreating(),g}return x.prototype.onCreating=function(){},x.prototype.getType=function(){return"window"},Object.defineProperty(x.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"isShowing",{get:function(){return this.getPropertyValue("isShowing",!1)},set:function(h){this.setPropertyValue("isShowing",h)},enumerable:!1,configurable:!0}),x.prototype.show=function(){this.isShowing=!0},x.prototype.hide=function(){this.isShowing=!1},Object.defineProperty(x.prototype,"isExpanded",{get:function(){return this.getPropertyValue("isExpanded",!1)},set:function(h){this.setPropertyValue("isExpanded",h)},enumerable:!1,configurable:!0}),x.prototype.onExpandedChanged=function(){this.expandedChangedCallback&&this.expandedChangedCallback(),this.updateCssButton()},Object.defineProperty(x.prototype,"title",{get:function(){return this.survey.title},set:function(h){this.survey.title=h},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"locTitle",{get:function(){return this.survey.locTitle},enumerable:!1,configurable:!0}),x.prototype.expand=function(){this.isExpanded=!0},x.prototype.collapse=function(){this.isExpanded=!1},x.prototype.changeExpandCollapse=function(){this.isExpanded=!this.isExpanded},Object.defineProperty(x.prototype,"css",{get:function(){return this.survey.css},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"cssButton",{get:function(){return this.getPropertyValue("cssButton","")},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"cssRoot",{get:function(){return this.getPropertyValue("cssRoot","")},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"cssBody",{get:function(){return this.getPropertyValue("cssBody","")},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"cssHeaderRoot",{get:function(){return this.getPropertyValue("cssHeaderRoot","")},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"cssHeaderTitle",{get:function(){return this.getPropertyValue("cssHeaderTitle","")},enumerable:!1,configurable:!0}),x.prototype.updateCss=function(){if(!(!this.css||!this.css.window)){var h=this.css.window;this.setPropertyValue("cssRoot",h.root),this.setPropertyValue("cssBody",h.body);var u=h.header;u&&(this.setPropertyValue("cssHeaderRoot",u.root),this.setPropertyValue("cssHeaderTitle",u.title),this.updateCssButton())}},x.prototype.updateCssButton=function(){var h=this.css.window?this.css.window.header:null;h&&this.setCssButton(this.isExpanded?h.buttonExpanded:h.buttonCollapsed)},x.prototype.setCssButton=function(h){h&&this.setPropertyValue("cssButton",h)},x.prototype.createSurvey=function(h){return new C.SurveyModel(h)},x.prototype.onSurveyComplete=function(){if(!(this.closeOnCompleteTimeout<0))if(this.closeOnCompleteTimeout==0)this.hide();else{var h=this,u=null,g=function(){h.hide(),typeof window<"u"&&window.clearInterval(u)};u=typeof window<"u"?window.setInterval(g,this.closeOnCompleteTimeout*1e3):0}},x.surveyElementName="windowSurveyJS",x}(d.Base)},"./src/surveytimer.ts":function(a,r,t){t.r(r),t.d(r,"surveyTimerFunctions",function(){return C}),t.d(r,"SurveyTimer",function(){return M});var d=t("./src/base.ts"),C={setTimeout:function(w){return typeof window>"u"?0:window.setTimeout(w,1e3)},clearTimeout:function(w){typeof window>"u"||window.clearTimeout(w)}},M=function(){function w(){this.listenerCounter=0,this.timerId=-1,this.onTimer=new d.Event}return Object.defineProperty(w,"instance",{get:function(){return w.instanceValue||(w.instanceValue=new w),w.instanceValue},enumerable:!1,configurable:!0}),w.prototype.start=function(S){var x=this;S===void 0&&(S=null),S&&this.onTimer.add(S),this.timerId<0&&(this.timerId=C.setTimeout(function(){x.doTimer()})),this.listenerCounter++},w.prototype.stop=function(S){S===void 0&&(S=null),S&&this.onTimer.remove(S),this.listenerCounter--,this.listenerCounter==0&&this.timerId>-1&&(C.clearTimeout(this.timerId),this.timerId=-1)},w.prototype.doTimer=function(){var S=this;if((this.onTimer.isEmpty||this.listenerCounter==0)&&(this.timerId=-1),!(this.timerId<0)){var x=this.timerId;this.onTimer.fire(this,{}),x===this.timerId&&(this.timerId=C.setTimeout(function(){S.doTimer()}))}},w.instanceValue=null,w}()},"./src/svgbundle.ts":function(a,r,t){t.r(r),t.d(r,"SvgIconRegistry",function(){return d}),t.d(r,"SvgRegistry",function(){return C}),t.d(r,"SvgBundleViewModel",function(){return M});var d=function(){function S(){this.icons={},this.iconPrefix="icon-"}return S.prototype.registerIconFromSymbol=function(x,h){this.icons[x]=h},S.prototype.registerIconFromSvgViaElement=function(x,h,u){u===void 0&&(u=this.iconPrefix);var g=document.createElement("div");g.innerHTML=h;var f=document.createElement("symbol"),i=g.querySelector("svg");f.innerHTML=i.innerHTML;for(var p=0;p<i.attributes.length;p++)f.setAttributeNS("http://www.w3.org/2000/svg",i.attributes[p].name,i.attributes[p].value);f.id=u+x,this.registerIconFromSymbol(x,f.outerHTML)},S.prototype.registerIconFromSvg=function(x,h,u){u===void 0&&(u=this.iconPrefix);var g="<svg ",f="</svg>";h=h.trim();var i=h.toLowerCase();return i.substring(0,g.length)===g&&i.substring(i.length-f.length,i.length)===f?(this.registerIconFromSymbol(x,'<symbol id="'+u+x+'" '+h.substring(g.length,i.length-f.length)+"</symbol>"),!0):!1},S.prototype.registerIconsFromFolder=function(x){var h=this;x.keys().forEach(function(u){h.registerIconFromSvg(u.substring(2,u.length-4).toLowerCase(),x(u))})},S.prototype.iconsRenderedHtml=function(){var x=this;return Object.keys(this.icons).map(function(h){return x.icons[h]}).join("")},S.prototype.renderIcons=function(){var x="sv-icon-holder-global-container";if(!document.getElementById(x)){var h=document.createElement("div");h.id=x,h.innerHTML="<svg>"+this.iconsRenderedHtml()+"</svg>",h.style.display="none",document.head.insertBefore(h,document.head.firstChild)}},S}(),C=new d,M,w=t("./src/images sync \\.svg$");C.registerIconsFromFolder(w)},"./src/template-renderer.ts":function(a,r,t){t.r(r)},"./src/textPreProcessor.ts":function(a,r,t){t.r(r),t.d(r,"TextPreProcessorItem",function(){return M}),t.d(r,"TextPreProcessorValue",function(){return w}),t.d(r,"TextPreProcessor",function(){return S}),t.d(r,"QuestionTextProcessor",function(){return x});var d=t("./src/helpers.ts"),C=t("./src/conditionProcessValue.ts"),M=function(){function h(){}return h}(),w=function(){function h(u,g){this.name=u,this.returnDisplayValue=g,this.isExists=!1,this.canProcess=!0}return h}(),S=function(){function h(){this._unObservableValues=[void 0]}return Object.defineProperty(h.prototype,"hasAllValuesOnLastRunValue",{get:function(){return this._unObservableValues[0]},set:function(u){this._unObservableValues[0]=u},enumerable:!1,configurable:!0}),h.prototype.process=function(u,g,f){if(g===void 0&&(g=!1),f===void 0&&(f=!1),this.hasAllValuesOnLastRunValue=!0,!u||!this.onProcess)return u;for(var i=this.getItems(u),p=i.length-1;p>=0;p--){var P=i[p],m=this.getName(u.substring(P.start+1,P.end));if(m){var y=new w(m,g);if(this.onProcess(y),!y.isExists){y.canProcess&&(this.hasAllValuesOnLastRunValue=!1);continue}d.Helpers.isValueEmpty(y.value)&&(this.hasAllValuesOnLastRunValue=!1);var R=d.Helpers.isValueEmpty(y.value)?"":y.value;f&&(R=encodeURIComponent(R)),u=u.substr(0,P.start)+R+u.substr(P.end+1)}}return u},h.prototype.processValue=function(u,g){var f=new w(u,g);return this.onProcess&&this.onProcess(f),f},Object.defineProperty(h.prototype,"hasAllValuesOnLastRun",{get:function(){return!!this.hasAllValuesOnLastRunValue},enumerable:!1,configurable:!0}),h.prototype.getItems=function(u){for(var g=[],f=u.length,i=-1,p="",P=0;P<f;P++)if(p=u[P],p=="{"&&(i=P),p=="}"){if(i>-1){var m=new M;m.start=i,m.end=P,g.push(m)}i=-1}return g},h.prototype.getName=function(u){if(u)return u.trim()},h}(),x=function(){function h(u){var g=this;this.variableName=u,this.textPreProcessor=new S,this.textPreProcessor.onProcess=function(f){g.getProcessedTextValue(f)}}return h.prototype.processValue=function(u,g){return this.textPreProcessor.processValue(u,g)},Object.defineProperty(h.prototype,"survey",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"panel",{get:function(){return null},enumerable:!1,configurable:!0}),h.prototype.getValues=function(){return this.panel?this.panel.getValue():null},h.prototype.getQuestionByName=function(u){return this.panel?this.panel.getQuestionByValueName(u):null},h.prototype.getParentTextProcessor=function(){return null},h.prototype.onCustomProcessText=function(u){return!1},h.prototype.getProcessedTextValue=function(u){if(u&&!this.onCustomProcessText(u)){var g=new C.ProcessValue().getFirstName(u.name);if(u.isExists=g==this.variableName,u.canProcess=u.isExists,!!u.canProcess){u.name=u.name.replace(this.variableName+".","");var g=new C.ProcessValue().getFirstName(u.name),f=this.getQuestionByName(g),i={};if(f)i[g]=u.returnDisplayValue?f.displayValue:f.value;else{var p=this.panel?this.getValues():null;p&&(i[g]=p[g])}u.value=new C.ProcessValue().getValue(u.name,i)}}},h.prototype.processText=function(u,g){return this.survey&&this.survey.isDesignMode?u:(u=this.textPreProcessor.process(u,g),u=this.processTextCore(this.getParentTextProcessor(),u,g),this.processTextCore(this.survey,u,g))},h.prototype.processTextEx=function(u,g){u=this.processText(u,g);var f=this.textPreProcessor.hasAllValuesOnLastRun,i={hasAllValuesOnLastRun:!0,text:u};return this.survey&&(i=this.survey.processTextEx(u,g,!1)),i.hasAllValuesOnLastRun=i.hasAllValuesOnLastRun&&f,i},h.prototype.processTextCore=function(u,g,f){return u?u.processText(g,f):g},h}()},"./src/trigger.ts":function(a,r,t){t.r(r),t.d(r,"Trigger",function(){return u}),t.d(r,"SurveyTrigger",function(){return g}),t.d(r,"SurveyTriggerVisible",function(){return f}),t.d(r,"SurveyTriggerComplete",function(){return i}),t.d(r,"SurveyTriggerSetValue",function(){return p}),t.d(r,"SurveyTriggerSkip",function(){return P}),t.d(r,"SurveyTriggerRunExpression",function(){return m}),t.d(r,"SurveyTriggerCopyValue",function(){return y});var d=t("./src/base.ts"),C=t("./src/jsonobject.ts"),M=t("./src/conditions.ts"),w=t("./src/expressions/expressions.ts"),S=t("./src/conditionProcessValue.ts"),x=t("./src/settings.ts"),h=function(){var R=function(b,c){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,I){E.__proto__=I}||function(E,I){for(var A in I)Object.prototype.hasOwnProperty.call(I,A)&&(E[A]=I[A])},R(b,c)};return function(b,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");R(b,c);function E(){this.constructor=b}b.prototype=c===null?Object.create(c):(E.prototype=c.prototype,new E)}}(),u=function(R){h(b,R);function b(){var c=R.call(this)||this;c.usedNames=[];var E=c;return c.registerFunctionOnPropertiesValueChanged(["operator","value","name"],function(){E.oldPropertiesChanged()}),c.registerFunctionOnPropertyValueChanged("expression",function(){E.onExpressionChanged()}),c}return Object.defineProperty(b,"operators",{get:function(){return b.operatorsValue!=null||(b.operatorsValue={empty:function(c,E){return!c},notempty:function(c,E){return!!c},equal:function(c,E){return c==E},notequal:function(c,E){return c!=E},contains:function(c,E){return c&&c.indexOf&&c.indexOf(E)>-1},notcontains:function(c,E){return!c||!c.indexOf||c.indexOf(E)==-1},greater:function(c,E){return c>E},less:function(c,E){return c<E},greaterorequal:function(c,E){return c>=E},lessorequal:function(c,E){return c<=E}}),b.operatorsValue},enumerable:!1,configurable:!0}),b.prototype.getType=function(){return"triggerbase"},b.prototype.toString=function(){var c=this.getType().replace("trigger",""),E=this.expression?this.expression:this.buildExpression();return E&&(c+=", "+E),c},Object.defineProperty(b.prototype,"operator",{get:function(){return this.getPropertyValue("operator","equal")},set:function(c){c&&(c=c.toLowerCase(),b.operators[c]&&this.setPropertyValue("operator",c))},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"value",{get:function(){return this.getPropertyValue("value",null)},set:function(c){this.setPropertyValue("value",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"name",{get:function(){return this.getPropertyValue("name","")},set:function(c){this.setPropertyValue("name",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(c){this.setPropertyValue("expression",c)},enumerable:!1,configurable:!0}),b.prototype.checkExpression=function(c,E,I){I===void 0&&(I=null),this.isCheckRequired(c)&&this.conditionRunner&&this.perform(E,I)},b.prototype.check=function(c){var E=b.operators[this.operator](c,this.value);E?this.onSuccess({},null):this.onFailure()},b.prototype.perform=function(c,E){var I=this;this.conditionRunner.onRunComplete=function(A){I.triggerResult(A,c,E)},this.conditionRunner.run(c,E)},b.prototype.triggerResult=function(c,E,I){c?this.onSuccess(E,I):this.onFailure()},b.prototype.onSuccess=function(c,E){},b.prototype.onFailure=function(){},b.prototype.endLoadingFromJson=function(){R.prototype.endLoadingFromJson.call(this),this.oldPropertiesChanged()},b.prototype.oldPropertiesChanged=function(){this.onExpressionChanged()},b.prototype.onExpressionChanged=function(){this.usedNames=[],this.hasFunction=!1,this.conditionRunner=null},b.prototype.buildExpression=function(){return!this.name||this.isValueEmpty(this.value)&&this.isRequireValue?"":"{"+this.name+"} "+this.operator+" "+w.OperandMaker.toOperandString(this.value)},b.prototype.isCheckRequired=function(c){if(!c)return!1;if(this.buildUsedNames(),this.hasFunction===!0)return!0;for(var E=new S.ProcessValue,I=0;I<this.usedNames.length;I++){var A=this.usedNames[I];if(c.hasOwnProperty(A))return!0;var D=E.getFirstName(A);if(c.hasOwnProperty(D)){if(A==D)return!0;var O=c[D];if(O!=null){if(!O.hasOwnProperty("oldValue")||!O.hasOwnProperty("newValue"))return!0;var l={};l[D]=O.oldValue;var o=E.getValue(A,l);l[D]=O.newValue;var v=E.getValue(A,l);return!this.isTwoValueEquals(o,v)}}}return!1},b.prototype.buildUsedNames=function(){if(!this.conditionRunner){var c=this.expression;c||(c=this.buildExpression()),c&&(this.conditionRunner=new M.ConditionRunner(c),this.hasFunction=this.conditionRunner.hasFunction(),this.usedNames=this.conditionRunner.getVariables())}},Object.defineProperty(b.prototype,"isRequireValue",{get:function(){return this.operator!=="empty"&&this.operator!="notempty"},enumerable:!1,configurable:!0}),b.operatorsValue=null,b}(d.Base),g=function(R){h(b,R);function b(){var c=R.call(this)||this;return c.ownerValue=null,c}return Object.defineProperty(b.prototype,"owner",{get:function(){return this.ownerValue},enumerable:!1,configurable:!0}),b.prototype.setOwner=function(c){this.ownerValue=c},b.prototype.getSurvey=function(c){return this.owner&&this.owner.getSurvey?this.owner.getSurvey():null},Object.defineProperty(b.prototype,"isOnNextPage",{get:function(){return!1},enumerable:!1,configurable:!0}),b}(u),f=function(R){h(b,R);function b(){var c=R.call(this)||this;return c.pages=[],c.questions=[],c}return b.prototype.getType=function(){return"visibletrigger"},b.prototype.onSuccess=function(c,E){this.onTrigger(this.onItemSuccess)},b.prototype.onFailure=function(){this.onTrigger(this.onItemFailure)},b.prototype.onTrigger=function(c){if(this.owner)for(var E=this.owner.getObjects(this.pages,this.questions),I=0;I<E.length;I++)c(E[I])},b.prototype.onItemSuccess=function(c){c.visible=!0},b.prototype.onItemFailure=function(c){c.visible=!1},b}(g),i=function(R){h(b,R);function b(){return R.call(this)||this}return b.prototype.getType=function(){return"completetrigger"},Object.defineProperty(b.prototype,"isOnNextPage",{get:function(){return!x.settings.executeCompleteTriggerOnValueChanged},enumerable:!1,configurable:!0}),b.prototype.onSuccess=function(c,E){this.owner&&this.owner.setCompleted()},b}(g),p=function(R){h(b,R);function b(){return R.call(this)||this}return b.prototype.getType=function(){return"setvaluetrigger"},b.prototype.onPropertyValueChanged=function(c,E,I){if(R.prototype.onPropertyValueChanged.call(this,c,E,I),c==="setToName"){var A=this.getSurvey();A&&!A.isLoadingFromJson&&A.isDesignMode&&(this.setValue=void 0)}},Object.defineProperty(b.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(c){this.setPropertyValue("setToName",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"setValue",{get:function(){return this.getPropertyValue("setValue")},set:function(c){this.setPropertyValue("setValue",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"isVariable",{get:function(){return this.getPropertyValue("isVariable",!1)},set:function(c){this.setPropertyValue("isVariable",c)},enumerable:!1,configurable:!0}),b.prototype.onSuccess=function(c,E){!this.setToName||!this.owner||this.owner.setTriggerValue(this.setToName,this.setValue,this.isVariable)},b}(g),P=function(R){h(b,R);function b(){return R.call(this)||this}return b.prototype.getType=function(){return"skiptrigger"},Object.defineProperty(b.prototype,"gotoName",{get:function(){return this.getPropertyValue("gotoName","")},set:function(c){this.setPropertyValue("gotoName",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"isOnNextPage",{get:function(){return!x.settings.executeSkipTriggerOnValueChanged},enumerable:!1,configurable:!0}),b.prototype.onSuccess=function(c,E){!this.gotoName||!this.owner||this.owner.focusQuestion(this.gotoName)},b}(g),m=function(R){h(b,R);function b(){return R.call(this)||this}return b.prototype.getType=function(){return"runexpressiontrigger"},Object.defineProperty(b.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(c){this.setPropertyValue("setToName",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"runExpression",{get:function(){return this.getPropertyValue("runExpression","")},set:function(c){this.setPropertyValue("runExpression",c)},enumerable:!1,configurable:!0}),b.prototype.onSuccess=function(c,E){var I=this;if(!(!this.owner||!this.runExpression)){var A=new M.ExpressionRunner(this.runExpression);A.canRun&&(A.onRunComplete=function(D){I.onCompleteRunExpression(D)},A.run(c,E))}},b.prototype.onCompleteRunExpression=function(c){this.setToName&&c!==void 0&&this.owner.setTriggerValue(this.setToName,c,!1)},b}(g),y=function(R){h(b,R);function b(){return R.call(this)||this}return Object.defineProperty(b.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(c){this.setPropertyValue("setToName",c)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"fromName",{get:function(){return this.getPropertyValue("fromName","")},set:function(c){this.setPropertyValue("fromName",c)},enumerable:!1,configurable:!0}),b.prototype.getType=function(){return"copyvaluetrigger"},b.prototype.onSuccess=function(c,E){!this.setToName||!this.owner||this.owner.copyTriggerValue(this.setToName,this.fromName)},b}(g);C.Serializer.addClass("trigger",[{name:"operator",default:"equal",visible:!1},{name:"value",visible:!1},"expression:condition"]),C.Serializer.addClass("surveytrigger",[{name:"name",visible:!1}],null,"trigger"),C.Serializer.addClass("visibletrigger",["pages:pages","questions:questions"],function(){return new f},"surveytrigger"),C.Serializer.addClass("completetrigger",[],function(){return new i},"surveytrigger"),C.Serializer.addClass("setvaluetrigger",[{name:"!setToName:questionvalue"},{name:"setValue:triggervalue",dependsOn:"setToName",visibleIf:function(R){return!!R&&!!R.setToName}},{name:"isVariable:boolean",visible:!1}],function(){return new p},"surveytrigger"),C.Serializer.addClass("copyvaluetrigger",[{name:"!fromName:questionvalue"},{name:"!setToName:questionvalue"}],function(){return new y},"surveytrigger"),C.Serializer.addClass("skiptrigger",[{name:"!gotoName:question"}],function(){return new P},"surveytrigger"),C.Serializer.addClass("runexpressiontrigger",[{name:"setToName:questionvalue"},"runExpression:expression"],function(){return new m},"surveytrigger")},"./src/utils/cssClassBuilder.ts":function(a,r,t){t.r(r),t.d(r,"CssClassBuilder",function(){return d});var d=function(){function C(){this.classes=[]}return C.prototype.isEmpty=function(){return this.toString()===""},C.prototype.append=function(M,w){return w===void 0&&(w=!0),M&&w&&(typeof M=="string"&&(M=M.trim()),this.classes.push(M)),this},C.prototype.toString=function(){return this.classes.join(" ")},C}()},"./src/utils/devices.ts":function(a,r,t){t.r(r),t.d(r,"IsMobile",function(){return w}),t.d(r,"IsTouch",function(){return x});var d=!1,C=null;typeof navigator<"u"&&typeof window<"u"&&navigator&&window&&(C=navigator.userAgent||navigator.vendor||window.opera),function(h){h&&(navigator.platform==="MacIntel"&&navigator.maxTouchPoints>0||navigator.platform==="iPad"||/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(h)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(h.substr(0,4)))&&(d=!0)}(C);var M=!1,w=d||M,S=!1;typeof window<"u"&&(S="ontouchstart"in window||navigator.maxTouchPoints>0);var x=w&&S},"./src/utils/dragOrClickHelper.ts":function(a,r,t){t.r(r),t.d(r,"DragOrClickHelper",function(){return C});var d=t("./src/entries/core.ts"),C=function(){function M(w){var S=this;this.dragHandler=w,this.onPointerUp=function(x){S.clearListeners()},this.tryToStartDrag=function(x){if(S.currentX=x.pageX,S.currentY=x.pageY,!S.isMicroMovement)return S.clearListeners(),S.dragHandler(S.pointerDownEvent,S.currentTarget,S.itemModel),!0}}return M.prototype.onPointerDown=function(w,S){if(d.IsTouch){this.dragHandler(w,w.currentTarget,S);return}this.pointerDownEvent=w,this.currentTarget=w.currentTarget,this.startX=w.pageX,this.startY=w.pageY,document.addEventListener("pointermove",this.tryToStartDrag),this.currentTarget.addEventListener("pointerup",this.onPointerUp),this.itemModel=S},Object.defineProperty(M.prototype,"isMicroMovement",{get:function(){var w=10,S=Math.abs(this.currentX-this.startX),x=Math.abs(this.currentY-this.startY);return S<w&&x<w},enumerable:!1,configurable:!0}),M.prototype.clearListeners=function(){this.pointerDownEvent&&(document.removeEventListener("pointermove",this.tryToStartDrag),this.currentTarget.removeEventListener("pointerup",this.onPointerUp))},M}()},"./src/utils/popup.ts":function(a,r,t){t.r(r),t.d(r,"PopupUtils",function(){return d});var d=function(){function C(){}return C.calculatePosition=function(M,w,S,x,h,u){if(h=="center")var g=(M.left+M.right-S)/2;else h=="left"?g=M.left-S:g=M.right;if(x=="middle")var f=(M.top+M.bottom-w)/2;else x=="top"?f=M.top-w:f=M.bottom;return u&&h!="center"&&x!="middle"&&(x=="top"?f=f+M.height:f=f-M.height),{left:Math.round(g),top:Math.round(f)}},C.updateVerticalDimensions=function(M,w,S){var x;if(M<0)x={height:w+M,top:0};else if(w+M>S){var h=Math.min(w,S-M-C.bottomIndent);x={height:h,top:M}}return x},C.updateHorizontalDimensions=function(M,w,S,x){var h=w,u=M;return x==="center"&&(M<0?(u=0,h=Math.min(w,S)):w+M>S&&(u=S-w,u=Math.max(u,0),h=Math.min(w,S))),x==="left"&&M<0&&(u=0,h=Math.min(w,S)),x==="right"&&w+M>S&&(h=S-M),{width:h,left:u}},C.updateVerticalPosition=function(M,w,S,x,h){var u=w-(M.top+(x?M.height:0)),g=w+M.bottom-(x?M.height:0)-h;return u>0&&g<=0&&S=="top"?S="bottom":g>0&&u<=0&&S=="bottom"?S="top":g>0&&u>0&&(S=u<g?"top":"bottom"),S},C.calculatePopupDirection=function(M,w){var S;return w=="center"&&M!="middle"?S=M:w!="center"&&(S=w),S},C.calculatePointerTarget=function(M,w,S,x,h,u,g){u===void 0&&(u=0),g===void 0&&(g=0);var f={};return h!="center"?(f.top=M.top+M.height/2,f.left=M[h]):x!="middle"&&(f.top=M[x],f.left=M.left+M.width/2),f.left=Math.round(f.left-S),f.top=Math.round(f.top-w),h=="left"&&(f.left-=u+g),h==="center"&&(f.left-=u),f},C.updatePopupWidthBeforeShow=function(M,w){w&&w.target&&(M.width=w.target.getBoundingClientRect().width),M.toggleVisibility()},C.bottomIndent=16,C}()},"./src/utils/responsivity-manager.ts":function(a,r,t){t.r(r),t.d(r,"ResponsivityManager",function(){return w}),t.d(r,"VerticalResponsivityManager",function(){return S});var d=t("./node_modules/timers-browserify/main.js"),C=t("./src/utils/utils.ts"),M=function(){var x=function(h,u){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,f){g.__proto__=f}||function(g,f){for(var i in f)Object.prototype.hasOwnProperty.call(f,i)&&(g[i]=f[i])},x(h,u)};return function(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");x(h,u);function g(){this.constructor=h}h.prototype=u===null?Object.create(u):(g.prototype=u.prototype,new g)}}(),w=function(){function x(h,u,g,f){f===void 0&&(f=48);var i=this;this.container=h,this.model=u,this.itemsSelector=g,this.dotsItemSize=f,this.resizeObserver=void 0,this.isInitialized=!1,this.minDimensionConst=56,this.separatorSize=17,this.separatorAddConst=1,this.paddingSizeConst=8,this.recalcMinDimensionConst=!0,this.getComputedStyle=window.getComputedStyle.bind(window),this.model.updateCallback=function(p){p?i.isInitialized=!1:Object(d.setTimeout)(function(){i.process()},1)},typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(function(p){return i.process()}),this.resizeObserver.observe(this.container.parentElement))}return x.prototype.getDimensions=function(h){return{scroll:h.scrollWidth,offset:h.offsetWidth}},x.prototype.getAvailableSpace=function(){var h=this.getComputedStyle(this.container),u=this.container.offsetWidth;return h.boxSizing==="border-box"&&(u-=parseFloat(h.paddingLeft)+parseFloat(h.paddingRight)),u},x.prototype.calcItemSize=function(h){return h.offsetWidth},x.prototype.calcMinDimension=function(h){var u=this.minDimensionConst;return h.iconSize&&this.recalcMinDimensionConst&&(u=2*h.iconSize+this.paddingSizeConst),h.canShrink?u+(h.needSeparator?this.separatorSize:0):h.maxDimension},x.prototype.calcItemsSizes=function(){var h=this,u=this.model.actions;this.container.querySelectorAll(this.itemsSelector).forEach(function(g,f){var i=u[f];i.maxDimension=h.calcItemSize(g),i.minDimension=h.calcMinDimension(i)})},Object.defineProperty(x.prototype,"isContainerVisible",{get:function(){return Object(C.isContainerVisible)(this.container)},enumerable:!1,configurable:!0}),x.prototype.process=function(){this.isContainerVisible&&!this.model.isResponsivenessDisabled&&(this.isInitialized||(this.model.setActionsMode("large"),this.calcItemsSizes(),this.isInitialized=!0),this.model.fit(this.getAvailableSpace(),this.dotsItemSize))},x.prototype.dispose=function(){this.model.updateCallback=void 0,this.resizeObserver&&this.resizeObserver.disconnect()},x}(),S=function(x){M(h,x);function h(u,g,f,i,p){p===void 0&&(p=40);var P=x.call(this,u,g,f,i)||this;return P.minDimensionConst=p,P.recalcMinDimensionConst=!1,P}return h.prototype.getDimensions=function(){return{scroll:this.container.scrollHeight,offset:this.container.offsetHeight}},h.prototype.getAvailableSpace=function(){var u=this.getComputedStyle(this.container),g=this.container.offsetHeight;return u.boxSizing==="border-box"&&(g-=parseFloat(u.paddingTop)+parseFloat(u.paddingBottom)),g},h.prototype.calcItemSize=function(u){return u.offsetHeight},h}(w)},"./src/utils/tooltip.ts":function(a,r,t){t.r(r),t.d(r,"TooltipManager",function(){return d});var d=function(){function C(M){var w=this;this.tooltipElement=M,this.onMouseMoveCallback=function(S){w.tooltipElement.style.left=S.clientX+12+"px",w.tooltipElement.style.top=S.clientY+12+"px"},this.targetElement=M.parentElement,this.targetElement.addEventListener("mousemove",this.onMouseMoveCallback)}return C.prototype.dispose=function(){this.targetElement.removeEventListener("mousemove",this.onMouseMoveCallback)},C}()},"./src/utils/utils.ts":function(a,r,t){t.r(r),t.d(r,"unwrap",function(){return P}),t.d(r,"getSize",function(){return m}),t.d(r,"getElementWidth",function(){return O}),t.d(r,"isContainerVisible",function(){return l}),t.d(r,"classesToSelector",function(){return D}),t.d(r,"compareVersions",function(){return C}),t.d(r,"confirmAction",function(){return M}),t.d(r,"detectIEOrEdge",function(){return S}),t.d(r,"detectIEBrowser",function(){return w}),t.d(r,"loadFileFromBase64",function(){return x}),t.d(r,"isMobile",function(){return h}),t.d(r,"isElementVisible",function(){return u}),t.d(r,"findScrollableParent",function(){return g}),t.d(r,"scrollElementByChildId",function(){return f}),t.d(r,"createSvg",function(){return p}),t.d(r,"doKey2ClickBlur",function(){return R}),t.d(r,"doKey2ClickUp",function(){return b}),t.d(r,"doKey2ClickDown",function(){return c}),t.d(r,"getIconNameFromProxy",function(){return i}),t.d(r,"increaseHeightByContent",function(){return E}),t.d(r,"getOriginalEvent",function(){return I}),t.d(r,"preventDefaults",function(){return A});var d=t("./src/settings.ts");function C(o,v){for(var T=/(\.0+)+$/,L=o.replace(T,"").split("."),V=v.replace(T,"").split("."),_=Math.min(L.length,V.length),B=0;B<_;B++){var k=parseInt(L[B],10)-parseInt(V[B],10);if(k)return k}return L.length-V.length}function M(o){return d.settings&&d.settings.confirmActionFunc?d.settings.confirmActionFunc(o):confirm(o)}function w(){if(typeof window>"u")return!1;var o=window.navigator.userAgent,v=o.indexOf("MSIE "),T=o.indexOf("Trident/");return v>-1||T>-1}function S(){if(typeof window>"u")return!1;if(typeof S.isIEOrEdge>"u"){var o=window.navigator.userAgent,v=o.indexOf("MSIE "),T=o.indexOf("Trident/"),L=o.indexOf("Edge/");S.isIEOrEdge=L>0||T>0||v>0}return S.isIEOrEdge}function x(o,v){try{for(var T=atob(o.split(",")[1]),L=o.split(",")[0].split(":")[1].split(";")[0],V=new ArrayBuffer(T.length),_=new Uint8Array(V),B=0;B<T.length;B++)_[B]=T.charCodeAt(B);var k=new Blob([V],{type:L});typeof window<"u"&&window.navigator&&window.navigator.msSaveBlob&&window.navigator.msSaveOrOpenBlob(k,v)}catch{}}function h(){return typeof window<"u"&&typeof window.orientation<"u"}function u(o,v){if(v===void 0&&(v=0),typeof document>"u")return!1;var T=o.getBoundingClientRect(),L=Math.max(document.documentElement.clientHeight,window.innerHeight),V=-v,_=L+v,B=T.top,k=T.bottom,U=Math.max(V,B),K=Math.min(_,k);return U<=K}function g(o){return o?o.scrollHeight>o.clientHeight&&(getComputedStyle(o).overflowY==="scroll"||getComputedStyle(o).overflowY==="auto")||o.scrollWidth>o.clientWidth&&(getComputedStyle(o).overflowX==="scroll"||getComputedStyle(o).overflowX==="auto")?o:g(o.parentElement):document.documentElement}function f(o){if(document){var v=document.getElementById(o);if(v){var T=g(v);T&&T.dispatchEvent(new CustomEvent("scroll"))}}}function i(o){if(!o)return o;var v=d.settings.customIcons[o];return v||o}function p(o,v,T,L,V){if(V){o!=="auto"&&(V.style.width=(o||v||16)+"px",V.style.height=(o||T||16)+"px");var _=V.childNodes[0],B=i(L);_.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+B)}}function P(o){return typeof o!="function"?o:o()}function m(o){if(typeof o=="number")return""+o+"px";if(o&&typeof o=="string"&&o.length>0){var v=o[o.length-1];if(v>="0"&&v<="9"||v==".")try{var T=parseFloat(o);return""+T+"px"}catch{}}return o}var y="sv-focused--by-key";function R(o){var v=o.target;!v||!v.classList||v.classList.remove(y)}function b(o,v){if(v===void 0&&(v={processEsc:!0}),!(o.target&&o.target.contentEditable==="true")){var T=o.target;if(T){var L=o.which||o.keyCode;L===9?T.classList&&!T.classList.contains(y)&&T.classList.add(y):L===13||L===32?T.click&&T.click():v.processEsc&&L===27&&T.blur&&T.blur()}}}function c(o,v){if(v===void 0&&(v={processEsc:!0}),!(o.target&&o.target.contentEditable==="true")){var T=o.which||o.keyCode,L=[13,32];v.processEsc&&L.push(27),L.indexOf(T)!==-1&&o.preventDefault()}}function E(o,v){if(o){v||(v=function(L){return window.getComputedStyle(L)});var T=v(o);o.style.height="auto",o.style.height=o.scrollHeight+parseFloat(T.borderTopWidth)+parseFloat(T.borderBottomWidth)+"px"}}function I(o){return o.originalEvent||o}function A(o){o.preventDefault(),o.stopPropagation()}function D(o){var v=/\s*?([\w-]+)\s*?/g;return o.replace(v,".$1")}function O(o){return getComputedStyle?Number.parseFloat(getComputedStyle(o).width):o.offsetWidth}function l(o){return!!(o.offsetWidth||o.offsetHeight||o.getClientRects().length)}},"./src/validator.ts":function(a,r,t){t.r(r),t.d(r,"ValidatorResult",function(){return u}),t.d(r,"SurveyValidator",function(){return g}),t.d(r,"ValidatorRunner",function(){return f}),t.d(r,"NumericValidator",function(){return i}),t.d(r,"TextValidator",function(){return p}),t.d(r,"AnswerCountValidator",function(){return P}),t.d(r,"RegexValidator",function(){return m}),t.d(r,"EmailValidator",function(){return y}),t.d(r,"ExpressionValidator",function(){return R});var d=t("./src/base.ts"),C=t("./src/error.ts"),M=t("./src/surveyStrings.ts"),w=t("./src/jsonobject.ts"),S=t("./src/conditions.ts"),x=t("./src/helpers.ts"),h=function(){var b=function(c,E){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,A){I.__proto__=A}||function(I,A){for(var D in A)Object.prototype.hasOwnProperty.call(A,D)&&(I[D]=A[D])},b(c,E)};return function(c,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");b(c,E);function I(){this.constructor=c}c.prototype=E===null?Object.create(E):(I.prototype=E.prototype,new I)}}(),u=function(){function b(c,E){E===void 0&&(E=null),this.value=c,this.error=E}return b}(),g=function(b){h(c,b);function c(){var E=b.call(this)||this;return E.createLocalizableString("text",E,!0),E}return c.prototype.getSurvey=function(E){return this.errorOwner&&this.errorOwner.getSurvey?this.errorOwner.getSurvey():null},Object.defineProperty(c.prototype,"text",{get:function(){return this.getLocalizableStringText("text")},set:function(E){this.setLocalizableStringText("text",E)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isValidateAllValues",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"locText",{get:function(){return this.getLocalizableString("text")},enumerable:!1,configurable:!0}),c.prototype.getErrorText=function(E){return this.text?this.text:this.getDefaultErrorText(E)},c.prototype.getDefaultErrorText=function(E){return""},c.prototype.validate=function(E,I,A,D){return null},Object.defineProperty(c.prototype,"isRunning",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isAsync",{get:function(){return!1},enumerable:!1,configurable:!0}),c.prototype.getLocale=function(){return this.errorOwner?this.errorOwner.getLocale():""},c.prototype.getMarkdownHtml=function(E,I){return this.errorOwner?this.errorOwner.getMarkdownHtml(E,I):null},c.prototype.getRenderer=function(E){return this.errorOwner?this.errorOwner.getRenderer(E):null},c.prototype.getRendererContext=function(E){return this.errorOwner?this.errorOwner.getRendererContext(E):E},c.prototype.getProcessedText=function(E){return this.errorOwner?this.errorOwner.getProcessedText(E):E},c.prototype.createCustomError=function(E){return new C.CustomError(this.getErrorText(E),this.errorOwner)},c.prototype.toString=function(){var E=this.getType().replace("validator","");return this.text&&(E+=", "+this.text),E},c}(d.Base),f=function(){function b(){}return b.prototype.run=function(c){var E=this,I=[],A=null,D=null;this.prepareAsyncValidators();for(var O=[],l=c.getValidators(),o=0;o<l.length;o++){var v=l[o];!A&&v.isValidateAllValues&&(A=c.getDataFilteredValues(),D=c.getDataFilteredProperties()),v.isAsync&&(this.asyncValidators.push(v),v.onAsyncCompleted=function(L){if(L&&L.error&&O.push(L.error),!!E.onAsyncCompleted){for(var V=0;V<E.asyncValidators.length;V++)if(E.asyncValidators[V].isRunning)return;E.onAsyncCompleted(O)}})}l=c.getValidators();for(var o=0;o<l.length;o++){var v=l[o],T=v.validate(c.validatedValue,c.getValidatorTitle(),A,D);T&&T.error&&I.push(T.error)}return this.asyncValidators.length==0&&this.onAsyncCompleted&&this.onAsyncCompleted([]),I},b.prototype.prepareAsyncValidators=function(){if(this.asyncValidators)for(var c=0;c<this.asyncValidators.length;c++)this.asyncValidators[c].onAsyncCompleted=null;this.asyncValidators=[]},b}(),i=function(b){h(c,b);function c(E,I){E===void 0&&(E=null),I===void 0&&(I=null);var A=b.call(this)||this;return A.minValue=E,A.maxValue=I,A}return c.prototype.getType=function(){return"numericvalidator"},c.prototype.validate=function(E,I,A,D){if(I===void 0&&(I=null),this.isValueEmpty(E))return null;if(!x.Helpers.isNumber(E))return new u(null,new C.RequreNumericError(null,this.errorOwner));var O=new u(parseFloat(E));return this.minValue!==null&&this.minValue>O.value?(O.error=this.createCustomError(I),O):this.maxValue!==null&&this.maxValue<O.value?(O.error=this.createCustomError(I),O):typeof E=="number"?null:O},c.prototype.getDefaultErrorText=function(E){var I=E||M.surveyLocalization.getString("value");return this.minValue!==null&&this.maxValue!==null?M.surveyLocalization.getString("numericMinMax").format(I,this.minValue,this.maxValue):this.minValue!==null?M.surveyLocalization.getString("numericMin").format(I,this.minValue):M.surveyLocalization.getString("numericMax").format(I,this.maxValue)},Object.defineProperty(c.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(E){this.setPropertyValue("minValue",E)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(E){this.setPropertyValue("maxValue",E)},enumerable:!1,configurable:!0}),c}(g),p=function(b){h(c,b);function c(){return b.call(this)||this}return c.prototype.getType=function(){return"textvalidator"},c.prototype.validate=function(E,I,A,D){if(I===void 0&&(I=null),this.isValueEmpty(E))return null;if(!this.allowDigits){var O=/^[A-Za-z\s]*$/;if(!O.test(E))return new u(null,this.createCustomError(I))}return this.minLength>0&&E.length<this.minLength?new u(null,this.createCustomError(I)):this.maxLength>0&&E.length>this.maxLength?new u(null,this.createCustomError(I)):null},c.prototype.getDefaultErrorText=function(E){return this.minLength>0&&this.maxLength>0?M.surveyLocalization.getString("textMinMaxLength").format(this.minLength,this.maxLength):this.minLength>0?M.surveyLocalization.getString("textMinLength").format(this.minLength):M.surveyLocalization.getString("textMaxLength").format(this.maxLength)},Object.defineProperty(c.prototype,"minLength",{get:function(){return this.getPropertyValue("minLength")},set:function(E){this.setPropertyValue("minLength",E)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"maxLength",{get:function(){return this.getPropertyValue("maxLength")},set:function(E){this.setPropertyValue("maxLength",E)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"allowDigits",{get:function(){return this.getPropertyValue("allowDigits")},set:function(E){this.setPropertyValue("allowDigits",E)},enumerable:!1,configurable:!0}),c}(g),P=function(b){h(c,b);function c(E,I){E===void 0&&(E=null),I===void 0&&(I=null);var A=b.call(this)||this;return A.minCount=E,A.maxCount=I,A}return c.prototype.getType=function(){return"answercountvalidator"},c.prototype.validate=function(E,I,A,D){if(E==null||E.constructor!=Array)return null;var O=E.length;return O==0?null:this.minCount&&O<this.minCount?new u(null,this.createCustomError(M.surveyLocalization.getString("minSelectError").format(this.minCount))):this.maxCount&&O>this.maxCount?new u(null,this.createCustomError(M.surveyLocalization.getString("maxSelectError").format(this.maxCount))):null},c.prototype.getDefaultErrorText=function(E){return E},Object.defineProperty(c.prototype,"minCount",{get:function(){return this.getPropertyValue("minCount")},set:function(E){this.setPropertyValue("minCount",E)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"maxCount",{get:function(){return this.getPropertyValue("maxCount")},set:function(E){this.setPropertyValue("maxCount",E)},enumerable:!1,configurable:!0}),c}(g),m=function(b){h(c,b);function c(E){E===void 0&&(E=null);var I=b.call(this)||this;return I.regex=E,I}return c.prototype.getType=function(){return"regexvalidator"},c.prototype.validate=function(E,I,A,D){if(I===void 0&&(I=null),!this.regex||this.isValueEmpty(E))return null;var O=new RegExp(this.regex);if(Array.isArray(E))for(var l=0;l<E.length;l++){var o=this.hasError(O,E[l],I);if(o)return o}return this.hasError(O,E,I)},c.prototype.hasError=function(E,I,A){return E.test(I)?null:new u(I,this.createCustomError(A))},Object.defineProperty(c.prototype,"regex",{get:function(){return this.getPropertyValue("regex")},set:function(E){this.setPropertyValue("regex",E)},enumerable:!1,configurable:!0}),c}(g),y=function(b){h(c,b);function c(){var E=b.call(this)||this;return E.re=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()=[\]\.,;:\s@\"]+\.)+[^<>()=[\]\.,;:\s@\"]{2,})$/i,E}return c.prototype.getType=function(){return"emailvalidator"},c.prototype.validate=function(E,I,A,D){return I===void 0&&(I=null),!E||this.re.test(E)?null:new u(E,this.createCustomError(I))},c.prototype.getDefaultErrorText=function(E){return M.surveyLocalization.getString("invalidEmail")},c}(g),R=function(b){h(c,b);function c(E){E===void 0&&(E=null);var I=b.call(this)||this;return I.conditionRunner=null,I.isRunningValue=!1,I.expression=E,I}return c.prototype.getType=function(){return"expressionvalidator"},Object.defineProperty(c.prototype,"isValidateAllValues",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isAsync",{get:function(){return this.ensureConditionRunner()?this.conditionRunner.isAsync:!1},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isRunning",{get:function(){return this.isRunningValue},enumerable:!1,configurable:!0}),c.prototype.validate=function(E,I,A,D){var O=this;if(I===void 0&&(I=null),A===void 0&&(A=null),D===void 0&&(D=null),!this.ensureConditionRunner())return null;this.conditionRunner.onRunComplete=function(o){O.isRunningValue=!1,O.onAsyncCompleted&&O.onAsyncCompleted(O.generateError(o,E,I))},this.isRunningValue=!0;var l=this.conditionRunner.run(A,D);return this.conditionRunner.isAsync?null:(this.isRunningValue=!1,this.generateError(l,E,I))},c.prototype.generateError=function(E,I,A){return E?null:new u(I,this.createCustomError(A))},c.prototype.getDefaultErrorText=function(E){return M.surveyLocalization.getString("invalidExpression").format(this.expression)},c.prototype.ensureConditionRunner=function(){return this.conditionRunner?(this.conditionRunner.expression=this.expression,!0):this.expression?(this.conditionRunner=new S.ConditionRunner(this.expression),!0):!1},Object.defineProperty(c.prototype,"expression",{get:function(){return this.getPropertyValue("expression")},set:function(E){this.setPropertyValue("expression",E)},enumerable:!1,configurable:!0}),c}(g);w.Serializer.addClass("surveyvalidator",[{name:"text",serializationProperty:"locText"}]),w.Serializer.addClass("numericvalidator",["minValue:number","maxValue:number"],function(){return new i},"surveyvalidator"),w.Serializer.addClass("textvalidator",[{name:"minLength:number",default:0},{name:"maxLength:number",default:0},{name:"allowDigits:boolean",default:!0}],function(){return new p},"surveyvalidator"),w.Serializer.addClass("answercountvalidator",["minCount:number","maxCount:number"],function(){return new P},"surveyvalidator"),w.Serializer.addClass("regexvalidator",["regex"],function(){return new m},"surveyvalidator"),w.Serializer.addClass("emailvalidator",[],function(){return new y},"surveyvalidator"),w.Serializer.addClass("expressionvalidator",["expression:condition"],function(){return new R},"surveyvalidator")},knockout:function(a,r){a.exports=n}})})})(Lb);N.COMPLEX,N.SELECT,N.HTML_STRING,N.BOOL,N.STRING,N.COMPLEX,N.INT,N.INT,N.INT,N.STRING,N.STRING,N.COMPLEX,N.STRING,N.STRING,N.BOOL,N.STRING,N.STRING,N.SELECT,N.INT,N.BOOL,N.BOOL,N.STRING,N.INT,N.INT,N.SELECT,N.STRING,N.BOOL,N.STRING,N.STRING,N.STRING,N.BOOL,N.SELECT,N.STRING,N.STRING,N.STRING;const _b={name:"survey-html-form",parameters:{html:{type:N.HTML_STRING,pretty_name:"HTML",default:null},preamble:{type:N.HTML_STRING,pretty_name:"Preamble",default:null},button_label:{type:N.STRING,pretty_name:"Button label",default:"Continue"},autofocus:{type:N.STRING,pretty_name:"Element ID to focus",default:""},dataAsArray:{type:N.BOOL,pretty_name:"Data As Array",default:!1},autocomplete:{type:N.BOOL,pretty_name:"Allow autocomplete",default:!1}}};class Bb{constructor(e){this.jsPsych=e}trial(e,n){var a="";if(n.preamble!==null&&(a+='<div id="jspsych-survey-html-form-preamble" class="jspsych-survey-html-form-preamble">'+n.preamble+"</div>"),n.autocomplete?a+='<form id="jspsych-survey-html-form">':a+='<form id="jspsych-survey-html-form" autocomplete="off">',a+=n.html,a+='<input type="submit" id="jspsych-survey-html-form-next" class="jspsych-btn jspsych-survey-html-form" value="'+n.button_label+'"></input>',a+="</form>",e.innerHTML=a,n.autofocus!==""){var r=e.querySelectorAll("#"+n.autofocus);r.length===0?console.warn("No element found with id: "+n.autofocus):r.length>1?console.warn('The id "'+n.autofocus+'" is not unique so autofocus will not work.'):r[0].focus()}e.querySelector("#jspsych-survey-html-form").addEventListener("submit",M=>{M.preventDefault();var w=performance.now(),S=Math.round(w-t),x=e.querySelector("#jspsych-survey-html-form"),h=d(x);n.dataAsArray||(h=C(h));var u={rt:S,response:h};e.innerHTML="",this.jsPsych.finishTrial(u)});var t=performance.now();function d(M){for(var w=[],S=0;S<M.elements.length;S++){var x=M.elements[S];if(!(!x.name||x.disabled||x.type==="file"||x.type==="reset"||x.type==="submit"||x.type==="button"))if(x.type==="select-multiple")for(var h=0;h<x.options.length;h++)x.options[h].selected&&w.push({name:x.name,value:x.options[h].value});else(x.type!=="checkbox"&&x.type!=="radio"||x.checked)&&w.push({name:x.name,value:x.value})}return w}function C(M){for(var w={},S=0;S<M.length;S++)w[M[S].name]=M[S].value;return w}}}Bb.info=_b;N.COMPLEX,N.HTML_STRING,N.STRING,N.BOOL,N.STRING,N.BOOL,N.HTML_STRING,N.INT,N.STRING,N.BOOL;N.COMPLEX,N.HTML_STRING,N.STRING,N.BOOL,N.BOOL,N.STRING,N.BOOL,N.HTML_STRING,N.STRING,N.BOOL;N.COMPLEX,N.HTML_STRING,N.STRING,N.BOOL,N.BOOL,N.STRING,N.BOOL,N.HTML_STRING,N.STRING,N.STRING,N.BOOL;N.COMPLEX,N.HTML_STRING,N.STRING,N.INT,N.INT,N.BOOL,N.STRING,N.BOOL,N.HTML_STRING,N.STRING,N.BOOL;N.VIDEO,N.STRING,N.HTML_STRING,N.HTML_STRING,N.INT,N.INT,N.BOOL,N.BOOL,N.FLOAT,N.FLOAT,N.FLOAT,N.BOOL,N.INT,N.STRING,N.STRING,N.BOOL,N.BOOL;N.VIDEO,N.KEYS,N.HTML_STRING,N.INT,N.INT,N.BOOL,N.BOOL,N.FLOAT,N.FLOAT,N.FLOAT,N.BOOL,N.INT,N.BOOL,N.BOOL;N.VIDEO,N.HTML_STRING,N.INT,N.INT,N.BOOL,N.BOOL,N.FLOAT,N.FLOAT,N.FLOAT,N.INT,N.INT,N.INT,N.INT,N.HTML_STRING,N.INT,N.STRING,N.BOOL,N.BOOL,N.INT,N.BOOL,N.BOOL;N.SELECT,N.INT,N.HTML_STRING,N.HTML_STRING,N.IMAGE,N.FLOAT,N.FLOAT,N.INT,N.INT,N.HTML_STRING,N.HTML_STRING,N.HTML_STRING,N.HTML_STRING,N.HTML_STRING;N.IMAGE,N.IMAGE,N.INT,N.IMAGE,N.BOOL,N.IMAGE,N.INT,N.INT,N.INT,N.KEY,N.KEY,N.INT,N.INT,N.BOOL;N.INT,N.SELECT,N.INT,N.INT,N.BOOL,N.INT,N.INT;N.HTML_STRING,N.STRING;N.INT,N.SELECT,N.INT,N.BOOL,N.INT,N.INT,N.INT,N.BOOL;/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const tu="161",Nb=0,Fc=1,kb=2,kp=1,Fb=2,Wn=3,Tr=0,rn=1,Qn=2,Cr=0,Si=1,Uc=2,zc=3,jc=4,Ub=5,Fr=100,zb=101,jb=102,Hc=103,Wc=104,Hb=200,Wb=201,qb=202,Gb=203,Cl=204,xl=205,Qb=206,$b=207,Kb=208,Xb=209,Jb=210,Yb=211,Zb=212,eC=213,tC=214,nC=0,rC=1,iC=2,Ms=3,oC=4,sC=5,aC=6,lC=7,Fp=0,uC=1,cC=2,xr=0,dC=1,fC=2,pC=3,hC=4,mC=5,gC=6,Up=300,Li=301,Vi=302,El=303,Pl=304,Gs=306,Tl=1e3,En=1001,Sl=1002,Xt=1003,qc=1004,Ki=1005,nn=1006,Ca=1007,zr=1008,Er=1009,vC=1010,yC=1011,nu=1012,zp=1013,gr=1014,$n=1015,yo=1016,jp=1017,Hp=1018,Wr=1020,bC=1021,Pn=1023,CC=1024,xC=1025,qr=1026,_i=1027,EC=1028,Wp=1029,PC=1030,qp=1031,Gp=1033,xa=33776,Ea=33777,Pa=33778,Ta=33779,Gc=35840,Qc=35841,$c=35842,Kc=35843,Qp=36196,Xc=37492,Jc=37496,Yc=37808,Zc=37809,ed=37810,td=37811,nd=37812,rd=37813,id=37814,od=37815,sd=37816,ad=37817,ld=37818,ud=37819,cd=37820,dd=37821,Sa=36492,fd=36494,pd=36495,TC=36283,hd=36284,md=36285,gd=36286,$p=3e3,Gr=3001,SC=3200,MC=3201,Kp=0,RC=1,hn="",kt="srgb",Zn="srgb-linear",ru="display-p3",Qs="display-p3-linear",Rs="linear",xt="srgb",ws="rec709",Os="p3",ti=7680,vd=519,wC=512,OC=513,IC=514,Xp=515,AC=516,DC=517,LC=518,VC=519,yd=35044,bd="300 es",Ml=1035,Kn=2e3,Is=2001;class ki{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const a=this._listeners;a[e]===void 0&&(a[e]=[]),a[e].indexOf(n)===-1&&a[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const a=this._listeners;return a[e]!==void 0&&a[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const t=r.indexOf(n);t!==-1&&r.splice(t,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const a=this._listeners[e.type];if(a!==void 0){e.target=this;const r=a.slice(0);for(let t=0,d=r.length;t<d;t++)r[t].call(this,e);e.target=null}}}const jt=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Ma=Math.PI/180,Rl=180/Math.PI;function Co(){const s=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,a=Math.random()*4294967295|0;return(jt[s&255]+jt[s>>8&255]+jt[s>>16&255]+jt[s>>24&255]+"-"+jt[e&255]+jt[e>>8&255]+"-"+jt[e>>16&15|64]+jt[e>>24&255]+"-"+jt[n&63|128]+jt[n>>8&255]+"-"+jt[n>>16&255]+jt[n>>24&255]+jt[a&255]+jt[a>>8&255]+jt[a>>16&255]+jt[a>>24&255]).toLowerCase()}function Jt(s,e,n){return Math.max(e,Math.min(n,s))}function _C(s,e){return(s%e+e)%e}function Ra(s,e,n){return(1-n)*s+n*e}function Cd(s){return(s&s-1)===0&&s!==0}function wl(s){return Math.pow(2,Math.floor(Math.log(s)/Math.LN2))}function Xi(s,e){switch(e.constructor){case Float32Array:return s;case Uint32Array:return s/4294967295;case Uint16Array:return s/65535;case Uint8Array:return s/255;case Int32Array:return Math.max(s/2147483647,-1);case Int16Array:return Math.max(s/32767,-1);case Int8Array:return Math.max(s/127,-1);default:throw new Error("Invalid component type.")}}function en(s,e){switch(e.constructor){case Float32Array:return s;case Uint32Array:return Math.round(s*4294967295);case Uint16Array:return Math.round(s*65535);case Uint8Array:return Math.round(s*255);case Int32Array:return Math.round(s*2147483647);case Int16Array:return Math.round(s*32767);case Int8Array:return Math.round(s*127);default:throw new Error("Invalid component type.")}}class lt{constructor(e=0,n=0){lt.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,a=this.y,r=e.elements;return this.x=r[0]*n+r[3]*a+r[6],this.y=r[1]*n+r[4]*a+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const a=this.length();return this.divideScalar(a||1).multiplyScalar(Math.max(e,Math.min(n,a)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const a=this.dot(e)/n;return Math.acos(Jt(a,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,a=this.y-e.y;return n*n+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,a){return this.x=e.x+(n.x-e.x)*a,this.y=e.y+(n.y-e.y)*a,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const a=Math.cos(n),r=Math.sin(n),t=this.x-e.x,d=this.y-e.y;return this.x=t*a-d*r+e.x,this.y=t*r+d*a+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class at{constructor(e,n,a,r,t,d,C,M,w){at.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,a,r,t,d,C,M,w)}set(e,n,a,r,t,d,C,M,w){const S=this.elements;return S[0]=e,S[1]=r,S[2]=C,S[3]=n,S[4]=t,S[5]=M,S[6]=a,S[7]=d,S[8]=w,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,a=e.elements;return n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=a[3],n[4]=a[4],n[5]=a[5],n[6]=a[6],n[7]=a[7],n[8]=a[8],this}extractBasis(e,n,a){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),a.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const a=e.elements,r=n.elements,t=this.elements,d=a[0],C=a[3],M=a[6],w=a[1],S=a[4],x=a[7],h=a[2],u=a[5],g=a[8],f=r[0],i=r[3],p=r[6],P=r[1],m=r[4],y=r[7],R=r[2],b=r[5],c=r[8];return t[0]=d*f+C*P+M*R,t[3]=d*i+C*m+M*b,t[6]=d*p+C*y+M*c,t[1]=w*f+S*P+x*R,t[4]=w*i+S*m+x*b,t[7]=w*p+S*y+x*c,t[2]=h*f+u*P+g*R,t[5]=h*i+u*m+g*b,t[8]=h*p+u*y+g*c,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],a=e[1],r=e[2],t=e[3],d=e[4],C=e[5],M=e[6],w=e[7],S=e[8];return n*d*S-n*C*w-a*t*S+a*C*M+r*t*w-r*d*M}invert(){const e=this.elements,n=e[0],a=e[1],r=e[2],t=e[3],d=e[4],C=e[5],M=e[6],w=e[7],S=e[8],x=S*d-C*w,h=C*M-S*t,u=w*t-d*M,g=n*x+a*h+r*u;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const f=1/g;return e[0]=x*f,e[1]=(r*w-S*a)*f,e[2]=(C*a-r*d)*f,e[3]=h*f,e[4]=(S*n-r*M)*f,e[5]=(r*t-C*n)*f,e[6]=u*f,e[7]=(a*M-w*n)*f,e[8]=(d*n-a*t)*f,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,a,r,t,d,C){const M=Math.cos(t),w=Math.sin(t);return this.set(a*M,a*w,-a*(M*d+w*C)+d+e,-r*w,r*M,-r*(-w*d+M*C)+C+n,0,0,1),this}scale(e,n){return this.premultiply(wa.makeScale(e,n)),this}rotate(e){return this.premultiply(wa.makeRotation(-e)),this}translate(e,n){return this.premultiply(wa.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),a=Math.sin(e);return this.set(n,-a,0,a,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,a=e.elements;for(let r=0;r<9;r++)if(n[r]!==a[r])return!1;return!0}fromArray(e,n=0){for(let a=0;a<9;a++)this.elements[a]=e[a+n];return this}toArray(e=[],n=0){const a=this.elements;return e[n]=a[0],e[n+1]=a[1],e[n+2]=a[2],e[n+3]=a[3],e[n+4]=a[4],e[n+5]=a[5],e[n+6]=a[6],e[n+7]=a[7],e[n+8]=a[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const wa=new at;function Jp(s){for(let e=s.length-1;e>=0;--e)if(s[e]>=65535)return!0;return!1}function As(s){return document.createElementNS("http://www.w3.org/1999/xhtml",s)}function BC(){const s=As("canvas");return s.style.display="block",s}const xd={};function Mi(s){s in xd||(xd[s]=!0,console.warn(s))}const Ed=new at().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),Pd=new at().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Ho={[Zn]:{transfer:Rs,primaries:ws,toReference:s=>s,fromReference:s=>s},[kt]:{transfer:xt,primaries:ws,toReference:s=>s.convertSRGBToLinear(),fromReference:s=>s.convertLinearToSRGB()},[Qs]:{transfer:Rs,primaries:Os,toReference:s=>s.applyMatrix3(Pd),fromReference:s=>s.applyMatrix3(Ed)},[ru]:{transfer:xt,primaries:Os,toReference:s=>s.convertSRGBToLinear().applyMatrix3(Pd),fromReference:s=>s.applyMatrix3(Ed).convertLinearToSRGB()}},NC=new Set([Zn,Qs]),bt={enabled:!0,_workingColorSpace:Zn,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(s){if(!NC.has(s))throw new Error(`Unsupported working color space, "${s}".`);this._workingColorSpace=s},convert:function(s,e,n){if(this.enabled===!1||e===n||!e||!n)return s;const a=Ho[e].toReference,r=Ho[n].fromReference;return r(a(s))},fromWorkingColorSpace:function(s,e){return this.convert(s,this._workingColorSpace,e)},toWorkingColorSpace:function(s,e){return this.convert(s,e,this._workingColorSpace)},getPrimaries:function(s){return Ho[s].primaries},getTransfer:function(s){return s===hn?Rs:Ho[s].transfer}};function Ri(s){return s<.04045?s*.0773993808:Math.pow(s*.9478672986+.0521327014,2.4)}function Oa(s){return s<.0031308?s*12.92:1.055*Math.pow(s,.41666)-.055}let ni;class Yp{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{ni===void 0&&(ni=As("canvas")),ni.width=e.width,ni.height=e.height;const a=ni.getContext("2d");e instanceof ImageData?a.putImageData(e,0,0):a.drawImage(e,0,0,e.width,e.height),n=ni}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=As("canvas");n.width=e.width,n.height=e.height;const a=n.getContext("2d");a.drawImage(e,0,0,e.width,e.height);const r=a.getImageData(0,0,e.width,e.height),t=r.data;for(let d=0;d<t.length;d++)t[d]=Ri(t[d]/255)*255;return a.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let a=0;a<n.length;a++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[a]=Math.floor(Ri(n[a]/255)*255):n[a]=Ri(n[a]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let kC=0;class Zp{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:kC++}),this.uuid=Co(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const a={uuid:this.uuid,url:""},r=this.data;if(r!==null){let t;if(Array.isArray(r)){t=[];for(let d=0,C=r.length;d<C;d++)r[d].isDataTexture?t.push(Ia(r[d].image)):t.push(Ia(r[d]))}else t=Ia(r);a.url=t}return n||(e.images[this.uuid]=a),a}}function Ia(s){return typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&s instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&s instanceof ImageBitmap?Yp.getDataURL(s):s.data?{data:Array.from(s.data),width:s.width,height:s.height,type:s.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let FC=0;class on extends ki{constructor(e=on.DEFAULT_IMAGE,n=on.DEFAULT_MAPPING,a=En,r=En,t=nn,d=zr,C=Pn,M=Er,w=on.DEFAULT_ANISOTROPY,S=hn){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:FC++}),this.uuid=Co(),this.name="",this.source=new Zp(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=a,this.wrapT=r,this.magFilter=t,this.minFilter=d,this.anisotropy=w,this.format=C,this.internalFormat=null,this.type=M,this.offset=new lt(0,0),this.repeat=new lt(1,1),this.center=new lt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new at,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof S=="string"?this.colorSpace=S:(Mi("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=S===Gr?kt:hn),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const a={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(a.userData=this.userData),n||(e.textures[this.uuid]=a),a}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Up)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Tl:e.x=e.x-Math.floor(e.x);break;case En:e.x=e.x<0?0:1;break;case Sl:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Tl:e.y=e.y-Math.floor(e.y);break;case En:e.y=e.y<0?0:1;break;case Sl:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Mi("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===kt?Gr:$p}set encoding(e){Mi("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Gr?kt:hn}}on.DEFAULT_IMAGE=null;on.DEFAULT_MAPPING=Up;on.DEFAULT_ANISOTROPY=1;class Tt{constructor(e=0,n=0,a=0,r=1){Tt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=a,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,a,r){return this.x=e,this.y=n,this.z=a,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,a=this.y,r=this.z,t=this.w,d=e.elements;return this.x=d[0]*n+d[4]*a+d[8]*r+d[12]*t,this.y=d[1]*n+d[5]*a+d[9]*r+d[13]*t,this.z=d[2]*n+d[6]*a+d[10]*r+d[14]*t,this.w=d[3]*n+d[7]*a+d[11]*r+d[15]*t,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,a,r,t;const M=e.elements,w=M[0],S=M[4],x=M[8],h=M[1],u=M[5],g=M[9],f=M[2],i=M[6],p=M[10];if(Math.abs(S-h)<.01&&Math.abs(x-f)<.01&&Math.abs(g-i)<.01){if(Math.abs(S+h)<.1&&Math.abs(x+f)<.1&&Math.abs(g+i)<.1&&Math.abs(w+u+p-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const m=(w+1)/2,y=(u+1)/2,R=(p+1)/2,b=(S+h)/4,c=(x+f)/4,E=(g+i)/4;return m>y&&m>R?m<.01?(a=0,r=.707106781,t=.707106781):(a=Math.sqrt(m),r=b/a,t=c/a):y>R?y<.01?(a=.707106781,r=0,t=.707106781):(r=Math.sqrt(y),a=b/r,t=E/r):R<.01?(a=.707106781,r=.707106781,t=0):(t=Math.sqrt(R),a=c/t,r=E/t),this.set(a,r,t,n),this}let P=Math.sqrt((i-g)*(i-g)+(x-f)*(x-f)+(h-S)*(h-S));return Math.abs(P)<.001&&(P=1),this.x=(i-g)/P,this.y=(x-f)/P,this.z=(h-S)/P,this.w=Math.acos((w+u+p-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const a=this.length();return this.divideScalar(a||1).multiplyScalar(Math.max(e,Math.min(n,a)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,a){return this.x=e.x+(n.x-e.x)*a,this.y=e.y+(n.y-e.y)*a,this.z=e.z+(n.z-e.z)*a,this.w=e.w+(n.w-e.w)*a,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class UC extends ki{constructor(e=1,n=1,a={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Tt(0,0,e,n),this.scissorTest=!1,this.viewport=new Tt(0,0,e,n);const r={width:e,height:n,depth:1};a.encoding!==void 0&&(Mi("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),a.colorSpace=a.encoding===Gr?kt:hn),a=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:nn,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},a),this.texture=new on(r,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=a.generateMipmaps,this.texture.internalFormat=a.internalFormat,this.depthBuffer=a.depthBuffer,this.stencilBuffer=a.stencilBuffer,this.depthTexture=a.depthTexture,this.samples=a.samples}setSize(e,n,a=1){(this.width!==e||this.height!==n||this.depth!==a)&&(this.width=e,this.height=n,this.depth=a,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=a,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Zp(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Qr extends UC{constructor(e=1,n=1,a={}){super(e,n,a),this.isWebGLRenderTarget=!0}}class eh extends on{constructor(e=null,n=1,a=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:a,depth:r},this.magFilter=Xt,this.minFilter=Xt,this.wrapR=En,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class zC extends on{constructor(e=null,n=1,a=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:a,depth:r},this.magFilter=Xt,this.minFilter=Xt,this.wrapR=En,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class xo{constructor(e=0,n=0,a=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=a,this._w=r}static slerpFlat(e,n,a,r,t,d,C){let M=a[r+0],w=a[r+1],S=a[r+2],x=a[r+3];const h=t[d+0],u=t[d+1],g=t[d+2],f=t[d+3];if(C===0){e[n+0]=M,e[n+1]=w,e[n+2]=S,e[n+3]=x;return}if(C===1){e[n+0]=h,e[n+1]=u,e[n+2]=g,e[n+3]=f;return}if(x!==f||M!==h||w!==u||S!==g){let i=1-C;const p=M*h+w*u+S*g+x*f,P=p>=0?1:-1,m=1-p*p;if(m>Number.EPSILON){const R=Math.sqrt(m),b=Math.atan2(R,p*P);i=Math.sin(i*b)/R,C=Math.sin(C*b)/R}const y=C*P;if(M=M*i+h*y,w=w*i+u*y,S=S*i+g*y,x=x*i+f*y,i===1-C){const R=1/Math.sqrt(M*M+w*w+S*S+x*x);M*=R,w*=R,S*=R,x*=R}}e[n]=M,e[n+1]=w,e[n+2]=S,e[n+3]=x}static multiplyQuaternionsFlat(e,n,a,r,t,d){const C=a[r],M=a[r+1],w=a[r+2],S=a[r+3],x=t[d],h=t[d+1],u=t[d+2],g=t[d+3];return e[n]=C*g+S*x+M*u-w*h,e[n+1]=M*g+S*h+w*x-C*u,e[n+2]=w*g+S*u+C*h-M*x,e[n+3]=S*g-C*x-M*h-w*u,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,a,r){return this._x=e,this._y=n,this._z=a,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const a=e._x,r=e._y,t=e._z,d=e._order,C=Math.cos,M=Math.sin,w=C(a/2),S=C(r/2),x=C(t/2),h=M(a/2),u=M(r/2),g=M(t/2);switch(d){case"XYZ":this._x=h*S*x+w*u*g,this._y=w*u*x-h*S*g,this._z=w*S*g+h*u*x,this._w=w*S*x-h*u*g;break;case"YXZ":this._x=h*S*x+w*u*g,this._y=w*u*x-h*S*g,this._z=w*S*g-h*u*x,this._w=w*S*x+h*u*g;break;case"ZXY":this._x=h*S*x-w*u*g,this._y=w*u*x+h*S*g,this._z=w*S*g+h*u*x,this._w=w*S*x-h*u*g;break;case"ZYX":this._x=h*S*x-w*u*g,this._y=w*u*x+h*S*g,this._z=w*S*g-h*u*x,this._w=w*S*x+h*u*g;break;case"YZX":this._x=h*S*x+w*u*g,this._y=w*u*x+h*S*g,this._z=w*S*g-h*u*x,this._w=w*S*x-h*u*g;break;case"XZY":this._x=h*S*x-w*u*g,this._y=w*u*x-h*S*g,this._z=w*S*g+h*u*x,this._w=w*S*x+h*u*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+d)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const a=n/2,r=Math.sin(a);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(a),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,a=n[0],r=n[4],t=n[8],d=n[1],C=n[5],M=n[9],w=n[2],S=n[6],x=n[10],h=a+C+x;if(h>0){const u=.5/Math.sqrt(h+1);this._w=.25/u,this._x=(S-M)*u,this._y=(t-w)*u,this._z=(d-r)*u}else if(a>C&&a>x){const u=2*Math.sqrt(1+a-C-x);this._w=(S-M)/u,this._x=.25*u,this._y=(r+d)/u,this._z=(t+w)/u}else if(C>x){const u=2*Math.sqrt(1+C-a-x);this._w=(t-w)/u,this._x=(r+d)/u,this._y=.25*u,this._z=(M+S)/u}else{const u=2*Math.sqrt(1+x-a-C);this._w=(d-r)/u,this._x=(t+w)/u,this._y=(M+S)/u,this._z=.25*u}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let a=e.dot(n)+1;return a<Number.EPSILON?(a=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=a):(this._x=0,this._y=-e.z,this._z=e.y,this._w=a)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=a),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Jt(this.dot(e),-1,1)))}rotateTowards(e,n){const a=this.angleTo(e);if(a===0)return this;const r=Math.min(1,n/a);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const a=e._x,r=e._y,t=e._z,d=e._w,C=n._x,M=n._y,w=n._z,S=n._w;return this._x=a*S+d*C+r*w-t*M,this._y=r*S+d*M+t*C-a*w,this._z=t*S+d*w+a*M-r*C,this._w=d*S-a*C-r*M-t*w,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const a=this._x,r=this._y,t=this._z,d=this._w;let C=d*e._w+a*e._x+r*e._y+t*e._z;if(C<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,C=-C):this.copy(e),C>=1)return this._w=d,this._x=a,this._y=r,this._z=t,this;const M=1-C*C;if(M<=Number.EPSILON){const u=1-n;return this._w=u*d+n*this._w,this._x=u*a+n*this._x,this._y=u*r+n*this._y,this._z=u*t+n*this._z,this.normalize(),this}const w=Math.sqrt(M),S=Math.atan2(w,C),x=Math.sin((1-n)*S)/w,h=Math.sin(n*S)/w;return this._w=d*x+this._w*h,this._x=a*x+this._x*h,this._y=r*x+this._y*h,this._z=t*x+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,a){return this.copy(e).slerp(n,a)}random(){const e=Math.random(),n=Math.sqrt(1-e),a=Math.sqrt(e),r=2*Math.PI*Math.random(),t=2*Math.PI*Math.random();return this.set(n*Math.cos(r),a*Math.sin(t),a*Math.cos(t),n*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class me{constructor(e=0,n=0,a=0){me.prototype.isVector3=!0,this.x=e,this.y=n,this.z=a}set(e,n,a){return a===void 0&&(a=this.z),this.x=e,this.y=n,this.z=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(Td.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(Td.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,a=this.y,r=this.z,t=e.elements;return this.x=t[0]*n+t[3]*a+t[6]*r,this.y=t[1]*n+t[4]*a+t[7]*r,this.z=t[2]*n+t[5]*a+t[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,a=this.y,r=this.z,t=e.elements,d=1/(t[3]*n+t[7]*a+t[11]*r+t[15]);return this.x=(t[0]*n+t[4]*a+t[8]*r+t[12])*d,this.y=(t[1]*n+t[5]*a+t[9]*r+t[13])*d,this.z=(t[2]*n+t[6]*a+t[10]*r+t[14])*d,this}applyQuaternion(e){const n=this.x,a=this.y,r=this.z,t=e.x,d=e.y,C=e.z,M=e.w,w=2*(d*r-C*a),S=2*(C*n-t*r),x=2*(t*a-d*n);return this.x=n+M*w+d*x-C*S,this.y=a+M*S+C*w-t*x,this.z=r+M*x+t*S-d*w,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,a=this.y,r=this.z,t=e.elements;return this.x=t[0]*n+t[4]*a+t[8]*r,this.y=t[1]*n+t[5]*a+t[9]*r,this.z=t[2]*n+t[6]*a+t[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const a=this.length();return this.divideScalar(a||1).multiplyScalar(Math.max(e,Math.min(n,a)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,a){return this.x=e.x+(n.x-e.x)*a,this.y=e.y+(n.y-e.y)*a,this.z=e.z+(n.z-e.z)*a,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const a=e.x,r=e.y,t=e.z,d=n.x,C=n.y,M=n.z;return this.x=r*M-t*C,this.y=t*d-a*M,this.z=a*C-r*d,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const a=e.dot(this)/n;return this.copy(e).multiplyScalar(a)}projectOnPlane(e){return Aa.copy(this).projectOnVector(e),this.sub(Aa)}reflect(e){return this.sub(Aa.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const a=this.dot(e)/n;return Math.acos(Jt(a,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,a=this.y-e.y,r=this.z-e.z;return n*n+a*a+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,a){const r=Math.sin(n)*e;return this.x=r*Math.sin(a),this.y=Math.cos(n)*e,this.z=r*Math.cos(a),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,a){return this.x=e*Math.sin(n),this.y=a,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),a=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=a,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,a=Math.sqrt(1-e**2);return this.x=a*Math.cos(n),this.y=a*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Aa=new me,Td=new xo;class Eo{constructor(e=new me(1/0,1/0,1/0),n=new me(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,a=e.length;n<a;n+=3)this.expandByPoint(vn.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,a=e.count;n<a;n++)this.expandByPoint(vn.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,a=e.length;n<a;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const a=vn.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(a),this.max.copy(e).add(a),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const a=e.geometry;if(a!==void 0){const t=a.getAttribute("position");if(n===!0&&t!==void 0&&e.isInstancedMesh!==!0)for(let d=0,C=t.count;d<C;d++)e.isMesh===!0?e.getVertexPosition(d,vn):vn.fromBufferAttribute(t,d),vn.applyMatrix4(e.matrixWorld),this.expandByPoint(vn);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Wo.copy(e.boundingBox)):(a.boundingBox===null&&a.computeBoundingBox(),Wo.copy(a.boundingBox)),Wo.applyMatrix4(e.matrixWorld),this.union(Wo)}const r=e.children;for(let t=0,d=r.length;t<d;t++)this.expandByObject(r[t],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,vn),vn.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,a;return e.normal.x>0?(n=e.normal.x*this.min.x,a=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,a=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,a+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,a+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,a+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,a+=e.normal.z*this.min.z),n<=-e.constant&&a>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Ji),qo.subVectors(this.max,Ji),ri.subVectors(e.a,Ji),ii.subVectors(e.b,Ji),oi.subVectors(e.c,Ji),ir.subVectors(ii,ri),or.subVectors(oi,ii),Dr.subVectors(ri,oi);let n=[0,-ir.z,ir.y,0,-or.z,or.y,0,-Dr.z,Dr.y,ir.z,0,-ir.x,or.z,0,-or.x,Dr.z,0,-Dr.x,-ir.y,ir.x,0,-or.y,or.x,0,-Dr.y,Dr.x,0];return!Da(n,ri,ii,oi,qo)||(n=[1,0,0,0,1,0,0,0,1],!Da(n,ri,ii,oi,qo))?!1:(Go.crossVectors(ir,or),n=[Go.x,Go.y,Go.z],Da(n,ri,ii,oi,qo))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,vn).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(vn).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Fn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Fn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Fn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Fn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Fn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Fn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Fn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Fn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Fn),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Fn=[new me,new me,new me,new me,new me,new me,new me,new me],vn=new me,Wo=new Eo,ri=new me,ii=new me,oi=new me,ir=new me,or=new me,Dr=new me,Ji=new me,qo=new me,Go=new me,Lr=new me;function Da(s,e,n,a,r){for(let t=0,d=s.length-3;t<=d;t+=3){Lr.fromArray(s,t);const C=r.x*Math.abs(Lr.x)+r.y*Math.abs(Lr.y)+r.z*Math.abs(Lr.z),M=e.dot(Lr),w=n.dot(Lr),S=a.dot(Lr);if(Math.max(-Math.max(M,w,S),Math.min(M,w,S))>C)return!1}return!0}const jC=new Eo,Yi=new me,La=new me;class $s{constructor(e=new me,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const a=this.center;n!==void 0?a.copy(n):jC.setFromPoints(e).getCenter(a);let r=0;for(let t=0,d=e.length;t<d;t++)r=Math.max(r,a.distanceToSquared(e[t]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const a=this.center.distanceToSquared(e);return n.copy(e),a>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Yi.subVectors(e,this.center);const n=Yi.lengthSq();if(n>this.radius*this.radius){const a=Math.sqrt(n),r=(a-this.radius)*.5;this.center.addScaledVector(Yi,r/a),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(La.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Yi.copy(e.center).add(La)),this.expandByPoint(Yi.copy(e.center).sub(La))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Un=new me,Va=new me,Qo=new me,sr=new me,_a=new me,$o=new me,Ba=new me;class th{constructor(e=new me,n=new me(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Un)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const a=n.dot(this.direction);return a<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,a)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Un.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Un.copy(this.origin).addScaledVector(this.direction,n),Un.distanceToSquared(e))}distanceSqToSegment(e,n,a,r){Va.copy(e).add(n).multiplyScalar(.5),Qo.copy(n).sub(e).normalize(),sr.copy(this.origin).sub(Va);const t=e.distanceTo(n)*.5,d=-this.direction.dot(Qo),C=sr.dot(this.direction),M=-sr.dot(Qo),w=sr.lengthSq(),S=Math.abs(1-d*d);let x,h,u,g;if(S>0)if(x=d*M-C,h=d*C-M,g=t*S,x>=0)if(h>=-g)if(h<=g){const f=1/S;x*=f,h*=f,u=x*(x+d*h+2*C)+h*(d*x+h+2*M)+w}else h=t,x=Math.max(0,-(d*h+C)),u=-x*x+h*(h+2*M)+w;else h=-t,x=Math.max(0,-(d*h+C)),u=-x*x+h*(h+2*M)+w;else h<=-g?(x=Math.max(0,-(-d*t+C)),h=x>0?-t:Math.min(Math.max(-t,-M),t),u=-x*x+h*(h+2*M)+w):h<=g?(x=0,h=Math.min(Math.max(-t,-M),t),u=h*(h+2*M)+w):(x=Math.max(0,-(d*t+C)),h=x>0?t:Math.min(Math.max(-t,-M),t),u=-x*x+h*(h+2*M)+w);else h=d>0?-t:t,x=Math.max(0,-(d*h+C)),u=-x*x+h*(h+2*M)+w;return a&&a.copy(this.origin).addScaledVector(this.direction,x),r&&r.copy(Va).addScaledVector(Qo,h),u}intersectSphere(e,n){Un.subVectors(e.center,this.origin);const a=Un.dot(this.direction),r=Un.dot(Un)-a*a,t=e.radius*e.radius;if(r>t)return null;const d=Math.sqrt(t-r),C=a-d,M=a+d;return M<0?null:C<0?this.at(M,n):this.at(C,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const a=-(this.origin.dot(e.normal)+e.constant)/n;return a>=0?a:null}intersectPlane(e,n){const a=this.distanceToPlane(e);return a===null?null:this.at(a,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let a,r,t,d,C,M;const w=1/this.direction.x,S=1/this.direction.y,x=1/this.direction.z,h=this.origin;return w>=0?(a=(e.min.x-h.x)*w,r=(e.max.x-h.x)*w):(a=(e.max.x-h.x)*w,r=(e.min.x-h.x)*w),S>=0?(t=(e.min.y-h.y)*S,d=(e.max.y-h.y)*S):(t=(e.max.y-h.y)*S,d=(e.min.y-h.y)*S),a>d||t>r||((t>a||isNaN(a))&&(a=t),(d<r||isNaN(r))&&(r=d),x>=0?(C=(e.min.z-h.z)*x,M=(e.max.z-h.z)*x):(C=(e.max.z-h.z)*x,M=(e.min.z-h.z)*x),a>M||C>r)||((C>a||a!==a)&&(a=C),(M<r||r!==r)&&(r=M),r<0)?null:this.at(a>=0?a:r,n)}intersectsBox(e){return this.intersectBox(e,Un)!==null}intersectTriangle(e,n,a,r,t){_a.subVectors(n,e),$o.subVectors(a,e),Ba.crossVectors(_a,$o);let d=this.direction.dot(Ba),C;if(d>0){if(r)return null;C=1}else if(d<0)C=-1,d=-d;else return null;sr.subVectors(this.origin,e);const M=C*this.direction.dot($o.crossVectors(sr,$o));if(M<0)return null;const w=C*this.direction.dot(_a.cross(sr));if(w<0||M+w>d)return null;const S=-C*sr.dot(Ba);return S<0?null:this.at(S/d,t)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class wt{constructor(e,n,a,r,t,d,C,M,w,S,x,h,u,g,f,i){wt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,a,r,t,d,C,M,w,S,x,h,u,g,f,i)}set(e,n,a,r,t,d,C,M,w,S,x,h,u,g,f,i){const p=this.elements;return p[0]=e,p[4]=n,p[8]=a,p[12]=r,p[1]=t,p[5]=d,p[9]=C,p[13]=M,p[2]=w,p[6]=S,p[10]=x,p[14]=h,p[3]=u,p[7]=g,p[11]=f,p[15]=i,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new wt().fromArray(this.elements)}copy(e){const n=this.elements,a=e.elements;return n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=a[3],n[4]=a[4],n[5]=a[5],n[6]=a[6],n[7]=a[7],n[8]=a[8],n[9]=a[9],n[10]=a[10],n[11]=a[11],n[12]=a[12],n[13]=a[13],n[14]=a[14],n[15]=a[15],this}copyPosition(e){const n=this.elements,a=e.elements;return n[12]=a[12],n[13]=a[13],n[14]=a[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,a){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),a.setFromMatrixColumn(this,2),this}makeBasis(e,n,a){return this.set(e.x,n.x,a.x,0,e.y,n.y,a.y,0,e.z,n.z,a.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,a=e.elements,r=1/si.setFromMatrixColumn(e,0).length(),t=1/si.setFromMatrixColumn(e,1).length(),d=1/si.setFromMatrixColumn(e,2).length();return n[0]=a[0]*r,n[1]=a[1]*r,n[2]=a[2]*r,n[3]=0,n[4]=a[4]*t,n[5]=a[5]*t,n[6]=a[6]*t,n[7]=0,n[8]=a[8]*d,n[9]=a[9]*d,n[10]=a[10]*d,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,a=e.x,r=e.y,t=e.z,d=Math.cos(a),C=Math.sin(a),M=Math.cos(r),w=Math.sin(r),S=Math.cos(t),x=Math.sin(t);if(e.order==="XYZ"){const h=d*S,u=d*x,g=C*S,f=C*x;n[0]=M*S,n[4]=-M*x,n[8]=w,n[1]=u+g*w,n[5]=h-f*w,n[9]=-C*M,n[2]=f-h*w,n[6]=g+u*w,n[10]=d*M}else if(e.order==="YXZ"){const h=M*S,u=M*x,g=w*S,f=w*x;n[0]=h+f*C,n[4]=g*C-u,n[8]=d*w,n[1]=d*x,n[5]=d*S,n[9]=-C,n[2]=u*C-g,n[6]=f+h*C,n[10]=d*M}else if(e.order==="ZXY"){const h=M*S,u=M*x,g=w*S,f=w*x;n[0]=h-f*C,n[4]=-d*x,n[8]=g+u*C,n[1]=u+g*C,n[5]=d*S,n[9]=f-h*C,n[2]=-d*w,n[6]=C,n[10]=d*M}else if(e.order==="ZYX"){const h=d*S,u=d*x,g=C*S,f=C*x;n[0]=M*S,n[4]=g*w-u,n[8]=h*w+f,n[1]=M*x,n[5]=f*w+h,n[9]=u*w-g,n[2]=-w,n[6]=C*M,n[10]=d*M}else if(e.order==="YZX"){const h=d*M,u=d*w,g=C*M,f=C*w;n[0]=M*S,n[4]=f-h*x,n[8]=g*x+u,n[1]=x,n[5]=d*S,n[9]=-C*S,n[2]=-w*S,n[6]=u*x+g,n[10]=h-f*x}else if(e.order==="XZY"){const h=d*M,u=d*w,g=C*M,f=C*w;n[0]=M*S,n[4]=-x,n[8]=w*S,n[1]=h*x+f,n[5]=d*S,n[9]=u*x-g,n[2]=g*x-u,n[6]=C*S,n[10]=f*x+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(HC,e,WC)}lookAt(e,n,a){const r=this.elements;return ln.subVectors(e,n),ln.lengthSq()===0&&(ln.z=1),ln.normalize(),ar.crossVectors(a,ln),ar.lengthSq()===0&&(Math.abs(a.z)===1?ln.x+=1e-4:ln.z+=1e-4,ln.normalize(),ar.crossVectors(a,ln)),ar.normalize(),Ko.crossVectors(ln,ar),r[0]=ar.x,r[4]=Ko.x,r[8]=ln.x,r[1]=ar.y,r[5]=Ko.y,r[9]=ln.y,r[2]=ar.z,r[6]=Ko.z,r[10]=ln.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const a=e.elements,r=n.elements,t=this.elements,d=a[0],C=a[4],M=a[8],w=a[12],S=a[1],x=a[5],h=a[9],u=a[13],g=a[2],f=a[6],i=a[10],p=a[14],P=a[3],m=a[7],y=a[11],R=a[15],b=r[0],c=r[4],E=r[8],I=r[12],A=r[1],D=r[5],O=r[9],l=r[13],o=r[2],v=r[6],T=r[10],L=r[14],V=r[3],_=r[7],B=r[11],k=r[15];return t[0]=d*b+C*A+M*o+w*V,t[4]=d*c+C*D+M*v+w*_,t[8]=d*E+C*O+M*T+w*B,t[12]=d*I+C*l+M*L+w*k,t[1]=S*b+x*A+h*o+u*V,t[5]=S*c+x*D+h*v+u*_,t[9]=S*E+x*O+h*T+u*B,t[13]=S*I+x*l+h*L+u*k,t[2]=g*b+f*A+i*o+p*V,t[6]=g*c+f*D+i*v+p*_,t[10]=g*E+f*O+i*T+p*B,t[14]=g*I+f*l+i*L+p*k,t[3]=P*b+m*A+y*o+R*V,t[7]=P*c+m*D+y*v+R*_,t[11]=P*E+m*O+y*T+R*B,t[15]=P*I+m*l+y*L+R*k,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],a=e[4],r=e[8],t=e[12],d=e[1],C=e[5],M=e[9],w=e[13],S=e[2],x=e[6],h=e[10],u=e[14],g=e[3],f=e[7],i=e[11],p=e[15];return g*(+t*M*x-r*w*x-t*C*h+a*w*h+r*C*u-a*M*u)+f*(+n*M*u-n*w*h+t*d*h-r*d*u+r*w*S-t*M*S)+i*(+n*w*x-n*C*u-t*d*x+a*d*u+t*C*S-a*w*S)+p*(-r*C*S-n*M*x+n*C*h+r*d*x-a*d*h+a*M*S)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,a){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=a),this}invert(){const e=this.elements,n=e[0],a=e[1],r=e[2],t=e[3],d=e[4],C=e[5],M=e[6],w=e[7],S=e[8],x=e[9],h=e[10],u=e[11],g=e[12],f=e[13],i=e[14],p=e[15],P=x*i*w-f*h*w+f*M*u-C*i*u-x*M*p+C*h*p,m=g*h*w-S*i*w-g*M*u+d*i*u+S*M*p-d*h*p,y=S*f*w-g*x*w+g*C*u-d*f*u-S*C*p+d*x*p,R=g*x*M-S*f*M-g*C*h+d*f*h+S*C*i-d*x*i,b=n*P+a*m+r*y+t*R;if(b===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const c=1/b;return e[0]=P*c,e[1]=(f*h*t-x*i*t-f*r*u+a*i*u+x*r*p-a*h*p)*c,e[2]=(C*i*t-f*M*t+f*r*w-a*i*w-C*r*p+a*M*p)*c,e[3]=(x*M*t-C*h*t-x*r*w+a*h*w+C*r*u-a*M*u)*c,e[4]=m*c,e[5]=(S*i*t-g*h*t+g*r*u-n*i*u-S*r*p+n*h*p)*c,e[6]=(g*M*t-d*i*t-g*r*w+n*i*w+d*r*p-n*M*p)*c,e[7]=(d*h*t-S*M*t+S*r*w-n*h*w-d*r*u+n*M*u)*c,e[8]=y*c,e[9]=(g*x*t-S*f*t-g*a*u+n*f*u+S*a*p-n*x*p)*c,e[10]=(d*f*t-g*C*t+g*a*w-n*f*w-d*a*p+n*C*p)*c,e[11]=(S*C*t-d*x*t-S*a*w+n*x*w+d*a*u-n*C*u)*c,e[12]=R*c,e[13]=(S*f*r-g*x*r+g*a*h-n*f*h-S*a*i+n*x*i)*c,e[14]=(g*C*r-d*f*r-g*a*M+n*f*M+d*a*i-n*C*i)*c,e[15]=(d*x*r-S*C*r+S*a*M-n*x*M-d*a*h+n*C*h)*c,this}scale(e){const n=this.elements,a=e.x,r=e.y,t=e.z;return n[0]*=a,n[4]*=r,n[8]*=t,n[1]*=a,n[5]*=r,n[9]*=t,n[2]*=a,n[6]*=r,n[10]*=t,n[3]*=a,n[7]*=r,n[11]*=t,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],a=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,a,r))}makeTranslation(e,n,a){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,a,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),a=Math.sin(e);return this.set(1,0,0,0,0,n,-a,0,0,a,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),a=Math.sin(e);return this.set(n,0,a,0,0,1,0,0,-a,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),a=Math.sin(e);return this.set(n,-a,0,0,a,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const a=Math.cos(n),r=Math.sin(n),t=1-a,d=e.x,C=e.y,M=e.z,w=t*d,S=t*C;return this.set(w*d+a,w*C-r*M,w*M+r*C,0,w*C+r*M,S*C+a,S*M-r*d,0,w*M-r*C,S*M+r*d,t*M*M+a,0,0,0,0,1),this}makeScale(e,n,a){return this.set(e,0,0,0,0,n,0,0,0,0,a,0,0,0,0,1),this}makeShear(e,n,a,r,t,d){return this.set(1,a,t,0,e,1,d,0,n,r,1,0,0,0,0,1),this}compose(e,n,a){const r=this.elements,t=n._x,d=n._y,C=n._z,M=n._w,w=t+t,S=d+d,x=C+C,h=t*w,u=t*S,g=t*x,f=d*S,i=d*x,p=C*x,P=M*w,m=M*S,y=M*x,R=a.x,b=a.y,c=a.z;return r[0]=(1-(f+p))*R,r[1]=(u+y)*R,r[2]=(g-m)*R,r[3]=0,r[4]=(u-y)*b,r[5]=(1-(h+p))*b,r[6]=(i+P)*b,r[7]=0,r[8]=(g+m)*c,r[9]=(i-P)*c,r[10]=(1-(h+f))*c,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,a){const r=this.elements;let t=si.set(r[0],r[1],r[2]).length();const d=si.set(r[4],r[5],r[6]).length(),C=si.set(r[8],r[9],r[10]).length();this.determinant()<0&&(t=-t),e.x=r[12],e.y=r[13],e.z=r[14],yn.copy(this);const w=1/t,S=1/d,x=1/C;return yn.elements[0]*=w,yn.elements[1]*=w,yn.elements[2]*=w,yn.elements[4]*=S,yn.elements[5]*=S,yn.elements[6]*=S,yn.elements[8]*=x,yn.elements[9]*=x,yn.elements[10]*=x,n.setFromRotationMatrix(yn),a.x=t,a.y=d,a.z=C,this}makePerspective(e,n,a,r,t,d,C=Kn){const M=this.elements,w=2*t/(n-e),S=2*t/(a-r),x=(n+e)/(n-e),h=(a+r)/(a-r);let u,g;if(C===Kn)u=-(d+t)/(d-t),g=-2*d*t/(d-t);else if(C===Is)u=-d/(d-t),g=-d*t/(d-t);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+C);return M[0]=w,M[4]=0,M[8]=x,M[12]=0,M[1]=0,M[5]=S,M[9]=h,M[13]=0,M[2]=0,M[6]=0,M[10]=u,M[14]=g,M[3]=0,M[7]=0,M[11]=-1,M[15]=0,this}makeOrthographic(e,n,a,r,t,d,C=Kn){const M=this.elements,w=1/(n-e),S=1/(a-r),x=1/(d-t),h=(n+e)*w,u=(a+r)*S;let g,f;if(C===Kn)g=(d+t)*x,f=-2*x;else if(C===Is)g=t*x,f=-1*x;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+C);return M[0]=2*w,M[4]=0,M[8]=0,M[12]=-h,M[1]=0,M[5]=2*S,M[9]=0,M[13]=-u,M[2]=0,M[6]=0,M[10]=f,M[14]=-g,M[3]=0,M[7]=0,M[11]=0,M[15]=1,this}equals(e){const n=this.elements,a=e.elements;for(let r=0;r<16;r++)if(n[r]!==a[r])return!1;return!0}fromArray(e,n=0){for(let a=0;a<16;a++)this.elements[a]=e[a+n];return this}toArray(e=[],n=0){const a=this.elements;return e[n]=a[0],e[n+1]=a[1],e[n+2]=a[2],e[n+3]=a[3],e[n+4]=a[4],e[n+5]=a[5],e[n+6]=a[6],e[n+7]=a[7],e[n+8]=a[8],e[n+9]=a[9],e[n+10]=a[10],e[n+11]=a[11],e[n+12]=a[12],e[n+13]=a[13],e[n+14]=a[14],e[n+15]=a[15],e}}const si=new me,yn=new wt,HC=new me(0,0,0),WC=new me(1,1,1),ar=new me,Ko=new me,ln=new me,Sd=new wt,Md=new xo;class Ks{constructor(e=0,n=0,a=0,r=Ks.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=a,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,a,r=this._order){return this._x=e,this._y=n,this._z=a,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,a=!0){const r=e.elements,t=r[0],d=r[4],C=r[8],M=r[1],w=r[5],S=r[9],x=r[2],h=r[6],u=r[10];switch(n){case"XYZ":this._y=Math.asin(Jt(C,-1,1)),Math.abs(C)<.9999999?(this._x=Math.atan2(-S,u),this._z=Math.atan2(-d,t)):(this._x=Math.atan2(h,w),this._z=0);break;case"YXZ":this._x=Math.asin(-Jt(S,-1,1)),Math.abs(S)<.9999999?(this._y=Math.atan2(C,u),this._z=Math.atan2(M,w)):(this._y=Math.atan2(-x,t),this._z=0);break;case"ZXY":this._x=Math.asin(Jt(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-x,u),this._z=Math.atan2(-d,w)):(this._y=0,this._z=Math.atan2(M,t));break;case"ZYX":this._y=Math.asin(-Jt(x,-1,1)),Math.abs(x)<.9999999?(this._x=Math.atan2(h,u),this._z=Math.atan2(M,t)):(this._x=0,this._z=Math.atan2(-d,w));break;case"YZX":this._z=Math.asin(Jt(M,-1,1)),Math.abs(M)<.9999999?(this._x=Math.atan2(-S,w),this._y=Math.atan2(-x,t)):(this._x=0,this._y=Math.atan2(C,u));break;case"XZY":this._z=Math.asin(-Jt(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(h,w),this._y=Math.atan2(C,t)):(this._x=Math.atan2(-S,u),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,a===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,a){return Sd.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Sd,n,a)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return Md.setFromEuler(this),this.setFromQuaternion(Md,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ks.DEFAULT_ORDER="XYZ";class nh{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let qC=0;const Rd=new me,ai=new xo,zn=new wt,Xo=new me,Zi=new me,GC=new me,QC=new xo,wd=new me(1,0,0),Od=new me(0,1,0),Id=new me(0,0,1),$C={type:"added"},KC={type:"removed"};class Ft extends ki{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:qC++}),this.uuid=Co(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ft.DEFAULT_UP.clone();const e=new me,n=new Ks,a=new xo,r=new me(1,1,1);function t(){a.setFromEuler(n,!1)}function d(){n.setFromQuaternion(a,void 0,!1)}n._onChange(t),a._onChange(d),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new wt},normalMatrix:{value:new at}}),this.matrix=new wt,this.matrixWorld=new wt,this.matrixAutoUpdate=Ft.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Ft.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new nh,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return ai.setFromAxisAngle(e,n),this.quaternion.multiply(ai),this}rotateOnWorldAxis(e,n){return ai.setFromAxisAngle(e,n),this.quaternion.premultiply(ai),this}rotateX(e){return this.rotateOnAxis(wd,e)}rotateY(e){return this.rotateOnAxis(Od,e)}rotateZ(e){return this.rotateOnAxis(Id,e)}translateOnAxis(e,n){return Rd.copy(e).applyQuaternion(this.quaternion),this.position.add(Rd.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(wd,e)}translateY(e){return this.translateOnAxis(Od,e)}translateZ(e){return this.translateOnAxis(Id,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(zn.copy(this.matrixWorld).invert())}lookAt(e,n,a){e.isVector3?Xo.copy(e):Xo.set(e,n,a);const r=this.parent;this.updateWorldMatrix(!0,!1),Zi.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?zn.lookAt(Zi,Xo,this.up):zn.lookAt(Xo,Zi,this.up),this.quaternion.setFromRotationMatrix(zn),r&&(zn.extractRotation(r.matrixWorld),ai.setFromRotationMatrix(zn),this.quaternion.premultiply(ai.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent($C)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let a=0;a<arguments.length;a++)this.remove(arguments[a]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(KC)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),zn.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),zn.multiply(e.parent.matrixWorld)),e.applyMatrix4(zn),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let a=0,r=this.children.length;a<r;a++){const d=this.children[a].getObjectByProperty(e,n);if(d!==void 0)return d}}getObjectsByProperty(e,n,a=[]){this[e]===n&&a.push(this);const r=this.children;for(let t=0,d=r.length;t<d;t++)r[t].getObjectsByProperty(e,n,a);return a}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Zi,e,GC),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Zi,QC,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let a=0,r=n.length;a<r;a++)n[a].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let a=0,r=n.length;a<r;a++)n[a].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let a=0,r=n.length;a<r;a++){const t=n[a];(t.matrixWorldAutoUpdate===!0||e===!0)&&t.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const a=this.parent;if(e===!0&&a!==null&&a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const r=this.children;for(let t=0,d=r.length;t<d;t++){const C=r[t];C.matrixWorldAutoUpdate===!0&&C.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",a={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},a.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(C=>({boxInitialized:C.boxInitialized,boxMin:C.box.min.toArray(),boxMax:C.box.max.toArray(),sphereInitialized:C.sphereInitialized,sphereRadius:C.sphere.radius,sphereCenter:C.sphere.center.toArray()})),r.maxGeometryCount=this._maxGeometryCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function t(C,M){return C[M.uuid]===void 0&&(C[M.uuid]=M.toJSON(e)),M.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=t(e.geometries,this.geometry);const C=this.geometry.parameters;if(C!==void 0&&C.shapes!==void 0){const M=C.shapes;if(Array.isArray(M))for(let w=0,S=M.length;w<S;w++){const x=M[w];t(e.shapes,x)}else t(e.shapes,M)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(t(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const C=[];for(let M=0,w=this.material.length;M<w;M++)C.push(t(e.materials,this.material[M]));r.material=C}else r.material=t(e.materials,this.material);if(this.children.length>0){r.children=[];for(let C=0;C<this.children.length;C++)r.children.push(this.children[C].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let C=0;C<this.animations.length;C++){const M=this.animations[C];r.animations.push(t(e.animations,M))}}if(n){const C=d(e.geometries),M=d(e.materials),w=d(e.textures),S=d(e.images),x=d(e.shapes),h=d(e.skeletons),u=d(e.animations),g=d(e.nodes);C.length>0&&(a.geometries=C),M.length>0&&(a.materials=M),w.length>0&&(a.textures=w),S.length>0&&(a.images=S),x.length>0&&(a.shapes=x),h.length>0&&(a.skeletons=h),u.length>0&&(a.animations=u),g.length>0&&(a.nodes=g)}return a.object=r,a;function d(C){const M=[];for(const w in C){const S=C[w];delete S.metadata,M.push(S)}return M}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let a=0;a<e.children.length;a++){const r=e.children[a];this.add(r.clone())}return this}}Ft.DEFAULT_UP=new me(0,1,0);Ft.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ft.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const bn=new me,jn=new me,Na=new me,Hn=new me,li=new me,ui=new me,Ad=new me,ka=new me,Fa=new me,Ua=new me;class Ln{constructor(e=new me,n=new me,a=new me){this.a=e,this.b=n,this.c=a}static getNormal(e,n,a,r){r.subVectors(a,n),bn.subVectors(e,n),r.cross(bn);const t=r.lengthSq();return t>0?r.multiplyScalar(1/Math.sqrt(t)):r.set(0,0,0)}static getBarycoord(e,n,a,r,t){bn.subVectors(r,n),jn.subVectors(a,n),Na.subVectors(e,n);const d=bn.dot(bn),C=bn.dot(jn),M=bn.dot(Na),w=jn.dot(jn),S=jn.dot(Na),x=d*w-C*C;if(x===0)return t.set(0,0,0),null;const h=1/x,u=(w*M-C*S)*h,g=(d*S-C*M)*h;return t.set(1-u-g,g,u)}static containsPoint(e,n,a,r){return this.getBarycoord(e,n,a,r,Hn)===null?!1:Hn.x>=0&&Hn.y>=0&&Hn.x+Hn.y<=1}static getInterpolation(e,n,a,r,t,d,C,M){return this.getBarycoord(e,n,a,r,Hn)===null?(M.x=0,M.y=0,"z"in M&&(M.z=0),"w"in M&&(M.w=0),null):(M.setScalar(0),M.addScaledVector(t,Hn.x),M.addScaledVector(d,Hn.y),M.addScaledVector(C,Hn.z),M)}static isFrontFacing(e,n,a,r){return bn.subVectors(a,n),jn.subVectors(e,n),bn.cross(jn).dot(r)<0}set(e,n,a){return this.a.copy(e),this.b.copy(n),this.c.copy(a),this}setFromPointsAndIndices(e,n,a,r){return this.a.copy(e[n]),this.b.copy(e[a]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,a,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,a),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return bn.subVectors(this.c,this.b),jn.subVectors(this.a,this.b),bn.cross(jn).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ln.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Ln.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,a,r,t){return Ln.getInterpolation(e,this.a,this.b,this.c,n,a,r,t)}containsPoint(e){return Ln.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ln.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const a=this.a,r=this.b,t=this.c;let d,C;li.subVectors(r,a),ui.subVectors(t,a),ka.subVectors(e,a);const M=li.dot(ka),w=ui.dot(ka);if(M<=0&&w<=0)return n.copy(a);Fa.subVectors(e,r);const S=li.dot(Fa),x=ui.dot(Fa);if(S>=0&&x<=S)return n.copy(r);const h=M*x-S*w;if(h<=0&&M>=0&&S<=0)return d=M/(M-S),n.copy(a).addScaledVector(li,d);Ua.subVectors(e,t);const u=li.dot(Ua),g=ui.dot(Ua);if(g>=0&&u<=g)return n.copy(t);const f=u*w-M*g;if(f<=0&&w>=0&&g<=0)return C=w/(w-g),n.copy(a).addScaledVector(ui,C);const i=S*g-u*x;if(i<=0&&x-S>=0&&u-g>=0)return Ad.subVectors(t,r),C=(x-S)/(x-S+(u-g)),n.copy(r).addScaledVector(Ad,C);const p=1/(i+f+h);return d=f*p,C=h*p,n.copy(a).addScaledVector(li,d).addScaledVector(ui,C)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const rh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},lr={h:0,s:0,l:0},Jo={h:0,s:0,l:0};function za(s,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?s+(e-s)*6*n:n<1/2?e:n<2/3?s+(e-s)*6*(2/3-n):s}class ot{constructor(e,n,a){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,a)}set(e,n,a){if(n===void 0&&a===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,n,a);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=kt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,bt.toWorkingColorSpace(this,n),this}setRGB(e,n,a,r=bt.workingColorSpace){return this.r=e,this.g=n,this.b=a,bt.toWorkingColorSpace(this,r),this}setHSL(e,n,a,r=bt.workingColorSpace){if(e=_C(e,1),n=Jt(n,0,1),a=Jt(a,0,1),n===0)this.r=this.g=this.b=a;else{const t=a<=.5?a*(1+n):a+n-a*n,d=2*a-t;this.r=za(d,t,e+1/3),this.g=za(d,t,e),this.b=za(d,t,e-1/3)}return bt.toWorkingColorSpace(this,r),this}setStyle(e,n=kt){function a(t){t!==void 0&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let t;const d=r[1],C=r[2];switch(d){case"rgb":case"rgba":if(t=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(C))return a(t[4]),this.setRGB(Math.min(255,parseInt(t[1],10))/255,Math.min(255,parseInt(t[2],10))/255,Math.min(255,parseInt(t[3],10))/255,n);if(t=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(C))return a(t[4]),this.setRGB(Math.min(100,parseInt(t[1],10))/100,Math.min(100,parseInt(t[2],10))/100,Math.min(100,parseInt(t[3],10))/100,n);break;case"hsl":case"hsla":if(t=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(C))return a(t[4]),this.setHSL(parseFloat(t[1])/360,parseFloat(t[2])/100,parseFloat(t[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const t=r[1],d=t.length;if(d===3)return this.setRGB(parseInt(t.charAt(0),16)/15,parseInt(t.charAt(1),16)/15,parseInt(t.charAt(2),16)/15,n);if(d===6)return this.setHex(parseInt(t,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=kt){const a=rh[e.toLowerCase()];return a!==void 0?this.setHex(a,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ri(e.r),this.g=Ri(e.g),this.b=Ri(e.b),this}copyLinearToSRGB(e){return this.r=Oa(e.r),this.g=Oa(e.g),this.b=Oa(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=kt){return bt.fromWorkingColorSpace(Ht.copy(this),e),Math.round(Jt(Ht.r*255,0,255))*65536+Math.round(Jt(Ht.g*255,0,255))*256+Math.round(Jt(Ht.b*255,0,255))}getHexString(e=kt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=bt.workingColorSpace){bt.fromWorkingColorSpace(Ht.copy(this),n);const a=Ht.r,r=Ht.g,t=Ht.b,d=Math.max(a,r,t),C=Math.min(a,r,t);let M,w;const S=(C+d)/2;if(C===d)M=0,w=0;else{const x=d-C;switch(w=S<=.5?x/(d+C):x/(2-d-C),d){case a:M=(r-t)/x+(r<t?6:0);break;case r:M=(t-a)/x+2;break;case t:M=(a-r)/x+4;break}M/=6}return e.h=M,e.s=w,e.l=S,e}getRGB(e,n=bt.workingColorSpace){return bt.fromWorkingColorSpace(Ht.copy(this),n),e.r=Ht.r,e.g=Ht.g,e.b=Ht.b,e}getStyle(e=kt){bt.fromWorkingColorSpace(Ht.copy(this),e);const n=Ht.r,a=Ht.g,r=Ht.b;return e!==kt?`color(${e} ${n.toFixed(3)} ${a.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(a*255)},${Math.round(r*255)})`}offsetHSL(e,n,a){return this.getHSL(lr),this.setHSL(lr.h+e,lr.s+n,lr.l+a)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,a){return this.r=e.r+(n.r-e.r)*a,this.g=e.g+(n.g-e.g)*a,this.b=e.b+(n.b-e.b)*a,this}lerpHSL(e,n){this.getHSL(lr),e.getHSL(Jo);const a=Ra(lr.h,Jo.h,n),r=Ra(lr.s,Jo.s,n),t=Ra(lr.l,Jo.l,n);return this.setHSL(a,r,t),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,a=this.g,r=this.b,t=e.elements;return this.r=t[0]*n+t[3]*a+t[6]*r,this.g=t[1]*n+t[4]*a+t[7]*r,this.b=t[2]*n+t[5]*a+t[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ht=new ot;ot.NAMES=rh;let XC=0;class Fi extends ki{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:XC++}),this.uuid=Co(),this.name="",this.type="Material",this.blending=Si,this.side=Tr,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Cl,this.blendDst=xl,this.blendEquation=Fr,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ot(0,0,0),this.blendAlpha=0,this.depthFunc=Ms,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=vd,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ti,this.stencilZFail=ti,this.stencilZPass=ti,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const a=e[n];if(a===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(a):r&&r.isVector3&&a&&a.isVector3?r.copy(a):this[n]=a}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const a={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.color&&this.color.isColor&&(a.color=this.color.getHex()),this.roughness!==void 0&&(a.roughness=this.roughness),this.metalness!==void 0&&(a.metalness=this.metalness),this.sheen!==void 0&&(a.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(a.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(a.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(a.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(a.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(a.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(a.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(a.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(a.shininess=this.shininess),this.clearcoat!==void 0&&(a.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(a.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(a.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(a.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(a.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,a.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(a.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(a.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(a.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(a.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(a.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(a.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(a.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(a.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(a.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(a.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(a.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(a.lightMap=this.lightMap.toJSON(e).uuid,a.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(a.aoMap=this.aoMap.toJSON(e).uuid,a.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(a.bumpMap=this.bumpMap.toJSON(e).uuid,a.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(a.normalMap=this.normalMap.toJSON(e).uuid,a.normalMapType=this.normalMapType,a.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(a.displacementMap=this.displacementMap.toJSON(e).uuid,a.displacementScale=this.displacementScale,a.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(a.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(a.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(a.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(a.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(a.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(a.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(a.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(a.combine=this.combine)),this.envMapIntensity!==void 0&&(a.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(a.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(a.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(a.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(a.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(a.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(a.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(a.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(a.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(a.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(a.size=this.size),this.shadowSide!==null&&(a.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(a.sizeAttenuation=this.sizeAttenuation),this.blending!==Si&&(a.blending=this.blending),this.side!==Tr&&(a.side=this.side),this.vertexColors===!0&&(a.vertexColors=!0),this.opacity<1&&(a.opacity=this.opacity),this.transparent===!0&&(a.transparent=!0),this.blendSrc!==Cl&&(a.blendSrc=this.blendSrc),this.blendDst!==xl&&(a.blendDst=this.blendDst),this.blendEquation!==Fr&&(a.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(a.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(a.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(a.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(a.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(a.blendAlpha=this.blendAlpha),this.depthFunc!==Ms&&(a.depthFunc=this.depthFunc),this.depthTest===!1&&(a.depthTest=this.depthTest),this.depthWrite===!1&&(a.depthWrite=this.depthWrite),this.colorWrite===!1&&(a.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(a.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==vd&&(a.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(a.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(a.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==ti&&(a.stencilFail=this.stencilFail),this.stencilZFail!==ti&&(a.stencilZFail=this.stencilZFail),this.stencilZPass!==ti&&(a.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(a.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(a.rotation=this.rotation),this.polygonOffset===!0&&(a.polygonOffset=!0),this.polygonOffsetFactor!==0&&(a.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(a.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(a.linewidth=this.linewidth),this.dashSize!==void 0&&(a.dashSize=this.dashSize),this.gapSize!==void 0&&(a.gapSize=this.gapSize),this.scale!==void 0&&(a.scale=this.scale),this.dithering===!0&&(a.dithering=!0),this.alphaTest>0&&(a.alphaTest=this.alphaTest),this.alphaHash===!0&&(a.alphaHash=!0),this.alphaToCoverage===!0&&(a.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(a.premultipliedAlpha=!0),this.forceSinglePass===!0&&(a.forceSinglePass=!0),this.wireframe===!0&&(a.wireframe=!0),this.wireframeLinewidth>1&&(a.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(a.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(a.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(a.flatShading=!0),this.visible===!1&&(a.visible=!1),this.toneMapped===!1&&(a.toneMapped=!1),this.fog===!1&&(a.fog=!1),Object.keys(this.userData).length>0&&(a.userData=this.userData);function r(t){const d=[];for(const C in t){const M=t[C];delete M.metadata,d.push(M)}return d}if(n){const t=r(e.textures),d=r(e.images);t.length>0&&(a.textures=t),d.length>0&&(a.images=d)}return a}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let a=null;if(n!==null){const r=n.length;a=new Array(r);for(let t=0;t!==r;++t)a[t]=n[t].clone()}return this.clippingPlanes=a,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class ih extends Fi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ot(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Fp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const At=new me,Yo=new lt;class _n{constructor(e,n,a=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=a,this.usage=yd,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=$n,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return Mi("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,a){e*=this.itemSize,a*=n.itemSize;for(let r=0,t=this.itemSize;r<t;r++)this.array[e+r]=n.array[a+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,a=this.count;n<a;n++)Yo.fromBufferAttribute(this,n),Yo.applyMatrix3(e),this.setXY(n,Yo.x,Yo.y);else if(this.itemSize===3)for(let n=0,a=this.count;n<a;n++)At.fromBufferAttribute(this,n),At.applyMatrix3(e),this.setXYZ(n,At.x,At.y,At.z);return this}applyMatrix4(e){for(let n=0,a=this.count;n<a;n++)At.fromBufferAttribute(this,n),At.applyMatrix4(e),this.setXYZ(n,At.x,At.y,At.z);return this}applyNormalMatrix(e){for(let n=0,a=this.count;n<a;n++)At.fromBufferAttribute(this,n),At.applyNormalMatrix(e),this.setXYZ(n,At.x,At.y,At.z);return this}transformDirection(e){for(let n=0,a=this.count;n<a;n++)At.fromBufferAttribute(this,n),At.transformDirection(e),this.setXYZ(n,At.x,At.y,At.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let a=this.array[e*this.itemSize+n];return this.normalized&&(a=Xi(a,this.array)),a}setComponent(e,n,a){return this.normalized&&(a=en(a,this.array)),this.array[e*this.itemSize+n]=a,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Xi(n,this.array)),n}setX(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Xi(n,this.array)),n}setY(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Xi(n,this.array)),n}setZ(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Xi(n,this.array)),n}setW(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,a){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),a=en(a,this.array)),this.array[e+0]=n,this.array[e+1]=a,this}setXYZ(e,n,a,r){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),a=en(a,this.array),r=en(r,this.array)),this.array[e+0]=n,this.array[e+1]=a,this.array[e+2]=r,this}setXYZW(e,n,a,r,t){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),a=en(a,this.array),r=en(r,this.array),t=en(t,this.array)),this.array[e+0]=n,this.array[e+1]=a,this.array[e+2]=r,this.array[e+3]=t,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==yd&&(e.usage=this.usage),e}}class oh extends _n{constructor(e,n,a){super(new Uint16Array(e),n,a)}}class sh extends _n{constructor(e,n,a){super(new Uint32Array(e),n,a)}}class Mn extends _n{constructor(e,n,a){super(new Float32Array(e),n,a)}}let JC=0;const fn=new wt,ja=new Ft,ci=new me,un=new Eo,eo=new Eo,Bt=new me;class tr extends ki{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:JC++}),this.uuid=Co(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Jp(e)?sh:oh)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,a=0){this.groups.push({start:e,count:n,materialIndex:a})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const a=this.attributes.normal;if(a!==void 0){const t=new at().getNormalMatrix(e);a.applyNormalMatrix(t),a.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return fn.makeRotationFromQuaternion(e),this.applyMatrix4(fn),this}rotateX(e){return fn.makeRotationX(e),this.applyMatrix4(fn),this}rotateY(e){return fn.makeRotationY(e),this.applyMatrix4(fn),this}rotateZ(e){return fn.makeRotationZ(e),this.applyMatrix4(fn),this}translate(e,n,a){return fn.makeTranslation(e,n,a),this.applyMatrix4(fn),this}scale(e,n,a){return fn.makeScale(e,n,a),this.applyMatrix4(fn),this}lookAt(e){return ja.lookAt(e),ja.updateMatrix(),this.applyMatrix4(ja.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ci).negate(),this.translate(ci.x,ci.y,ci.z),this}setFromPoints(e){const n=[];for(let a=0,r=e.length;a<r;a++){const t=e[a];n.push(t.x,t.y,t.z||0)}return this.setAttribute("position",new Mn(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Eo);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new me(-1/0,-1/0,-1/0),new me(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let a=0,r=n.length;a<r;a++){const t=n[a];un.setFromBufferAttribute(t),this.morphTargetsRelative?(Bt.addVectors(this.boundingBox.min,un.min),this.boundingBox.expandByPoint(Bt),Bt.addVectors(this.boundingBox.max,un.max),this.boundingBox.expandByPoint(Bt)):(this.boundingBox.expandByPoint(un.min),this.boundingBox.expandByPoint(un.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new $s);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new me,1/0);return}if(e){const a=this.boundingSphere.center;if(un.setFromBufferAttribute(e),n)for(let t=0,d=n.length;t<d;t++){const C=n[t];eo.setFromBufferAttribute(C),this.morphTargetsRelative?(Bt.addVectors(un.min,eo.min),un.expandByPoint(Bt),Bt.addVectors(un.max,eo.max),un.expandByPoint(Bt)):(un.expandByPoint(eo.min),un.expandByPoint(eo.max))}un.getCenter(a);let r=0;for(let t=0,d=e.count;t<d;t++)Bt.fromBufferAttribute(e,t),r=Math.max(r,a.distanceToSquared(Bt));if(n)for(let t=0,d=n.length;t<d;t++){const C=n[t],M=this.morphTargetsRelative;for(let w=0,S=C.count;w<S;w++)Bt.fromBufferAttribute(C,w),M&&(ci.fromBufferAttribute(e,w),Bt.add(ci)),r=Math.max(r,a.distanceToSquared(Bt))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const a=e.array,r=n.position.array,t=n.normal.array,d=n.uv.array,C=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new _n(new Float32Array(4*C),4));const M=this.getAttribute("tangent").array,w=[],S=[];for(let A=0;A<C;A++)w[A]=new me,S[A]=new me;const x=new me,h=new me,u=new me,g=new lt,f=new lt,i=new lt,p=new me,P=new me;function m(A,D,O){x.fromArray(r,A*3),h.fromArray(r,D*3),u.fromArray(r,O*3),g.fromArray(d,A*2),f.fromArray(d,D*2),i.fromArray(d,O*2),h.sub(x),u.sub(x),f.sub(g),i.sub(g);const l=1/(f.x*i.y-i.x*f.y);isFinite(l)&&(p.copy(h).multiplyScalar(i.y).addScaledVector(u,-f.y).multiplyScalar(l),P.copy(u).multiplyScalar(f.x).addScaledVector(h,-i.x).multiplyScalar(l),w[A].add(p),w[D].add(p),w[O].add(p),S[A].add(P),S[D].add(P),S[O].add(P))}let y=this.groups;y.length===0&&(y=[{start:0,count:a.length}]);for(let A=0,D=y.length;A<D;++A){const O=y[A],l=O.start,o=O.count;for(let v=l,T=l+o;v<T;v+=3)m(a[v+0],a[v+1],a[v+2])}const R=new me,b=new me,c=new me,E=new me;function I(A){c.fromArray(t,A*3),E.copy(c);const D=w[A];R.copy(D),R.sub(c.multiplyScalar(c.dot(D))).normalize(),b.crossVectors(E,D);const l=b.dot(S[A])<0?-1:1;M[A*4]=R.x,M[A*4+1]=R.y,M[A*4+2]=R.z,M[A*4+3]=l}for(let A=0,D=y.length;A<D;++A){const O=y[A],l=O.start,o=O.count;for(let v=l,T=l+o;v<T;v+=3)I(a[v+0]),I(a[v+1]),I(a[v+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let a=this.getAttribute("normal");if(a===void 0)a=new _n(new Float32Array(n.count*3),3),this.setAttribute("normal",a);else for(let h=0,u=a.count;h<u;h++)a.setXYZ(h,0,0,0);const r=new me,t=new me,d=new me,C=new me,M=new me,w=new me,S=new me,x=new me;if(e)for(let h=0,u=e.count;h<u;h+=3){const g=e.getX(h+0),f=e.getX(h+1),i=e.getX(h+2);r.fromBufferAttribute(n,g),t.fromBufferAttribute(n,f),d.fromBufferAttribute(n,i),S.subVectors(d,t),x.subVectors(r,t),S.cross(x),C.fromBufferAttribute(a,g),M.fromBufferAttribute(a,f),w.fromBufferAttribute(a,i),C.add(S),M.add(S),w.add(S),a.setXYZ(g,C.x,C.y,C.z),a.setXYZ(f,M.x,M.y,M.z),a.setXYZ(i,w.x,w.y,w.z)}else for(let h=0,u=n.count;h<u;h+=3)r.fromBufferAttribute(n,h+0),t.fromBufferAttribute(n,h+1),d.fromBufferAttribute(n,h+2),S.subVectors(d,t),x.subVectors(r,t),S.cross(x),a.setXYZ(h+0,S.x,S.y,S.z),a.setXYZ(h+1,S.x,S.y,S.z),a.setXYZ(h+2,S.x,S.y,S.z);this.normalizeNormals(),a.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,a=e.count;n<a;n++)Bt.fromBufferAttribute(e,n),Bt.normalize(),e.setXYZ(n,Bt.x,Bt.y,Bt.z)}toNonIndexed(){function e(C,M){const w=C.array,S=C.itemSize,x=C.normalized,h=new w.constructor(M.length*S);let u=0,g=0;for(let f=0,i=M.length;f<i;f++){C.isInterleavedBufferAttribute?u=M[f]*C.data.stride+C.offset:u=M[f]*S;for(let p=0;p<S;p++)h[g++]=w[u++]}return new _n(h,S,x)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new tr,a=this.index.array,r=this.attributes;for(const C in r){const M=r[C],w=e(M,a);n.setAttribute(C,w)}const t=this.morphAttributes;for(const C in t){const M=[],w=t[C];for(let S=0,x=w.length;S<x;S++){const h=w[S],u=e(h,a);M.push(u)}n.morphAttributes[C]=M}n.morphTargetsRelative=this.morphTargetsRelative;const d=this.groups;for(let C=0,M=d.length;C<M;C++){const w=d[C];n.addGroup(w.start,w.count,w.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const M=this.parameters;for(const w in M)M[w]!==void 0&&(e[w]=M[w]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const a=this.attributes;for(const M in a){const w=a[M];e.data.attributes[M]=w.toJSON(e.data)}const r={};let t=!1;for(const M in this.morphAttributes){const w=this.morphAttributes[M],S=[];for(let x=0,h=w.length;x<h;x++){const u=w[x];S.push(u.toJSON(e.data))}S.length>0&&(r[M]=S,t=!0)}t&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const d=this.groups;d.length>0&&(e.data.groups=JSON.parse(JSON.stringify(d)));const C=this.boundingSphere;return C!==null&&(e.data.boundingSphere={center:C.center.toArray(),radius:C.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const a=e.index;a!==null&&this.setIndex(a.clone(n));const r=e.attributes;for(const w in r){const S=r[w];this.setAttribute(w,S.clone(n))}const t=e.morphAttributes;for(const w in t){const S=[],x=t[w];for(let h=0,u=x.length;h<u;h++)S.push(x[h].clone(n));this.morphAttributes[w]=S}this.morphTargetsRelative=e.morphTargetsRelative;const d=e.groups;for(let w=0,S=d.length;w<S;w++){const x=d[w];this.addGroup(x.start,x.count,x.materialIndex)}const C=e.boundingBox;C!==null&&(this.boundingBox=C.clone());const M=e.boundingSphere;return M!==null&&(this.boundingSphere=M.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Dd=new wt,Vr=new th,Zo=new $s,Ld=new me,di=new me,fi=new me,pi=new me,Ha=new me,es=new me,ts=new lt,ns=new lt,rs=new lt,Vd=new me,_d=new me,Bd=new me,is=new me,os=new me;class Xn extends Ft{constructor(e=new tr,n=new ih){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,a=Object.keys(n);if(a.length>0){const r=n[a[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,d=r.length;t<d;t++){const C=r[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[C]=t}}}}getVertexPosition(e,n){const a=this.geometry,r=a.attributes.position,t=a.morphAttributes.position,d=a.morphTargetsRelative;n.fromBufferAttribute(r,e);const C=this.morphTargetInfluences;if(t&&C){es.set(0,0,0);for(let M=0,w=t.length;M<w;M++){const S=C[M],x=t[M];S!==0&&(Ha.fromBufferAttribute(x,e),d?es.addScaledVector(Ha,S):es.addScaledVector(Ha.sub(n),S))}n.add(es)}return n}raycast(e,n){const a=this.geometry,r=this.material,t=this.matrixWorld;r!==void 0&&(a.boundingSphere===null&&a.computeBoundingSphere(),Zo.copy(a.boundingSphere),Zo.applyMatrix4(t),Vr.copy(e.ray).recast(e.near),!(Zo.containsPoint(Vr.origin)===!1&&(Vr.intersectSphere(Zo,Ld)===null||Vr.origin.distanceToSquared(Ld)>(e.far-e.near)**2))&&(Dd.copy(t).invert(),Vr.copy(e.ray).applyMatrix4(Dd),!(a.boundingBox!==null&&Vr.intersectsBox(a.boundingBox)===!1)&&this._computeIntersections(e,n,Vr)))}_computeIntersections(e,n,a){let r;const t=this.geometry,d=this.material,C=t.index,M=t.attributes.position,w=t.attributes.uv,S=t.attributes.uv1,x=t.attributes.normal,h=t.groups,u=t.drawRange;if(C!==null)if(Array.isArray(d))for(let g=0,f=h.length;g<f;g++){const i=h[g],p=d[i.materialIndex],P=Math.max(i.start,u.start),m=Math.min(C.count,Math.min(i.start+i.count,u.start+u.count));for(let y=P,R=m;y<R;y+=3){const b=C.getX(y),c=C.getX(y+1),E=C.getX(y+2);r=ss(this,p,e,a,w,S,x,b,c,E),r&&(r.faceIndex=Math.floor(y/3),r.face.materialIndex=i.materialIndex,n.push(r))}}else{const g=Math.max(0,u.start),f=Math.min(C.count,u.start+u.count);for(let i=g,p=f;i<p;i+=3){const P=C.getX(i),m=C.getX(i+1),y=C.getX(i+2);r=ss(this,d,e,a,w,S,x,P,m,y),r&&(r.faceIndex=Math.floor(i/3),n.push(r))}}else if(M!==void 0)if(Array.isArray(d))for(let g=0,f=h.length;g<f;g++){const i=h[g],p=d[i.materialIndex],P=Math.max(i.start,u.start),m=Math.min(M.count,Math.min(i.start+i.count,u.start+u.count));for(let y=P,R=m;y<R;y+=3){const b=y,c=y+1,E=y+2;r=ss(this,p,e,a,w,S,x,b,c,E),r&&(r.faceIndex=Math.floor(y/3),r.face.materialIndex=i.materialIndex,n.push(r))}}else{const g=Math.max(0,u.start),f=Math.min(M.count,u.start+u.count);for(let i=g,p=f;i<p;i+=3){const P=i,m=i+1,y=i+2;r=ss(this,d,e,a,w,S,x,P,m,y),r&&(r.faceIndex=Math.floor(i/3),n.push(r))}}}}function YC(s,e,n,a,r,t,d,C){let M;if(e.side===rn?M=a.intersectTriangle(d,t,r,!0,C):M=a.intersectTriangle(r,t,d,e.side===Tr,C),M===null)return null;os.copy(C),os.applyMatrix4(s.matrixWorld);const w=n.ray.origin.distanceTo(os);return w<n.near||w>n.far?null:{distance:w,point:os.clone(),object:s}}function ss(s,e,n,a,r,t,d,C,M,w){s.getVertexPosition(C,di),s.getVertexPosition(M,fi),s.getVertexPosition(w,pi);const S=YC(s,e,n,a,di,fi,pi,is);if(S){r&&(ts.fromBufferAttribute(r,C),ns.fromBufferAttribute(r,M),rs.fromBufferAttribute(r,w),S.uv=Ln.getInterpolation(is,di,fi,pi,ts,ns,rs,new lt)),t&&(ts.fromBufferAttribute(t,C),ns.fromBufferAttribute(t,M),rs.fromBufferAttribute(t,w),S.uv1=Ln.getInterpolation(is,di,fi,pi,ts,ns,rs,new lt),S.uv2=S.uv1),d&&(Vd.fromBufferAttribute(d,C),_d.fromBufferAttribute(d,M),Bd.fromBufferAttribute(d,w),S.normal=Ln.getInterpolation(is,di,fi,pi,Vd,_d,Bd,new me),S.normal.dot(a.direction)>0&&S.normal.multiplyScalar(-1));const x={a:C,b:M,c:w,normal:new me,materialIndex:0};Ln.getNormal(di,fi,pi,x.normal),S.face=x}return S}class Po extends tr{constructor(e=1,n=1,a=1,r=1,t=1,d=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:a,widthSegments:r,heightSegments:t,depthSegments:d};const C=this;r=Math.floor(r),t=Math.floor(t),d=Math.floor(d);const M=[],w=[],S=[],x=[];let h=0,u=0;g("z","y","x",-1,-1,a,n,e,d,t,0),g("z","y","x",1,-1,a,n,-e,d,t,1),g("x","z","y",1,1,e,a,n,r,d,2),g("x","z","y",1,-1,e,a,-n,r,d,3),g("x","y","z",1,-1,e,n,a,r,t,4),g("x","y","z",-1,-1,e,n,-a,r,t,5),this.setIndex(M),this.setAttribute("position",new Mn(w,3)),this.setAttribute("normal",new Mn(S,3)),this.setAttribute("uv",new Mn(x,2));function g(f,i,p,P,m,y,R,b,c,E,I){const A=y/c,D=R/E,O=y/2,l=R/2,o=b/2,v=c+1,T=E+1;let L=0,V=0;const _=new me;for(let B=0;B<T;B++){const k=B*D-l;for(let U=0;U<v;U++){const K=U*A-O;_[f]=K*P,_[i]=k*m,_[p]=o,w.push(_.x,_.y,_.z),_[f]=0,_[i]=0,_[p]=b>0?1:-1,S.push(_.x,_.y,_.z),x.push(U/c),x.push(1-B/E),L+=1}}for(let B=0;B<E;B++)for(let k=0;k<c;k++){const U=h+k+v*B,K=h+k+v*(B+1),q=h+(k+1)+v*(B+1),Z=h+(k+1)+v*B;M.push(U,K,Z),M.push(K,q,Z),V+=6}C.addGroup(u,V,I),u+=V,h+=L}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Po(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Bi(s){const e={};for(const n in s){e[n]={};for(const a in s[n]){const r=s[n][a];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][a]=null):e[n][a]=r.clone():Array.isArray(r)?e[n][a]=r.slice():e[n][a]=r}}return e}function $t(s){const e={};for(let n=0;n<s.length;n++){const a=Bi(s[n]);for(const r in a)e[r]=a[r]}return e}function ZC(s){const e=[];for(let n=0;n<s.length;n++)e.push(s[n].clone());return e}function ah(s){return s.getRenderTarget()===null?s.outputColorSpace:bt.workingColorSpace}const ex={clone:Bi,merge:$t};var tx=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,nx=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Sr extends Fi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=tx,this.fragmentShader=nx,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Bi(e.uniforms),this.uniformsGroups=ZC(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const d=this.uniforms[r].value;d&&d.isTexture?n.uniforms[r]={type:"t",value:d.toJSON(e).uuid}:d&&d.isColor?n.uniforms[r]={type:"c",value:d.getHex()}:d&&d.isVector2?n.uniforms[r]={type:"v2",value:d.toArray()}:d&&d.isVector3?n.uniforms[r]={type:"v3",value:d.toArray()}:d&&d.isVector4?n.uniforms[r]={type:"v4",value:d.toArray()}:d&&d.isMatrix3?n.uniforms[r]={type:"m3",value:d.toArray()}:d&&d.isMatrix4?n.uniforms[r]={type:"m4",value:d.toArray()}:n.uniforms[r]={value:d}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const a={};for(const r in this.extensions)this.extensions[r]===!0&&(a[r]=!0);return Object.keys(a).length>0&&(n.extensions=a),n}}class iu extends Ft{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new wt,this.projectionMatrix=new wt,this.projectionMatrixInverse=new wt,this.coordinateSystem=Kn}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const ur=new me,Nd=new lt,kd=new lt;class pn extends iu{constructor(e=50,n=1,a=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=a,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Rl*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Ma*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Rl*2*Math.atan(Math.tan(Ma*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,a){ur.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(ur.x,ur.y).multiplyScalar(-e/ur.z),ur.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),a.set(ur.x,ur.y).multiplyScalar(-e/ur.z)}getViewSize(e,n){return this.getViewBounds(e,Nd,kd),n.subVectors(kd,Nd)}setViewOffset(e,n,a,r,t,d){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=a,this.view.offsetY=r,this.view.width=t,this.view.height=d,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Ma*.5*this.fov)/this.zoom,a=2*n,r=this.aspect*a,t=-.5*r;const d=this.view;if(this.view!==null&&this.view.enabled){const M=d.fullWidth,w=d.fullHeight;t+=d.offsetX*r/M,n-=d.offsetY*a/w,r*=d.width/M,a*=d.height/w}const C=this.filmOffset;C!==0&&(t+=e*C/this.getFilmWidth()),this.projectionMatrix.makePerspective(t,t+r,n,n-a,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const hi=-90,mi=1;class rx extends Ft{constructor(e,n,a){super(),this.type="CubeCamera",this.renderTarget=a,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new pn(hi,mi,e,n);r.layers=this.layers,this.add(r);const t=new pn(hi,mi,e,n);t.layers=this.layers,this.add(t);const d=new pn(hi,mi,e,n);d.layers=this.layers,this.add(d);const C=new pn(hi,mi,e,n);C.layers=this.layers,this.add(C);const M=new pn(hi,mi,e,n);M.layers=this.layers,this.add(M);const w=new pn(hi,mi,e,n);w.layers=this.layers,this.add(w)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[a,r,t,d,C,M]=n;for(const w of n)this.remove(w);if(e===Kn)a.up.set(0,1,0),a.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),t.up.set(0,0,-1),t.lookAt(0,1,0),d.up.set(0,0,1),d.lookAt(0,-1,0),C.up.set(0,1,0),C.lookAt(0,0,1),M.up.set(0,1,0),M.lookAt(0,0,-1);else if(e===Is)a.up.set(0,-1,0),a.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),t.up.set(0,0,1),t.lookAt(0,1,0),d.up.set(0,0,-1),d.lookAt(0,-1,0),C.up.set(0,-1,0),C.lookAt(0,0,1),M.up.set(0,-1,0),M.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const w of n)this.add(w),w.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:a,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[t,d,C,M,w,S]=this.children,x=e.getRenderTarget(),h=e.getActiveCubeFace(),u=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const f=a.texture.generateMipmaps;a.texture.generateMipmaps=!1,e.setRenderTarget(a,0,r),e.render(n,t),e.setRenderTarget(a,1,r),e.render(n,d),e.setRenderTarget(a,2,r),e.render(n,C),e.setRenderTarget(a,3,r),e.render(n,M),e.setRenderTarget(a,4,r),e.render(n,w),a.texture.generateMipmaps=f,e.setRenderTarget(a,5,r),e.render(n,S),e.setRenderTarget(x,h,u),e.xr.enabled=g,a.texture.needsPMREMUpdate=!0}}class lh extends on{constructor(e,n,a,r,t,d,C,M,w,S){e=e!==void 0?e:[],n=n!==void 0?n:Li,super(e,n,a,r,t,d,C,M,w,S),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class ix extends Qr{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const a={width:e,height:e,depth:1},r=[a,a,a,a,a,a];n.encoding!==void 0&&(Mi("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Gr?kt:hn),this.texture=new lh(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:nn}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const a={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Po(5,5,5),t=new Sr({name:"CubemapFromEquirect",uniforms:Bi(a.uniforms),vertexShader:a.vertexShader,fragmentShader:a.fragmentShader,side:rn,blending:Cr});t.uniforms.tEquirect.value=n;const d=new Xn(r,t),C=n.minFilter;return n.minFilter===zr&&(n.minFilter=nn),new rx(1,10,this).update(e,d),n.minFilter=C,d.geometry.dispose(),d.material.dispose(),this}clear(e,n,a,r){const t=e.getRenderTarget();for(let d=0;d<6;d++)e.setRenderTarget(this,d),e.clear(n,a,r);e.setRenderTarget(t)}}const Wa=new me,ox=new me,sx=new at;class Br{constructor(e=new me(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,a,r){return this.normal.set(e,n,a),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,a){const r=Wa.subVectors(a,n).cross(ox.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const a=e.delta(Wa),r=this.normal.dot(a);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const t=-(e.start.dot(this.normal)+this.constant)/r;return t<0||t>1?null:n.copy(e.start).addScaledVector(a,t)}intersectsLine(e){const n=this.distanceToPoint(e.start),a=this.distanceToPoint(e.end);return n<0&&a>0||a<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const a=n||sx.getNormalMatrix(e),r=this.coplanarPoint(Wa).applyMatrix4(e),t=this.normal.applyMatrix3(a).normalize();return this.constant=-r.dot(t),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _r=new $s,as=new me;class ou{constructor(e=new Br,n=new Br,a=new Br,r=new Br,t=new Br,d=new Br){this.planes=[e,n,a,r,t,d]}set(e,n,a,r,t,d){const C=this.planes;return C[0].copy(e),C[1].copy(n),C[2].copy(a),C[3].copy(r),C[4].copy(t),C[5].copy(d),this}copy(e){const n=this.planes;for(let a=0;a<6;a++)n[a].copy(e.planes[a]);return this}setFromProjectionMatrix(e,n=Kn){const a=this.planes,r=e.elements,t=r[0],d=r[1],C=r[2],M=r[3],w=r[4],S=r[5],x=r[6],h=r[7],u=r[8],g=r[9],f=r[10],i=r[11],p=r[12],P=r[13],m=r[14],y=r[15];if(a[0].setComponents(M-t,h-w,i-u,y-p).normalize(),a[1].setComponents(M+t,h+w,i+u,y+p).normalize(),a[2].setComponents(M+d,h+S,i+g,y+P).normalize(),a[3].setComponents(M-d,h-S,i-g,y-P).normalize(),a[4].setComponents(M-C,h-x,i-f,y-m).normalize(),n===Kn)a[5].setComponents(M+C,h+x,i+f,y+m).normalize();else if(n===Is)a[5].setComponents(C,x,f,m).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),_r.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),_r.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(_r)}intersectsSprite(e){return _r.center.set(0,0,0),_r.radius=.7071067811865476,_r.applyMatrix4(e.matrixWorld),this.intersectsSphere(_r)}intersectsSphere(e){const n=this.planes,a=e.center,r=-e.radius;for(let t=0;t<6;t++)if(n[t].distanceToPoint(a)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let a=0;a<6;a++){const r=n[a];if(as.x=r.normal.x>0?e.max.x:e.min.x,as.y=r.normal.y>0?e.max.y:e.min.y,as.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(as)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let a=0;a<6;a++)if(n[a].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function uh(){let s=null,e=!1,n=null,a=null;function r(t,d){n(t,d),a=s.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(a=s.requestAnimationFrame(r),e=!0)},stop:function(){s.cancelAnimationFrame(a),e=!1},setAnimationLoop:function(t){n=t},setContext:function(t){s=t}}}function ax(s,e){const n=e.isWebGL2,a=new WeakMap;function r(w,S){const x=w.array,h=w.usage,u=x.byteLength,g=s.createBuffer();s.bindBuffer(S,g),s.bufferData(S,x,h),w.onUploadCallback();let f;if(x instanceof Float32Array)f=s.FLOAT;else if(x instanceof Uint16Array)if(w.isFloat16BufferAttribute)if(n)f=s.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else f=s.UNSIGNED_SHORT;else if(x instanceof Int16Array)f=s.SHORT;else if(x instanceof Uint32Array)f=s.UNSIGNED_INT;else if(x instanceof Int32Array)f=s.INT;else if(x instanceof Int8Array)f=s.BYTE;else if(x instanceof Uint8Array)f=s.UNSIGNED_BYTE;else if(x instanceof Uint8ClampedArray)f=s.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+x);return{buffer:g,type:f,bytesPerElement:x.BYTES_PER_ELEMENT,version:w.version,size:u}}function t(w,S,x){const h=S.array,u=S._updateRange,g=S.updateRanges;if(s.bindBuffer(x,w),u.count===-1&&g.length===0&&s.bufferSubData(x,0,h),g.length!==0){for(let f=0,i=g.length;f<i;f++){const p=g[f];n?s.bufferSubData(x,p.start*h.BYTES_PER_ELEMENT,h,p.start,p.count):s.bufferSubData(x,p.start*h.BYTES_PER_ELEMENT,h.subarray(p.start,p.start+p.count))}S.clearUpdateRanges()}u.count!==-1&&(n?s.bufferSubData(x,u.offset*h.BYTES_PER_ELEMENT,h,u.offset,u.count):s.bufferSubData(x,u.offset*h.BYTES_PER_ELEMENT,h.subarray(u.offset,u.offset+u.count)),u.count=-1),S.onUploadCallback()}function d(w){return w.isInterleavedBufferAttribute&&(w=w.data),a.get(w)}function C(w){w.isInterleavedBufferAttribute&&(w=w.data);const S=a.get(w);S&&(s.deleteBuffer(S.buffer),a.delete(w))}function M(w,S){if(w.isGLBufferAttribute){const h=a.get(w);(!h||h.version<w.version)&&a.set(w,{buffer:w.buffer,type:w.type,bytesPerElement:w.elementSize,version:w.version});return}w.isInterleavedBufferAttribute&&(w=w.data);const x=a.get(w);if(x===void 0)a.set(w,r(w,S));else if(x.version<w.version){if(x.size!==w.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");t(x.buffer,w,S),x.version=w.version}}return{get:d,remove:C,update:M}}class Xs extends tr{constructor(e=1,n=1,a=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:a,heightSegments:r};const t=e/2,d=n/2,C=Math.floor(a),M=Math.floor(r),w=C+1,S=M+1,x=e/C,h=n/M,u=[],g=[],f=[],i=[];for(let p=0;p<S;p++){const P=p*h-d;for(let m=0;m<w;m++){const y=m*x-t;g.push(y,-P,0),f.push(0,0,1),i.push(m/C),i.push(1-p/M)}}for(let p=0;p<M;p++)for(let P=0;P<C;P++){const m=P+w*p,y=P+w*(p+1),R=P+1+w*(p+1),b=P+1+w*p;u.push(m,y,b),u.push(y,R,b)}this.setIndex(u),this.setAttribute("position",new Mn(g,3)),this.setAttribute("normal",new Mn(f,3)),this.setAttribute("uv",new Mn(i,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xs(e.width,e.height,e.widthSegments,e.heightSegments)}}var lx=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,ux=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,cx=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,dx=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,fx=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,px=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,hx=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,mx=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,gx=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,vx=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,yx=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,bx=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Cx=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,xx=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Ex=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Px=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Tx=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Sx=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Mx=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Rx=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,wx=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Ox=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Ix=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Ax=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Dx=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Lx=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Vx=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,_x=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Bx=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Nx=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,kx="gl_FragColor = linearToOutputTexel( gl_FragColor );",Fx=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,Ux=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,zx=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,jx=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Hx=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Wx=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,qx=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Gx=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Qx=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,$x=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Kx=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Xx=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Jx=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Yx=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Zx=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,eE=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,tE=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,nE=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,rE=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,iE=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,oE=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,sE=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,aE=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lE=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,uE=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,cE=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,dE=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,fE=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,pE=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,hE=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,mE=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,gE=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,vE=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,yE=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,bE=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,CE=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,xE=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,EE=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,PE=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,TE=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,SE=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,ME=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,RE=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,wE=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,OE=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,IE=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,AE=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,DE=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,LE=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,VE=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,_E=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,BE=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,NE=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,kE=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,FE=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,UE=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,zE=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,jE=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,HE=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,WE=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,qE=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,GE=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,QE=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,$E=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,KE=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,XE=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,JE=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,YE=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,ZE=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,e0=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,t0=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,n0=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,r0=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,i0=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,o0=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,s0=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const a0=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,l0=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,u0=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,c0=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,d0=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,f0=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,p0=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,h0=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,m0=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,g0=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,v0=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,y0=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,b0=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,C0=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,x0=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,E0=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,P0=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,T0=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,S0=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,M0=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,R0=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,w0=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,O0=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,I0=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,A0=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,D0=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,L0=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,V0=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_0=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,B0=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,N0=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,k0=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,F0=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,U0=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,it={alphahash_fragment:lx,alphahash_pars_fragment:ux,alphamap_fragment:cx,alphamap_pars_fragment:dx,alphatest_fragment:fx,alphatest_pars_fragment:px,aomap_fragment:hx,aomap_pars_fragment:mx,batching_pars_vertex:gx,batching_vertex:vx,begin_vertex:yx,beginnormal_vertex:bx,bsdfs:Cx,iridescence_fragment:xx,bumpmap_pars_fragment:Ex,clipping_planes_fragment:Px,clipping_planes_pars_fragment:Tx,clipping_planes_pars_vertex:Sx,clipping_planes_vertex:Mx,color_fragment:Rx,color_pars_fragment:wx,color_pars_vertex:Ox,color_vertex:Ix,common:Ax,cube_uv_reflection_fragment:Dx,defaultnormal_vertex:Lx,displacementmap_pars_vertex:Vx,displacementmap_vertex:_x,emissivemap_fragment:Bx,emissivemap_pars_fragment:Nx,colorspace_fragment:kx,colorspace_pars_fragment:Fx,envmap_fragment:Ux,envmap_common_pars_fragment:zx,envmap_pars_fragment:jx,envmap_pars_vertex:Hx,envmap_physical_pars_fragment:tE,envmap_vertex:Wx,fog_vertex:qx,fog_pars_vertex:Gx,fog_fragment:Qx,fog_pars_fragment:$x,gradientmap_pars_fragment:Kx,lightmap_fragment:Xx,lightmap_pars_fragment:Jx,lights_lambert_fragment:Yx,lights_lambert_pars_fragment:Zx,lights_pars_begin:eE,lights_toon_fragment:nE,lights_toon_pars_fragment:rE,lights_phong_fragment:iE,lights_phong_pars_fragment:oE,lights_physical_fragment:sE,lights_physical_pars_fragment:aE,lights_fragment_begin:lE,lights_fragment_maps:uE,lights_fragment_end:cE,logdepthbuf_fragment:dE,logdepthbuf_pars_fragment:fE,logdepthbuf_pars_vertex:pE,logdepthbuf_vertex:hE,map_fragment:mE,map_pars_fragment:gE,map_particle_fragment:vE,map_particle_pars_fragment:yE,metalnessmap_fragment:bE,metalnessmap_pars_fragment:CE,morphcolor_vertex:xE,morphnormal_vertex:EE,morphtarget_pars_vertex:PE,morphtarget_vertex:TE,normal_fragment_begin:SE,normal_fragment_maps:ME,normal_pars_fragment:RE,normal_pars_vertex:wE,normal_vertex:OE,normalmap_pars_fragment:IE,clearcoat_normal_fragment_begin:AE,clearcoat_normal_fragment_maps:DE,clearcoat_pars_fragment:LE,iridescence_pars_fragment:VE,opaque_fragment:_E,packing:BE,premultiplied_alpha_fragment:NE,project_vertex:kE,dithering_fragment:FE,dithering_pars_fragment:UE,roughnessmap_fragment:zE,roughnessmap_pars_fragment:jE,shadowmap_pars_fragment:HE,shadowmap_pars_vertex:WE,shadowmap_vertex:qE,shadowmask_pars_fragment:GE,skinbase_vertex:QE,skinning_pars_vertex:$E,skinning_vertex:KE,skinnormal_vertex:XE,specularmap_fragment:JE,specularmap_pars_fragment:YE,tonemapping_fragment:ZE,tonemapping_pars_fragment:e0,transmission_fragment:t0,transmission_pars_fragment:n0,uv_pars_fragment:r0,uv_pars_vertex:i0,uv_vertex:o0,worldpos_vertex:s0,background_vert:a0,background_frag:l0,backgroundCube_vert:u0,backgroundCube_frag:c0,cube_vert:d0,cube_frag:f0,depth_vert:p0,depth_frag:h0,distanceRGBA_vert:m0,distanceRGBA_frag:g0,equirect_vert:v0,equirect_frag:y0,linedashed_vert:b0,linedashed_frag:C0,meshbasic_vert:x0,meshbasic_frag:E0,meshlambert_vert:P0,meshlambert_frag:T0,meshmatcap_vert:S0,meshmatcap_frag:M0,meshnormal_vert:R0,meshnormal_frag:w0,meshphong_vert:O0,meshphong_frag:I0,meshphysical_vert:A0,meshphysical_frag:D0,meshtoon_vert:L0,meshtoon_frag:V0,points_vert:_0,points_frag:B0,shadow_vert:N0,shadow_frag:k0,sprite_vert:F0,sprite_frag:U0},Oe={common:{diffuse:{value:new ot(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new at},alphaMap:{value:null},alphaMapTransform:{value:new at},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new at}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new at}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new at}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new at},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new at},normalScale:{value:new lt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new at},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new at}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new at}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new at}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ot(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ot(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new at},alphaTest:{value:0},uvTransform:{value:new at}},sprite:{diffuse:{value:new ot(16777215)},opacity:{value:1},center:{value:new lt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new at},alphaMap:{value:null},alphaMapTransform:{value:new at},alphaTest:{value:0}}},An={basic:{uniforms:$t([Oe.common,Oe.specularmap,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.fog]),vertexShader:it.meshbasic_vert,fragmentShader:it.meshbasic_frag},lambert:{uniforms:$t([Oe.common,Oe.specularmap,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.fog,Oe.lights,{emissive:{value:new ot(0)}}]),vertexShader:it.meshlambert_vert,fragmentShader:it.meshlambert_frag},phong:{uniforms:$t([Oe.common,Oe.specularmap,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.fog,Oe.lights,{emissive:{value:new ot(0)},specular:{value:new ot(1118481)},shininess:{value:30}}]),vertexShader:it.meshphong_vert,fragmentShader:it.meshphong_frag},standard:{uniforms:$t([Oe.common,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.roughnessmap,Oe.metalnessmap,Oe.fog,Oe.lights,{emissive:{value:new ot(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:it.meshphysical_vert,fragmentShader:it.meshphysical_frag},toon:{uniforms:$t([Oe.common,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.gradientmap,Oe.fog,Oe.lights,{emissive:{value:new ot(0)}}]),vertexShader:it.meshtoon_vert,fragmentShader:it.meshtoon_frag},matcap:{uniforms:$t([Oe.common,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.fog,{matcap:{value:null}}]),vertexShader:it.meshmatcap_vert,fragmentShader:it.meshmatcap_frag},points:{uniforms:$t([Oe.points,Oe.fog]),vertexShader:it.points_vert,fragmentShader:it.points_frag},dashed:{uniforms:$t([Oe.common,Oe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:it.linedashed_vert,fragmentShader:it.linedashed_frag},depth:{uniforms:$t([Oe.common,Oe.displacementmap]),vertexShader:it.depth_vert,fragmentShader:it.depth_frag},normal:{uniforms:$t([Oe.common,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,{opacity:{value:1}}]),vertexShader:it.meshnormal_vert,fragmentShader:it.meshnormal_frag},sprite:{uniforms:$t([Oe.sprite,Oe.fog]),vertexShader:it.sprite_vert,fragmentShader:it.sprite_frag},background:{uniforms:{uvTransform:{value:new at},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:it.background_vert,fragmentShader:it.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:it.backgroundCube_vert,fragmentShader:it.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:it.cube_vert,fragmentShader:it.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:it.equirect_vert,fragmentShader:it.equirect_frag},distanceRGBA:{uniforms:$t([Oe.common,Oe.displacementmap,{referencePosition:{value:new me},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:it.distanceRGBA_vert,fragmentShader:it.distanceRGBA_frag},shadow:{uniforms:$t([Oe.lights,Oe.fog,{color:{value:new ot(0)},opacity:{value:1}}]),vertexShader:it.shadow_vert,fragmentShader:it.shadow_frag}};An.physical={uniforms:$t([An.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new at},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new at},clearcoatNormalScale:{value:new lt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new at},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new at},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new at},sheen:{value:0},sheenColor:{value:new ot(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new at},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new at},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new at},transmissionSamplerSize:{value:new lt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new at},attenuationDistance:{value:0},attenuationColor:{value:new ot(0)},specularColor:{value:new ot(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new at},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new at},anisotropyVector:{value:new lt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new at}}]),vertexShader:it.meshphysical_vert,fragmentShader:it.meshphysical_frag};const ls={r:0,b:0,g:0};function z0(s,e,n,a,r,t,d){const C=new ot(0);let M=t===!0?0:1,w,S,x=null,h=0,u=null;function g(i,p){let P=!1,m=p.isScene===!0?p.background:null;m&&m.isTexture&&(m=(p.backgroundBlurriness>0?n:e).get(m)),m===null?f(C,M):m&&m.isColor&&(f(m,1),P=!0);const y=s.xr.getEnvironmentBlendMode();y==="additive"?a.buffers.color.setClear(0,0,0,1,d):y==="alpha-blend"&&a.buffers.color.setClear(0,0,0,0,d),(s.autoClear||P)&&s.clear(s.autoClearColor,s.autoClearDepth,s.autoClearStencil),m&&(m.isCubeTexture||m.mapping===Gs)?(S===void 0&&(S=new Xn(new Po(1,1,1),new Sr({name:"BackgroundCubeMaterial",uniforms:Bi(An.backgroundCube.uniforms),vertexShader:An.backgroundCube.vertexShader,fragmentShader:An.backgroundCube.fragmentShader,side:rn,depthTest:!1,depthWrite:!1,fog:!1})),S.geometry.deleteAttribute("normal"),S.geometry.deleteAttribute("uv"),S.onBeforeRender=function(R,b,c){this.matrixWorld.copyPosition(c.matrixWorld)},Object.defineProperty(S.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(S)),S.material.uniforms.envMap.value=m,S.material.uniforms.flipEnvMap.value=m.isCubeTexture&&m.isRenderTargetTexture===!1?-1:1,S.material.uniforms.backgroundBlurriness.value=p.backgroundBlurriness,S.material.uniforms.backgroundIntensity.value=p.backgroundIntensity,S.material.toneMapped=bt.getTransfer(m.colorSpace)!==xt,(x!==m||h!==m.version||u!==s.toneMapping)&&(S.material.needsUpdate=!0,x=m,h=m.version,u=s.toneMapping),S.layers.enableAll(),i.unshift(S,S.geometry,S.material,0,0,null)):m&&m.isTexture&&(w===void 0&&(w=new Xn(new Xs(2,2),new Sr({name:"BackgroundMaterial",uniforms:Bi(An.background.uniforms),vertexShader:An.background.vertexShader,fragmentShader:An.background.fragmentShader,side:Tr,depthTest:!1,depthWrite:!1,fog:!1})),w.geometry.deleteAttribute("normal"),Object.defineProperty(w.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(w)),w.material.uniforms.t2D.value=m,w.material.uniforms.backgroundIntensity.value=p.backgroundIntensity,w.material.toneMapped=bt.getTransfer(m.colorSpace)!==xt,m.matrixAutoUpdate===!0&&m.updateMatrix(),w.material.uniforms.uvTransform.value.copy(m.matrix),(x!==m||h!==m.version||u!==s.toneMapping)&&(w.material.needsUpdate=!0,x=m,h=m.version,u=s.toneMapping),w.layers.enableAll(),i.unshift(w,w.geometry,w.material,0,0,null))}function f(i,p){i.getRGB(ls,ah(s)),a.buffers.color.setClear(ls.r,ls.g,ls.b,p,d)}return{getClearColor:function(){return C},setClearColor:function(i,p=1){C.set(i),M=p,f(C,M)},getClearAlpha:function(){return M},setClearAlpha:function(i){M=i,f(C,M)},render:g}}function j0(s,e,n,a){const r=s.getParameter(s.MAX_VERTEX_ATTRIBS),t=a.isWebGL2?null:e.get("OES_vertex_array_object"),d=a.isWebGL2||t!==null,C={},M=i(null);let w=M,S=!1;function x(o,v,T,L,V){let _=!1;if(d){const B=f(L,T,v);w!==B&&(w=B,u(w.object)),_=p(o,L,T,V),_&&P(o,L,T,V)}else{const B=v.wireframe===!0;(w.geometry!==L.id||w.program!==T.id||w.wireframe!==B)&&(w.geometry=L.id,w.program=T.id,w.wireframe=B,_=!0)}V!==null&&n.update(V,s.ELEMENT_ARRAY_BUFFER),(_||S)&&(S=!1,E(o,v,T,L),V!==null&&s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,n.get(V).buffer))}function h(){return a.isWebGL2?s.createVertexArray():t.createVertexArrayOES()}function u(o){return a.isWebGL2?s.bindVertexArray(o):t.bindVertexArrayOES(o)}function g(o){return a.isWebGL2?s.deleteVertexArray(o):t.deleteVertexArrayOES(o)}function f(o,v,T){const L=T.wireframe===!0;let V=C[o.id];V===void 0&&(V={},C[o.id]=V);let _=V[v.id];_===void 0&&(_={},V[v.id]=_);let B=_[L];return B===void 0&&(B=i(h()),_[L]=B),B}function i(o){const v=[],T=[],L=[];for(let V=0;V<r;V++)v[V]=0,T[V]=0,L[V]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:v,enabledAttributes:T,attributeDivisors:L,object:o,attributes:{},index:null}}function p(o,v,T,L){const V=w.attributes,_=v.attributes;let B=0;const k=T.getAttributes();for(const U in k)if(k[U].location>=0){const q=V[U];let Z=_[U];if(Z===void 0&&(U==="instanceMatrix"&&o.instanceMatrix&&(Z=o.instanceMatrix),U==="instanceColor"&&o.instanceColor&&(Z=o.instanceColor)),q===void 0||q.attribute!==Z||Z&&q.data!==Z.data)return!0;B++}return w.attributesNum!==B||w.index!==L}function P(o,v,T,L){const V={},_=v.attributes;let B=0;const k=T.getAttributes();for(const U in k)if(k[U].location>=0){let q=_[U];q===void 0&&(U==="instanceMatrix"&&o.instanceMatrix&&(q=o.instanceMatrix),U==="instanceColor"&&o.instanceColor&&(q=o.instanceColor));const Z={};Z.attribute=q,q&&q.data&&(Z.data=q.data),V[U]=Z,B++}w.attributes=V,w.attributesNum=B,w.index=L}function m(){const o=w.newAttributes;for(let v=0,T=o.length;v<T;v++)o[v]=0}function y(o){R(o,0)}function R(o,v){const T=w.newAttributes,L=w.enabledAttributes,V=w.attributeDivisors;T[o]=1,L[o]===0&&(s.enableVertexAttribArray(o),L[o]=1),V[o]!==v&&((a.isWebGL2?s:e.get("ANGLE_instanced_arrays"))[a.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](o,v),V[o]=v)}function b(){const o=w.newAttributes,v=w.enabledAttributes;for(let T=0,L=v.length;T<L;T++)v[T]!==o[T]&&(s.disableVertexAttribArray(T),v[T]=0)}function c(o,v,T,L,V,_,B){B===!0?s.vertexAttribIPointer(o,v,T,V,_):s.vertexAttribPointer(o,v,T,L,V,_)}function E(o,v,T,L){if(a.isWebGL2===!1&&(o.isInstancedMesh||L.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;m();const V=L.attributes,_=T.getAttributes(),B=v.defaultAttributeValues;for(const k in _){const U=_[k];if(U.location>=0){let K=V[k];if(K===void 0&&(k==="instanceMatrix"&&o.instanceMatrix&&(K=o.instanceMatrix),k==="instanceColor"&&o.instanceColor&&(K=o.instanceColor)),K!==void 0){const q=K.normalized,Z=K.itemSize,j=n.get(K);if(j===void 0)continue;const G=j.buffer,X=j.type,ne=j.bytesPerElement,le=a.isWebGL2===!0&&(X===s.INT||X===s.UNSIGNED_INT||K.gpuType===zp);if(K.isInterleavedBufferAttribute){const ie=K.data,Y=ie.stride,Q=K.offset;if(ie.isInstancedInterleavedBuffer){for(let J=0;J<U.locationSize;J++)R(U.location+J,ie.meshPerAttribute);o.isInstancedMesh!==!0&&L._maxInstanceCount===void 0&&(L._maxInstanceCount=ie.meshPerAttribute*ie.count)}else for(let J=0;J<U.locationSize;J++)y(U.location+J);s.bindBuffer(s.ARRAY_BUFFER,G);for(let J=0;J<U.locationSize;J++)c(U.location+J,Z/U.locationSize,X,q,Y*ne,(Q+Z/U.locationSize*J)*ne,le)}else{if(K.isInstancedBufferAttribute){for(let ie=0;ie<U.locationSize;ie++)R(U.location+ie,K.meshPerAttribute);o.isInstancedMesh!==!0&&L._maxInstanceCount===void 0&&(L._maxInstanceCount=K.meshPerAttribute*K.count)}else for(let ie=0;ie<U.locationSize;ie++)y(U.location+ie);s.bindBuffer(s.ARRAY_BUFFER,G);for(let ie=0;ie<U.locationSize;ie++)c(U.location+ie,Z/U.locationSize,X,q,Z*ne,Z/U.locationSize*ie*ne,le)}}else if(B!==void 0){const q=B[k];if(q!==void 0)switch(q.length){case 2:s.vertexAttrib2fv(U.location,q);break;case 3:s.vertexAttrib3fv(U.location,q);break;case 4:s.vertexAttrib4fv(U.location,q);break;default:s.vertexAttrib1fv(U.location,q)}}}}b()}function I(){O();for(const o in C){const v=C[o];for(const T in v){const L=v[T];for(const V in L)g(L[V].object),delete L[V];delete v[T]}delete C[o]}}function A(o){if(C[o.id]===void 0)return;const v=C[o.id];for(const T in v){const L=v[T];for(const V in L)g(L[V].object),delete L[V];delete v[T]}delete C[o.id]}function D(o){for(const v in C){const T=C[v];if(T[o.id]===void 0)continue;const L=T[o.id];for(const V in L)g(L[V].object),delete L[V];delete T[o.id]}}function O(){l(),S=!0,w!==M&&(w=M,u(w.object))}function l(){M.geometry=null,M.program=null,M.wireframe=!1}return{setup:x,reset:O,resetDefaultState:l,dispose:I,releaseStatesOfGeometry:A,releaseStatesOfProgram:D,initAttributes:m,enableAttribute:y,disableUnusedAttributes:b}}function H0(s,e,n,a){const r=a.isWebGL2;let t;function d(S){t=S}function C(S,x){s.drawArrays(t,S,x),n.update(x,t,1)}function M(S,x,h){if(h===0)return;let u,g;if(r)u=s,g="drawArraysInstanced";else if(u=e.get("ANGLE_instanced_arrays"),g="drawArraysInstancedANGLE",u===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}u[g](t,S,x,h),n.update(x,t,h)}function w(S,x,h){if(h===0)return;const u=e.get("WEBGL_multi_draw");if(u===null)for(let g=0;g<h;g++)this.render(S[g],x[g]);else{u.multiDrawArraysWEBGL(t,S,0,x,0,h);let g=0;for(let f=0;f<h;f++)g+=x[f];n.update(g,t,1)}}this.setMode=d,this.render=C,this.renderInstances=M,this.renderMultiDraw=w}function W0(s,e,n){let a;function r(){if(a!==void 0)return a;if(e.has("EXT_texture_filter_anisotropic")===!0){const c=e.get("EXT_texture_filter_anisotropic");a=s.getParameter(c.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else a=0;return a}function t(c){if(c==="highp"){if(s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.HIGH_FLOAT).precision>0&&s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_FLOAT).precision>0)return"highp";c="mediump"}return c==="mediump"&&s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.MEDIUM_FLOAT).precision>0&&s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const d=typeof WebGL2RenderingContext<"u"&&s.constructor.name==="WebGL2RenderingContext";let C=n.precision!==void 0?n.precision:"highp";const M=t(C);M!==C&&(console.warn("THREE.WebGLRenderer:",C,"not supported, using",M,"instead."),C=M);const w=d||e.has("WEBGL_draw_buffers"),S=n.logarithmicDepthBuffer===!0,x=s.getParameter(s.MAX_TEXTURE_IMAGE_UNITS),h=s.getParameter(s.MAX_VERTEX_TEXTURE_IMAGE_UNITS),u=s.getParameter(s.MAX_TEXTURE_SIZE),g=s.getParameter(s.MAX_CUBE_MAP_TEXTURE_SIZE),f=s.getParameter(s.MAX_VERTEX_ATTRIBS),i=s.getParameter(s.MAX_VERTEX_UNIFORM_VECTORS),p=s.getParameter(s.MAX_VARYING_VECTORS),P=s.getParameter(s.MAX_FRAGMENT_UNIFORM_VECTORS),m=h>0,y=d||e.has("OES_texture_float"),R=m&&y,b=d?s.getParameter(s.MAX_SAMPLES):0;return{isWebGL2:d,drawBuffers:w,getMaxAnisotropy:r,getMaxPrecision:t,precision:C,logarithmicDepthBuffer:S,maxTextures:x,maxVertexTextures:h,maxTextureSize:u,maxCubemapSize:g,maxAttributes:f,maxVertexUniforms:i,maxVaryings:p,maxFragmentUniforms:P,vertexTextures:m,floatFragmentTextures:y,floatVertexTextures:R,maxSamples:b}}function q0(s){const e=this;let n=null,a=0,r=!1,t=!1;const d=new Br,C=new at,M={value:null,needsUpdate:!1};this.uniform=M,this.numPlanes=0,this.numIntersection=0,this.init=function(x,h){const u=x.length!==0||h||a!==0||r;return r=h,a=x.length,u},this.beginShadows=function(){t=!0,S(null)},this.endShadows=function(){t=!1},this.setGlobalState=function(x,h){n=S(x,h,0)},this.setState=function(x,h,u){const g=x.clippingPlanes,f=x.clipIntersection,i=x.clipShadows,p=s.get(x);if(!r||g===null||g.length===0||t&&!i)t?S(null):w();else{const P=t?0:a,m=P*4;let y=p.clippingState||null;M.value=y,y=S(g,h,m,u);for(let R=0;R!==m;++R)y[R]=n[R];p.clippingState=y,this.numIntersection=f?this.numPlanes:0,this.numPlanes+=P}};function w(){M.value!==n&&(M.value=n,M.needsUpdate=a>0),e.numPlanes=a,e.numIntersection=0}function S(x,h,u,g){const f=x!==null?x.length:0;let i=null;if(f!==0){if(i=M.value,g!==!0||i===null){const p=u+f*4,P=h.matrixWorldInverse;C.getNormalMatrix(P),(i===null||i.length<p)&&(i=new Float32Array(p));for(let m=0,y=u;m!==f;++m,y+=4)d.copy(x[m]).applyMatrix4(P,C),d.normal.toArray(i,y),i[y+3]=d.constant}M.value=i,M.needsUpdate=!0}return e.numPlanes=f,e.numIntersection=0,i}}function G0(s){let e=new WeakMap;function n(d,C){return C===El?d.mapping=Li:C===Pl&&(d.mapping=Vi),d}function a(d){if(d&&d.isTexture){const C=d.mapping;if(C===El||C===Pl)if(e.has(d)){const M=e.get(d).texture;return n(M,d.mapping)}else{const M=d.image;if(M&&M.height>0){const w=new ix(M.height);return w.fromEquirectangularTexture(s,d),e.set(d,w),d.addEventListener("dispose",r),n(w.texture,d.mapping)}else return null}}return d}function r(d){const C=d.target;C.removeEventListener("dispose",r);const M=e.get(C);M!==void 0&&(e.delete(C),M.dispose())}function t(){e=new WeakMap}return{get:a,dispose:t}}class ch extends iu{constructor(e=-1,n=1,a=1,r=-1,t=.1,d=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=a,this.bottom=r,this.near=t,this.far=d,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,a,r,t,d){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=a,this.view.offsetY=r,this.view.width=t,this.view.height=d,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),a=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let t=a-e,d=a+e,C=r+n,M=r-n;if(this.view!==null&&this.view.enabled){const w=(this.right-this.left)/this.view.fullWidth/this.zoom,S=(this.top-this.bottom)/this.view.fullHeight/this.zoom;t+=w*this.view.offsetX,d=t+w*this.view.width,C-=S*this.view.offsetY,M=C-S*this.view.height}this.projectionMatrix.makeOrthographic(t,d,C,M,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const bi=4,Fd=[.125,.215,.35,.446,.526,.582],Ur=20,qa=new ch,Ud=new ot;let Ga=null,Qa=0,$a=0;const Nr=(1+Math.sqrt(5))/2,gi=1/Nr,zd=[new me(1,1,1),new me(-1,1,1),new me(1,1,-1),new me(-1,1,-1),new me(0,Nr,gi),new me(0,Nr,-gi),new me(gi,0,Nr),new me(-gi,0,Nr),new me(Nr,gi,0),new me(-Nr,gi,0)];class jd{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,a=.1,r=100){Ga=this._renderer.getRenderTarget(),Qa=this._renderer.getActiveCubeFace(),$a=this._renderer.getActiveMipmapLevel(),this._setSize(256);const t=this._allocateTargets();return t.depthBuffer=!0,this._sceneToCubeUV(e,a,r,t),n>0&&this._blur(t,0,0,n),this._applyPMREM(t),this._cleanup(t),t}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=qd(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Wd(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Ga,Qa,$a),e.scissorTest=!1,us(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Li||e.mapping===Vi?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Ga=this._renderer.getRenderTarget(),Qa=this._renderer.getActiveCubeFace(),$a=this._renderer.getActiveMipmapLevel();const a=n||this._allocateTargets();return this._textureToCubeUV(e,a),this._applyPMREM(a),this._cleanup(a),a}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,a={magFilter:nn,minFilter:nn,generateMipmaps:!1,type:yo,format:Pn,colorSpace:Zn,depthBuffer:!1},r=Hd(e,n,a);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Hd(e,n,a);const{_lodMax:t}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Q0(t)),this._blurMaterial=$0(t,e,n)}return r}_compileMaterial(e){const n=new Xn(this._lodPlanes[0],e);this._renderer.compile(n,qa)}_sceneToCubeUV(e,n,a,r){const C=new pn(90,1,n,a),M=[1,-1,1,1,1,1],w=[1,1,1,-1,-1,-1],S=this._renderer,x=S.autoClear,h=S.toneMapping;S.getClearColor(Ud),S.toneMapping=xr,S.autoClear=!1;const u=new ih({name:"PMREM.Background",side:rn,depthWrite:!1,depthTest:!1}),g=new Xn(new Po,u);let f=!1;const i=e.background;i?i.isColor&&(u.color.copy(i),e.background=null,f=!0):(u.color.copy(Ud),f=!0);for(let p=0;p<6;p++){const P=p%3;P===0?(C.up.set(0,M[p],0),C.lookAt(w[p],0,0)):P===1?(C.up.set(0,0,M[p]),C.lookAt(0,w[p],0)):(C.up.set(0,M[p],0),C.lookAt(0,0,w[p]));const m=this._cubeSize;us(r,P*m,p>2?m:0,m,m),S.setRenderTarget(r),f&&S.render(g,C),S.render(e,C)}g.geometry.dispose(),g.material.dispose(),S.toneMapping=h,S.autoClear=x,e.background=i}_textureToCubeUV(e,n){const a=this._renderer,r=e.mapping===Li||e.mapping===Vi;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=qd()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Wd());const t=r?this._cubemapMaterial:this._equirectMaterial,d=new Xn(this._lodPlanes[0],t),C=t.uniforms;C.envMap.value=e;const M=this._cubeSize;us(n,0,0,3*M,2*M),a.setRenderTarget(n),a.render(d,qa)}_applyPMREM(e){const n=this._renderer,a=n.autoClear;n.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const t=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),d=zd[(r-1)%zd.length];this._blur(e,r-1,r,t,d)}n.autoClear=a}_blur(e,n,a,r,t){const d=this._pingPongRenderTarget;this._halfBlur(e,d,n,a,r,"latitudinal",t),this._halfBlur(d,e,a,a,r,"longitudinal",t)}_halfBlur(e,n,a,r,t,d,C){const M=this._renderer,w=this._blurMaterial;d!=="latitudinal"&&d!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const S=3,x=new Xn(this._lodPlanes[r],w),h=w.uniforms,u=this._sizeLods[a]-1,g=isFinite(t)?Math.PI/(2*u):2*Math.PI/(2*Ur-1),f=t/g,i=isFinite(t)?1+Math.floor(S*f):Ur;i>Ur&&console.warn(`sigmaRadians, ${t}, is too large and will clip, as it requested ${i} samples when the maximum is set to ${Ur}`);const p=[];let P=0;for(let c=0;c<Ur;++c){const E=c/f,I=Math.exp(-E*E/2);p.push(I),c===0?P+=I:c<i&&(P+=2*I)}for(let c=0;c<p.length;c++)p[c]=p[c]/P;h.envMap.value=e.texture,h.samples.value=i,h.weights.value=p,h.latitudinal.value=d==="latitudinal",C&&(h.poleAxis.value=C);const{_lodMax:m}=this;h.dTheta.value=g,h.mipInt.value=m-a;const y=this._sizeLods[r],R=3*y*(r>m-bi?r-m+bi:0),b=4*(this._cubeSize-y);us(n,R,b,3*y,2*y),M.setRenderTarget(n),M.render(x,qa)}}function Q0(s){const e=[],n=[],a=[];let r=s;const t=s-bi+1+Fd.length;for(let d=0;d<t;d++){const C=Math.pow(2,r);n.push(C);let M=1/C;d>s-bi?M=Fd[d-s+bi-1]:d===0&&(M=0),a.push(M);const w=1/(C-2),S=-w,x=1+w,h=[S,S,x,S,x,x,S,S,x,x,S,x],u=6,g=6,f=3,i=2,p=1,P=new Float32Array(f*g*u),m=new Float32Array(i*g*u),y=new Float32Array(p*g*u);for(let b=0;b<u;b++){const c=b%3*2/3-1,E=b>2?0:-1,I=[c,E,0,c+2/3,E,0,c+2/3,E+1,0,c,E,0,c+2/3,E+1,0,c,E+1,0];P.set(I,f*g*b),m.set(h,i*g*b);const A=[b,b,b,b,b,b];y.set(A,p*g*b)}const R=new tr;R.setAttribute("position",new _n(P,f)),R.setAttribute("uv",new _n(m,i)),R.setAttribute("faceIndex",new _n(y,p)),e.push(R),r>bi&&r--}return{lodPlanes:e,sizeLods:n,sigmas:a}}function Hd(s,e,n){const a=new Qr(s,e,n);return a.texture.mapping=Gs,a.texture.name="PMREM.cubeUv",a.scissorTest=!0,a}function us(s,e,n,a,r){s.viewport.set(e,n,a,r),s.scissor.set(e,n,a,r)}function $0(s,e,n){const a=new Float32Array(Ur),r=new me(0,1,0);return new Sr({name:"SphericalGaussianBlur",defines:{n:Ur,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${s}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:a},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:su(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Cr,depthTest:!1,depthWrite:!1})}function Wd(){return new Sr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:su(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Cr,depthTest:!1,depthWrite:!1})}function qd(){return new Sr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:su(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Cr,depthTest:!1,depthWrite:!1})}function su(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function K0(s){let e=new WeakMap,n=null;function a(C){if(C&&C.isTexture){const M=C.mapping,w=M===El||M===Pl,S=M===Li||M===Vi;if(w||S)if(C.isRenderTargetTexture&&C.needsPMREMUpdate===!0){C.needsPMREMUpdate=!1;let x=e.get(C);return n===null&&(n=new jd(s)),x=w?n.fromEquirectangular(C,x):n.fromCubemap(C,x),e.set(C,x),x.texture}else{if(e.has(C))return e.get(C).texture;{const x=C.image;if(w&&x&&x.height>0||S&&x&&r(x)){n===null&&(n=new jd(s));const h=w?n.fromEquirectangular(C):n.fromCubemap(C);return e.set(C,h),C.addEventListener("dispose",t),h.texture}else return null}}}return C}function r(C){let M=0;const w=6;for(let S=0;S<w;S++)C[S]!==void 0&&M++;return M===w}function t(C){const M=C.target;M.removeEventListener("dispose",t);const w=e.get(M);w!==void 0&&(e.delete(M),w.dispose())}function d(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:a,dispose:d}}function X0(s){const e={};function n(a){if(e[a]!==void 0)return e[a];let r;switch(a){case"WEBGL_depth_texture":r=s.getExtension("WEBGL_depth_texture")||s.getExtension("MOZ_WEBGL_depth_texture")||s.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=s.getExtension("EXT_texture_filter_anisotropic")||s.getExtension("MOZ_EXT_texture_filter_anisotropic")||s.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=s.getExtension("WEBGL_compressed_texture_s3tc")||s.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||s.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=s.getExtension("WEBGL_compressed_texture_pvrtc")||s.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=s.getExtension(a)}return e[a]=r,r}return{has:function(a){return n(a)!==null},init:function(a){a.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(a){const r=n(a);return r===null&&console.warn("THREE.WebGLRenderer: "+a+" extension not supported."),r}}}function J0(s,e,n,a){const r={},t=new WeakMap;function d(x){const h=x.target;h.index!==null&&e.remove(h.index);for(const g in h.attributes)e.remove(h.attributes[g]);for(const g in h.morphAttributes){const f=h.morphAttributes[g];for(let i=0,p=f.length;i<p;i++)e.remove(f[i])}h.removeEventListener("dispose",d),delete r[h.id];const u=t.get(h);u&&(e.remove(u),t.delete(h)),a.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function C(x,h){return r[h.id]===!0||(h.addEventListener("dispose",d),r[h.id]=!0,n.memory.geometries++),h}function M(x){const h=x.attributes;for(const g in h)e.update(h[g],s.ARRAY_BUFFER);const u=x.morphAttributes;for(const g in u){const f=u[g];for(let i=0,p=f.length;i<p;i++)e.update(f[i],s.ARRAY_BUFFER)}}function w(x){const h=[],u=x.index,g=x.attributes.position;let f=0;if(u!==null){const P=u.array;f=u.version;for(let m=0,y=P.length;m<y;m+=3){const R=P[m+0],b=P[m+1],c=P[m+2];h.push(R,b,b,c,c,R)}}else if(g!==void 0){const P=g.array;f=g.version;for(let m=0,y=P.length/3-1;m<y;m+=3){const R=m+0,b=m+1,c=m+2;h.push(R,b,b,c,c,R)}}else return;const i=new(Jp(h)?sh:oh)(h,1);i.version=f;const p=t.get(x);p&&e.remove(p),t.set(x,i)}function S(x){const h=t.get(x);if(h){const u=x.index;u!==null&&h.version<u.version&&w(x)}else w(x);return t.get(x)}return{get:C,update:M,getWireframeAttribute:S}}function Y0(s,e,n,a){const r=a.isWebGL2;let t;function d(u){t=u}let C,M;function w(u){C=u.type,M=u.bytesPerElement}function S(u,g){s.drawElements(t,g,C,u*M),n.update(g,t,1)}function x(u,g,f){if(f===0)return;let i,p;if(r)i=s,p="drawElementsInstanced";else if(i=e.get("ANGLE_instanced_arrays"),p="drawElementsInstancedANGLE",i===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}i[p](t,g,C,u*M,f),n.update(g,t,f)}function h(u,g,f){if(f===0)return;const i=e.get("WEBGL_multi_draw");if(i===null)for(let p=0;p<f;p++)this.render(u[p]/M,g[p]);else{i.multiDrawElementsWEBGL(t,g,0,C,u,0,f);let p=0;for(let P=0;P<f;P++)p+=g[P];n.update(p,t,1)}}this.setMode=d,this.setIndex=w,this.render=S,this.renderInstances=x,this.renderMultiDraw=h}function Z0(s){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function a(t,d,C){switch(n.calls++,d){case s.TRIANGLES:n.triangles+=C*(t/3);break;case s.LINES:n.lines+=C*(t/2);break;case s.LINE_STRIP:n.lines+=C*(t-1);break;case s.LINE_LOOP:n.lines+=C*t;break;case s.POINTS:n.points+=C*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",d);break}}function r(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:a}}function eP(s,e){return s[0]-e[0]}function tP(s,e){return Math.abs(e[1])-Math.abs(s[1])}function nP(s,e,n){const a={},r=new Float32Array(8),t=new WeakMap,d=new Tt,C=[];for(let w=0;w<8;w++)C[w]=[w,0];function M(w,S,x){const h=w.morphTargetInfluences;if(e.isWebGL2===!0){const u=S.morphAttributes.position||S.morphAttributes.normal||S.morphAttributes.color,g=u!==void 0?u.length:0;let f=t.get(S);if(f===void 0||f.count!==g){let o=function(){O.dispose(),t.delete(S),S.removeEventListener("dispose",o)};f!==void 0&&f.texture.dispose();const P=S.morphAttributes.position!==void 0,m=S.morphAttributes.normal!==void 0,y=S.morphAttributes.color!==void 0,R=S.morphAttributes.position||[],b=S.morphAttributes.normal||[],c=S.morphAttributes.color||[];let E=0;P===!0&&(E=1),m===!0&&(E=2),y===!0&&(E=3);let I=S.attributes.position.count*E,A=1;I>e.maxTextureSize&&(A=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const D=new Float32Array(I*A*4*g),O=new eh(D,I,A,g);O.type=$n,O.needsUpdate=!0;const l=E*4;for(let v=0;v<g;v++){const T=R[v],L=b[v],V=c[v],_=I*A*4*v;for(let B=0;B<T.count;B++){const k=B*l;P===!0&&(d.fromBufferAttribute(T,B),D[_+k+0]=d.x,D[_+k+1]=d.y,D[_+k+2]=d.z,D[_+k+3]=0),m===!0&&(d.fromBufferAttribute(L,B),D[_+k+4]=d.x,D[_+k+5]=d.y,D[_+k+6]=d.z,D[_+k+7]=0),y===!0&&(d.fromBufferAttribute(V,B),D[_+k+8]=d.x,D[_+k+9]=d.y,D[_+k+10]=d.z,D[_+k+11]=V.itemSize===4?d.w:1)}}f={count:g,texture:O,size:new lt(I,A)},t.set(S,f),S.addEventListener("dispose",o)}let i=0;for(let P=0;P<h.length;P++)i+=h[P];const p=S.morphTargetsRelative?1:1-i;x.getUniforms().setValue(s,"morphTargetBaseInfluence",p),x.getUniforms().setValue(s,"morphTargetInfluences",h),x.getUniforms().setValue(s,"morphTargetsTexture",f.texture,n),x.getUniforms().setValue(s,"morphTargetsTextureSize",f.size)}else{const u=h===void 0?0:h.length;let g=a[S.id];if(g===void 0||g.length!==u){g=[];for(let m=0;m<u;m++)g[m]=[m,0];a[S.id]=g}for(let m=0;m<u;m++){const y=g[m];y[0]=m,y[1]=h[m]}g.sort(tP);for(let m=0;m<8;m++)m<u&&g[m][1]?(C[m][0]=g[m][0],C[m][1]=g[m][1]):(C[m][0]=Number.MAX_SAFE_INTEGER,C[m][1]=0);C.sort(eP);const f=S.morphAttributes.position,i=S.morphAttributes.normal;let p=0;for(let m=0;m<8;m++){const y=C[m],R=y[0],b=y[1];R!==Number.MAX_SAFE_INTEGER&&b?(f&&S.getAttribute("morphTarget"+m)!==f[R]&&S.setAttribute("morphTarget"+m,f[R]),i&&S.getAttribute("morphNormal"+m)!==i[R]&&S.setAttribute("morphNormal"+m,i[R]),r[m]=b,p+=b):(f&&S.hasAttribute("morphTarget"+m)===!0&&S.deleteAttribute("morphTarget"+m),i&&S.hasAttribute("morphNormal"+m)===!0&&S.deleteAttribute("morphNormal"+m),r[m]=0)}const P=S.morphTargetsRelative?1:1-p;x.getUniforms().setValue(s,"morphTargetBaseInfluence",P),x.getUniforms().setValue(s,"morphTargetInfluences",r)}}return{update:M}}function rP(s,e,n,a){let r=new WeakMap;function t(M){const w=a.render.frame,S=M.geometry,x=e.get(M,S);if(r.get(x)!==w&&(e.update(x),r.set(x,w)),M.isInstancedMesh&&(M.hasEventListener("dispose",C)===!1&&M.addEventListener("dispose",C),r.get(M)!==w&&(n.update(M.instanceMatrix,s.ARRAY_BUFFER),M.instanceColor!==null&&n.update(M.instanceColor,s.ARRAY_BUFFER),r.set(M,w))),M.isSkinnedMesh){const h=M.skeleton;r.get(h)!==w&&(h.update(),r.set(h,w))}return x}function d(){r=new WeakMap}function C(M){const w=M.target;w.removeEventListener("dispose",C),n.remove(w.instanceMatrix),w.instanceColor!==null&&n.remove(w.instanceColor)}return{update:t,dispose:d}}class dh extends on{constructor(e,n,a,r,t,d,C,M,w,S){if(S=S!==void 0?S:qr,S!==qr&&S!==_i)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");a===void 0&&S===qr&&(a=gr),a===void 0&&S===_i&&(a=Wr),super(null,r,t,d,C,M,S,a,w),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=C!==void 0?C:Xt,this.minFilter=M!==void 0?M:Xt,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const fh=new on,ph=new dh(1,1);ph.compareFunction=Xp;const hh=new eh,mh=new zC,gh=new lh,Gd=[],Qd=[],$d=new Float32Array(16),Kd=new Float32Array(9),Xd=new Float32Array(4);function Ui(s,e,n){const a=s[0];if(a<=0||a>0)return s;const r=e*n;let t=Gd[r];if(t===void 0&&(t=new Float32Array(r),Gd[r]=t),e!==0){a.toArray(t,0);for(let d=1,C=0;d!==e;++d)C+=n,s[d].toArray(t,C)}return t}function Lt(s,e){if(s.length!==e.length)return!1;for(let n=0,a=s.length;n<a;n++)if(s[n]!==e[n])return!1;return!0}function Vt(s,e){for(let n=0,a=e.length;n<a;n++)s[n]=e[n]}function Js(s,e){let n=Qd[e];n===void 0&&(n=new Int32Array(e),Qd[e]=n);for(let a=0;a!==e;++a)n[a]=s.allocateTextureUnit();return n}function iP(s,e){const n=this.cache;n[0]!==e&&(s.uniform1f(this.addr,e),n[0]=e)}function oP(s,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(s.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Lt(n,e))return;s.uniform2fv(this.addr,e),Vt(n,e)}}function sP(s,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(s.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(s.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Lt(n,e))return;s.uniform3fv(this.addr,e),Vt(n,e)}}function aP(s,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(s.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Lt(n,e))return;s.uniform4fv(this.addr,e),Vt(n,e)}}function lP(s,e){const n=this.cache,a=e.elements;if(a===void 0){if(Lt(n,e))return;s.uniformMatrix2fv(this.addr,!1,e),Vt(n,e)}else{if(Lt(n,a))return;Xd.set(a),s.uniformMatrix2fv(this.addr,!1,Xd),Vt(n,a)}}function uP(s,e){const n=this.cache,a=e.elements;if(a===void 0){if(Lt(n,e))return;s.uniformMatrix3fv(this.addr,!1,e),Vt(n,e)}else{if(Lt(n,a))return;Kd.set(a),s.uniformMatrix3fv(this.addr,!1,Kd),Vt(n,a)}}function cP(s,e){const n=this.cache,a=e.elements;if(a===void 0){if(Lt(n,e))return;s.uniformMatrix4fv(this.addr,!1,e),Vt(n,e)}else{if(Lt(n,a))return;$d.set(a),s.uniformMatrix4fv(this.addr,!1,$d),Vt(n,a)}}function dP(s,e){const n=this.cache;n[0]!==e&&(s.uniform1i(this.addr,e),n[0]=e)}function fP(s,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(s.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Lt(n,e))return;s.uniform2iv(this.addr,e),Vt(n,e)}}function pP(s,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(s.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Lt(n,e))return;s.uniform3iv(this.addr,e),Vt(n,e)}}function hP(s,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(s.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Lt(n,e))return;s.uniform4iv(this.addr,e),Vt(n,e)}}function mP(s,e){const n=this.cache;n[0]!==e&&(s.uniform1ui(this.addr,e),n[0]=e)}function gP(s,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(s.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Lt(n,e))return;s.uniform2uiv(this.addr,e),Vt(n,e)}}function vP(s,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(s.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Lt(n,e))return;s.uniform3uiv(this.addr,e),Vt(n,e)}}function yP(s,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(s.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Lt(n,e))return;s.uniform4uiv(this.addr,e),Vt(n,e)}}function bP(s,e,n){const a=this.cache,r=n.allocateTextureUnit();a[0]!==r&&(s.uniform1i(this.addr,r),a[0]=r);const t=this.type===s.SAMPLER_2D_SHADOW?ph:fh;n.setTexture2D(e||t,r)}function CP(s,e,n){const a=this.cache,r=n.allocateTextureUnit();a[0]!==r&&(s.uniform1i(this.addr,r),a[0]=r),n.setTexture3D(e||mh,r)}function xP(s,e,n){const a=this.cache,r=n.allocateTextureUnit();a[0]!==r&&(s.uniform1i(this.addr,r),a[0]=r),n.setTextureCube(e||gh,r)}function EP(s,e,n){const a=this.cache,r=n.allocateTextureUnit();a[0]!==r&&(s.uniform1i(this.addr,r),a[0]=r),n.setTexture2DArray(e||hh,r)}function PP(s){switch(s){case 5126:return iP;case 35664:return oP;case 35665:return sP;case 35666:return aP;case 35674:return lP;case 35675:return uP;case 35676:return cP;case 5124:case 35670:return dP;case 35667:case 35671:return fP;case 35668:case 35672:return pP;case 35669:case 35673:return hP;case 5125:return mP;case 36294:return gP;case 36295:return vP;case 36296:return yP;case 35678:case 36198:case 36298:case 36306:case 35682:return bP;case 35679:case 36299:case 36307:return CP;case 35680:case 36300:case 36308:case 36293:return xP;case 36289:case 36303:case 36311:case 36292:return EP}}function TP(s,e){s.uniform1fv(this.addr,e)}function SP(s,e){const n=Ui(e,this.size,2);s.uniform2fv(this.addr,n)}function MP(s,e){const n=Ui(e,this.size,3);s.uniform3fv(this.addr,n)}function RP(s,e){const n=Ui(e,this.size,4);s.uniform4fv(this.addr,n)}function wP(s,e){const n=Ui(e,this.size,4);s.uniformMatrix2fv(this.addr,!1,n)}function OP(s,e){const n=Ui(e,this.size,9);s.uniformMatrix3fv(this.addr,!1,n)}function IP(s,e){const n=Ui(e,this.size,16);s.uniformMatrix4fv(this.addr,!1,n)}function AP(s,e){s.uniform1iv(this.addr,e)}function DP(s,e){s.uniform2iv(this.addr,e)}function LP(s,e){s.uniform3iv(this.addr,e)}function VP(s,e){s.uniform4iv(this.addr,e)}function _P(s,e){s.uniform1uiv(this.addr,e)}function BP(s,e){s.uniform2uiv(this.addr,e)}function NP(s,e){s.uniform3uiv(this.addr,e)}function kP(s,e){s.uniform4uiv(this.addr,e)}function FP(s,e,n){const a=this.cache,r=e.length,t=Js(n,r);Lt(a,t)||(s.uniform1iv(this.addr,t),Vt(a,t));for(let d=0;d!==r;++d)n.setTexture2D(e[d]||fh,t[d])}function UP(s,e,n){const a=this.cache,r=e.length,t=Js(n,r);Lt(a,t)||(s.uniform1iv(this.addr,t),Vt(a,t));for(let d=0;d!==r;++d)n.setTexture3D(e[d]||mh,t[d])}function zP(s,e,n){const a=this.cache,r=e.length,t=Js(n,r);Lt(a,t)||(s.uniform1iv(this.addr,t),Vt(a,t));for(let d=0;d!==r;++d)n.setTextureCube(e[d]||gh,t[d])}function jP(s,e,n){const a=this.cache,r=e.length,t=Js(n,r);Lt(a,t)||(s.uniform1iv(this.addr,t),Vt(a,t));for(let d=0;d!==r;++d)n.setTexture2DArray(e[d]||hh,t[d])}function HP(s){switch(s){case 5126:return TP;case 35664:return SP;case 35665:return MP;case 35666:return RP;case 35674:return wP;case 35675:return OP;case 35676:return IP;case 5124:case 35670:return AP;case 35667:case 35671:return DP;case 35668:case 35672:return LP;case 35669:case 35673:return VP;case 5125:return _P;case 36294:return BP;case 36295:return NP;case 36296:return kP;case 35678:case 36198:case 36298:case 36306:case 35682:return FP;case 35679:case 36299:case 36307:return UP;case 35680:case 36300:case 36308:case 36293:return zP;case 36289:case 36303:case 36311:case 36292:return jP}}class WP{constructor(e,n,a){this.id=e,this.addr=a,this.cache=[],this.type=n.type,this.setValue=PP(n.type)}}class qP{constructor(e,n,a){this.id=e,this.addr=a,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=HP(n.type)}}class GP{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,a){const r=this.seq;for(let t=0,d=r.length;t!==d;++t){const C=r[t];C.setValue(e,n[C.id],a)}}}const Ka=/(\w+)(\])?(\[|\.)?/g;function Jd(s,e){s.seq.push(e),s.map[e.id]=e}function QP(s,e,n){const a=s.name,r=a.length;for(Ka.lastIndex=0;;){const t=Ka.exec(a),d=Ka.lastIndex;let C=t[1];const M=t[2]==="]",w=t[3];if(M&&(C=C|0),w===void 0||w==="["&&d+2===r){Jd(n,w===void 0?new WP(C,s,e):new qP(C,s,e));break}else{let x=n.map[C];x===void 0&&(x=new GP(C),Jd(n,x)),n=x}}}class bs{constructor(e,n){this.seq=[],this.map={};const a=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let r=0;r<a;++r){const t=e.getActiveUniform(n,r),d=e.getUniformLocation(n,t.name);QP(t,d,this)}}setValue(e,n,a,r){const t=this.map[n];t!==void 0&&t.setValue(e,a,r)}setOptional(e,n,a){const r=n[a];r!==void 0&&this.setValue(e,a,r)}static upload(e,n,a,r){for(let t=0,d=n.length;t!==d;++t){const C=n[t],M=a[C.id];M.needsUpdate!==!1&&C.setValue(e,M.value,r)}}static seqWithValue(e,n){const a=[];for(let r=0,t=e.length;r!==t;++r){const d=e[r];d.id in n&&a.push(d)}return a}}function Yd(s,e,n){const a=s.createShader(e);return s.shaderSource(a,n),s.compileShader(a),a}const $P=37297;let KP=0;function XP(s,e){const n=s.split(`
`),a=[],r=Math.max(e-6,0),t=Math.min(e+6,n.length);for(let d=r;d<t;d++){const C=d+1;a.push(`${C===e?">":" "} ${C}: ${n[d]}`)}return a.join(`
`)}function JP(s){const e=bt.getPrimaries(bt.workingColorSpace),n=bt.getPrimaries(s);let a;switch(e===n?a="":e===Os&&n===ws?a="LinearDisplayP3ToLinearSRGB":e===ws&&n===Os&&(a="LinearSRGBToLinearDisplayP3"),s){case Zn:case Qs:return[a,"LinearTransferOETF"];case kt:case ru:return[a,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",s),[a,"LinearTransferOETF"]}}function Zd(s,e,n){const a=s.getShaderParameter(e,s.COMPILE_STATUS),r=s.getShaderInfoLog(e).trim();if(a&&r==="")return"";const t=/ERROR: 0:(\d+)/.exec(r);if(t){const d=parseInt(t[1]);return n.toUpperCase()+`

`+r+`

`+XP(s.getShaderSource(e),d)}else return r}function YP(s,e){const n=JP(e);return`vec4 ${s}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function ZP(s,e){let n;switch(e){case dC:n="Linear";break;case fC:n="Reinhard";break;case pC:n="OptimizedCineon";break;case hC:n="ACESFilmic";break;case gC:n="AgX";break;case mC:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+s+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function eT(s){return[s.extensionDerivatives||s.envMapCubeUVHeight||s.bumpMap||s.normalMapTangentSpace||s.clearcoatNormalMap||s.flatShading||s.alphaToCoverage||s.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(s.extensionFragDepth||s.logarithmicDepthBuffer)&&s.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",s.extensionDrawBuffers&&s.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(s.extensionShaderTextureLOD||s.envMap||s.transmission)&&s.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ci).join(`
`)}function tT(s){return[s.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",s.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Ci).join(`
`)}function nT(s){const e=[];for(const n in s){const a=s[n];a!==!1&&e.push("#define "+n+" "+a)}return e.join(`
`)}function rT(s,e){const n={},a=s.getProgramParameter(e,s.ACTIVE_ATTRIBUTES);for(let r=0;r<a;r++){const t=s.getActiveAttrib(e,r),d=t.name;let C=1;t.type===s.FLOAT_MAT2&&(C=2),t.type===s.FLOAT_MAT3&&(C=3),t.type===s.FLOAT_MAT4&&(C=4),n[d]={type:t.type,location:s.getAttribLocation(e,d),locationSize:C}}return n}function Ci(s){return s!==""}function ef(s,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return s.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function tf(s,e){return s.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const iT=/^[ \t]*#include +<([\w\d./]+)>/gm;function Ol(s){return s.replace(iT,sT)}const oT=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function sT(s,e){let n=it[e];if(n===void 0){const a=oT.get(e);if(a!==void 0)n=it[a],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,a);else throw new Error("Can not resolve #include <"+e+">")}return Ol(n)}const aT=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function nf(s){return s.replace(aT,lT)}function lT(s,e,n,a){let r="";for(let t=parseInt(e);t<parseInt(n);t++)r+=a.replace(/\[\s*i\s*\]/g,"[ "+t+" ]").replace(/UNROLLED_LOOP_INDEX/g,t);return r}function rf(s){let e=`precision ${s.precision} float;
	precision ${s.precision} int;
	precision ${s.precision} sampler2D;
	precision ${s.precision} samplerCube;
	`;return s.isWebGL2&&(e+=`precision ${s.precision} sampler3D;
		precision ${s.precision} sampler2DArray;
		precision ${s.precision} sampler2DShadow;
		precision ${s.precision} samplerCubeShadow;
		precision ${s.precision} sampler2DArrayShadow;
		precision ${s.precision} isampler2D;
		precision ${s.precision} isampler3D;
		precision ${s.precision} isamplerCube;
		precision ${s.precision} isampler2DArray;
		precision ${s.precision} usampler2D;
		precision ${s.precision} usampler3D;
		precision ${s.precision} usamplerCube;
		precision ${s.precision} usampler2DArray;
		`),s.precision==="highp"?e+=`
#define HIGH_PRECISION`:s.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:s.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function uT(s){let e="SHADOWMAP_TYPE_BASIC";return s.shadowMapType===kp?e="SHADOWMAP_TYPE_PCF":s.shadowMapType===Fb?e="SHADOWMAP_TYPE_PCF_SOFT":s.shadowMapType===Wn&&(e="SHADOWMAP_TYPE_VSM"),e}function cT(s){let e="ENVMAP_TYPE_CUBE";if(s.envMap)switch(s.envMapMode){case Li:case Vi:e="ENVMAP_TYPE_CUBE";break;case Gs:e="ENVMAP_TYPE_CUBE_UV";break}return e}function dT(s){let e="ENVMAP_MODE_REFLECTION";if(s.envMap)switch(s.envMapMode){case Vi:e="ENVMAP_MODE_REFRACTION";break}return e}function fT(s){let e="ENVMAP_BLENDING_NONE";if(s.envMap)switch(s.combine){case Fp:e="ENVMAP_BLENDING_MULTIPLY";break;case uC:e="ENVMAP_BLENDING_MIX";break;case cC:e="ENVMAP_BLENDING_ADD";break}return e}function pT(s){const e=s.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,a=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:a,maxMip:n}}function hT(s,e,n,a){const r=s.getContext(),t=n.defines;let d=n.vertexShader,C=n.fragmentShader;const M=uT(n),w=cT(n),S=dT(n),x=fT(n),h=pT(n),u=n.isWebGL2?"":eT(n),g=tT(n),f=nT(t),i=r.createProgram();let p,P,m=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(p=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,f].filter(Ci).join(`
`),p.length>0&&(p+=`
`),P=[u,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,f].filter(Ci).join(`
`),P.length>0&&(P+=`
`)):(p=[rf(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,f,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+S:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+M:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Ci).join(`
`),P=[u,rf(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,f,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+w:"",n.envMap?"#define "+S:"",n.envMap?"#define "+x:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+M:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==xr?"#define TONE_MAPPING":"",n.toneMapping!==xr?it.tonemapping_pars_fragment:"",n.toneMapping!==xr?ZP("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",it.colorspace_pars_fragment,YP("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Ci).join(`
`)),d=Ol(d),d=ef(d,n),d=tf(d,n),C=Ol(C),C=ef(C,n),C=tf(C,n),d=nf(d),C=nf(C),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(m=`#version 300 es
`,p=[g,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+p,P=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===bd?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===bd?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+P);const y=m+p+d,R=m+P+C,b=Yd(r,r.VERTEX_SHADER,y),c=Yd(r,r.FRAGMENT_SHADER,R);r.attachShader(i,b),r.attachShader(i,c),n.index0AttributeName!==void 0?r.bindAttribLocation(i,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(i,0,"position"),r.linkProgram(i);function E(O){if(s.debug.checkShaderErrors){const l=r.getProgramInfoLog(i).trim(),o=r.getShaderInfoLog(b).trim(),v=r.getShaderInfoLog(c).trim();let T=!0,L=!0;if(r.getProgramParameter(i,r.LINK_STATUS)===!1)if(T=!1,typeof s.debug.onShaderError=="function")s.debug.onShaderError(r,i,b,c);else{const V=Zd(r,b,"vertex"),_=Zd(r,c,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(i,r.VALIDATE_STATUS)+`

Material Name: `+O.name+`
Material Type: `+O.type+`

Program Info Log: `+l+`
`+V+`
`+_)}else l!==""?console.warn("THREE.WebGLProgram: Program Info Log:",l):(o===""||v==="")&&(L=!1);L&&(O.diagnostics={runnable:T,programLog:l,vertexShader:{log:o,prefix:p},fragmentShader:{log:v,prefix:P}})}r.deleteShader(b),r.deleteShader(c),I=new bs(r,i),A=rT(r,i)}let I;this.getUniforms=function(){return I===void 0&&E(this),I};let A;this.getAttributes=function(){return A===void 0&&E(this),A};let D=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return D===!1&&(D=r.getProgramParameter(i,$P)),D},this.destroy=function(){a.releaseStatesOfProgram(this),r.deleteProgram(i),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=KP++,this.cacheKey=e,this.usedTimes=1,this.program=i,this.vertexShader=b,this.fragmentShader=c,this}let mT=0;class gT{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,a=e.fragmentShader,r=this._getShaderStage(n),t=this._getShaderStage(a),d=this._getShaderCacheForMaterial(e);return d.has(r)===!1&&(d.add(r),r.usedTimes++),d.has(t)===!1&&(d.add(t),t.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const a of n)a.usedTimes--,a.usedTimes===0&&this.shaderCache.delete(a.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let a=n.get(e);return a===void 0&&(a=new Set,n.set(e,a)),a}_getShaderStage(e){const n=this.shaderCache;let a=n.get(e);return a===void 0&&(a=new vT(e),n.set(e,a)),a}}class vT{constructor(e){this.id=mT++,this.code=e,this.usedTimes=0}}function yT(s,e,n,a,r,t,d){const C=new nh,M=new gT,w=new Set,S=[],x=r.isWebGL2,h=r.logarithmicDepthBuffer,u=r.vertexTextures;let g=r.precision;const f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function i(A){return w.add(A),A===0?"uv":`uv${A}`}function p(A,D,O,l,o){const v=l.fog,T=o.geometry,L=A.isMeshStandardMaterial?l.environment:null,V=(A.isMeshStandardMaterial?n:e).get(A.envMap||L),_=V&&V.mapping===Gs?V.image.height:null,B=f[A.type];A.precision!==null&&(g=r.getMaxPrecision(A.precision),g!==A.precision&&console.warn("THREE.WebGLProgram.getParameters:",A.precision,"not supported, using",g,"instead."));const k=T.morphAttributes.position||T.morphAttributes.normal||T.morphAttributes.color,U=k!==void 0?k.length:0;let K=0;T.morphAttributes.position!==void 0&&(K=1),T.morphAttributes.normal!==void 0&&(K=2),T.morphAttributes.color!==void 0&&(K=3);let q,Z,j,G;if(B){const vt=An[B];q=vt.vertexShader,Z=vt.fragmentShader}else q=A.vertexShader,Z=A.fragmentShader,M.update(A),j=M.getVertexShaderID(A),G=M.getFragmentShaderID(A);const X=s.getRenderTarget(),ne=o.isInstancedMesh===!0,le=o.isBatchedMesh===!0,ie=!!A.map,Y=!!A.matcap,Q=!!V,J=!!A.aoMap,re=!!A.lightMap,ae=!!A.bumpMap,ce=!!A.normalMap,ve=!!A.displacementMap,$=!!A.emissiveMap,H=!!A.metalnessMap,oe=!!A.roughnessMap,ue=A.anisotropy>0,fe=A.clearcoat>0,de=A.iridescence>0,Ee=A.sheen>0,xe=A.transmission>0,Te=ue&&!!A.anisotropyMap,Me=fe&&!!A.clearcoatMap,Ve=fe&&!!A.clearcoatNormalMap,Pe=fe&&!!A.clearcoatRoughnessMap,Ke=de&&!!A.iridescenceMap,$e=de&&!!A.iridescenceThicknessMap,qe=Ee&&!!A.sheenColorMap,ke=Ee&&!!A.sheenRoughnessMap,Le=!!A.specularMap,Ue=!!A.specularColorMap,Ge=!!A.specularIntensityMap,ct=xe&&!!A.transmissionMap,rt=xe&&!!A.thicknessMap,dt=!!A.gradientMap,se=!!A.alphaMap,Re=A.alphaTest>0,we=!!A.alphaHash,Fe=!!A.extensions;let We=xr;A.toneMapped&&(X===null||X.isXRRenderTarget===!0)&&(We=s.toneMapping);const ft={isWebGL2:x,shaderID:B,shaderType:A.type,shaderName:A.name,vertexShader:q,fragmentShader:Z,defines:A.defines,customVertexShaderID:j,customFragmentShaderID:G,isRawShaderMaterial:A.isRawShaderMaterial===!0,glslVersion:A.glslVersion,precision:g,batching:le,instancing:ne,instancingColor:ne&&o.instanceColor!==null,supportsVertexTextures:u,outputColorSpace:X===null?s.outputColorSpace:X.isXRRenderTarget===!0?X.texture.colorSpace:Zn,alphaToCoverage:!!A.alphaToCoverage,map:ie,matcap:Y,envMap:Q,envMapMode:Q&&V.mapping,envMapCubeUVHeight:_,aoMap:J,lightMap:re,bumpMap:ae,normalMap:ce,displacementMap:u&&ve,emissiveMap:$,normalMapObjectSpace:ce&&A.normalMapType===RC,normalMapTangentSpace:ce&&A.normalMapType===Kp,metalnessMap:H,roughnessMap:oe,anisotropy:ue,anisotropyMap:Te,clearcoat:fe,clearcoatMap:Me,clearcoatNormalMap:Ve,clearcoatRoughnessMap:Pe,iridescence:de,iridescenceMap:Ke,iridescenceThicknessMap:$e,sheen:Ee,sheenColorMap:qe,sheenRoughnessMap:ke,specularMap:Le,specularColorMap:Ue,specularIntensityMap:Ge,transmission:xe,transmissionMap:ct,thicknessMap:rt,gradientMap:dt,opaque:A.transparent===!1&&A.blending===Si&&A.alphaToCoverage===!1,alphaMap:se,alphaTest:Re,alphaHash:we,combine:A.combine,mapUv:ie&&i(A.map.channel),aoMapUv:J&&i(A.aoMap.channel),lightMapUv:re&&i(A.lightMap.channel),bumpMapUv:ae&&i(A.bumpMap.channel),normalMapUv:ce&&i(A.normalMap.channel),displacementMapUv:ve&&i(A.displacementMap.channel),emissiveMapUv:$&&i(A.emissiveMap.channel),metalnessMapUv:H&&i(A.metalnessMap.channel),roughnessMapUv:oe&&i(A.roughnessMap.channel),anisotropyMapUv:Te&&i(A.anisotropyMap.channel),clearcoatMapUv:Me&&i(A.clearcoatMap.channel),clearcoatNormalMapUv:Ve&&i(A.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Pe&&i(A.clearcoatRoughnessMap.channel),iridescenceMapUv:Ke&&i(A.iridescenceMap.channel),iridescenceThicknessMapUv:$e&&i(A.iridescenceThicknessMap.channel),sheenColorMapUv:qe&&i(A.sheenColorMap.channel),sheenRoughnessMapUv:ke&&i(A.sheenRoughnessMap.channel),specularMapUv:Le&&i(A.specularMap.channel),specularColorMapUv:Ue&&i(A.specularColorMap.channel),specularIntensityMapUv:Ge&&i(A.specularIntensityMap.channel),transmissionMapUv:ct&&i(A.transmissionMap.channel),thicknessMapUv:rt&&i(A.thicknessMap.channel),alphaMapUv:se&&i(A.alphaMap.channel),vertexTangents:!!T.attributes.tangent&&(ce||ue),vertexColors:A.vertexColors,vertexAlphas:A.vertexColors===!0&&!!T.attributes.color&&T.attributes.color.itemSize===4,pointsUvs:o.isPoints===!0&&!!T.attributes.uv&&(ie||se),fog:!!v,useFog:A.fog===!0,fogExp2:!!v&&v.isFogExp2,flatShading:A.flatShading===!0,sizeAttenuation:A.sizeAttenuation===!0,logarithmicDepthBuffer:h,skinning:o.isSkinnedMesh===!0,morphTargets:T.morphAttributes.position!==void 0,morphNormals:T.morphAttributes.normal!==void 0,morphColors:T.morphAttributes.color!==void 0,morphTargetsCount:U,morphTextureStride:K,numDirLights:D.directional.length,numPointLights:D.point.length,numSpotLights:D.spot.length,numSpotLightMaps:D.spotLightMap.length,numRectAreaLights:D.rectArea.length,numHemiLights:D.hemi.length,numDirLightShadows:D.directionalShadowMap.length,numPointLightShadows:D.pointShadowMap.length,numSpotLightShadows:D.spotShadowMap.length,numSpotLightShadowsWithMaps:D.numSpotLightShadowsWithMaps,numLightProbes:D.numLightProbes,numClippingPlanes:d.numPlanes,numClipIntersection:d.numIntersection,dithering:A.dithering,shadowMapEnabled:s.shadowMap.enabled&&O.length>0,shadowMapType:s.shadowMap.type,toneMapping:We,useLegacyLights:s._useLegacyLights,decodeVideoTexture:ie&&A.map.isVideoTexture===!0&&bt.getTransfer(A.map.colorSpace)===xt,premultipliedAlpha:A.premultipliedAlpha,doubleSided:A.side===Qn,flipSided:A.side===rn,useDepthPacking:A.depthPacking>=0,depthPacking:A.depthPacking||0,index0AttributeName:A.index0AttributeName,extensionDerivatives:Fe&&A.extensions.derivatives===!0,extensionFragDepth:Fe&&A.extensions.fragDepth===!0,extensionDrawBuffers:Fe&&A.extensions.drawBuffers===!0,extensionShaderTextureLOD:Fe&&A.extensions.shaderTextureLOD===!0,extensionClipCullDistance:Fe&&A.extensions.clipCullDistance===!0&&a.has("WEBGL_clip_cull_distance"),extensionMultiDraw:Fe&&A.extensions.multiDraw===!0&&a.has("WEBGL_multi_draw"),rendererExtensionFragDepth:x||a.has("EXT_frag_depth"),rendererExtensionDrawBuffers:x||a.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:x||a.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:a.has("KHR_parallel_shader_compile"),customProgramCacheKey:A.customProgramCacheKey()};return ft.vertexUv1s=w.has(1),ft.vertexUv2s=w.has(2),ft.vertexUv3s=w.has(3),w.clear(),ft}function P(A){const D=[];if(A.shaderID?D.push(A.shaderID):(D.push(A.customVertexShaderID),D.push(A.customFragmentShaderID)),A.defines!==void 0)for(const O in A.defines)D.push(O),D.push(A.defines[O]);return A.isRawShaderMaterial===!1&&(m(D,A),y(D,A),D.push(s.outputColorSpace)),D.push(A.customProgramCacheKey),D.join()}function m(A,D){A.push(D.precision),A.push(D.outputColorSpace),A.push(D.envMapMode),A.push(D.envMapCubeUVHeight),A.push(D.mapUv),A.push(D.alphaMapUv),A.push(D.lightMapUv),A.push(D.aoMapUv),A.push(D.bumpMapUv),A.push(D.normalMapUv),A.push(D.displacementMapUv),A.push(D.emissiveMapUv),A.push(D.metalnessMapUv),A.push(D.roughnessMapUv),A.push(D.anisotropyMapUv),A.push(D.clearcoatMapUv),A.push(D.clearcoatNormalMapUv),A.push(D.clearcoatRoughnessMapUv),A.push(D.iridescenceMapUv),A.push(D.iridescenceThicknessMapUv),A.push(D.sheenColorMapUv),A.push(D.sheenRoughnessMapUv),A.push(D.specularMapUv),A.push(D.specularColorMapUv),A.push(D.specularIntensityMapUv),A.push(D.transmissionMapUv),A.push(D.thicknessMapUv),A.push(D.combine),A.push(D.fogExp2),A.push(D.sizeAttenuation),A.push(D.morphTargetsCount),A.push(D.morphAttributeCount),A.push(D.numDirLights),A.push(D.numPointLights),A.push(D.numSpotLights),A.push(D.numSpotLightMaps),A.push(D.numHemiLights),A.push(D.numRectAreaLights),A.push(D.numDirLightShadows),A.push(D.numPointLightShadows),A.push(D.numSpotLightShadows),A.push(D.numSpotLightShadowsWithMaps),A.push(D.numLightProbes),A.push(D.shadowMapType),A.push(D.toneMapping),A.push(D.numClippingPlanes),A.push(D.numClipIntersection),A.push(D.depthPacking)}function y(A,D){C.disableAll(),D.isWebGL2&&C.enable(0),D.supportsVertexTextures&&C.enable(1),D.instancing&&C.enable(2),D.instancingColor&&C.enable(3),D.matcap&&C.enable(4),D.envMap&&C.enable(5),D.normalMapObjectSpace&&C.enable(6),D.normalMapTangentSpace&&C.enable(7),D.clearcoat&&C.enable(8),D.iridescence&&C.enable(9),D.alphaTest&&C.enable(10),D.vertexColors&&C.enable(11),D.vertexAlphas&&C.enable(12),D.vertexUv1s&&C.enable(13),D.vertexUv2s&&C.enable(14),D.vertexUv3s&&C.enable(15),D.vertexTangents&&C.enable(16),D.anisotropy&&C.enable(17),D.alphaHash&&C.enable(18),D.batching&&C.enable(19),A.push(C.mask),C.disableAll(),D.fog&&C.enable(0),D.useFog&&C.enable(1),D.flatShading&&C.enable(2),D.logarithmicDepthBuffer&&C.enable(3),D.skinning&&C.enable(4),D.morphTargets&&C.enable(5),D.morphNormals&&C.enable(6),D.morphColors&&C.enable(7),D.premultipliedAlpha&&C.enable(8),D.shadowMapEnabled&&C.enable(9),D.useLegacyLights&&C.enable(10),D.doubleSided&&C.enable(11),D.flipSided&&C.enable(12),D.useDepthPacking&&C.enable(13),D.dithering&&C.enable(14),D.transmission&&C.enable(15),D.sheen&&C.enable(16),D.opaque&&C.enable(17),D.pointsUvs&&C.enable(18),D.decodeVideoTexture&&C.enable(19),D.alphaToCoverage&&C.enable(20),A.push(C.mask)}function R(A){const D=f[A.type];let O;if(D){const l=An[D];O=ex.clone(l.uniforms)}else O=A.uniforms;return O}function b(A,D){let O;for(let l=0,o=S.length;l<o;l++){const v=S[l];if(v.cacheKey===D){O=v,++O.usedTimes;break}}return O===void 0&&(O=new hT(s,D,A,t),S.push(O)),O}function c(A){if(--A.usedTimes===0){const D=S.indexOf(A);S[D]=S[S.length-1],S.pop(),A.destroy()}}function E(A){M.remove(A)}function I(){M.dispose()}return{getParameters:p,getProgramCacheKey:P,getUniforms:R,acquireProgram:b,releaseProgram:c,releaseShaderCache:E,programs:S,dispose:I}}function bT(){let s=new WeakMap;function e(t){let d=s.get(t);return d===void 0&&(d={},s.set(t,d)),d}function n(t){s.delete(t)}function a(t,d,C){s.get(t)[d]=C}function r(){s=new WeakMap}return{get:e,remove:n,update:a,dispose:r}}function CT(s,e){return s.groupOrder!==e.groupOrder?s.groupOrder-e.groupOrder:s.renderOrder!==e.renderOrder?s.renderOrder-e.renderOrder:s.material.id!==e.material.id?s.material.id-e.material.id:s.z!==e.z?s.z-e.z:s.id-e.id}function of(s,e){return s.groupOrder!==e.groupOrder?s.groupOrder-e.groupOrder:s.renderOrder!==e.renderOrder?s.renderOrder-e.renderOrder:s.z!==e.z?e.z-s.z:s.id-e.id}function sf(){const s=[];let e=0;const n=[],a=[],r=[];function t(){e=0,n.length=0,a.length=0,r.length=0}function d(x,h,u,g,f,i){let p=s[e];return p===void 0?(p={id:x.id,object:x,geometry:h,material:u,groupOrder:g,renderOrder:x.renderOrder,z:f,group:i},s[e]=p):(p.id=x.id,p.object=x,p.geometry=h,p.material=u,p.groupOrder=g,p.renderOrder=x.renderOrder,p.z=f,p.group=i),e++,p}function C(x,h,u,g,f,i){const p=d(x,h,u,g,f,i);u.transmission>0?a.push(p):u.transparent===!0?r.push(p):n.push(p)}function M(x,h,u,g,f,i){const p=d(x,h,u,g,f,i);u.transmission>0?a.unshift(p):u.transparent===!0?r.unshift(p):n.unshift(p)}function w(x,h){n.length>1&&n.sort(x||CT),a.length>1&&a.sort(h||of),r.length>1&&r.sort(h||of)}function S(){for(let x=e,h=s.length;x<h;x++){const u=s[x];if(u.id===null)break;u.id=null,u.object=null,u.geometry=null,u.material=null,u.group=null}}return{opaque:n,transmissive:a,transparent:r,init:t,push:C,unshift:M,finish:S,sort:w}}function xT(){let s=new WeakMap;function e(a,r){const t=s.get(a);let d;return t===void 0?(d=new sf,s.set(a,[d])):r>=t.length?(d=new sf,t.push(d)):d=t[r],d}function n(){s=new WeakMap}return{get:e,dispose:n}}function ET(){const s={};return{get:function(e){if(s[e.id]!==void 0)return s[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new me,color:new ot};break;case"SpotLight":n={position:new me,direction:new me,color:new ot,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new me,color:new ot,distance:0,decay:0};break;case"HemisphereLight":n={direction:new me,skyColor:new ot,groundColor:new ot};break;case"RectAreaLight":n={color:new ot,position:new me,halfWidth:new me,halfHeight:new me};break}return s[e.id]=n,n}}}function PT(){const s={};return{get:function(e){if(s[e.id]!==void 0)return s[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new lt};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new lt};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new lt,shadowCameraNear:1,shadowCameraFar:1e3};break}return s[e.id]=n,n}}}let TT=0;function ST(s,e){return(e.castShadow?2:0)-(s.castShadow?2:0)+(e.map?1:0)-(s.map?1:0)}function MT(s,e){const n=new ET,a=PT(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let S=0;S<9;S++)r.probe.push(new me);const t=new me,d=new wt,C=new wt;function M(S,x){let h=0,u=0,g=0;for(let O=0;O<9;O++)r.probe[O].set(0,0,0);let f=0,i=0,p=0,P=0,m=0,y=0,R=0,b=0,c=0,E=0,I=0;S.sort(ST);const A=x===!0?Math.PI:1;for(let O=0,l=S.length;O<l;O++){const o=S[O],v=o.color,T=o.intensity,L=o.distance,V=o.shadow&&o.shadow.map?o.shadow.map.texture:null;if(o.isAmbientLight)h+=v.r*T*A,u+=v.g*T*A,g+=v.b*T*A;else if(o.isLightProbe){for(let _=0;_<9;_++)r.probe[_].addScaledVector(o.sh.coefficients[_],T);I++}else if(o.isDirectionalLight){const _=n.get(o);if(_.color.copy(o.color).multiplyScalar(o.intensity*A),o.castShadow){const B=o.shadow,k=a.get(o);k.shadowBias=B.bias,k.shadowNormalBias=B.normalBias,k.shadowRadius=B.radius,k.shadowMapSize=B.mapSize,r.directionalShadow[f]=k,r.directionalShadowMap[f]=V,r.directionalShadowMatrix[f]=o.shadow.matrix,y++}r.directional[f]=_,f++}else if(o.isSpotLight){const _=n.get(o);_.position.setFromMatrixPosition(o.matrixWorld),_.color.copy(v).multiplyScalar(T*A),_.distance=L,_.coneCos=Math.cos(o.angle),_.penumbraCos=Math.cos(o.angle*(1-o.penumbra)),_.decay=o.decay,r.spot[p]=_;const B=o.shadow;if(o.map&&(r.spotLightMap[c]=o.map,c++,B.updateMatrices(o),o.castShadow&&E++),r.spotLightMatrix[p]=B.matrix,o.castShadow){const k=a.get(o);k.shadowBias=B.bias,k.shadowNormalBias=B.normalBias,k.shadowRadius=B.radius,k.shadowMapSize=B.mapSize,r.spotShadow[p]=k,r.spotShadowMap[p]=V,b++}p++}else if(o.isRectAreaLight){const _=n.get(o);_.color.copy(v).multiplyScalar(T),_.halfWidth.set(o.width*.5,0,0),_.halfHeight.set(0,o.height*.5,0),r.rectArea[P]=_,P++}else if(o.isPointLight){const _=n.get(o);if(_.color.copy(o.color).multiplyScalar(o.intensity*A),_.distance=o.distance,_.decay=o.decay,o.castShadow){const B=o.shadow,k=a.get(o);k.shadowBias=B.bias,k.shadowNormalBias=B.normalBias,k.shadowRadius=B.radius,k.shadowMapSize=B.mapSize,k.shadowCameraNear=B.camera.near,k.shadowCameraFar=B.camera.far,r.pointShadow[i]=k,r.pointShadowMap[i]=V,r.pointShadowMatrix[i]=o.shadow.matrix,R++}r.point[i]=_,i++}else if(o.isHemisphereLight){const _=n.get(o);_.skyColor.copy(o.color).multiplyScalar(T*A),_.groundColor.copy(o.groundColor).multiplyScalar(T*A),r.hemi[m]=_,m++}}P>0&&(e.isWebGL2?s.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Oe.LTC_FLOAT_1,r.rectAreaLTC2=Oe.LTC_FLOAT_2):(r.rectAreaLTC1=Oe.LTC_HALF_1,r.rectAreaLTC2=Oe.LTC_HALF_2):s.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Oe.LTC_FLOAT_1,r.rectAreaLTC2=Oe.LTC_FLOAT_2):s.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Oe.LTC_HALF_1,r.rectAreaLTC2=Oe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=h,r.ambient[1]=u,r.ambient[2]=g;const D=r.hash;(D.directionalLength!==f||D.pointLength!==i||D.spotLength!==p||D.rectAreaLength!==P||D.hemiLength!==m||D.numDirectionalShadows!==y||D.numPointShadows!==R||D.numSpotShadows!==b||D.numSpotMaps!==c||D.numLightProbes!==I)&&(r.directional.length=f,r.spot.length=p,r.rectArea.length=P,r.point.length=i,r.hemi.length=m,r.directionalShadow.length=y,r.directionalShadowMap.length=y,r.pointShadow.length=R,r.pointShadowMap.length=R,r.spotShadow.length=b,r.spotShadowMap.length=b,r.directionalShadowMatrix.length=y,r.pointShadowMatrix.length=R,r.spotLightMatrix.length=b+c-E,r.spotLightMap.length=c,r.numSpotLightShadowsWithMaps=E,r.numLightProbes=I,D.directionalLength=f,D.pointLength=i,D.spotLength=p,D.rectAreaLength=P,D.hemiLength=m,D.numDirectionalShadows=y,D.numPointShadows=R,D.numSpotShadows=b,D.numSpotMaps=c,D.numLightProbes=I,r.version=TT++)}function w(S,x){let h=0,u=0,g=0,f=0,i=0;const p=x.matrixWorldInverse;for(let P=0,m=S.length;P<m;P++){const y=S[P];if(y.isDirectionalLight){const R=r.directional[h];R.direction.setFromMatrixPosition(y.matrixWorld),t.setFromMatrixPosition(y.target.matrixWorld),R.direction.sub(t),R.direction.transformDirection(p),h++}else if(y.isSpotLight){const R=r.spot[g];R.position.setFromMatrixPosition(y.matrixWorld),R.position.applyMatrix4(p),R.direction.setFromMatrixPosition(y.matrixWorld),t.setFromMatrixPosition(y.target.matrixWorld),R.direction.sub(t),R.direction.transformDirection(p),g++}else if(y.isRectAreaLight){const R=r.rectArea[f];R.position.setFromMatrixPosition(y.matrixWorld),R.position.applyMatrix4(p),C.identity(),d.copy(y.matrixWorld),d.premultiply(p),C.extractRotation(d),R.halfWidth.set(y.width*.5,0,0),R.halfHeight.set(0,y.height*.5,0),R.halfWidth.applyMatrix4(C),R.halfHeight.applyMatrix4(C),f++}else if(y.isPointLight){const R=r.point[u];R.position.setFromMatrixPosition(y.matrixWorld),R.position.applyMatrix4(p),u++}else if(y.isHemisphereLight){const R=r.hemi[i];R.direction.setFromMatrixPosition(y.matrixWorld),R.direction.transformDirection(p),i++}}}return{setup:M,setupView:w,state:r}}function af(s,e){const n=new MT(s,e),a=[],r=[];function t(){a.length=0,r.length=0}function d(x){a.push(x)}function C(x){r.push(x)}function M(x){n.setup(a,x)}function w(x){n.setupView(a,x)}return{init:t,state:{lightsArray:a,shadowsArray:r,lights:n},setupLights:M,setupLightsView:w,pushLight:d,pushShadow:C}}function RT(s,e){let n=new WeakMap;function a(t,d=0){const C=n.get(t);let M;return C===void 0?(M=new af(s,e),n.set(t,[M])):d>=C.length?(M=new af(s,e),C.push(M)):M=C[d],M}function r(){n=new WeakMap}return{get:a,dispose:r}}class wT extends Fi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=SC,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class OT extends Fi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const IT=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,AT=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function DT(s,e,n){let a=new ou;const r=new lt,t=new lt,d=new Tt,C=new wT({depthPacking:MC}),M=new OT,w={},S=n.maxTextureSize,x={[Tr]:rn,[rn]:Tr,[Qn]:Qn},h=new Sr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new lt},radius:{value:4}},vertexShader:IT,fragmentShader:AT}),u=h.clone();u.defines.HORIZONTAL_PASS=1;const g=new tr;g.setAttribute("position",new _n(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const f=new Xn(g,h),i=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=kp;let p=this.type;this.render=function(b,c,E){if(i.enabled===!1||i.autoUpdate===!1&&i.needsUpdate===!1||b.length===0)return;const I=s.getRenderTarget(),A=s.getActiveCubeFace(),D=s.getActiveMipmapLevel(),O=s.state;O.setBlending(Cr),O.buffers.color.setClear(1,1,1,1),O.buffers.depth.setTest(!0),O.setScissorTest(!1);const l=p!==Wn&&this.type===Wn,o=p===Wn&&this.type!==Wn;for(let v=0,T=b.length;v<T;v++){const L=b[v],V=L.shadow;if(V===void 0){console.warn("THREE.WebGLShadowMap:",L,"has no shadow.");continue}if(V.autoUpdate===!1&&V.needsUpdate===!1)continue;r.copy(V.mapSize);const _=V.getFrameExtents();if(r.multiply(_),t.copy(V.mapSize),(r.x>S||r.y>S)&&(r.x>S&&(t.x=Math.floor(S/_.x),r.x=t.x*_.x,V.mapSize.x=t.x),r.y>S&&(t.y=Math.floor(S/_.y),r.y=t.y*_.y,V.mapSize.y=t.y)),V.map===null||l===!0||o===!0){const k=this.type!==Wn?{minFilter:Xt,magFilter:Xt}:{};V.map!==null&&V.map.dispose(),V.map=new Qr(r.x,r.y,k),V.map.texture.name=L.name+".shadowMap",V.camera.updateProjectionMatrix()}s.setRenderTarget(V.map),s.clear();const B=V.getViewportCount();for(let k=0;k<B;k++){const U=V.getViewport(k);d.set(t.x*U.x,t.y*U.y,t.x*U.z,t.y*U.w),O.viewport(d),V.updateMatrices(L,k),a=V.getFrustum(),y(c,E,V.camera,L,this.type)}V.isPointLightShadow!==!0&&this.type===Wn&&P(V,E),V.needsUpdate=!1}p=this.type,i.needsUpdate=!1,s.setRenderTarget(I,A,D)};function P(b,c){const E=e.update(f);h.defines.VSM_SAMPLES!==b.blurSamples&&(h.defines.VSM_SAMPLES=b.blurSamples,u.defines.VSM_SAMPLES=b.blurSamples,h.needsUpdate=!0,u.needsUpdate=!0),b.mapPass===null&&(b.mapPass=new Qr(r.x,r.y)),h.uniforms.shadow_pass.value=b.map.texture,h.uniforms.resolution.value=b.mapSize,h.uniforms.radius.value=b.radius,s.setRenderTarget(b.mapPass),s.clear(),s.renderBufferDirect(c,null,E,h,f,null),u.uniforms.shadow_pass.value=b.mapPass.texture,u.uniforms.resolution.value=b.mapSize,u.uniforms.radius.value=b.radius,s.setRenderTarget(b.map),s.clear(),s.renderBufferDirect(c,null,E,u,f,null)}function m(b,c,E,I){let A=null;const D=E.isPointLight===!0?b.customDistanceMaterial:b.customDepthMaterial;if(D!==void 0)A=D;else if(A=E.isPointLight===!0?M:C,s.localClippingEnabled&&c.clipShadows===!0&&Array.isArray(c.clippingPlanes)&&c.clippingPlanes.length!==0||c.displacementMap&&c.displacementScale!==0||c.alphaMap&&c.alphaTest>0||c.map&&c.alphaTest>0){const O=A.uuid,l=c.uuid;let o=w[O];o===void 0&&(o={},w[O]=o);let v=o[l];v===void 0&&(v=A.clone(),o[l]=v,c.addEventListener("dispose",R)),A=v}if(A.visible=c.visible,A.wireframe=c.wireframe,I===Wn?A.side=c.shadowSide!==null?c.shadowSide:c.side:A.side=c.shadowSide!==null?c.shadowSide:x[c.side],A.alphaMap=c.alphaMap,A.alphaTest=c.alphaTest,A.map=c.map,A.clipShadows=c.clipShadows,A.clippingPlanes=c.clippingPlanes,A.clipIntersection=c.clipIntersection,A.displacementMap=c.displacementMap,A.displacementScale=c.displacementScale,A.displacementBias=c.displacementBias,A.wireframeLinewidth=c.wireframeLinewidth,A.linewidth=c.linewidth,E.isPointLight===!0&&A.isMeshDistanceMaterial===!0){const O=s.properties.get(A);O.light=E}return A}function y(b,c,E,I,A){if(b.visible===!1)return;if(b.layers.test(c.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&A===Wn)&&(!b.frustumCulled||a.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(E.matrixWorldInverse,b.matrixWorld);const l=e.update(b),o=b.material;if(Array.isArray(o)){const v=l.groups;for(let T=0,L=v.length;T<L;T++){const V=v[T],_=o[V.materialIndex];if(_&&_.visible){const B=m(b,_,I,A);b.onBeforeShadow(s,b,c,E,l,B,V),s.renderBufferDirect(E,null,l,B,b,V),b.onAfterShadow(s,b,c,E,l,B,V)}}}else if(o.visible){const v=m(b,o,I,A);b.onBeforeShadow(s,b,c,E,l,v,null),s.renderBufferDirect(E,null,l,v,b,null),b.onAfterShadow(s,b,c,E,l,v,null)}}const O=b.children;for(let l=0,o=O.length;l<o;l++)y(O[l],c,E,I,A)}function R(b){b.target.removeEventListener("dispose",R);for(const E in w){const I=w[E],A=b.target.uuid;A in I&&(I[A].dispose(),delete I[A])}}}function LT(s,e,n){const a=n.isWebGL2;function r(){let se=!1;const Re=new Tt;let we=null;const Fe=new Tt(0,0,0,0);return{setMask:function(We){we!==We&&!se&&(s.colorMask(We,We,We,We),we=We)},setLocked:function(We){se=We},setClear:function(We,ft,vt,Dt,Zt){Zt===!0&&(We*=Dt,ft*=Dt,vt*=Dt),Re.set(We,ft,vt,Dt),Fe.equals(Re)===!1&&(s.clearColor(We,ft,vt,Dt),Fe.copy(Re))},reset:function(){se=!1,we=null,Fe.set(-1,0,0,0)}}}function t(){let se=!1,Re=null,we=null,Fe=null;return{setTest:function(We){We?ne(s.DEPTH_TEST):le(s.DEPTH_TEST)},setMask:function(We){Re!==We&&!se&&(s.depthMask(We),Re=We)},setFunc:function(We){if(we!==We){switch(We){case nC:s.depthFunc(s.NEVER);break;case rC:s.depthFunc(s.ALWAYS);break;case iC:s.depthFunc(s.LESS);break;case Ms:s.depthFunc(s.LEQUAL);break;case oC:s.depthFunc(s.EQUAL);break;case sC:s.depthFunc(s.GEQUAL);break;case aC:s.depthFunc(s.GREATER);break;case lC:s.depthFunc(s.NOTEQUAL);break;default:s.depthFunc(s.LEQUAL)}we=We}},setLocked:function(We){se=We},setClear:function(We){Fe!==We&&(s.clearDepth(We),Fe=We)},reset:function(){se=!1,Re=null,we=null,Fe=null}}}function d(){let se=!1,Re=null,we=null,Fe=null,We=null,ft=null,vt=null,Dt=null,Zt=null;return{setTest:function(yt){se||(yt?ne(s.STENCIL_TEST):le(s.STENCIL_TEST))},setMask:function(yt){Re!==yt&&!se&&(s.stencilMask(yt),Re=yt)},setFunc:function(yt,Nt,cn){(we!==yt||Fe!==Nt||We!==cn)&&(s.stencilFunc(yt,Nt,cn),we=yt,Fe=Nt,We=cn)},setOp:function(yt,Nt,cn){(ft!==yt||vt!==Nt||Dt!==cn)&&(s.stencilOp(yt,Nt,cn),ft=yt,vt=Nt,Dt=cn)},setLocked:function(yt){se=yt},setClear:function(yt){Zt!==yt&&(s.clearStencil(yt),Zt=yt)},reset:function(){se=!1,Re=null,we=null,Fe=null,We=null,ft=null,vt=null,Dt=null,Zt=null}}}const C=new r,M=new t,w=new d,S=new WeakMap,x=new WeakMap;let h={},u={},g=new WeakMap,f=[],i=null,p=!1,P=null,m=null,y=null,R=null,b=null,c=null,E=null,I=new ot(0,0,0),A=0,D=!1,O=null,l=null,o=null,v=null,T=null;const L=s.getParameter(s.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let V=!1,_=0;const B=s.getParameter(s.VERSION);B.indexOf("WebGL")!==-1?(_=parseFloat(/^WebGL (\d)/.exec(B)[1]),V=_>=1):B.indexOf("OpenGL ES")!==-1&&(_=parseFloat(/^OpenGL ES (\d)/.exec(B)[1]),V=_>=2);let k=null,U={};const K=s.getParameter(s.SCISSOR_BOX),q=s.getParameter(s.VIEWPORT),Z=new Tt().fromArray(K),j=new Tt().fromArray(q);function G(se,Re,we,Fe){const We=new Uint8Array(4),ft=s.createTexture();s.bindTexture(se,ft),s.texParameteri(se,s.TEXTURE_MIN_FILTER,s.NEAREST),s.texParameteri(se,s.TEXTURE_MAG_FILTER,s.NEAREST);for(let vt=0;vt<we;vt++)a&&(se===s.TEXTURE_3D||se===s.TEXTURE_2D_ARRAY)?s.texImage3D(Re,0,s.RGBA,1,1,Fe,0,s.RGBA,s.UNSIGNED_BYTE,We):s.texImage2D(Re+vt,0,s.RGBA,1,1,0,s.RGBA,s.UNSIGNED_BYTE,We);return ft}const X={};X[s.TEXTURE_2D]=G(s.TEXTURE_2D,s.TEXTURE_2D,1),X[s.TEXTURE_CUBE_MAP]=G(s.TEXTURE_CUBE_MAP,s.TEXTURE_CUBE_MAP_POSITIVE_X,6),a&&(X[s.TEXTURE_2D_ARRAY]=G(s.TEXTURE_2D_ARRAY,s.TEXTURE_2D_ARRAY,1,1),X[s.TEXTURE_3D]=G(s.TEXTURE_3D,s.TEXTURE_3D,1,1)),C.setClear(0,0,0,1),M.setClear(1),w.setClear(0),ne(s.DEPTH_TEST),M.setFunc(Ms),ve(!1),$(Fc),ne(s.CULL_FACE),ae(Cr);function ne(se){h[se]!==!0&&(s.enable(se),h[se]=!0)}function le(se){h[se]!==!1&&(s.disable(se),h[se]=!1)}function ie(se,Re){return u[se]!==Re?(s.bindFramebuffer(se,Re),u[se]=Re,a&&(se===s.DRAW_FRAMEBUFFER&&(u[s.FRAMEBUFFER]=Re),se===s.FRAMEBUFFER&&(u[s.DRAW_FRAMEBUFFER]=Re)),!0):!1}function Y(se,Re){let we=f,Fe=!1;if(se)if(we=g.get(Re),we===void 0&&(we=[],g.set(Re,we)),se.isWebGLMultipleRenderTargets){const We=se.texture;if(we.length!==We.length||we[0]!==s.COLOR_ATTACHMENT0){for(let ft=0,vt=We.length;ft<vt;ft++)we[ft]=s.COLOR_ATTACHMENT0+ft;we.length=We.length,Fe=!0}}else we[0]!==s.COLOR_ATTACHMENT0&&(we[0]=s.COLOR_ATTACHMENT0,Fe=!0);else we[0]!==s.BACK&&(we[0]=s.BACK,Fe=!0);Fe&&(n.isWebGL2?s.drawBuffers(we):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(we))}function Q(se){return i!==se?(s.useProgram(se),i=se,!0):!1}const J={[Fr]:s.FUNC_ADD,[zb]:s.FUNC_SUBTRACT,[jb]:s.FUNC_REVERSE_SUBTRACT};if(a)J[Hc]=s.MIN,J[Wc]=s.MAX;else{const se=e.get("EXT_blend_minmax");se!==null&&(J[Hc]=se.MIN_EXT,J[Wc]=se.MAX_EXT)}const re={[Hb]:s.ZERO,[Wb]:s.ONE,[qb]:s.SRC_COLOR,[Cl]:s.SRC_ALPHA,[Jb]:s.SRC_ALPHA_SATURATE,[Kb]:s.DST_COLOR,[Qb]:s.DST_ALPHA,[Gb]:s.ONE_MINUS_SRC_COLOR,[xl]:s.ONE_MINUS_SRC_ALPHA,[Xb]:s.ONE_MINUS_DST_COLOR,[$b]:s.ONE_MINUS_DST_ALPHA,[Yb]:s.CONSTANT_COLOR,[Zb]:s.ONE_MINUS_CONSTANT_COLOR,[eC]:s.CONSTANT_ALPHA,[tC]:s.ONE_MINUS_CONSTANT_ALPHA};function ae(se,Re,we,Fe,We,ft,vt,Dt,Zt,yt){if(se===Cr){p===!0&&(le(s.BLEND),p=!1);return}if(p===!1&&(ne(s.BLEND),p=!0),se!==Ub){if(se!==P||yt!==D){if((m!==Fr||b!==Fr)&&(s.blendEquation(s.FUNC_ADD),m=Fr,b=Fr),yt)switch(se){case Si:s.blendFuncSeparate(s.ONE,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA);break;case Uc:s.blendFunc(s.ONE,s.ONE);break;case zc:s.blendFuncSeparate(s.ZERO,s.ONE_MINUS_SRC_COLOR,s.ZERO,s.ONE);break;case jc:s.blendFuncSeparate(s.ZERO,s.SRC_COLOR,s.ZERO,s.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",se);break}else switch(se){case Si:s.blendFuncSeparate(s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA);break;case Uc:s.blendFunc(s.SRC_ALPHA,s.ONE);break;case zc:s.blendFuncSeparate(s.ZERO,s.ONE_MINUS_SRC_COLOR,s.ZERO,s.ONE);break;case jc:s.blendFunc(s.ZERO,s.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",se);break}y=null,R=null,c=null,E=null,I.set(0,0,0),A=0,P=se,D=yt}return}We=We||Re,ft=ft||we,vt=vt||Fe,(Re!==m||We!==b)&&(s.blendEquationSeparate(J[Re],J[We]),m=Re,b=We),(we!==y||Fe!==R||ft!==c||vt!==E)&&(s.blendFuncSeparate(re[we],re[Fe],re[ft],re[vt]),y=we,R=Fe,c=ft,E=vt),(Dt.equals(I)===!1||Zt!==A)&&(s.blendColor(Dt.r,Dt.g,Dt.b,Zt),I.copy(Dt),A=Zt),P=se,D=!1}function ce(se,Re){se.side===Qn?le(s.CULL_FACE):ne(s.CULL_FACE);let we=se.side===rn;Re&&(we=!we),ve(we),se.blending===Si&&se.transparent===!1?ae(Cr):ae(se.blending,se.blendEquation,se.blendSrc,se.blendDst,se.blendEquationAlpha,se.blendSrcAlpha,se.blendDstAlpha,se.blendColor,se.blendAlpha,se.premultipliedAlpha),M.setFunc(se.depthFunc),M.setTest(se.depthTest),M.setMask(se.depthWrite),C.setMask(se.colorWrite);const Fe=se.stencilWrite;w.setTest(Fe),Fe&&(w.setMask(se.stencilWriteMask),w.setFunc(se.stencilFunc,se.stencilRef,se.stencilFuncMask),w.setOp(se.stencilFail,se.stencilZFail,se.stencilZPass)),oe(se.polygonOffset,se.polygonOffsetFactor,se.polygonOffsetUnits),se.alphaToCoverage===!0?ne(s.SAMPLE_ALPHA_TO_COVERAGE):le(s.SAMPLE_ALPHA_TO_COVERAGE)}function ve(se){O!==se&&(se?s.frontFace(s.CW):s.frontFace(s.CCW),O=se)}function $(se){se!==Nb?(ne(s.CULL_FACE),se!==l&&(se===Fc?s.cullFace(s.BACK):se===kb?s.cullFace(s.FRONT):s.cullFace(s.FRONT_AND_BACK))):le(s.CULL_FACE),l=se}function H(se){se!==o&&(V&&s.lineWidth(se),o=se)}function oe(se,Re,we){se?(ne(s.POLYGON_OFFSET_FILL),(v!==Re||T!==we)&&(s.polygonOffset(Re,we),v=Re,T=we)):le(s.POLYGON_OFFSET_FILL)}function ue(se){se?ne(s.SCISSOR_TEST):le(s.SCISSOR_TEST)}function fe(se){se===void 0&&(se=s.TEXTURE0+L-1),k!==se&&(s.activeTexture(se),k=se)}function de(se,Re,we){we===void 0&&(k===null?we=s.TEXTURE0+L-1:we=k);let Fe=U[we];Fe===void 0&&(Fe={type:void 0,texture:void 0},U[we]=Fe),(Fe.type!==se||Fe.texture!==Re)&&(k!==we&&(s.activeTexture(we),k=we),s.bindTexture(se,Re||X[se]),Fe.type=se,Fe.texture=Re)}function Ee(){const se=U[k];se!==void 0&&se.type!==void 0&&(s.bindTexture(se.type,null),se.type=void 0,se.texture=void 0)}function xe(){try{s.compressedTexImage2D.apply(s,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Te(){try{s.compressedTexImage3D.apply(s,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Me(){try{s.texSubImage2D.apply(s,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Ve(){try{s.texSubImage3D.apply(s,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Pe(){try{s.compressedTexSubImage2D.apply(s,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Ke(){try{s.compressedTexSubImage3D.apply(s,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function $e(){try{s.texStorage2D.apply(s,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function qe(){try{s.texStorage3D.apply(s,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function ke(){try{s.texImage2D.apply(s,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Le(){try{s.texImage3D.apply(s,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Ue(se){Z.equals(se)===!1&&(s.scissor(se.x,se.y,se.z,se.w),Z.copy(se))}function Ge(se){j.equals(se)===!1&&(s.viewport(se.x,se.y,se.z,se.w),j.copy(se))}function ct(se,Re){let we=x.get(Re);we===void 0&&(we=new WeakMap,x.set(Re,we));let Fe=we.get(se);Fe===void 0&&(Fe=s.getUniformBlockIndex(Re,se.name),we.set(se,Fe))}function rt(se,Re){const Fe=x.get(Re).get(se);S.get(Re)!==Fe&&(s.uniformBlockBinding(Re,Fe,se.__bindingPointIndex),S.set(Re,Fe))}function dt(){s.disable(s.BLEND),s.disable(s.CULL_FACE),s.disable(s.DEPTH_TEST),s.disable(s.POLYGON_OFFSET_FILL),s.disable(s.SCISSOR_TEST),s.disable(s.STENCIL_TEST),s.disable(s.SAMPLE_ALPHA_TO_COVERAGE),s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ONE,s.ZERO),s.blendFuncSeparate(s.ONE,s.ZERO,s.ONE,s.ZERO),s.blendColor(0,0,0,0),s.colorMask(!0,!0,!0,!0),s.clearColor(0,0,0,0),s.depthMask(!0),s.depthFunc(s.LESS),s.clearDepth(1),s.stencilMask(4294967295),s.stencilFunc(s.ALWAYS,0,4294967295),s.stencilOp(s.KEEP,s.KEEP,s.KEEP),s.clearStencil(0),s.cullFace(s.BACK),s.frontFace(s.CCW),s.polygonOffset(0,0),s.activeTexture(s.TEXTURE0),s.bindFramebuffer(s.FRAMEBUFFER,null),a===!0&&(s.bindFramebuffer(s.DRAW_FRAMEBUFFER,null),s.bindFramebuffer(s.READ_FRAMEBUFFER,null)),s.useProgram(null),s.lineWidth(1),s.scissor(0,0,s.canvas.width,s.canvas.height),s.viewport(0,0,s.canvas.width,s.canvas.height),h={},k=null,U={},u={},g=new WeakMap,f=[],i=null,p=!1,P=null,m=null,y=null,R=null,b=null,c=null,E=null,I=new ot(0,0,0),A=0,D=!1,O=null,l=null,o=null,v=null,T=null,Z.set(0,0,s.canvas.width,s.canvas.height),j.set(0,0,s.canvas.width,s.canvas.height),C.reset(),M.reset(),w.reset()}return{buffers:{color:C,depth:M,stencil:w},enable:ne,disable:le,bindFramebuffer:ie,drawBuffers:Y,useProgram:Q,setBlending:ae,setMaterial:ce,setFlipSided:ve,setCullFace:$,setLineWidth:H,setPolygonOffset:oe,setScissorTest:ue,activeTexture:fe,bindTexture:de,unbindTexture:Ee,compressedTexImage2D:xe,compressedTexImage3D:Te,texImage2D:ke,texImage3D:Le,updateUBOMapping:ct,uniformBlockBinding:rt,texStorage2D:$e,texStorage3D:qe,texSubImage2D:Me,texSubImage3D:Ve,compressedTexSubImage2D:Pe,compressedTexSubImage3D:Ke,scissor:Ue,viewport:Ge,reset:dt}}function VT(s,e,n,a,r,t,d){const C=r.isWebGL2,M=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,w=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),S=new WeakMap;let x;const h=new WeakMap;let u=!1;try{u=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g($,H){return u?new OffscreenCanvas($,H):As("canvas")}function f($,H,oe,ue){let fe=1;if(($.width>ue||$.height>ue)&&(fe=ue/Math.max($.width,$.height)),fe<1||H===!0)if(typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap){const de=H?wl:Math.floor,Ee=de(fe*$.width),xe=de(fe*$.height);x===void 0&&(x=g(Ee,xe));const Te=oe?g(Ee,xe):x;return Te.width=Ee,Te.height=xe,Te.getContext("2d").drawImage($,0,0,Ee,xe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+$.width+"x"+$.height+") to ("+Ee+"x"+xe+")."),Te}else return"data"in $&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+$.width+"x"+$.height+")."),$;return $}function i($){return Cd($.width)&&Cd($.height)}function p($){return C?!1:$.wrapS!==En||$.wrapT!==En||$.minFilter!==Xt&&$.minFilter!==nn}function P($,H){return $.generateMipmaps&&H&&$.minFilter!==Xt&&$.minFilter!==nn}function m($){s.generateMipmap($)}function y($,H,oe,ue,fe=!1){if(C===!1)return H;if($!==null){if(s[$]!==void 0)return s[$];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+$+"'")}let de=H;if(H===s.RED&&(oe===s.FLOAT&&(de=s.R32F),oe===s.HALF_FLOAT&&(de=s.R16F),oe===s.UNSIGNED_BYTE&&(de=s.R8)),H===s.RED_INTEGER&&(oe===s.UNSIGNED_BYTE&&(de=s.R8UI),oe===s.UNSIGNED_SHORT&&(de=s.R16UI),oe===s.UNSIGNED_INT&&(de=s.R32UI),oe===s.BYTE&&(de=s.R8I),oe===s.SHORT&&(de=s.R16I),oe===s.INT&&(de=s.R32I)),H===s.RG&&(oe===s.FLOAT&&(de=s.RG32F),oe===s.HALF_FLOAT&&(de=s.RG16F),oe===s.UNSIGNED_BYTE&&(de=s.RG8)),H===s.RGBA){const Ee=fe?Rs:bt.getTransfer(ue);oe===s.FLOAT&&(de=s.RGBA32F),oe===s.HALF_FLOAT&&(de=s.RGBA16F),oe===s.UNSIGNED_BYTE&&(de=Ee===xt?s.SRGB8_ALPHA8:s.RGBA8),oe===s.UNSIGNED_SHORT_4_4_4_4&&(de=s.RGBA4),oe===s.UNSIGNED_SHORT_5_5_5_1&&(de=s.RGB5_A1)}return(de===s.R16F||de===s.R32F||de===s.RG16F||de===s.RG32F||de===s.RGBA16F||de===s.RGBA32F)&&e.get("EXT_color_buffer_float"),de}function R($,H,oe){return P($,oe)===!0||$.isFramebufferTexture&&$.minFilter!==Xt&&$.minFilter!==nn?Math.log2(Math.max(H.width,H.height))+1:$.mipmaps!==void 0&&$.mipmaps.length>0?$.mipmaps.length:$.isCompressedTexture&&Array.isArray($.image)?H.mipmaps.length:1}function b($){return $===Xt||$===qc||$===Ki?s.NEAREST:s.LINEAR}function c($){const H=$.target;H.removeEventListener("dispose",c),I(H),H.isVideoTexture&&S.delete(H)}function E($){const H=$.target;H.removeEventListener("dispose",E),D(H)}function I($){const H=a.get($);if(H.__webglInit===void 0)return;const oe=$.source,ue=h.get(oe);if(ue){const fe=ue[H.__cacheKey];fe.usedTimes--,fe.usedTimes===0&&A($),Object.keys(ue).length===0&&h.delete(oe)}a.remove($)}function A($){const H=a.get($);s.deleteTexture(H.__webglTexture);const oe=$.source,ue=h.get(oe);delete ue[H.__cacheKey],d.memory.textures--}function D($){const H=$.texture,oe=a.get($),ue=a.get(H);if(ue.__webglTexture!==void 0&&(s.deleteTexture(ue.__webglTexture),d.memory.textures--),$.depthTexture&&$.depthTexture.dispose(),$.isWebGLCubeRenderTarget)for(let fe=0;fe<6;fe++){if(Array.isArray(oe.__webglFramebuffer[fe]))for(let de=0;de<oe.__webglFramebuffer[fe].length;de++)s.deleteFramebuffer(oe.__webglFramebuffer[fe][de]);else s.deleteFramebuffer(oe.__webglFramebuffer[fe]);oe.__webglDepthbuffer&&s.deleteRenderbuffer(oe.__webglDepthbuffer[fe])}else{if(Array.isArray(oe.__webglFramebuffer))for(let fe=0;fe<oe.__webglFramebuffer.length;fe++)s.deleteFramebuffer(oe.__webglFramebuffer[fe]);else s.deleteFramebuffer(oe.__webglFramebuffer);if(oe.__webglDepthbuffer&&s.deleteRenderbuffer(oe.__webglDepthbuffer),oe.__webglMultisampledFramebuffer&&s.deleteFramebuffer(oe.__webglMultisampledFramebuffer),oe.__webglColorRenderbuffer)for(let fe=0;fe<oe.__webglColorRenderbuffer.length;fe++)oe.__webglColorRenderbuffer[fe]&&s.deleteRenderbuffer(oe.__webglColorRenderbuffer[fe]);oe.__webglDepthRenderbuffer&&s.deleteRenderbuffer(oe.__webglDepthRenderbuffer)}if($.isWebGLMultipleRenderTargets)for(let fe=0,de=H.length;fe<de;fe++){const Ee=a.get(H[fe]);Ee.__webglTexture&&(s.deleteTexture(Ee.__webglTexture),d.memory.textures--),a.remove(H[fe])}a.remove(H),a.remove($)}let O=0;function l(){O=0}function o(){const $=O;return $>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+$+" texture units while this GPU supports only "+r.maxTextures),O+=1,$}function v($){const H=[];return H.push($.wrapS),H.push($.wrapT),H.push($.wrapR||0),H.push($.magFilter),H.push($.minFilter),H.push($.anisotropy),H.push($.internalFormat),H.push($.format),H.push($.type),H.push($.generateMipmaps),H.push($.premultiplyAlpha),H.push($.flipY),H.push($.unpackAlignment),H.push($.colorSpace),H.join()}function T($,H){const oe=a.get($);if($.isVideoTexture&&ce($),$.isRenderTargetTexture===!1&&$.version>0&&oe.__version!==$.version){const ue=$.image;if(ue===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ue.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Z(oe,$,H);return}}n.bindTexture(s.TEXTURE_2D,oe.__webglTexture,s.TEXTURE0+H)}function L($,H){const oe=a.get($);if($.version>0&&oe.__version!==$.version){Z(oe,$,H);return}n.bindTexture(s.TEXTURE_2D_ARRAY,oe.__webglTexture,s.TEXTURE0+H)}function V($,H){const oe=a.get($);if($.version>0&&oe.__version!==$.version){Z(oe,$,H);return}n.bindTexture(s.TEXTURE_3D,oe.__webglTexture,s.TEXTURE0+H)}function _($,H){const oe=a.get($);if($.version>0&&oe.__version!==$.version){j(oe,$,H);return}n.bindTexture(s.TEXTURE_CUBE_MAP,oe.__webglTexture,s.TEXTURE0+H)}const B={[Tl]:s.REPEAT,[En]:s.CLAMP_TO_EDGE,[Sl]:s.MIRRORED_REPEAT},k={[Xt]:s.NEAREST,[qc]:s.NEAREST_MIPMAP_NEAREST,[Ki]:s.NEAREST_MIPMAP_LINEAR,[nn]:s.LINEAR,[Ca]:s.LINEAR_MIPMAP_NEAREST,[zr]:s.LINEAR_MIPMAP_LINEAR},U={[wC]:s.NEVER,[VC]:s.ALWAYS,[OC]:s.LESS,[Xp]:s.LEQUAL,[IC]:s.EQUAL,[LC]:s.GEQUAL,[AC]:s.GREATER,[DC]:s.NOTEQUAL};function K($,H,oe){if(H.type===$n&&e.has("OES_texture_float_linear")===!1&&(H.magFilter===nn||H.magFilter===Ca||H.magFilter===Ki||H.magFilter===zr||H.minFilter===nn||H.minFilter===Ca||H.minFilter===Ki||H.minFilter===zr)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),oe?(s.texParameteri($,s.TEXTURE_WRAP_S,B[H.wrapS]),s.texParameteri($,s.TEXTURE_WRAP_T,B[H.wrapT]),($===s.TEXTURE_3D||$===s.TEXTURE_2D_ARRAY)&&s.texParameteri($,s.TEXTURE_WRAP_R,B[H.wrapR]),s.texParameteri($,s.TEXTURE_MAG_FILTER,k[H.magFilter]),s.texParameteri($,s.TEXTURE_MIN_FILTER,k[H.minFilter])):(s.texParameteri($,s.TEXTURE_WRAP_S,s.CLAMP_TO_EDGE),s.texParameteri($,s.TEXTURE_WRAP_T,s.CLAMP_TO_EDGE),($===s.TEXTURE_3D||$===s.TEXTURE_2D_ARRAY)&&s.texParameteri($,s.TEXTURE_WRAP_R,s.CLAMP_TO_EDGE),(H.wrapS!==En||H.wrapT!==En)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),s.texParameteri($,s.TEXTURE_MAG_FILTER,b(H.magFilter)),s.texParameteri($,s.TEXTURE_MIN_FILTER,b(H.minFilter)),H.minFilter!==Xt&&H.minFilter!==nn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),H.compareFunction&&(s.texParameteri($,s.TEXTURE_COMPARE_MODE,s.COMPARE_REF_TO_TEXTURE),s.texParameteri($,s.TEXTURE_COMPARE_FUNC,U[H.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const ue=e.get("EXT_texture_filter_anisotropic");if(H.magFilter===Xt||H.minFilter!==Ki&&H.minFilter!==zr||H.type===$n&&e.has("OES_texture_float_linear")===!1||C===!1&&H.type===yo&&e.has("OES_texture_half_float_linear")===!1)return;(H.anisotropy>1||a.get(H).__currentAnisotropy)&&(s.texParameterf($,ue.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(H.anisotropy,r.getMaxAnisotropy())),a.get(H).__currentAnisotropy=H.anisotropy)}}function q($,H){let oe=!1;$.__webglInit===void 0&&($.__webglInit=!0,H.addEventListener("dispose",c));const ue=H.source;let fe=h.get(ue);fe===void 0&&(fe={},h.set(ue,fe));const de=v(H);if(de!==$.__cacheKey){fe[de]===void 0&&(fe[de]={texture:s.createTexture(),usedTimes:0},d.memory.textures++,oe=!0),fe[de].usedTimes++;const Ee=fe[$.__cacheKey];Ee!==void 0&&(fe[$.__cacheKey].usedTimes--,Ee.usedTimes===0&&A(H)),$.__cacheKey=de,$.__webglTexture=fe[de].texture}return oe}function Z($,H,oe){let ue=s.TEXTURE_2D;(H.isDataArrayTexture||H.isCompressedArrayTexture)&&(ue=s.TEXTURE_2D_ARRAY),H.isData3DTexture&&(ue=s.TEXTURE_3D);const fe=q($,H),de=H.source;n.bindTexture(ue,$.__webglTexture,s.TEXTURE0+oe);const Ee=a.get(de);if(de.version!==Ee.__version||fe===!0){n.activeTexture(s.TEXTURE0+oe);const xe=bt.getPrimaries(bt.workingColorSpace),Te=H.colorSpace===hn?null:bt.getPrimaries(H.colorSpace),Me=H.colorSpace===hn||xe===Te?s.NONE:s.BROWSER_DEFAULT_WEBGL;s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,H.flipY),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),s.pixelStorei(s.UNPACK_ALIGNMENT,H.unpackAlignment),s.pixelStorei(s.UNPACK_COLORSPACE_CONVERSION_WEBGL,Me);const Ve=p(H)&&i(H.image)===!1;let Pe=f(H.image,Ve,!1,r.maxTextureSize);Pe=ve(H,Pe);const Ke=i(Pe)||C,$e=t.convert(H.format,H.colorSpace);let qe=t.convert(H.type),ke=y(H.internalFormat,$e,qe,H.colorSpace,H.isVideoTexture);K(ue,H,Ke);let Le;const Ue=H.mipmaps,Ge=C&&H.isVideoTexture!==!0&&ke!==Qp,ct=Ee.__version===void 0||fe===!0,rt=de.dataReady,dt=R(H,Pe,Ke);if(H.isDepthTexture)ke=s.DEPTH_COMPONENT,C?H.type===$n?ke=s.DEPTH_COMPONENT32F:H.type===gr?ke=s.DEPTH_COMPONENT24:H.type===Wr?ke=s.DEPTH24_STENCIL8:ke=s.DEPTH_COMPONENT16:H.type===$n&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),H.format===qr&&ke===s.DEPTH_COMPONENT&&H.type!==nu&&H.type!==gr&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),H.type=gr,qe=t.convert(H.type)),H.format===_i&&ke===s.DEPTH_COMPONENT&&(ke=s.DEPTH_STENCIL,H.type!==Wr&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),H.type=Wr,qe=t.convert(H.type))),ct&&(Ge?n.texStorage2D(s.TEXTURE_2D,1,ke,Pe.width,Pe.height):n.texImage2D(s.TEXTURE_2D,0,ke,Pe.width,Pe.height,0,$e,qe,null));else if(H.isDataTexture)if(Ue.length>0&&Ke){Ge&&ct&&n.texStorage2D(s.TEXTURE_2D,dt,ke,Ue[0].width,Ue[0].height);for(let se=0,Re=Ue.length;se<Re;se++)Le=Ue[se],Ge?rt&&n.texSubImage2D(s.TEXTURE_2D,se,0,0,Le.width,Le.height,$e,qe,Le.data):n.texImage2D(s.TEXTURE_2D,se,ke,Le.width,Le.height,0,$e,qe,Le.data);H.generateMipmaps=!1}else Ge?(ct&&n.texStorage2D(s.TEXTURE_2D,dt,ke,Pe.width,Pe.height),rt&&n.texSubImage2D(s.TEXTURE_2D,0,0,0,Pe.width,Pe.height,$e,qe,Pe.data)):n.texImage2D(s.TEXTURE_2D,0,ke,Pe.width,Pe.height,0,$e,qe,Pe.data);else if(H.isCompressedTexture)if(H.isCompressedArrayTexture){Ge&&ct&&n.texStorage3D(s.TEXTURE_2D_ARRAY,dt,ke,Ue[0].width,Ue[0].height,Pe.depth);for(let se=0,Re=Ue.length;se<Re;se++)Le=Ue[se],H.format!==Pn?$e!==null?Ge?rt&&n.compressedTexSubImage3D(s.TEXTURE_2D_ARRAY,se,0,0,0,Le.width,Le.height,Pe.depth,$e,Le.data,0,0):n.compressedTexImage3D(s.TEXTURE_2D_ARRAY,se,ke,Le.width,Le.height,Pe.depth,0,Le.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ge?rt&&n.texSubImage3D(s.TEXTURE_2D_ARRAY,se,0,0,0,Le.width,Le.height,Pe.depth,$e,qe,Le.data):n.texImage3D(s.TEXTURE_2D_ARRAY,se,ke,Le.width,Le.height,Pe.depth,0,$e,qe,Le.data)}else{Ge&&ct&&n.texStorage2D(s.TEXTURE_2D,dt,ke,Ue[0].width,Ue[0].height);for(let se=0,Re=Ue.length;se<Re;se++)Le=Ue[se],H.format!==Pn?$e!==null?Ge?rt&&n.compressedTexSubImage2D(s.TEXTURE_2D,se,0,0,Le.width,Le.height,$e,Le.data):n.compressedTexImage2D(s.TEXTURE_2D,se,ke,Le.width,Le.height,0,Le.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ge?rt&&n.texSubImage2D(s.TEXTURE_2D,se,0,0,Le.width,Le.height,$e,qe,Le.data):n.texImage2D(s.TEXTURE_2D,se,ke,Le.width,Le.height,0,$e,qe,Le.data)}else if(H.isDataArrayTexture)Ge?(ct&&n.texStorage3D(s.TEXTURE_2D_ARRAY,dt,ke,Pe.width,Pe.height,Pe.depth),rt&&n.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,0,Pe.width,Pe.height,Pe.depth,$e,qe,Pe.data)):n.texImage3D(s.TEXTURE_2D_ARRAY,0,ke,Pe.width,Pe.height,Pe.depth,0,$e,qe,Pe.data);else if(H.isData3DTexture)Ge?(ct&&n.texStorage3D(s.TEXTURE_3D,dt,ke,Pe.width,Pe.height,Pe.depth),rt&&n.texSubImage3D(s.TEXTURE_3D,0,0,0,0,Pe.width,Pe.height,Pe.depth,$e,qe,Pe.data)):n.texImage3D(s.TEXTURE_3D,0,ke,Pe.width,Pe.height,Pe.depth,0,$e,qe,Pe.data);else if(H.isFramebufferTexture){if(ct)if(Ge)n.texStorage2D(s.TEXTURE_2D,dt,ke,Pe.width,Pe.height);else{let se=Pe.width,Re=Pe.height;for(let we=0;we<dt;we++)n.texImage2D(s.TEXTURE_2D,we,ke,se,Re,0,$e,qe,null),se>>=1,Re>>=1}}else if(Ue.length>0&&Ke){Ge&&ct&&n.texStorage2D(s.TEXTURE_2D,dt,ke,Ue[0].width,Ue[0].height);for(let se=0,Re=Ue.length;se<Re;se++)Le=Ue[se],Ge?rt&&n.texSubImage2D(s.TEXTURE_2D,se,0,0,$e,qe,Le):n.texImage2D(s.TEXTURE_2D,se,ke,$e,qe,Le);H.generateMipmaps=!1}else Ge?(ct&&n.texStorage2D(s.TEXTURE_2D,dt,ke,Pe.width,Pe.height),rt&&n.texSubImage2D(s.TEXTURE_2D,0,0,0,$e,qe,Pe)):n.texImage2D(s.TEXTURE_2D,0,ke,$e,qe,Pe);P(H,Ke)&&m(ue),Ee.__version=de.version,H.onUpdate&&H.onUpdate(H)}$.__version=H.version}function j($,H,oe){if(H.image.length!==6)return;const ue=q($,H),fe=H.source;n.bindTexture(s.TEXTURE_CUBE_MAP,$.__webglTexture,s.TEXTURE0+oe);const de=a.get(fe);if(fe.version!==de.__version||ue===!0){n.activeTexture(s.TEXTURE0+oe);const Ee=bt.getPrimaries(bt.workingColorSpace),xe=H.colorSpace===hn?null:bt.getPrimaries(H.colorSpace),Te=H.colorSpace===hn||Ee===xe?s.NONE:s.BROWSER_DEFAULT_WEBGL;s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,H.flipY),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),s.pixelStorei(s.UNPACK_ALIGNMENT,H.unpackAlignment),s.pixelStorei(s.UNPACK_COLORSPACE_CONVERSION_WEBGL,Te);const Me=H.isCompressedTexture||H.image[0].isCompressedTexture,Ve=H.image[0]&&H.image[0].isDataTexture,Pe=[];for(let se=0;se<6;se++)!Me&&!Ve?Pe[se]=f(H.image[se],!1,!0,r.maxCubemapSize):Pe[se]=Ve?H.image[se].image:H.image[se],Pe[se]=ve(H,Pe[se]);const Ke=Pe[0],$e=i(Ke)||C,qe=t.convert(H.format,H.colorSpace),ke=t.convert(H.type),Le=y(H.internalFormat,qe,ke,H.colorSpace),Ue=C&&H.isVideoTexture!==!0,Ge=de.__version===void 0||ue===!0,ct=fe.dataReady;let rt=R(H,Ke,$e);K(s.TEXTURE_CUBE_MAP,H,$e);let dt;if(Me){Ue&&Ge&&n.texStorage2D(s.TEXTURE_CUBE_MAP,rt,Le,Ke.width,Ke.height);for(let se=0;se<6;se++){dt=Pe[se].mipmaps;for(let Re=0;Re<dt.length;Re++){const we=dt[Re];H.format!==Pn?qe!==null?Ue?ct&&n.compressedTexSubImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+se,Re,0,0,we.width,we.height,qe,we.data):n.compressedTexImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+se,Re,Le,we.width,we.height,0,we.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ue?ct&&n.texSubImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+se,Re,0,0,we.width,we.height,qe,ke,we.data):n.texImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+se,Re,Le,we.width,we.height,0,qe,ke,we.data)}}}else{dt=H.mipmaps,Ue&&Ge&&(dt.length>0&&rt++,n.texStorage2D(s.TEXTURE_CUBE_MAP,rt,Le,Pe[0].width,Pe[0].height));for(let se=0;se<6;se++)if(Ve){Ue?ct&&n.texSubImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+se,0,0,0,Pe[se].width,Pe[se].height,qe,ke,Pe[se].data):n.texImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+se,0,Le,Pe[se].width,Pe[se].height,0,qe,ke,Pe[se].data);for(let Re=0;Re<dt.length;Re++){const Fe=dt[Re].image[se].image;Ue?ct&&n.texSubImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+se,Re+1,0,0,Fe.width,Fe.height,qe,ke,Fe.data):n.texImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+se,Re+1,Le,Fe.width,Fe.height,0,qe,ke,Fe.data)}}else{Ue?ct&&n.texSubImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+se,0,0,0,qe,ke,Pe[se]):n.texImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+se,0,Le,qe,ke,Pe[se]);for(let Re=0;Re<dt.length;Re++){const we=dt[Re];Ue?ct&&n.texSubImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+se,Re+1,0,0,qe,ke,we.image[se]):n.texImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+se,Re+1,Le,qe,ke,we.image[se])}}}P(H,$e)&&m(s.TEXTURE_CUBE_MAP),de.__version=fe.version,H.onUpdate&&H.onUpdate(H)}$.__version=H.version}function G($,H,oe,ue,fe,de){const Ee=t.convert(oe.format,oe.colorSpace),xe=t.convert(oe.type),Te=y(oe.internalFormat,Ee,xe,oe.colorSpace);if(!a.get(H).__hasExternalTextures){const Ve=Math.max(1,H.width>>de),Pe=Math.max(1,H.height>>de);fe===s.TEXTURE_3D||fe===s.TEXTURE_2D_ARRAY?n.texImage3D(fe,de,Te,Ve,Pe,H.depth,0,Ee,xe,null):n.texImage2D(fe,de,Te,Ve,Pe,0,Ee,xe,null)}n.bindFramebuffer(s.FRAMEBUFFER,$),ae(H)?M.framebufferTexture2DMultisampleEXT(s.FRAMEBUFFER,ue,fe,a.get(oe).__webglTexture,0,re(H)):(fe===s.TEXTURE_2D||fe>=s.TEXTURE_CUBE_MAP_POSITIVE_X&&fe<=s.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&s.framebufferTexture2D(s.FRAMEBUFFER,ue,fe,a.get(oe).__webglTexture,de),n.bindFramebuffer(s.FRAMEBUFFER,null)}function X($,H,oe){if(s.bindRenderbuffer(s.RENDERBUFFER,$),H.depthBuffer&&!H.stencilBuffer){let ue=C===!0?s.DEPTH_COMPONENT24:s.DEPTH_COMPONENT16;if(oe||ae(H)){const fe=H.depthTexture;fe&&fe.isDepthTexture&&(fe.type===$n?ue=s.DEPTH_COMPONENT32F:fe.type===gr&&(ue=s.DEPTH_COMPONENT24));const de=re(H);ae(H)?M.renderbufferStorageMultisampleEXT(s.RENDERBUFFER,de,ue,H.width,H.height):s.renderbufferStorageMultisample(s.RENDERBUFFER,de,ue,H.width,H.height)}else s.renderbufferStorage(s.RENDERBUFFER,ue,H.width,H.height);s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.RENDERBUFFER,$)}else if(H.depthBuffer&&H.stencilBuffer){const ue=re(H);oe&&ae(H)===!1?s.renderbufferStorageMultisample(s.RENDERBUFFER,ue,s.DEPTH24_STENCIL8,H.width,H.height):ae(H)?M.renderbufferStorageMultisampleEXT(s.RENDERBUFFER,ue,s.DEPTH24_STENCIL8,H.width,H.height):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,H.width,H.height),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,$)}else{const ue=H.isWebGLMultipleRenderTargets===!0?H.texture:[H.texture];for(let fe=0;fe<ue.length;fe++){const de=ue[fe],Ee=t.convert(de.format,de.colorSpace),xe=t.convert(de.type),Te=y(de.internalFormat,Ee,xe,de.colorSpace),Me=re(H);oe&&ae(H)===!1?s.renderbufferStorageMultisample(s.RENDERBUFFER,Me,Te,H.width,H.height):ae(H)?M.renderbufferStorageMultisampleEXT(s.RENDERBUFFER,Me,Te,H.width,H.height):s.renderbufferStorage(s.RENDERBUFFER,Te,H.width,H.height)}}s.bindRenderbuffer(s.RENDERBUFFER,null)}function ne($,H){if(H&&H.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(s.FRAMEBUFFER,$),!(H.depthTexture&&H.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!a.get(H.depthTexture).__webglTexture||H.depthTexture.image.width!==H.width||H.depthTexture.image.height!==H.height)&&(H.depthTexture.image.width=H.width,H.depthTexture.image.height=H.height,H.depthTexture.needsUpdate=!0),T(H.depthTexture,0);const ue=a.get(H.depthTexture).__webglTexture,fe=re(H);if(H.depthTexture.format===qr)ae(H)?M.framebufferTexture2DMultisampleEXT(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.TEXTURE_2D,ue,0,fe):s.framebufferTexture2D(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.TEXTURE_2D,ue,0);else if(H.depthTexture.format===_i)ae(H)?M.framebufferTexture2DMultisampleEXT(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.TEXTURE_2D,ue,0,fe):s.framebufferTexture2D(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.TEXTURE_2D,ue,0);else throw new Error("Unknown depthTexture format")}function le($){const H=a.get($),oe=$.isWebGLCubeRenderTarget===!0;if($.depthTexture&&!H.__autoAllocateDepthBuffer){if(oe)throw new Error("target.depthTexture not supported in Cube render targets");ne(H.__webglFramebuffer,$)}else if(oe){H.__webglDepthbuffer=[];for(let ue=0;ue<6;ue++)n.bindFramebuffer(s.FRAMEBUFFER,H.__webglFramebuffer[ue]),H.__webglDepthbuffer[ue]=s.createRenderbuffer(),X(H.__webglDepthbuffer[ue],$,!1)}else n.bindFramebuffer(s.FRAMEBUFFER,H.__webglFramebuffer),H.__webglDepthbuffer=s.createRenderbuffer(),X(H.__webglDepthbuffer,$,!1);n.bindFramebuffer(s.FRAMEBUFFER,null)}function ie($,H,oe){const ue=a.get($);H!==void 0&&G(ue.__webglFramebuffer,$,$.texture,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,0),oe!==void 0&&le($)}function Y($){const H=$.texture,oe=a.get($),ue=a.get(H);$.addEventListener("dispose",E),$.isWebGLMultipleRenderTargets!==!0&&(ue.__webglTexture===void 0&&(ue.__webglTexture=s.createTexture()),ue.__version=H.version,d.memory.textures++);const fe=$.isWebGLCubeRenderTarget===!0,de=$.isWebGLMultipleRenderTargets===!0,Ee=i($)||C;if(fe){oe.__webglFramebuffer=[];for(let xe=0;xe<6;xe++)if(C&&H.mipmaps&&H.mipmaps.length>0){oe.__webglFramebuffer[xe]=[];for(let Te=0;Te<H.mipmaps.length;Te++)oe.__webglFramebuffer[xe][Te]=s.createFramebuffer()}else oe.__webglFramebuffer[xe]=s.createFramebuffer()}else{if(C&&H.mipmaps&&H.mipmaps.length>0){oe.__webglFramebuffer=[];for(let xe=0;xe<H.mipmaps.length;xe++)oe.__webglFramebuffer[xe]=s.createFramebuffer()}else oe.__webglFramebuffer=s.createFramebuffer();if(de)if(r.drawBuffers){const xe=$.texture;for(let Te=0,Me=xe.length;Te<Me;Te++){const Ve=a.get(xe[Te]);Ve.__webglTexture===void 0&&(Ve.__webglTexture=s.createTexture(),d.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(C&&$.samples>0&&ae($)===!1){const xe=de?H:[H];oe.__webglMultisampledFramebuffer=s.createFramebuffer(),oe.__webglColorRenderbuffer=[],n.bindFramebuffer(s.FRAMEBUFFER,oe.__webglMultisampledFramebuffer);for(let Te=0;Te<xe.length;Te++){const Me=xe[Te];oe.__webglColorRenderbuffer[Te]=s.createRenderbuffer(),s.bindRenderbuffer(s.RENDERBUFFER,oe.__webglColorRenderbuffer[Te]);const Ve=t.convert(Me.format,Me.colorSpace),Pe=t.convert(Me.type),Ke=y(Me.internalFormat,Ve,Pe,Me.colorSpace,$.isXRRenderTarget===!0),$e=re($);s.renderbufferStorageMultisample(s.RENDERBUFFER,$e,Ke,$.width,$.height),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0+Te,s.RENDERBUFFER,oe.__webglColorRenderbuffer[Te])}s.bindRenderbuffer(s.RENDERBUFFER,null),$.depthBuffer&&(oe.__webglDepthRenderbuffer=s.createRenderbuffer(),X(oe.__webglDepthRenderbuffer,$,!0)),n.bindFramebuffer(s.FRAMEBUFFER,null)}}if(fe){n.bindTexture(s.TEXTURE_CUBE_MAP,ue.__webglTexture),K(s.TEXTURE_CUBE_MAP,H,Ee);for(let xe=0;xe<6;xe++)if(C&&H.mipmaps&&H.mipmaps.length>0)for(let Te=0;Te<H.mipmaps.length;Te++)G(oe.__webglFramebuffer[xe][Te],$,H,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+xe,Te);else G(oe.__webglFramebuffer[xe],$,H,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+xe,0);P(H,Ee)&&m(s.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(de){const xe=$.texture;for(let Te=0,Me=xe.length;Te<Me;Te++){const Ve=xe[Te],Pe=a.get(Ve);n.bindTexture(s.TEXTURE_2D,Pe.__webglTexture),K(s.TEXTURE_2D,Ve,Ee),G(oe.__webglFramebuffer,$,Ve,s.COLOR_ATTACHMENT0+Te,s.TEXTURE_2D,0),P(Ve,Ee)&&m(s.TEXTURE_2D)}n.unbindTexture()}else{let xe=s.TEXTURE_2D;if(($.isWebGL3DRenderTarget||$.isWebGLArrayRenderTarget)&&(C?xe=$.isWebGL3DRenderTarget?s.TEXTURE_3D:s.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(xe,ue.__webglTexture),K(xe,H,Ee),C&&H.mipmaps&&H.mipmaps.length>0)for(let Te=0;Te<H.mipmaps.length;Te++)G(oe.__webglFramebuffer[Te],$,H,s.COLOR_ATTACHMENT0,xe,Te);else G(oe.__webglFramebuffer,$,H,s.COLOR_ATTACHMENT0,xe,0);P(H,Ee)&&m(xe),n.unbindTexture()}$.depthBuffer&&le($)}function Q($){const H=i($)||C,oe=$.isWebGLMultipleRenderTargets===!0?$.texture:[$.texture];for(let ue=0,fe=oe.length;ue<fe;ue++){const de=oe[ue];if(P(de,H)){const Ee=$.isWebGLCubeRenderTarget?s.TEXTURE_CUBE_MAP:s.TEXTURE_2D,xe=a.get(de).__webglTexture;n.bindTexture(Ee,xe),m(Ee),n.unbindTexture()}}}function J($){if(C&&$.samples>0&&ae($)===!1){const H=$.isWebGLMultipleRenderTargets?$.texture:[$.texture],oe=$.width,ue=$.height;let fe=s.COLOR_BUFFER_BIT;const de=[],Ee=$.stencilBuffer?s.DEPTH_STENCIL_ATTACHMENT:s.DEPTH_ATTACHMENT,xe=a.get($),Te=$.isWebGLMultipleRenderTargets===!0;if(Te)for(let Me=0;Me<H.length;Me++)n.bindFramebuffer(s.FRAMEBUFFER,xe.__webglMultisampledFramebuffer),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0+Me,s.RENDERBUFFER,null),n.bindFramebuffer(s.FRAMEBUFFER,xe.__webglFramebuffer),s.framebufferTexture2D(s.DRAW_FRAMEBUFFER,s.COLOR_ATTACHMENT0+Me,s.TEXTURE_2D,null,0);n.bindFramebuffer(s.READ_FRAMEBUFFER,xe.__webglMultisampledFramebuffer),n.bindFramebuffer(s.DRAW_FRAMEBUFFER,xe.__webglFramebuffer);for(let Me=0;Me<H.length;Me++){de.push(s.COLOR_ATTACHMENT0+Me),$.depthBuffer&&de.push(Ee);const Ve=xe.__ignoreDepthValues!==void 0?xe.__ignoreDepthValues:!1;if(Ve===!1&&($.depthBuffer&&(fe|=s.DEPTH_BUFFER_BIT),$.stencilBuffer&&(fe|=s.STENCIL_BUFFER_BIT)),Te&&s.framebufferRenderbuffer(s.READ_FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.RENDERBUFFER,xe.__webglColorRenderbuffer[Me]),Ve===!0&&(s.invalidateFramebuffer(s.READ_FRAMEBUFFER,[Ee]),s.invalidateFramebuffer(s.DRAW_FRAMEBUFFER,[Ee])),Te){const Pe=a.get(H[Me]).__webglTexture;s.framebufferTexture2D(s.DRAW_FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,Pe,0)}s.blitFramebuffer(0,0,oe,ue,0,0,oe,ue,fe,s.NEAREST),w&&s.invalidateFramebuffer(s.READ_FRAMEBUFFER,de)}if(n.bindFramebuffer(s.READ_FRAMEBUFFER,null),n.bindFramebuffer(s.DRAW_FRAMEBUFFER,null),Te)for(let Me=0;Me<H.length;Me++){n.bindFramebuffer(s.FRAMEBUFFER,xe.__webglMultisampledFramebuffer),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0+Me,s.RENDERBUFFER,xe.__webglColorRenderbuffer[Me]);const Ve=a.get(H[Me]).__webglTexture;n.bindFramebuffer(s.FRAMEBUFFER,xe.__webglFramebuffer),s.framebufferTexture2D(s.DRAW_FRAMEBUFFER,s.COLOR_ATTACHMENT0+Me,s.TEXTURE_2D,Ve,0)}n.bindFramebuffer(s.DRAW_FRAMEBUFFER,xe.__webglMultisampledFramebuffer)}}function re($){return Math.min(r.maxSamples,$.samples)}function ae($){const H=a.get($);return C&&$.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&H.__useRenderToTexture!==!1}function ce($){const H=d.render.frame;S.get($)!==H&&(S.set($,H),$.update())}function ve($,H){const oe=$.colorSpace,ue=$.format,fe=$.type;return $.isCompressedTexture===!0||$.isVideoTexture===!0||$.format===Ml||oe!==Zn&&oe!==hn&&(bt.getTransfer(oe)===xt?C===!1?e.has("EXT_sRGB")===!0&&ue===Pn?($.format=Ml,$.minFilter=nn,$.generateMipmaps=!1):H=Yp.sRGBToLinear(H):(ue!==Pn||fe!==Er)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",oe)),H}this.allocateTextureUnit=o,this.resetTextureUnits=l,this.setTexture2D=T,this.setTexture2DArray=L,this.setTexture3D=V,this.setTextureCube=_,this.rebindTextures=ie,this.setupRenderTarget=Y,this.updateRenderTargetMipmap=Q,this.updateMultisampleRenderTarget=J,this.setupDepthRenderbuffer=le,this.setupFrameBufferTexture=G,this.useMultisampledRTT=ae}function _T(s,e,n){const a=n.isWebGL2;function r(t,d=hn){let C;const M=bt.getTransfer(d);if(t===Er)return s.UNSIGNED_BYTE;if(t===jp)return s.UNSIGNED_SHORT_4_4_4_4;if(t===Hp)return s.UNSIGNED_SHORT_5_5_5_1;if(t===vC)return s.BYTE;if(t===yC)return s.SHORT;if(t===nu)return s.UNSIGNED_SHORT;if(t===zp)return s.INT;if(t===gr)return s.UNSIGNED_INT;if(t===$n)return s.FLOAT;if(t===yo)return a?s.HALF_FLOAT:(C=e.get("OES_texture_half_float"),C!==null?C.HALF_FLOAT_OES:null);if(t===bC)return s.ALPHA;if(t===Pn)return s.RGBA;if(t===CC)return s.LUMINANCE;if(t===xC)return s.LUMINANCE_ALPHA;if(t===qr)return s.DEPTH_COMPONENT;if(t===_i)return s.DEPTH_STENCIL;if(t===Ml)return C=e.get("EXT_sRGB"),C!==null?C.SRGB_ALPHA_EXT:null;if(t===EC)return s.RED;if(t===Wp)return s.RED_INTEGER;if(t===PC)return s.RG;if(t===qp)return s.RG_INTEGER;if(t===Gp)return s.RGBA_INTEGER;if(t===xa||t===Ea||t===Pa||t===Ta)if(M===xt)if(C=e.get("WEBGL_compressed_texture_s3tc_srgb"),C!==null){if(t===xa)return C.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(t===Ea)return C.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(t===Pa)return C.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(t===Ta)return C.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(C=e.get("WEBGL_compressed_texture_s3tc"),C!==null){if(t===xa)return C.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===Ea)return C.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===Pa)return C.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===Ta)return C.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(t===Gc||t===Qc||t===$c||t===Kc)if(C=e.get("WEBGL_compressed_texture_pvrtc"),C!==null){if(t===Gc)return C.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===Qc)return C.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===$c)return C.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===Kc)return C.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(t===Qp)return C=e.get("WEBGL_compressed_texture_etc1"),C!==null?C.COMPRESSED_RGB_ETC1_WEBGL:null;if(t===Xc||t===Jc)if(C=e.get("WEBGL_compressed_texture_etc"),C!==null){if(t===Xc)return M===xt?C.COMPRESSED_SRGB8_ETC2:C.COMPRESSED_RGB8_ETC2;if(t===Jc)return M===xt?C.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:C.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(t===Yc||t===Zc||t===ed||t===td||t===nd||t===rd||t===id||t===od||t===sd||t===ad||t===ld||t===ud||t===cd||t===dd)if(C=e.get("WEBGL_compressed_texture_astc"),C!==null){if(t===Yc)return M===xt?C.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:C.COMPRESSED_RGBA_ASTC_4x4_KHR;if(t===Zc)return M===xt?C.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:C.COMPRESSED_RGBA_ASTC_5x4_KHR;if(t===ed)return M===xt?C.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:C.COMPRESSED_RGBA_ASTC_5x5_KHR;if(t===td)return M===xt?C.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:C.COMPRESSED_RGBA_ASTC_6x5_KHR;if(t===nd)return M===xt?C.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:C.COMPRESSED_RGBA_ASTC_6x6_KHR;if(t===rd)return M===xt?C.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:C.COMPRESSED_RGBA_ASTC_8x5_KHR;if(t===id)return M===xt?C.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:C.COMPRESSED_RGBA_ASTC_8x6_KHR;if(t===od)return M===xt?C.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:C.COMPRESSED_RGBA_ASTC_8x8_KHR;if(t===sd)return M===xt?C.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:C.COMPRESSED_RGBA_ASTC_10x5_KHR;if(t===ad)return M===xt?C.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:C.COMPRESSED_RGBA_ASTC_10x6_KHR;if(t===ld)return M===xt?C.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:C.COMPRESSED_RGBA_ASTC_10x8_KHR;if(t===ud)return M===xt?C.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:C.COMPRESSED_RGBA_ASTC_10x10_KHR;if(t===cd)return M===xt?C.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:C.COMPRESSED_RGBA_ASTC_12x10_KHR;if(t===dd)return M===xt?C.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:C.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(t===Sa||t===fd||t===pd)if(C=e.get("EXT_texture_compression_bptc"),C!==null){if(t===Sa)return M===xt?C.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:C.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(t===fd)return C.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(t===pd)return C.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(t===TC||t===hd||t===md||t===gd)if(C=e.get("EXT_texture_compression_rgtc"),C!==null){if(t===Sa)return C.COMPRESSED_RED_RGTC1_EXT;if(t===hd)return C.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(t===md)return C.COMPRESSED_RED_GREEN_RGTC2_EXT;if(t===gd)return C.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return t===Wr?a?s.UNSIGNED_INT_24_8:(C=e.get("WEBGL_depth_texture"),C!==null?C.UNSIGNED_INT_24_8_WEBGL:null):s[t]!==void 0?s[t]:null}return{convert:r}}class BT extends pn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class cs extends Ft{constructor(){super(),this.isGroup=!0,this.type="Group"}}const NT={type:"move"};class Xa{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new cs,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new cs,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new me,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new me),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new cs,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new me,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new me),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const a of e.hand.values())this._getHandJoint(n,a)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,a){let r=null,t=null,d=null;const C=this._targetRay,M=this._grip,w=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(w&&e.hand){d=!0;for(const f of e.hand.values()){const i=n.getJointPose(f,a),p=this._getHandJoint(w,f);i!==null&&(p.matrix.fromArray(i.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.matrixWorldNeedsUpdate=!0,p.jointRadius=i.radius),p.visible=i!==null}const S=w.joints["index-finger-tip"],x=w.joints["thumb-tip"],h=S.position.distanceTo(x.position),u=.02,g=.005;w.inputState.pinching&&h>u+g?(w.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!w.inputState.pinching&&h<=u-g&&(w.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else M!==null&&e.gripSpace&&(t=n.getPose(e.gripSpace,a),t!==null&&(M.matrix.fromArray(t.transform.matrix),M.matrix.decompose(M.position,M.rotation,M.scale),M.matrixWorldNeedsUpdate=!0,t.linearVelocity?(M.hasLinearVelocity=!0,M.linearVelocity.copy(t.linearVelocity)):M.hasLinearVelocity=!1,t.angularVelocity?(M.hasAngularVelocity=!0,M.angularVelocity.copy(t.angularVelocity)):M.hasAngularVelocity=!1));C!==null&&(r=n.getPose(e.targetRaySpace,a),r===null&&t!==null&&(r=t),r!==null&&(C.matrix.fromArray(r.transform.matrix),C.matrix.decompose(C.position,C.rotation,C.scale),C.matrixWorldNeedsUpdate=!0,r.linearVelocity?(C.hasLinearVelocity=!0,C.linearVelocity.copy(r.linearVelocity)):C.hasLinearVelocity=!1,r.angularVelocity?(C.hasAngularVelocity=!0,C.angularVelocity.copy(r.angularVelocity)):C.hasAngularVelocity=!1,this.dispatchEvent(NT)))}return C!==null&&(C.visible=r!==null),M!==null&&(M.visible=t!==null),w!==null&&(w.visible=d!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const a=new cs;a.matrixAutoUpdate=!1,a.visible=!1,e.joints[n.jointName]=a,e.add(a)}return e.joints[n.jointName]}}const kT=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,FT=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class UT{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,a){if(this.texture===null){const r=new on,t=e.properties.get(r);t.__webglTexture=n.texture,(n.depthNear!=a.depthNear||n.depthFar!=a.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=r}}render(e,n){if(this.texture!==null){if(this.mesh===null){const a=n.cameras[0].viewport,r=new Sr({extensions:{fragDepth:!0},vertexShader:kT,fragmentShader:FT,uniforms:{depthColor:{value:this.texture},depthWidth:{value:a.z},depthHeight:{value:a.w}}});this.mesh=new Xn(new Xs(20,20),r)}e.render(this.mesh,n)}}reset(){this.texture=null,this.mesh=null}}class zT extends ki{constructor(e,n){super();const a=this;let r=null,t=1,d=null,C="local-floor",M=1,w=null,S=null,x=null,h=null,u=null,g=null;const f=new UT,i=n.getContextAttributes();let p=null,P=null;const m=[],y=[],R=new lt;let b=null;const c=new pn;c.layers.enable(1),c.viewport=new Tt;const E=new pn;E.layers.enable(2),E.viewport=new Tt;const I=[c,E],A=new BT;A.layers.enable(1),A.layers.enable(2);let D=null,O=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(q){let Z=m[q];return Z===void 0&&(Z=new Xa,m[q]=Z),Z.getTargetRaySpace()},this.getControllerGrip=function(q){let Z=m[q];return Z===void 0&&(Z=new Xa,m[q]=Z),Z.getGripSpace()},this.getHand=function(q){let Z=m[q];return Z===void 0&&(Z=new Xa,m[q]=Z),Z.getHandSpace()};function l(q){const Z=y.indexOf(q.inputSource);if(Z===-1)return;const j=m[Z];j!==void 0&&(j.update(q.inputSource,q.frame,w||d),j.dispatchEvent({type:q.type,data:q.inputSource}))}function o(){r.removeEventListener("select",l),r.removeEventListener("selectstart",l),r.removeEventListener("selectend",l),r.removeEventListener("squeeze",l),r.removeEventListener("squeezestart",l),r.removeEventListener("squeezeend",l),r.removeEventListener("end",o),r.removeEventListener("inputsourceschange",v);for(let q=0;q<m.length;q++){const Z=y[q];Z!==null&&(y[q]=null,m[q].disconnect(Z))}D=null,O=null,f.reset(),e.setRenderTarget(p),u=null,h=null,x=null,r=null,P=null,K.stop(),a.isPresenting=!1,e.setPixelRatio(b),e.setSize(R.width,R.height,!1),a.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(q){t=q,a.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(q){C=q,a.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return w||d},this.setReferenceSpace=function(q){w=q},this.getBaseLayer=function(){return h!==null?h:u},this.getBinding=function(){return x},this.getFrame=function(){return g},this.getSession=function(){return r},this.setSession=async function(q){if(r=q,r!==null){if(p=e.getRenderTarget(),r.addEventListener("select",l),r.addEventListener("selectstart",l),r.addEventListener("selectend",l),r.addEventListener("squeeze",l),r.addEventListener("squeezestart",l),r.addEventListener("squeezeend",l),r.addEventListener("end",o),r.addEventListener("inputsourceschange",v),i.xrCompatible!==!0&&await n.makeXRCompatible(),b=e.getPixelRatio(),e.getSize(R),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const Z={antialias:r.renderState.layers===void 0?i.antialias:!0,alpha:!0,depth:i.depth,stencil:i.stencil,framebufferScaleFactor:t};u=new XRWebGLLayer(r,n,Z),r.updateRenderState({baseLayer:u}),e.setPixelRatio(1),e.setSize(u.framebufferWidth,u.framebufferHeight,!1),P=new Qr(u.framebufferWidth,u.framebufferHeight,{format:Pn,type:Er,colorSpace:e.outputColorSpace,stencilBuffer:i.stencil})}else{let Z=null,j=null,G=null;i.depth&&(G=i.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Z=i.stencil?_i:qr,j=i.stencil?Wr:gr);const X={colorFormat:n.RGBA8,depthFormat:G,scaleFactor:t};x=new XRWebGLBinding(r,n),h=x.createProjectionLayer(X),r.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),P=new Qr(h.textureWidth,h.textureHeight,{format:Pn,type:Er,depthTexture:new dh(h.textureWidth,h.textureHeight,j,void 0,void 0,void 0,void 0,void 0,void 0,Z),stencilBuffer:i.stencil,colorSpace:e.outputColorSpace,samples:i.antialias?4:0});const ne=e.properties.get(P);ne.__ignoreDepthValues=h.ignoreDepthValues}P.isXRRenderTarget=!0,this.setFoveation(M),w=null,d=await r.requestReferenceSpace(C),K.setContext(r),K.start(),a.isPresenting=!0,a.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function v(q){for(let Z=0;Z<q.removed.length;Z++){const j=q.removed[Z],G=y.indexOf(j);G>=0&&(y[G]=null,m[G].disconnect(j))}for(let Z=0;Z<q.added.length;Z++){const j=q.added[Z];let G=y.indexOf(j);if(G===-1){for(let ne=0;ne<m.length;ne++)if(ne>=y.length){y.push(j),G=ne;break}else if(y[ne]===null){y[ne]=j,G=ne;break}if(G===-1)break}const X=m[G];X&&X.connect(j)}}const T=new me,L=new me;function V(q,Z,j){T.setFromMatrixPosition(Z.matrixWorld),L.setFromMatrixPosition(j.matrixWorld);const G=T.distanceTo(L),X=Z.projectionMatrix.elements,ne=j.projectionMatrix.elements,le=X[14]/(X[10]-1),ie=X[14]/(X[10]+1),Y=(X[9]+1)/X[5],Q=(X[9]-1)/X[5],J=(X[8]-1)/X[0],re=(ne[8]+1)/ne[0],ae=le*J,ce=le*re,ve=G/(-J+re),$=ve*-J;Z.matrixWorld.decompose(q.position,q.quaternion,q.scale),q.translateX($),q.translateZ(ve),q.matrixWorld.compose(q.position,q.quaternion,q.scale),q.matrixWorldInverse.copy(q.matrixWorld).invert();const H=le+ve,oe=ie+ve,ue=ae-$,fe=ce+(G-$),de=Y*ie/oe*H,Ee=Q*ie/oe*H;q.projectionMatrix.makePerspective(ue,fe,de,Ee,H,oe),q.projectionMatrixInverse.copy(q.projectionMatrix).invert()}function _(q,Z){Z===null?q.matrixWorld.copy(q.matrix):q.matrixWorld.multiplyMatrices(Z.matrixWorld,q.matrix),q.matrixWorldInverse.copy(q.matrixWorld).invert()}this.updateCamera=function(q){if(r===null)return;f.texture!==null&&(q.near=f.depthNear,q.far=f.depthFar),A.near=E.near=c.near=q.near,A.far=E.far=c.far=q.far,(D!==A.near||O!==A.far)&&(r.updateRenderState({depthNear:A.near,depthFar:A.far}),D=A.near,O=A.far,c.near=D,c.far=O,E.near=D,E.far=O,c.updateProjectionMatrix(),E.updateProjectionMatrix(),q.updateProjectionMatrix());const Z=q.parent,j=A.cameras;_(A,Z);for(let G=0;G<j.length;G++)_(j[G],Z);j.length===2?V(A,c,E):A.projectionMatrix.copy(c.projectionMatrix),B(q,A,Z)};function B(q,Z,j){j===null?q.matrix.copy(Z.matrixWorld):(q.matrix.copy(j.matrixWorld),q.matrix.invert(),q.matrix.multiply(Z.matrixWorld)),q.matrix.decompose(q.position,q.quaternion,q.scale),q.updateMatrixWorld(!0),q.projectionMatrix.copy(Z.projectionMatrix),q.projectionMatrixInverse.copy(Z.projectionMatrixInverse),q.isPerspectiveCamera&&(q.fov=Rl*2*Math.atan(1/q.projectionMatrix.elements[5]),q.zoom=1)}this.getCamera=function(){return A},this.getFoveation=function(){if(!(h===null&&u===null))return M},this.setFoveation=function(q){M=q,h!==null&&(h.fixedFoveation=q),u!==null&&u.fixedFoveation!==void 0&&(u.fixedFoveation=q)},this.hasDepthSensing=function(){return f.texture!==null};let k=null;function U(q,Z){if(S=Z.getViewerPose(w||d),g=Z,S!==null){const j=S.views;u!==null&&(e.setRenderTargetFramebuffer(P,u.framebuffer),e.setRenderTarget(P));let G=!1;j.length!==A.cameras.length&&(A.cameras.length=0,G=!0);for(let ne=0;ne<j.length;ne++){const le=j[ne];let ie=null;if(u!==null)ie=u.getViewport(le);else{const Q=x.getViewSubImage(h,le);ie=Q.viewport,ne===0&&(e.setRenderTargetTextures(P,Q.colorTexture,h.ignoreDepthValues?void 0:Q.depthStencilTexture),e.setRenderTarget(P))}let Y=I[ne];Y===void 0&&(Y=new pn,Y.layers.enable(ne),Y.viewport=new Tt,I[ne]=Y),Y.matrix.fromArray(le.transform.matrix),Y.matrix.decompose(Y.position,Y.quaternion,Y.scale),Y.projectionMatrix.fromArray(le.projectionMatrix),Y.projectionMatrixInverse.copy(Y.projectionMatrix).invert(),Y.viewport.set(ie.x,ie.y,ie.width,ie.height),ne===0&&(A.matrix.copy(Y.matrix),A.matrix.decompose(A.position,A.quaternion,A.scale)),G===!0&&A.cameras.push(Y)}const X=r.enabledFeatures;if(X&&X.includes("depth-sensing")){const ne=x.getDepthInformation(j[0]);ne&&ne.isValid&&ne.texture&&f.init(e,ne,r.renderState)}}for(let j=0;j<m.length;j++){const G=y[j],X=m[j];G!==null&&X!==void 0&&X.update(G,Z,w||d)}f.render(e,A),k&&k(q,Z),Z.detectedPlanes&&a.dispatchEvent({type:"planesdetected",data:Z}),g=null}const K=new uh;K.setAnimationLoop(U),this.setAnimationLoop=function(q){k=q},this.dispose=function(){}}}function jT(s,e){function n(i,p){i.matrixAutoUpdate===!0&&i.updateMatrix(),p.value.copy(i.matrix)}function a(i,p){p.color.getRGB(i.fogColor.value,ah(s)),p.isFog?(i.fogNear.value=p.near,i.fogFar.value=p.far):p.isFogExp2&&(i.fogDensity.value=p.density)}function r(i,p,P,m,y){p.isMeshBasicMaterial||p.isMeshLambertMaterial?t(i,p):p.isMeshToonMaterial?(t(i,p),x(i,p)):p.isMeshPhongMaterial?(t(i,p),S(i,p)):p.isMeshStandardMaterial?(t(i,p),h(i,p),p.isMeshPhysicalMaterial&&u(i,p,y)):p.isMeshMatcapMaterial?(t(i,p),g(i,p)):p.isMeshDepthMaterial?t(i,p):p.isMeshDistanceMaterial?(t(i,p),f(i,p)):p.isMeshNormalMaterial?t(i,p):p.isLineBasicMaterial?(d(i,p),p.isLineDashedMaterial&&C(i,p)):p.isPointsMaterial?M(i,p,P,m):p.isSpriteMaterial?w(i,p):p.isShadowMaterial?(i.color.value.copy(p.color),i.opacity.value=p.opacity):p.isShaderMaterial&&(p.uniformsNeedUpdate=!1)}function t(i,p){i.opacity.value=p.opacity,p.color&&i.diffuse.value.copy(p.color),p.emissive&&i.emissive.value.copy(p.emissive).multiplyScalar(p.emissiveIntensity),p.map&&(i.map.value=p.map,n(p.map,i.mapTransform)),p.alphaMap&&(i.alphaMap.value=p.alphaMap,n(p.alphaMap,i.alphaMapTransform)),p.bumpMap&&(i.bumpMap.value=p.bumpMap,n(p.bumpMap,i.bumpMapTransform),i.bumpScale.value=p.bumpScale,p.side===rn&&(i.bumpScale.value*=-1)),p.normalMap&&(i.normalMap.value=p.normalMap,n(p.normalMap,i.normalMapTransform),i.normalScale.value.copy(p.normalScale),p.side===rn&&i.normalScale.value.negate()),p.displacementMap&&(i.displacementMap.value=p.displacementMap,n(p.displacementMap,i.displacementMapTransform),i.displacementScale.value=p.displacementScale,i.displacementBias.value=p.displacementBias),p.emissiveMap&&(i.emissiveMap.value=p.emissiveMap,n(p.emissiveMap,i.emissiveMapTransform)),p.specularMap&&(i.specularMap.value=p.specularMap,n(p.specularMap,i.specularMapTransform)),p.alphaTest>0&&(i.alphaTest.value=p.alphaTest);const P=e.get(p).envMap;if(P&&(i.envMap.value=P,i.flipEnvMap.value=P.isCubeTexture&&P.isRenderTargetTexture===!1?-1:1,i.reflectivity.value=p.reflectivity,i.ior.value=p.ior,i.refractionRatio.value=p.refractionRatio),p.lightMap){i.lightMap.value=p.lightMap;const m=s._useLegacyLights===!0?Math.PI:1;i.lightMapIntensity.value=p.lightMapIntensity*m,n(p.lightMap,i.lightMapTransform)}p.aoMap&&(i.aoMap.value=p.aoMap,i.aoMapIntensity.value=p.aoMapIntensity,n(p.aoMap,i.aoMapTransform))}function d(i,p){i.diffuse.value.copy(p.color),i.opacity.value=p.opacity,p.map&&(i.map.value=p.map,n(p.map,i.mapTransform))}function C(i,p){i.dashSize.value=p.dashSize,i.totalSize.value=p.dashSize+p.gapSize,i.scale.value=p.scale}function M(i,p,P,m){i.diffuse.value.copy(p.color),i.opacity.value=p.opacity,i.size.value=p.size*P,i.scale.value=m*.5,p.map&&(i.map.value=p.map,n(p.map,i.uvTransform)),p.alphaMap&&(i.alphaMap.value=p.alphaMap,n(p.alphaMap,i.alphaMapTransform)),p.alphaTest>0&&(i.alphaTest.value=p.alphaTest)}function w(i,p){i.diffuse.value.copy(p.color),i.opacity.value=p.opacity,i.rotation.value=p.rotation,p.map&&(i.map.value=p.map,n(p.map,i.mapTransform)),p.alphaMap&&(i.alphaMap.value=p.alphaMap,n(p.alphaMap,i.alphaMapTransform)),p.alphaTest>0&&(i.alphaTest.value=p.alphaTest)}function S(i,p){i.specular.value.copy(p.specular),i.shininess.value=Math.max(p.shininess,1e-4)}function x(i,p){p.gradientMap&&(i.gradientMap.value=p.gradientMap)}function h(i,p){i.metalness.value=p.metalness,p.metalnessMap&&(i.metalnessMap.value=p.metalnessMap,n(p.metalnessMap,i.metalnessMapTransform)),i.roughness.value=p.roughness,p.roughnessMap&&(i.roughnessMap.value=p.roughnessMap,n(p.roughnessMap,i.roughnessMapTransform)),e.get(p).envMap&&(i.envMapIntensity.value=p.envMapIntensity)}function u(i,p,P){i.ior.value=p.ior,p.sheen>0&&(i.sheenColor.value.copy(p.sheenColor).multiplyScalar(p.sheen),i.sheenRoughness.value=p.sheenRoughness,p.sheenColorMap&&(i.sheenColorMap.value=p.sheenColorMap,n(p.sheenColorMap,i.sheenColorMapTransform)),p.sheenRoughnessMap&&(i.sheenRoughnessMap.value=p.sheenRoughnessMap,n(p.sheenRoughnessMap,i.sheenRoughnessMapTransform))),p.clearcoat>0&&(i.clearcoat.value=p.clearcoat,i.clearcoatRoughness.value=p.clearcoatRoughness,p.clearcoatMap&&(i.clearcoatMap.value=p.clearcoatMap,n(p.clearcoatMap,i.clearcoatMapTransform)),p.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap.value=p.clearcoatRoughnessMap,n(p.clearcoatRoughnessMap,i.clearcoatRoughnessMapTransform)),p.clearcoatNormalMap&&(i.clearcoatNormalMap.value=p.clearcoatNormalMap,n(p.clearcoatNormalMap,i.clearcoatNormalMapTransform),i.clearcoatNormalScale.value.copy(p.clearcoatNormalScale),p.side===rn&&i.clearcoatNormalScale.value.negate())),p.iridescence>0&&(i.iridescence.value=p.iridescence,i.iridescenceIOR.value=p.iridescenceIOR,i.iridescenceThicknessMinimum.value=p.iridescenceThicknessRange[0],i.iridescenceThicknessMaximum.value=p.iridescenceThicknessRange[1],p.iridescenceMap&&(i.iridescenceMap.value=p.iridescenceMap,n(p.iridescenceMap,i.iridescenceMapTransform)),p.iridescenceThicknessMap&&(i.iridescenceThicknessMap.value=p.iridescenceThicknessMap,n(p.iridescenceThicknessMap,i.iridescenceThicknessMapTransform))),p.transmission>0&&(i.transmission.value=p.transmission,i.transmissionSamplerMap.value=P.texture,i.transmissionSamplerSize.value.set(P.width,P.height),p.transmissionMap&&(i.transmissionMap.value=p.transmissionMap,n(p.transmissionMap,i.transmissionMapTransform)),i.thickness.value=p.thickness,p.thicknessMap&&(i.thicknessMap.value=p.thicknessMap,n(p.thicknessMap,i.thicknessMapTransform)),i.attenuationDistance.value=p.attenuationDistance,i.attenuationColor.value.copy(p.attenuationColor)),p.anisotropy>0&&(i.anisotropyVector.value.set(p.anisotropy*Math.cos(p.anisotropyRotation),p.anisotropy*Math.sin(p.anisotropyRotation)),p.anisotropyMap&&(i.anisotropyMap.value=p.anisotropyMap,n(p.anisotropyMap,i.anisotropyMapTransform))),i.specularIntensity.value=p.specularIntensity,i.specularColor.value.copy(p.specularColor),p.specularColorMap&&(i.specularColorMap.value=p.specularColorMap,n(p.specularColorMap,i.specularColorMapTransform)),p.specularIntensityMap&&(i.specularIntensityMap.value=p.specularIntensityMap,n(p.specularIntensityMap,i.specularIntensityMapTransform))}function g(i,p){p.matcap&&(i.matcap.value=p.matcap)}function f(i,p){const P=e.get(p).light;i.referencePosition.value.setFromMatrixPosition(P.matrixWorld),i.nearDistance.value=P.shadow.camera.near,i.farDistance.value=P.shadow.camera.far}return{refreshFogUniforms:a,refreshMaterialUniforms:r}}function HT(s,e,n,a){let r={},t={},d=[];const C=n.isWebGL2?s.getParameter(s.MAX_UNIFORM_BUFFER_BINDINGS):0;function M(P,m){const y=m.program;a.uniformBlockBinding(P,y)}function w(P,m){let y=r[P.id];y===void 0&&(g(P),y=S(P),r[P.id]=y,P.addEventListener("dispose",i));const R=m.program;a.updateUBOMapping(P,R);const b=e.render.frame;t[P.id]!==b&&(h(P),t[P.id]=b)}function S(P){const m=x();P.__bindingPointIndex=m;const y=s.createBuffer(),R=P.__size,b=P.usage;return s.bindBuffer(s.UNIFORM_BUFFER,y),s.bufferData(s.UNIFORM_BUFFER,R,b),s.bindBuffer(s.UNIFORM_BUFFER,null),s.bindBufferBase(s.UNIFORM_BUFFER,m,y),y}function x(){for(let P=0;P<C;P++)if(d.indexOf(P)===-1)return d.push(P),P;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(P){const m=r[P.id],y=P.uniforms,R=P.__cache;s.bindBuffer(s.UNIFORM_BUFFER,m);for(let b=0,c=y.length;b<c;b++){const E=Array.isArray(y[b])?y[b]:[y[b]];for(let I=0,A=E.length;I<A;I++){const D=E[I];if(u(D,b,I,R)===!0){const O=D.__offset,l=Array.isArray(D.value)?D.value:[D.value];let o=0;for(let v=0;v<l.length;v++){const T=l[v],L=f(T);typeof T=="number"||typeof T=="boolean"?(D.__data[0]=T,s.bufferSubData(s.UNIFORM_BUFFER,O+o,D.__data)):T.isMatrix3?(D.__data[0]=T.elements[0],D.__data[1]=T.elements[1],D.__data[2]=T.elements[2],D.__data[3]=0,D.__data[4]=T.elements[3],D.__data[5]=T.elements[4],D.__data[6]=T.elements[5],D.__data[7]=0,D.__data[8]=T.elements[6],D.__data[9]=T.elements[7],D.__data[10]=T.elements[8],D.__data[11]=0):(T.toArray(D.__data,o),o+=L.storage/Float32Array.BYTES_PER_ELEMENT)}s.bufferSubData(s.UNIFORM_BUFFER,O,D.__data)}}}s.bindBuffer(s.UNIFORM_BUFFER,null)}function u(P,m,y,R){const b=P.value,c=m+"_"+y;if(R[c]===void 0)return typeof b=="number"||typeof b=="boolean"?R[c]=b:R[c]=b.clone(),!0;{const E=R[c];if(typeof b=="number"||typeof b=="boolean"){if(E!==b)return R[c]=b,!0}else if(E.equals(b)===!1)return E.copy(b),!0}return!1}function g(P){const m=P.uniforms;let y=0;const R=16;for(let c=0,E=m.length;c<E;c++){const I=Array.isArray(m[c])?m[c]:[m[c]];for(let A=0,D=I.length;A<D;A++){const O=I[A],l=Array.isArray(O.value)?O.value:[O.value];for(let o=0,v=l.length;o<v;o++){const T=l[o],L=f(T),V=y%R;V!==0&&R-V<L.boundary&&(y+=R-V),O.__data=new Float32Array(L.storage/Float32Array.BYTES_PER_ELEMENT),O.__offset=y,y+=L.storage}}}const b=y%R;return b>0&&(y+=R-b),P.__size=y,P.__cache={},this}function f(P){const m={boundary:0,storage:0};return typeof P=="number"||typeof P=="boolean"?(m.boundary=4,m.storage=4):P.isVector2?(m.boundary=8,m.storage=8):P.isVector3||P.isColor?(m.boundary=16,m.storage=12):P.isVector4?(m.boundary=16,m.storage=16):P.isMatrix3?(m.boundary=48,m.storage=48):P.isMatrix4?(m.boundary=64,m.storage=64):P.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",P),m}function i(P){const m=P.target;m.removeEventListener("dispose",i);const y=d.indexOf(m.__bindingPointIndex);d.splice(y,1),s.deleteBuffer(r[m.id]),delete r[m.id],delete t[m.id]}function p(){for(const P in r)s.deleteBuffer(r[P]);d=[],r={},t={}}return{bind:M,update:w,dispose:p}}class WT{constructor(e={}){const{canvas:n=BC(),context:a=null,depth:r=!0,stencil:t=!0,alpha:d=!1,antialias:C=!1,premultipliedAlpha:M=!0,preserveDrawingBuffer:w=!1,powerPreference:S="default",failIfMajorPerformanceCaveat:x=!1}=e;this.isWebGLRenderer=!0;let h;a!==null?h=a.getContextAttributes().alpha:h=d;const u=new Uint32Array(4),g=new Int32Array(4);let f=null,i=null;const p=[],P=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=kt,this._useLegacyLights=!1,this.toneMapping=xr,this.toneMappingExposure=1;const m=this;let y=!1,R=0,b=0,c=null,E=-1,I=null;const A=new Tt,D=new Tt;let O=null;const l=new ot(0);let o=0,v=n.width,T=n.height,L=1,V=null,_=null;const B=new Tt(0,0,v,T),k=new Tt(0,0,v,T);let U=!1;const K=new ou;let q=!1,Z=!1,j=null;const G=new wt,X=new lt,ne=new me,le={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ie(){return c===null?L:1}let Y=a;function Q(ee,he){for(let be=0;be<ee.length;be++){const Ce=ee[be],ye=n.getContext(Ce,he);if(ye!==null)return ye}return null}try{const ee={alpha:!0,depth:r,stencil:t,antialias:C,premultipliedAlpha:M,preserveDrawingBuffer:w,powerPreference:S,failIfMajorPerformanceCaveat:x};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${tu}`),n.addEventListener("webglcontextlost",dt,!1),n.addEventListener("webglcontextrestored",se,!1),n.addEventListener("webglcontextcreationerror",Re,!1),Y===null){const he=["webgl2","webgl","experimental-webgl"];if(m.isWebGL1Renderer===!0&&he.shift(),Y=Q(he,ee),Y===null)throw Q(he)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&Y instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),Y.getShaderPrecisionFormat===void 0&&(Y.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ee){throw console.error("THREE.WebGLRenderer: "+ee.message),ee}let J,re,ae,ce,ve,$,H,oe,ue,fe,de,Ee,xe,Te,Me,Ve,Pe,Ke,$e,qe,ke,Le,Ue,Ge;function ct(){J=new X0(Y),re=new W0(Y,J,e),J.init(re),Le=new _T(Y,J,re),ae=new LT(Y,J,re),ce=new Z0(Y),ve=new bT,$=new VT(Y,J,ae,ve,re,Le,ce),H=new G0(m),oe=new K0(m),ue=new ax(Y,re),Ue=new j0(Y,J,ue,re),fe=new J0(Y,ue,ce,Ue),de=new rP(Y,fe,ue,ce),$e=new nP(Y,re,$),Ve=new q0(ve),Ee=new yT(m,H,oe,J,re,Ue,Ve),xe=new jT(m,ve),Te=new xT,Me=new RT(J,re),Ke=new z0(m,H,oe,ae,de,h,M),Pe=new DT(m,de,re),Ge=new HT(Y,ce,re,ae),qe=new H0(Y,J,ce,re),ke=new Y0(Y,J,ce,re),ce.programs=Ee.programs,m.capabilities=re,m.extensions=J,m.properties=ve,m.renderLists=Te,m.shadowMap=Pe,m.state=ae,m.info=ce}ct();const rt=new zT(m,Y);this.xr=rt,this.getContext=function(){return Y},this.getContextAttributes=function(){return Y.getContextAttributes()},this.forceContextLoss=function(){const ee=J.get("WEBGL_lose_context");ee&&ee.loseContext()},this.forceContextRestore=function(){const ee=J.get("WEBGL_lose_context");ee&&ee.restoreContext()},this.getPixelRatio=function(){return L},this.setPixelRatio=function(ee){ee!==void 0&&(L=ee,this.setSize(v,T,!1))},this.getSize=function(ee){return ee.set(v,T)},this.setSize=function(ee,he,be=!0){if(rt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}v=ee,T=he,n.width=Math.floor(ee*L),n.height=Math.floor(he*L),be===!0&&(n.style.width=ee+"px",n.style.height=he+"px"),this.setViewport(0,0,ee,he)},this.getDrawingBufferSize=function(ee){return ee.set(v*L,T*L).floor()},this.setDrawingBufferSize=function(ee,he,be){v=ee,T=he,L=be,n.width=Math.floor(ee*be),n.height=Math.floor(he*be),this.setViewport(0,0,ee,he)},this.getCurrentViewport=function(ee){return ee.copy(A)},this.getViewport=function(ee){return ee.copy(B)},this.setViewport=function(ee,he,be,Ce){ee.isVector4?B.set(ee.x,ee.y,ee.z,ee.w):B.set(ee,he,be,Ce),ae.viewport(A.copy(B).multiplyScalar(L).floor())},this.getScissor=function(ee){return ee.copy(k)},this.setScissor=function(ee,he,be,Ce){ee.isVector4?k.set(ee.x,ee.y,ee.z,ee.w):k.set(ee,he,be,Ce),ae.scissor(D.copy(k).multiplyScalar(L).floor())},this.getScissorTest=function(){return U},this.setScissorTest=function(ee){ae.setScissorTest(U=ee)},this.setOpaqueSort=function(ee){V=ee},this.setTransparentSort=function(ee){_=ee},this.getClearColor=function(ee){return ee.copy(Ke.getClearColor())},this.setClearColor=function(){Ke.setClearColor.apply(Ke,arguments)},this.getClearAlpha=function(){return Ke.getClearAlpha()},this.setClearAlpha=function(){Ke.setClearAlpha.apply(Ke,arguments)},this.clear=function(ee=!0,he=!0,be=!0){let Ce=0;if(ee){let ye=!1;if(c!==null){const _e=c.texture.format;ye=_e===Gp||_e===qp||_e===Wp}if(ye){const _e=c.texture.type,je=_e===Er||_e===gr||_e===nu||_e===Wr||_e===jp||_e===Hp,Qe=Ke.getClearColor(),Xe=Ke.getClearAlpha(),Ze=Qe.r,Je=Qe.g,Ye=Qe.b;je?(u[0]=Ze,u[1]=Je,u[2]=Ye,u[3]=Xe,Y.clearBufferuiv(Y.COLOR,0,u)):(g[0]=Ze,g[1]=Je,g[2]=Ye,g[3]=Xe,Y.clearBufferiv(Y.COLOR,0,g))}else Ce|=Y.COLOR_BUFFER_BIT}he&&(Ce|=Y.DEPTH_BUFFER_BIT),be&&(Ce|=Y.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Y.clear(Ce)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",dt,!1),n.removeEventListener("webglcontextrestored",se,!1),n.removeEventListener("webglcontextcreationerror",Re,!1),Te.dispose(),Me.dispose(),ve.dispose(),H.dispose(),oe.dispose(),de.dispose(),Ue.dispose(),Ge.dispose(),Ee.dispose(),rt.dispose(),rt.removeEventListener("sessionstart",Zt),rt.removeEventListener("sessionend",yt),j&&(j.dispose(),j=null),Nt.stop()};function dt(ee){ee.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function se(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const ee=ce.autoReset,he=Pe.enabled,be=Pe.autoUpdate,Ce=Pe.needsUpdate,ye=Pe.type;ct(),ce.autoReset=ee,Pe.enabled=he,Pe.autoUpdate=be,Pe.needsUpdate=Ce,Pe.type=ye}function Re(ee){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ee.statusMessage)}function we(ee){const he=ee.target;he.removeEventListener("dispose",we),Fe(he)}function Fe(ee){We(ee),ve.remove(ee)}function We(ee){const he=ve.get(ee).programs;he!==void 0&&(he.forEach(function(be){Ee.releaseProgram(be)}),ee.isShaderMaterial&&Ee.releaseShaderCache(ee))}this.renderBufferDirect=function(ee,he,be,Ce,ye,_e){he===null&&(he=le);const je=ye.isMesh&&ye.matrixWorld.determinant()<0,Qe=wo(ee,he,be,Ce,ye);ae.setMaterial(Ce,je);let Xe=be.index,Ze=1;if(Ce.wireframe===!0){if(Xe=fe.getWireframeAttribute(be),Xe===void 0)return;Ze=2}const Je=be.drawRange,Ye=be.attributes.position;let St=Je.start*Ze,qt=(Je.start+Je.count)*Ze;_e!==null&&(St=Math.max(St,_e.start*Ze),qt=Math.min(qt,(_e.start+_e.count)*Ze)),Xe!==null?(St=Math.max(St,0),qt=Math.min(qt,Xe.count)):Ye!=null&&(St=Math.max(St,0),qt=Math.min(qt,Ye.count));const It=qt-St;if(It<0||It===1/0)return;Ue.setup(ye,Ce,Qe,be,Xe);let dn,Ct=qe;if(Xe!==null&&(dn=ue.get(Xe),Ct=ke,Ct.setIndex(dn)),ye.isMesh)Ce.wireframe===!0?(ae.setLineWidth(Ce.wireframeLinewidth*ie()),Ct.setMode(Y.LINES)):Ct.setMode(Y.TRIANGLES);else if(ye.isLine){let et=Ce.linewidth;et===void 0&&(et=1),ae.setLineWidth(et*ie()),ye.isLineSegments?Ct.setMode(Y.LINES):ye.isLineLoop?Ct.setMode(Y.LINE_LOOP):Ct.setMode(Y.LINE_STRIP)}else ye.isPoints?Ct.setMode(Y.POINTS):ye.isSprite&&Ct.setMode(Y.TRIANGLES);if(ye.isBatchedMesh)Ct.renderMultiDraw(ye._multiDrawStarts,ye._multiDrawCounts,ye._multiDrawCount);else if(ye.isInstancedMesh)Ct.renderInstances(St,It,ye.count);else if(be.isInstancedBufferGeometry){const et=be._maxInstanceCount!==void 0?be._maxInstanceCount:1/0,zi=Math.min(be.instanceCount,et);Ct.renderInstances(St,It,zi)}else Ct.render(St,It)};function ft(ee,he,be){ee.transparent===!0&&ee.side===Qn&&ee.forceSinglePass===!1?(ee.side=rn,ee.needsUpdate=!0,Zr(ee,he,be),ee.side=Tr,ee.needsUpdate=!0,Zr(ee,he,be),ee.side=Qn):Zr(ee,he,be)}this.compile=function(ee,he,be=null){be===null&&(be=ee),i=Me.get(be),i.init(),P.push(i),be.traverseVisible(function(ye){ye.isLight&&ye.layers.test(he.layers)&&(i.pushLight(ye),ye.castShadow&&i.pushShadow(ye))}),ee!==be&&ee.traverseVisible(function(ye){ye.isLight&&ye.layers.test(he.layers)&&(i.pushLight(ye),ye.castShadow&&i.pushShadow(ye))}),i.setupLights(m._useLegacyLights);const Ce=new Set;return ee.traverse(function(ye){const _e=ye.material;if(_e)if(Array.isArray(_e))for(let je=0;je<_e.length;je++){const Qe=_e[je];ft(Qe,be,ye),Ce.add(Qe)}else ft(_e,be,ye),Ce.add(_e)}),P.pop(),i=null,Ce},this.compileAsync=function(ee,he,be=null){const Ce=this.compile(ee,he,be);return new Promise(ye=>{function _e(){if(Ce.forEach(function(je){ve.get(je).currentProgram.isReady()&&Ce.delete(je)}),Ce.size===0){ye(ee);return}setTimeout(_e,10)}J.get("KHR_parallel_shader_compile")!==null?_e():setTimeout(_e,10)})};let vt=null;function Dt(ee){vt&&vt(ee)}function Zt(){Nt.stop()}function yt(){Nt.start()}const Nt=new uh;Nt.setAnimationLoop(Dt),typeof self<"u"&&Nt.setContext(self),this.setAnimationLoop=function(ee){vt=ee,rt.setAnimationLoop(ee),ee===null?Nt.stop():Nt.start()},rt.addEventListener("sessionstart",Zt),rt.addEventListener("sessionend",yt),this.render=function(ee,he){if(he!==void 0&&he.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(y===!0)return;ee.matrixWorldAutoUpdate===!0&&ee.updateMatrixWorld(),he.parent===null&&he.matrixWorldAutoUpdate===!0&&he.updateMatrixWorld(),rt.enabled===!0&&rt.isPresenting===!0&&(rt.cameraAutoUpdate===!0&&rt.updateCamera(he),he=rt.getCamera()),ee.isScene===!0&&ee.onBeforeRender(m,ee,he,c),i=Me.get(ee,P.length),i.init(),P.push(i),G.multiplyMatrices(he.projectionMatrix,he.matrixWorldInverse),K.setFromProjectionMatrix(G),Z=this.localClippingEnabled,q=Ve.init(this.clippingPlanes,Z),f=Te.get(ee,p.length),f.init(),p.push(f),cn(ee,he,0,m.sortObjects),f.finish(),m.sortObjects===!0&&f.sort(V,_),this.info.render.frame++,q===!0&&Ve.beginShadows();const be=i.state.shadowsArray;if(Pe.render(be,ee,he),q===!0&&Ve.endShadows(),this.info.autoReset===!0&&this.info.reset(),(rt.enabled===!1||rt.isPresenting===!1||rt.hasDepthSensing()===!1)&&Ke.render(f,ee),i.setupLights(m._useLegacyLights),he.isArrayCamera){const Ce=he.cameras;for(let ye=0,_e=Ce.length;ye<_e;ye++){const je=Ce[ye];To(f,ee,je,je.viewport)}}else To(f,ee,he);c!==null&&($.updateMultisampleRenderTarget(c),$.updateRenderTargetMipmap(c)),ee.isScene===!0&&ee.onAfterRender(m,ee,he),Ue.resetDefaultState(),E=-1,I=null,P.pop(),P.length>0?i=P[P.length-1]:i=null,p.pop(),p.length>0?f=p[p.length-1]:f=null};function cn(ee,he,be,Ce){if(ee.visible===!1)return;if(ee.layers.test(he.layers)){if(ee.isGroup)be=ee.renderOrder;else if(ee.isLOD)ee.autoUpdate===!0&&ee.update(he);else if(ee.isLight)i.pushLight(ee),ee.castShadow&&i.pushShadow(ee);else if(ee.isSprite){if(!ee.frustumCulled||K.intersectsSprite(ee)){Ce&&ne.setFromMatrixPosition(ee.matrixWorld).applyMatrix4(G);const je=de.update(ee),Qe=ee.material;Qe.visible&&f.push(ee,je,Qe,be,ne.z,null)}}else if((ee.isMesh||ee.isLine||ee.isPoints)&&(!ee.frustumCulled||K.intersectsObject(ee))){const je=de.update(ee),Qe=ee.material;if(Ce&&(ee.boundingSphere!==void 0?(ee.boundingSphere===null&&ee.computeBoundingSphere(),ne.copy(ee.boundingSphere.center)):(je.boundingSphere===null&&je.computeBoundingSphere(),ne.copy(je.boundingSphere.center)),ne.applyMatrix4(ee.matrixWorld).applyMatrix4(G)),Array.isArray(Qe)){const Xe=je.groups;for(let Ze=0,Je=Xe.length;Ze<Je;Ze++){const Ye=Xe[Ze],St=Qe[Ye.materialIndex];St&&St.visible&&f.push(ee,je,St,be,ne.z,Ye)}}else Qe.visible&&f.push(ee,je,Qe,be,ne.z,null)}}const _e=ee.children;for(let je=0,Qe=_e.length;je<Qe;je++)cn(_e[je],he,be,Ce)}function To(ee,he,be,Ce){const ye=ee.opaque,_e=ee.transmissive,je=ee.transparent;i.setupLightsView(be),q===!0&&Ve.setGlobalState(m.clippingPlanes,be),_e.length>0&&Ys(ye,_e,he,be),Ce&&ae.viewport(A.copy(Ce)),ye.length>0&&Yr(ye,he,be),_e.length>0&&Yr(_e,he,be),je.length>0&&Yr(je,he,be),ae.buffers.depth.setTest(!0),ae.buffers.depth.setMask(!0),ae.buffers.color.setMask(!0),ae.setPolygonOffset(!1)}function Ys(ee,he,be,Ce){if((be.isScene===!0?be.overrideMaterial:null)!==null)return;const _e=re.isWebGL2;j===null&&(j=new Qr(1,1,{generateMipmaps:!0,type:J.has("EXT_color_buffer_half_float")?yo:Er,minFilter:zr,samples:_e?4:0})),m.getDrawingBufferSize(X),_e?j.setSize(X.x,X.y):j.setSize(wl(X.x),wl(X.y));const je=m.getRenderTarget();m.setRenderTarget(j),m.getClearColor(l),o=m.getClearAlpha(),o<1&&m.setClearColor(16777215,.5),m.clear();const Qe=m.toneMapping;m.toneMapping=xr,Yr(ee,be,Ce),$.updateMultisampleRenderTarget(j),$.updateRenderTargetMipmap(j);let Xe=!1;for(let Ze=0,Je=he.length;Ze<Je;Ze++){const Ye=he[Ze],St=Ye.object,qt=Ye.geometry,It=Ye.material,dn=Ye.group;if(It.side===Qn&&St.layers.test(Ce.layers)){const Ct=It.side;It.side=rn,It.needsUpdate=!0,So(St,be,Ce,qt,It,dn),It.side=Ct,It.needsUpdate=!0,Xe=!0}}Xe===!0&&($.updateMultisampleRenderTarget(j),$.updateRenderTargetMipmap(j)),m.setRenderTarget(je),m.setClearColor(l,o),m.toneMapping=Qe}function Yr(ee,he,be){const Ce=he.isScene===!0?he.overrideMaterial:null;for(let ye=0,_e=ee.length;ye<_e;ye++){const je=ee[ye],Qe=je.object,Xe=je.geometry,Ze=Ce===null?je.material:Ce,Je=je.group;Qe.layers.test(be.layers)&&So(Qe,he,be,Xe,Ze,Je)}}function So(ee,he,be,Ce,ye,_e){ee.onBeforeRender(m,he,be,Ce,ye,_e),ee.modelViewMatrix.multiplyMatrices(be.matrixWorldInverse,ee.matrixWorld),ee.normalMatrix.getNormalMatrix(ee.modelViewMatrix),ye.onBeforeRender(m,he,be,Ce,ee,_e),ye.transparent===!0&&ye.side===Qn&&ye.forceSinglePass===!1?(ye.side=rn,ye.needsUpdate=!0,m.renderBufferDirect(be,he,Ce,ye,ee,_e),ye.side=Tr,ye.needsUpdate=!0,m.renderBufferDirect(be,he,Ce,ye,ee,_e),ye.side=Qn):m.renderBufferDirect(be,he,Ce,ye,ee,_e),ee.onAfterRender(m,he,be,Ce,ye,_e)}function Zr(ee,he,be){he.isScene!==!0&&(he=le);const Ce=ve.get(ee),ye=i.state.lights,_e=i.state.shadowsArray,je=ye.state.version,Qe=Ee.getParameters(ee,ye.state,_e,he,be),Xe=Ee.getProgramCacheKey(Qe);let Ze=Ce.programs;Ce.environment=ee.isMeshStandardMaterial?he.environment:null,Ce.fog=he.fog,Ce.envMap=(ee.isMeshStandardMaterial?oe:H).get(ee.envMap||Ce.environment),Ze===void 0&&(ee.addEventListener("dispose",we),Ze=new Map,Ce.programs=Ze);let Je=Ze.get(Xe);if(Je!==void 0){if(Ce.currentProgram===Je&&Ce.lightsStateVersion===je)return Ro(ee,Qe),Je}else Qe.uniforms=Ee.getUniforms(ee),ee.onBuild(be,Qe,m),ee.onBeforeCompile(Qe,m),Je=Ee.acquireProgram(Qe,Xe),Ze.set(Xe,Je),Ce.uniforms=Qe.uniforms;const Ye=Ce.uniforms;return(!ee.isShaderMaterial&&!ee.isRawShaderMaterial||ee.clipping===!0)&&(Ye.clippingPlanes=Ve.uniform),Ro(ee,Qe),Ce.needsLights=Io(ee),Ce.lightsStateVersion=je,Ce.needsLights&&(Ye.ambientLightColor.value=ye.state.ambient,Ye.lightProbe.value=ye.state.probe,Ye.directionalLights.value=ye.state.directional,Ye.directionalLightShadows.value=ye.state.directionalShadow,Ye.spotLights.value=ye.state.spot,Ye.spotLightShadows.value=ye.state.spotShadow,Ye.rectAreaLights.value=ye.state.rectArea,Ye.ltc_1.value=ye.state.rectAreaLTC1,Ye.ltc_2.value=ye.state.rectAreaLTC2,Ye.pointLights.value=ye.state.point,Ye.pointLightShadows.value=ye.state.pointShadow,Ye.hemisphereLights.value=ye.state.hemi,Ye.directionalShadowMap.value=ye.state.directionalShadowMap,Ye.directionalShadowMatrix.value=ye.state.directionalShadowMatrix,Ye.spotShadowMap.value=ye.state.spotShadowMap,Ye.spotLightMatrix.value=ye.state.spotLightMatrix,Ye.spotLightMap.value=ye.state.spotLightMap,Ye.pointShadowMap.value=ye.state.pointShadowMap,Ye.pointShadowMatrix.value=ye.state.pointShadowMatrix),Ce.currentProgram=Je,Ce.uniformsList=null,Je}function Mo(ee){if(ee.uniformsList===null){const he=ee.currentProgram.getUniforms();ee.uniformsList=bs.seqWithValue(he.seq,ee.uniforms)}return ee.uniformsList}function Ro(ee,he){const be=ve.get(ee);be.outputColorSpace=he.outputColorSpace,be.batching=he.batching,be.instancing=he.instancing,be.instancingColor=he.instancingColor,be.skinning=he.skinning,be.morphTargets=he.morphTargets,be.morphNormals=he.morphNormals,be.morphColors=he.morphColors,be.morphTargetsCount=he.morphTargetsCount,be.numClippingPlanes=he.numClippingPlanes,be.numIntersection=he.numClipIntersection,be.vertexAlphas=he.vertexAlphas,be.vertexTangents=he.vertexTangents,be.toneMapping=he.toneMapping}function wo(ee,he,be,Ce,ye){he.isScene!==!0&&(he=le),$.resetTextureUnits();const _e=he.fog,je=Ce.isMeshStandardMaterial?he.environment:null,Qe=c===null?m.outputColorSpace:c.isXRRenderTarget===!0?c.texture.colorSpace:Zn,Xe=(Ce.isMeshStandardMaterial?oe:H).get(Ce.envMap||je),Ze=Ce.vertexColors===!0&&!!be.attributes.color&&be.attributes.color.itemSize===4,Je=!!be.attributes.tangent&&(!!Ce.normalMap||Ce.anisotropy>0),Ye=!!be.morphAttributes.position,St=!!be.morphAttributes.normal,qt=!!be.morphAttributes.color;let It=xr;Ce.toneMapped&&(c===null||c.isXRRenderTarget===!0)&&(It=m.toneMapping);const dn=be.morphAttributes.position||be.morphAttributes.normal||be.morphAttributes.color,Ct=dn!==void 0?dn.length:0,et=ve.get(Ce),zi=i.state.lights;if(q===!0&&(Z===!0||ee!==I)){const Gt=ee===I&&Ce.id===E;Ve.setState(Ce,ee,Gt)}let Et=!1;Ce.version===et.__version?(et.needsLights&&et.lightsStateVersion!==zi.state.version||et.outputColorSpace!==Qe||ye.isBatchedMesh&&et.batching===!1||!ye.isBatchedMesh&&et.batching===!0||ye.isInstancedMesh&&et.instancing===!1||!ye.isInstancedMesh&&et.instancing===!0||ye.isSkinnedMesh&&et.skinning===!1||!ye.isSkinnedMesh&&et.skinning===!0||ye.isInstancedMesh&&et.instancingColor===!0&&ye.instanceColor===null||ye.isInstancedMesh&&et.instancingColor===!1&&ye.instanceColor!==null||et.envMap!==Xe||Ce.fog===!0&&et.fog!==_e||et.numClippingPlanes!==void 0&&(et.numClippingPlanes!==Ve.numPlanes||et.numIntersection!==Ve.numIntersection)||et.vertexAlphas!==Ze||et.vertexTangents!==Je||et.morphTargets!==Ye||et.morphNormals!==St||et.morphColors!==qt||et.toneMapping!==It||re.isWebGL2===!0&&et.morphTargetsCount!==Ct)&&(Et=!0):(Et=!0,et.__version=Ce.version);let Bn=et.currentProgram;Et===!0&&(Bn=Zr(Ce,he,ye));let Ao=!1,Mr=!1,ji=!1;const _t=Bn.getUniforms(),Nn=et.uniforms;if(ae.useProgram(Bn.program)&&(Ao=!0,Mr=!0,ji=!0),Ce.id!==E&&(E=Ce.id,Mr=!0),Ao||I!==ee){_t.setValue(Y,"projectionMatrix",ee.projectionMatrix),_t.setValue(Y,"viewMatrix",ee.matrixWorldInverse);const Gt=_t.map.cameraPosition;Gt!==void 0&&Gt.setValue(Y,ne.setFromMatrixPosition(ee.matrixWorld)),re.logarithmicDepthBuffer&&_t.setValue(Y,"logDepthBufFC",2/(Math.log(ee.far+1)/Math.LN2)),(Ce.isMeshPhongMaterial||Ce.isMeshToonMaterial||Ce.isMeshLambertMaterial||Ce.isMeshBasicMaterial||Ce.isMeshStandardMaterial||Ce.isShaderMaterial)&&_t.setValue(Y,"isOrthographic",ee.isOrthographicCamera===!0),I!==ee&&(I=ee,Mr=!0,ji=!0)}if(ye.isSkinnedMesh){_t.setOptional(Y,ye,"bindMatrix"),_t.setOptional(Y,ye,"bindMatrixInverse");const Gt=ye.skeleton;Gt&&(re.floatVertexTextures?(Gt.boneTexture===null&&Gt.computeBoneTexture(),_t.setValue(Y,"boneTexture",Gt.boneTexture,$)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}ye.isBatchedMesh&&(_t.setOptional(Y,ye,"batchingTexture"),_t.setValue(Y,"batchingTexture",ye._matricesTexture,$));const Rr=be.morphAttributes;if((Rr.position!==void 0||Rr.normal!==void 0||Rr.color!==void 0&&re.isWebGL2===!0)&&$e.update(ye,be,Bn),(Mr||et.receiveShadow!==ye.receiveShadow)&&(et.receiveShadow=ye.receiveShadow,_t.setValue(Y,"receiveShadow",ye.receiveShadow)),Ce.isMeshGouraudMaterial&&Ce.envMap!==null&&(Nn.envMap.value=Xe,Nn.flipEnvMap.value=Xe.isCubeTexture&&Xe.isRenderTargetTexture===!1?-1:1),Mr&&(_t.setValue(Y,"toneMappingExposure",m.toneMappingExposure),et.needsLights&&Oo(Nn,ji),_e&&Ce.fog===!0&&xe.refreshFogUniforms(Nn,_e),xe.refreshMaterialUniforms(Nn,Ce,L,T,j),bs.upload(Y,Mo(et),Nn,$)),Ce.isShaderMaterial&&Ce.uniformsNeedUpdate===!0&&(bs.upload(Y,Mo(et),Nn,$),Ce.uniformsNeedUpdate=!1),Ce.isSpriteMaterial&&_t.setValue(Y,"center",ye.center),_t.setValue(Y,"modelViewMatrix",ye.modelViewMatrix),_t.setValue(Y,"normalMatrix",ye.normalMatrix),_t.setValue(Y,"modelMatrix",ye.matrixWorld),Ce.isShaderMaterial||Ce.isRawShaderMaterial){const Gt=Ce.uniformsGroups;for(let Hi=0,Do=Gt.length;Hi<Do;Hi++)if(re.isWebGL2){const Wi=Gt[Hi];Ge.update(Wi,Bn),Ge.bind(Wi,Bn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Bn}function Oo(ee,he){ee.ambientLightColor.needsUpdate=he,ee.lightProbe.needsUpdate=he,ee.directionalLights.needsUpdate=he,ee.directionalLightShadows.needsUpdate=he,ee.pointLights.needsUpdate=he,ee.pointLightShadows.needsUpdate=he,ee.spotLights.needsUpdate=he,ee.spotLightShadows.needsUpdate=he,ee.rectAreaLights.needsUpdate=he,ee.hemisphereLights.needsUpdate=he}function Io(ee){return ee.isMeshLambertMaterial||ee.isMeshToonMaterial||ee.isMeshPhongMaterial||ee.isMeshStandardMaterial||ee.isShadowMaterial||ee.isShaderMaterial&&ee.lights===!0}this.getActiveCubeFace=function(){return R},this.getActiveMipmapLevel=function(){return b},this.getRenderTarget=function(){return c},this.setRenderTargetTextures=function(ee,he,be){ve.get(ee.texture).__webglTexture=he,ve.get(ee.depthTexture).__webglTexture=be;const Ce=ve.get(ee);Ce.__hasExternalTextures=!0,Ce.__hasExternalTextures&&(Ce.__autoAllocateDepthBuffer=be===void 0,Ce.__autoAllocateDepthBuffer||J.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ce.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(ee,he){const be=ve.get(ee);be.__webglFramebuffer=he,be.__useDefaultFramebuffer=he===void 0},this.setRenderTarget=function(ee,he=0,be=0){c=ee,R=he,b=be;let Ce=!0,ye=null,_e=!1,je=!1;if(ee){const Xe=ve.get(ee);Xe.__useDefaultFramebuffer!==void 0?(ae.bindFramebuffer(Y.FRAMEBUFFER,null),Ce=!1):Xe.__webglFramebuffer===void 0?$.setupRenderTarget(ee):Xe.__hasExternalTextures&&$.rebindTextures(ee,ve.get(ee.texture).__webglTexture,ve.get(ee.depthTexture).__webglTexture);const Ze=ee.texture;(Ze.isData3DTexture||Ze.isDataArrayTexture||Ze.isCompressedArrayTexture)&&(je=!0);const Je=ve.get(ee).__webglFramebuffer;ee.isWebGLCubeRenderTarget?(Array.isArray(Je[he])?ye=Je[he][be]:ye=Je[he],_e=!0):re.isWebGL2&&ee.samples>0&&$.useMultisampledRTT(ee)===!1?ye=ve.get(ee).__webglMultisampledFramebuffer:Array.isArray(Je)?ye=Je[be]:ye=Je,A.copy(ee.viewport),D.copy(ee.scissor),O=ee.scissorTest}else A.copy(B).multiplyScalar(L).floor(),D.copy(k).multiplyScalar(L).floor(),O=U;if(ae.bindFramebuffer(Y.FRAMEBUFFER,ye)&&re.drawBuffers&&Ce&&ae.drawBuffers(ee,ye),ae.viewport(A),ae.scissor(D),ae.setScissorTest(O),_e){const Xe=ve.get(ee.texture);Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_CUBE_MAP_POSITIVE_X+he,Xe.__webglTexture,be)}else if(je){const Xe=ve.get(ee.texture),Ze=he||0;Y.framebufferTextureLayer(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Xe.__webglTexture,be||0,Ze)}E=-1},this.readRenderTargetPixels=function(ee,he,be,Ce,ye,_e,je){if(!(ee&&ee.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Qe=ve.get(ee).__webglFramebuffer;if(ee.isWebGLCubeRenderTarget&&je!==void 0&&(Qe=Qe[je]),Qe){ae.bindFramebuffer(Y.FRAMEBUFFER,Qe);try{const Xe=ee.texture,Ze=Xe.format,Je=Xe.type;if(Ze!==Pn&&Le.convert(Ze)!==Y.getParameter(Y.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ye=Je===yo&&(J.has("EXT_color_buffer_half_float")||re.isWebGL2&&J.has("EXT_color_buffer_float"));if(Je!==Er&&Le.convert(Je)!==Y.getParameter(Y.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Je===$n&&(re.isWebGL2||J.has("OES_texture_float")||J.has("WEBGL_color_buffer_float")))&&!Ye){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}he>=0&&he<=ee.width-Ce&&be>=0&&be<=ee.height-ye&&Y.readPixels(he,be,Ce,ye,Le.convert(Ze),Le.convert(Je),_e)}finally{const Xe=c!==null?ve.get(c).__webglFramebuffer:null;ae.bindFramebuffer(Y.FRAMEBUFFER,Xe)}}},this.copyFramebufferToTexture=function(ee,he,be=0){const Ce=Math.pow(2,-be),ye=Math.floor(he.image.width*Ce),_e=Math.floor(he.image.height*Ce);$.setTexture2D(he,0),Y.copyTexSubImage2D(Y.TEXTURE_2D,be,0,0,ee.x,ee.y,ye,_e),ae.unbindTexture()},this.copyTextureToTexture=function(ee,he,be,Ce=0){const ye=he.image.width,_e=he.image.height,je=Le.convert(be.format),Qe=Le.convert(be.type);$.setTexture2D(be,0),Y.pixelStorei(Y.UNPACK_FLIP_Y_WEBGL,be.flipY),Y.pixelStorei(Y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,be.premultiplyAlpha),Y.pixelStorei(Y.UNPACK_ALIGNMENT,be.unpackAlignment),he.isDataTexture?Y.texSubImage2D(Y.TEXTURE_2D,Ce,ee.x,ee.y,ye,_e,je,Qe,he.image.data):he.isCompressedTexture?Y.compressedTexSubImage2D(Y.TEXTURE_2D,Ce,ee.x,ee.y,he.mipmaps[0].width,he.mipmaps[0].height,je,he.mipmaps[0].data):Y.texSubImage2D(Y.TEXTURE_2D,Ce,ee.x,ee.y,je,Qe,he.image),Ce===0&&be.generateMipmaps&&Y.generateMipmap(Y.TEXTURE_2D),ae.unbindTexture()},this.copyTextureToTexture3D=function(ee,he,be,Ce,ye=0){if(m.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const _e=ee.max.x-ee.min.x+1,je=ee.max.y-ee.min.y+1,Qe=ee.max.z-ee.min.z+1,Xe=Le.convert(Ce.format),Ze=Le.convert(Ce.type);let Je;if(Ce.isData3DTexture)$.setTexture3D(Ce,0),Je=Y.TEXTURE_3D;else if(Ce.isDataArrayTexture||Ce.isCompressedArrayTexture)$.setTexture2DArray(Ce,0),Je=Y.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Y.pixelStorei(Y.UNPACK_FLIP_Y_WEBGL,Ce.flipY),Y.pixelStorei(Y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ce.premultiplyAlpha),Y.pixelStorei(Y.UNPACK_ALIGNMENT,Ce.unpackAlignment);const Ye=Y.getParameter(Y.UNPACK_ROW_LENGTH),St=Y.getParameter(Y.UNPACK_IMAGE_HEIGHT),qt=Y.getParameter(Y.UNPACK_SKIP_PIXELS),It=Y.getParameter(Y.UNPACK_SKIP_ROWS),dn=Y.getParameter(Y.UNPACK_SKIP_IMAGES),Ct=be.isCompressedTexture?be.mipmaps[ye]:be.image;Y.pixelStorei(Y.UNPACK_ROW_LENGTH,Ct.width),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,Ct.height),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,ee.min.x),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,ee.min.y),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,ee.min.z),be.isDataTexture||be.isData3DTexture?Y.texSubImage3D(Je,ye,he.x,he.y,he.z,_e,je,Qe,Xe,Ze,Ct.data):be.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Y.compressedTexSubImage3D(Je,ye,he.x,he.y,he.z,_e,je,Qe,Xe,Ct.data)):Y.texSubImage3D(Je,ye,he.x,he.y,he.z,_e,je,Qe,Xe,Ze,Ct),Y.pixelStorei(Y.UNPACK_ROW_LENGTH,Ye),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,St),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,qt),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,It),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,dn),ye===0&&Ce.generateMipmaps&&Y.generateMipmap(Je),ae.unbindTexture()},this.initTexture=function(ee){ee.isCubeTexture?$.setTextureCube(ee,0):ee.isData3DTexture?$.setTexture3D(ee,0):ee.isDataArrayTexture||ee.isCompressedArrayTexture?$.setTexture2DArray(ee,0):$.setTexture2D(ee,0),ae.unbindTexture()},this.resetState=function(){R=0,b=0,c=null,ae.reset(),Ue.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Kn}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===ru?"display-p3":"srgb",n.unpackColorSpace=bt.workingColorSpace===Qs?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===kt?Gr:$p}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Gr?kt:Zn}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class qT extends WT{}qT.prototype.isWebGL1Renderer=!0;class lS extends Ft{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class vh extends Fi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ot(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const lf=new me,uf=new me,cf=new wt,Ja=new th,ds=new $s;class GT extends Ft{constructor(e=new tr,n=new vh){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,a=[0];for(let r=1,t=n.count;r<t;r++)lf.fromBufferAttribute(n,r-1),uf.fromBufferAttribute(n,r),a[r]=a[r-1],a[r]+=lf.distanceTo(uf);e.setAttribute("lineDistance",new Mn(a,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const a=this.geometry,r=this.matrixWorld,t=e.params.Line.threshold,d=a.drawRange;if(a.boundingSphere===null&&a.computeBoundingSphere(),ds.copy(a.boundingSphere),ds.applyMatrix4(r),ds.radius+=t,e.ray.intersectsSphere(ds)===!1)return;cf.copy(r).invert(),Ja.copy(e.ray).applyMatrix4(cf);const C=t/((this.scale.x+this.scale.y+this.scale.z)/3),M=C*C,w=new me,S=new me,x=new me,h=new me,u=this.isLineSegments?2:1,g=a.index,i=a.attributes.position;if(g!==null){const p=Math.max(0,d.start),P=Math.min(g.count,d.start+d.count);for(let m=p,y=P-1;m<y;m+=u){const R=g.getX(m),b=g.getX(m+1);if(w.fromBufferAttribute(i,R),S.fromBufferAttribute(i,b),Ja.distanceSqToSegment(w,S,h,x)>M)continue;h.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(h);E<e.near||E>e.far||n.push({distance:E,point:x.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}}else{const p=Math.max(0,d.start),P=Math.min(i.count,d.start+d.count);for(let m=p,y=P-1;m<y;m+=u){if(w.fromBufferAttribute(i,m),S.fromBufferAttribute(i,m+1),Ja.distanceSqToSegment(w,S,h,x)>M)continue;h.applyMatrix4(this.matrixWorld);const b=e.ray.origin.distanceTo(h);b<e.near||b>e.far||n.push({distance:b,point:x.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,a=Object.keys(n);if(a.length>0){const r=n[a[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,d=r.length;t<d;t++){const C=r[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[C]=t}}}}}const df=new me,ff=new me;class QT extends GT{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,a=[];for(let r=0,t=n.count;r<t;r+=2)df.fromBufferAttribute(n,r),ff.fromBufferAttribute(n,r+1),a[r]=r===0?0:a[r-1],a[r+1]=a[r]+df.distanceTo(ff);e.setAttribute("lineDistance",new Mn(a,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class $T extends Fi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ot(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kp,this.normalScale=new lt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class uS extends $T{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new lt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Jt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ot(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ot(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ot(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class yh extends Ft{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new ot(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}const Ya=new wt,pf=new me,hf=new me;class bh{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new lt(512,512),this.map=null,this.mapPass=null,this.matrix=new wt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ou,this._frameExtents=new lt(1,1),this._viewportCount=1,this._viewports=[new Tt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,a=this.matrix;pf.setFromMatrixPosition(e.matrixWorld),n.position.copy(pf),hf.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(hf),n.updateMatrixWorld(),Ya.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Ya),a.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),a.multiply(Ya)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}const mf=new wt,to=new me,Za=new me;class KT extends bh{constructor(){super(new pn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new lt(4,2),this._viewportCount=6,this._viewports=[new Tt(2,1,1,1),new Tt(0,1,1,1),new Tt(3,1,1,1),new Tt(1,1,1,1),new Tt(3,0,1,1),new Tt(1,0,1,1)],this._cubeDirections=[new me(1,0,0),new me(-1,0,0),new me(0,0,1),new me(0,0,-1),new me(0,1,0),new me(0,-1,0)],this._cubeUps=[new me(0,1,0),new me(0,1,0),new me(0,1,0),new me(0,1,0),new me(0,0,1),new me(0,0,-1)]}updateMatrices(e,n=0){const a=this.camera,r=this.matrix,t=e.distance||a.far;t!==a.far&&(a.far=t,a.updateProjectionMatrix()),to.setFromMatrixPosition(e.matrixWorld),a.position.copy(to),Za.copy(a.position),Za.add(this._cubeDirections[n]),a.up.copy(this._cubeUps[n]),a.lookAt(Za),a.updateMatrixWorld(),r.makeTranslation(-to.x,-to.y,-to.z),mf.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),this._frustum.setFromProjectionMatrix(mf)}}class cS extends yh{constructor(e,n,a=0,r=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=a,this.decay=r,this.shadow=new KT}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class XT extends bh{constructor(){super(new ch(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class dS extends yh{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ft.DEFAULT_UP),this.updateMatrix(),this.target=new Ft,this.shadow=new XT}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const fs=new me,Mt=new iu;class fS extends QT{constructor(e){const n=new tr,a=new vh({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],t=[],d={};C("n1","n2"),C("n2","n4"),C("n4","n3"),C("n3","n1"),C("f1","f2"),C("f2","f4"),C("f4","f3"),C("f3","f1"),C("n1","f1"),C("n2","f2"),C("n3","f3"),C("n4","f4"),C("p","n1"),C("p","n2"),C("p","n3"),C("p","n4"),C("u1","u2"),C("u2","u3"),C("u3","u1"),C("c","t"),C("p","c"),C("cn1","cn2"),C("cn3","cn4"),C("cf1","cf2"),C("cf3","cf4");function C(g,f){M(g),M(f)}function M(g){r.push(0,0,0),t.push(0,0,0),d[g]===void 0&&(d[g]=[]),d[g].push(r.length/3-1)}n.setAttribute("position",new Mn(r,3)),n.setAttribute("color",new Mn(t,3)),super(n,a),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=d,this.update();const w=new ot(16755200),S=new ot(16711680),x=new ot(43775),h=new ot(16777215),u=new ot(3355443);this.setColors(w,S,x,h,u)}setColors(e,n,a,r,t){const C=this.geometry.getAttribute("color");C.setXYZ(0,e.r,e.g,e.b),C.setXYZ(1,e.r,e.g,e.b),C.setXYZ(2,e.r,e.g,e.b),C.setXYZ(3,e.r,e.g,e.b),C.setXYZ(4,e.r,e.g,e.b),C.setXYZ(5,e.r,e.g,e.b),C.setXYZ(6,e.r,e.g,e.b),C.setXYZ(7,e.r,e.g,e.b),C.setXYZ(8,e.r,e.g,e.b),C.setXYZ(9,e.r,e.g,e.b),C.setXYZ(10,e.r,e.g,e.b),C.setXYZ(11,e.r,e.g,e.b),C.setXYZ(12,e.r,e.g,e.b),C.setXYZ(13,e.r,e.g,e.b),C.setXYZ(14,e.r,e.g,e.b),C.setXYZ(15,e.r,e.g,e.b),C.setXYZ(16,e.r,e.g,e.b),C.setXYZ(17,e.r,e.g,e.b),C.setXYZ(18,e.r,e.g,e.b),C.setXYZ(19,e.r,e.g,e.b),C.setXYZ(20,e.r,e.g,e.b),C.setXYZ(21,e.r,e.g,e.b),C.setXYZ(22,e.r,e.g,e.b),C.setXYZ(23,e.r,e.g,e.b),C.setXYZ(24,n.r,n.g,n.b),C.setXYZ(25,n.r,n.g,n.b),C.setXYZ(26,n.r,n.g,n.b),C.setXYZ(27,n.r,n.g,n.b),C.setXYZ(28,n.r,n.g,n.b),C.setXYZ(29,n.r,n.g,n.b),C.setXYZ(30,n.r,n.g,n.b),C.setXYZ(31,n.r,n.g,n.b),C.setXYZ(32,a.r,a.g,a.b),C.setXYZ(33,a.r,a.g,a.b),C.setXYZ(34,a.r,a.g,a.b),C.setXYZ(35,a.r,a.g,a.b),C.setXYZ(36,a.r,a.g,a.b),C.setXYZ(37,a.r,a.g,a.b),C.setXYZ(38,r.r,r.g,r.b),C.setXYZ(39,r.r,r.g,r.b),C.setXYZ(40,t.r,t.g,t.b),C.setXYZ(41,t.r,t.g,t.b),C.setXYZ(42,t.r,t.g,t.b),C.setXYZ(43,t.r,t.g,t.b),C.setXYZ(44,t.r,t.g,t.b),C.setXYZ(45,t.r,t.g,t.b),C.setXYZ(46,t.r,t.g,t.b),C.setXYZ(47,t.r,t.g,t.b),C.setXYZ(48,t.r,t.g,t.b),C.setXYZ(49,t.r,t.g,t.b),C.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,a=1,r=1;Mt.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Rt("c",n,e,Mt,0,0,-1),Rt("t",n,e,Mt,0,0,1),Rt("n1",n,e,Mt,-a,-r,-1),Rt("n2",n,e,Mt,a,-r,-1),Rt("n3",n,e,Mt,-a,r,-1),Rt("n4",n,e,Mt,a,r,-1),Rt("f1",n,e,Mt,-a,-r,1),Rt("f2",n,e,Mt,a,-r,1),Rt("f3",n,e,Mt,-a,r,1),Rt("f4",n,e,Mt,a,r,1),Rt("u1",n,e,Mt,a*.7,r*1.1,-1),Rt("u2",n,e,Mt,-a*.7,r*1.1,-1),Rt("u3",n,e,Mt,0,r*2,-1),Rt("cf1",n,e,Mt,-a,0,1),Rt("cf2",n,e,Mt,a,0,1),Rt("cf3",n,e,Mt,0,-r,1),Rt("cf4",n,e,Mt,0,r,1),Rt("cn1",n,e,Mt,-a,0,-1),Rt("cn2",n,e,Mt,a,0,-1),Rt("cn3",n,e,Mt,0,-r,-1),Rt("cn4",n,e,Mt,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Rt(s,e,n,a,r,t,d){fs.set(r,t,d).unproject(a);const C=e[s];if(C!==void 0){const M=n.getAttribute("position");for(let w=0,S=C.length;w<S;w++)M.setXYZ(C[w],fs.x,fs.y,fs.z)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:tu}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=tu);export{Po as B,ot as C,dS as D,Ob as F,Ab as H,uS as M,Ft as O,Fb as P,Vy as R,lS as S,WT as W,sS as a,oS as b,tS as c,iS as d,rS as e,pn as f,fS as g,cS as h,Xs as i,Qn as j,Xn as k,Eg as l,Jf as m,eS as n,ZT as o,up as p,JT as q,Nf as r,YT as s,aS as t,Pi as u,nS as v,fp as w,Bb as x};
